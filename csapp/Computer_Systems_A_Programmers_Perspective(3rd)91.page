<div id="pf5b" class="pf w2 h11" data-page-no="5b"><div class="pc pc5b w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg5b.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">90<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x1d h41 ye7 ffe fs29 fc2 sc0 ls0 ws0">2.1.7<span class="_ _48"> </span><span class="fs19">Bit-Level<span class="_"> </span>Operations<span class="_"> </span>in<span class="_"> </span>C</span></div><div class="t m5 x1d h26 ybbe ff7 fs19 fc2 sc0 ls0 ws0">One<span class="_ _13"> </span>useful<span class="_"> </span>feature<span class="_ _13"> </span>of<span class="_"> </span>C<span class="_ _13"> </span>is<span class="_"> </span>that<span class="_ _13"> </span>it<span class="_"> </span>supports<span class="_ _13"> </span>bitwise<span class="_"> </span>Boolean<span class="_ _13"> </span>operations<span class="_ _1"></span>.<span class="_"> </span>In<span class="_ _13"> </span>fact,<span class="_"> </span>the</div><div class="t m5 x1d h26 ybbf ff7 fs19 fc2 sc0 ls0 ws0">symbols<span class="_ _16"> </span>we<span class="_ _14"> </span>have<span class="_ _16"> </span>used<span class="_ _16"> </span>for<span class="_ _14"> </span>the<span class="_ _16"> </span>Boolean<span class="_ _14"> </span>operations<span class="_ _16"> </span>are<span class="_ _14"> </span>exactly<span class="_ _16"> </span>those<span class="_ _16"> </span>used<span class="_ _14"> </span>by<span class="_ _16"> </span>C:</div><div class="t m5 x1d h26 ybc0 ffd fs19 fc2 sc0 ls0 ws0">|<span class="_ _16"> </span><span class="ff7">for<span class="_ _16"> </span><span class="ff9">or</span>,<span class="_ _14"> </span></span>&amp;<span class="_ _16"> </span><span class="ff7">for<span class="_ _14"> </span><span class="ff9">and</span>,<span class="_ _14"> </span></span>~<span class="_ _16"> </span><span class="ff7">for<span class="_ _16"> </span><span class="ff9">not</span>,<span class="_ _14"> </span>and<span class="_ _16"> </span></span>^<span class="_ _16"> </span><span class="ff7">for<span class="_ _16"> </span><span class="ff9">exclusive-or</span>.<span class="_ _16"> </span>T<span class="_ _1"></span>hese<span class="_ _14"> </span>can<span class="_ _16"> </span>be<span class="_ _16"> </span>applied<span class="_ _16"> </span>to</span></div><div class="t m5 x1d h26 ybc1 ff7 fs19 fc2 sc0 ls0 ws0">any<span class="_"> </span>“integral”<span class="_ _13"> </span>data<span class="_"> </span>type<span class="_ _1"></span>,<span class="_"> </span>including<span class="_"> </span>all<span class="_"> </span>of<span class="_ _13"> </span>those<span class="_"> </span>listed<span class="_"> </span>in<span class="_ _13"> </span>Figure<span class="_ _13"> </span>2.3.<span class="_"> </span>Here<span class="_"> </span>are<span class="_ _13"> </span>some</div><div class="t m5 x1d h26 ybc2 ff7 fs19 fc2 sc0 ls0 ws0">examples<span class="_"> </span>of<span class="_"> </span>expression<span class="_"> </span>evaluation<span class="_"> </span>for<span class="_"> </span>data<span class="_"> </span>type<span class="_"> </span><span class="ffd">char</span>:</div><div class="t m5 x1d h31 ybc3 ff7 fs21 fc2 sc0 ls0 ws0">C<span class="_"> </span>expression<span class="_ _26"> </span>Binary<span class="_"> </span>expression<span class="_ _5d"> </span>Binary<span class="_"> </span>result<span class="_ _26"> </span>Hexadecimal<span class="_"> </span>result</div><div class="t m5 x1d h31 ybc4 ffd fs1e fc2 sc0 ls0 ws0">~0x41<span class="_ _82"> </span>~<span class="ff7 fs21">[0100<span class="_"> </span>0001]<span class="_ _83"> </span>[1011<span class="_ _6"> </span>1110]<span class="_ _84"> </span></span>0xBE</div><div class="t m5 x1d h2d ybc5 ffd fs1e fc2 sc0 ls0 ws0">~0x00<span class="_ _82"> </span>~</div><div class="t m5 xf8 h31 ybc6 ff7 fs21 fc2 sc0 ls0 ws0">[0000<span class="_"> </span>0000]<span class="_ _83"> </span>[1111<span class="_ _6"> </span>1111]<span class="_ _84"> </span><span class="ffd fs1e">0xFF</span></div><div class="t m5 x1d h2d ybc7 ffd fs1e fc2 sc0 ls0 ws0">0x69<span class="_ _11"> </span>&amp;<span class="_ _11"> </span>0x55</div><div class="t m5 x137 h31 ybc8 ff7 fs21 fc2 sc0 ls0 ws0">[0110<span class="_"> </span>1001]<span class="_ _a"> </span><span class="ffd fs1e">&amp;<span class="_ _13"> </span></span>[0101<span class="_ _6"> </span>0101]<span class="_ _85"> </span>[0100<span class="_"> </span>0001]<span class="_ _86"> </span><span class="ffd fs1e">0x41</span></div><div class="t m5 x1d h2d ybc9 ffd fs1e fc2 sc0 ls0 ws0">0x69<span class="_ _11"> </span>|<span class="_ _11"> </span>0x55</div><div class="t m5 x137 h31 ybca ff7 fs21 fc2 sc0 ls0 ws0">[0110<span class="_"> </span>1001]<span class="_ _a"> </span><span class="ffd fs1e">|<span class="_ _13"> </span></span>[0101<span class="_ _6"> </span>0101]<span class="_ _85"> </span>[0111<span class="_ _13"> </span>1101]<span class="_ _84"> </span><span class="ffd fs1e">0x7D</span></div><div class="t m5 x29 h26 ybcb ff7 fs19 fc2 sc0 ls0 ws0">As<span class="_"> </span>our<span class="_"> </span>examples<span class="_"> </span>show<span class="_ _3"></span>,<span class="_"> </span>the<span class="_"> </span>best<span class="_"> </span>way<span class="_"> </span>to<span class="_"> </span>determine<span class="_"> </span>the<span class="_"> </span>effect<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>bit-level<span class="_"> </span>ex-</div><div class="t m5 x1d h26 ybcc ff7 fs19 fc2 sc0 ls0 ws0">pression<span class="_"> </span>is<span class="_"> </span>to<span class="_"> </span>expand<span class="_ _13"> </span>the<span class="_"> </span>hexadecimal<span class="_"> </span>arguments<span class="_"> </span>to<span class="_"> </span>their<span class="_"> </span>binary<span class="_"> </span>representations<span class="_ _3"></span>,</div><div class="t m5 x1d h26 ybcd ff7 fs19 fc2 sc0 ls0 ws0">perform<span class="_"> </span>the<span class="_"> </span>operations<span class="_"> </span>in<span class="_"> </span>binary<span class="_ _3"></span>,<span class="_"> </span>and<span class="_"> </span>then<span class="_"> </span>convert<span class="_"> </span>back<span class="_"> </span>to<span class="_"> </span>hexadecimal.</div><div class="t m5 x1d h47 ybce ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>2.10<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>182)</span></div><div class="t m5 x1d h46 y3ed ff7 fs19 fc1 sc0 ls0 ws0">As<span class="_"> </span>an<span class="_"> </span>application<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>property<span class="_"> </span>that<span class="_"> </span><span class="ff11">a<span class="_ _11"> </span><span class="ffd">^<span class="_ _10"> </span></span>a<span class="_ _10"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>0<span class="_"> </span>for<span class="_"> </span>any<span class="_"> </span>bit<span class="_"> </span>vector<span class="_"> </span><span class="ff11">a<span class="_ _2"></span></span>,<span class="_"> </span>consider<span class="_"> </span>the</div><div class="t m5 x1d h26 y3ee ff7 fs19 fc1 sc0 ls0 ws0">following<span class="_"> </span>program:</div><div class="t m5 x1f h2d ybcf ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">void<span class="_ _1f"> </span>inplace_swap(int<span class="_ _e"> </span>*x,<span class="_ _1f"> </span>int<span class="_ _1f"> </span>*y)<span class="_ _e"> </span>{</span></div><div class="t m5 x1f h2d ybd0 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _20"> </span><span class="ffd fs1e fc2">*y<span class="_ _e"> </span>=<span class="_ _1f"> </span>*x<span class="_ _1f"> </span>^<span class="_ _e"> </span>*y;<span class="_ _1a"> </span>/*<span class="_ _1f"> </span>Step<span class="_ _e"> </span>1<span class="_ _1f"> </span>*/</span></div><div class="t m5 x1f h2d ybd1 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _20"> </span><span class="ffd fs1e fc2">*x<span class="_ _e"> </span>=<span class="_ _1f"> </span>*x<span class="_ _1f"> </span>^<span class="_ _e"> </span>*y;<span class="_ _1a"> </span>/*<span class="_ _1f"> </span>Step<span class="_ _e"> </span>2<span class="_ _1f"> </span>*/</span></div><div class="t m5 x1f h2d ybd2 ff6 fs20 fc6 sc0 ls0 ws0">4<span class="_ _20"> </span><span class="ffd fs1e fc2">*y<span class="_ _e"> </span>=<span class="_ _1f"> </span>*x<span class="_ _1f"> </span>^<span class="_ _e"> </span>*y;<span class="_ _1a"> </span>/*<span class="_ _1f"> </span>Step<span class="_ _e"> </span>3<span class="_ _1f"> </span>*/</span></div><div class="t m5 x1f h2d ybd3 ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x29 h26 ybd4 ff7 fs19 fc2 sc0 ls0 ws0">As<span class="_ _14"> </span>the<span class="_ _14"> </span>name<span class="_ _14"> </span>implies<span class="_ _0"></span>,<span class="_ _15"> </span>we<span class="_ _14"> </span>claim<span class="_ _14"> </span>that<span class="_ _15"> </span>the<span class="_ _14"> </span>effect<span class="_ _14"> </span>of<span class="_ _14"> </span>this<span class="_ _15"> </span>procedure<span class="_ _14"> </span>is<span class="_ _14"> </span>to<span class="_ _14"> </span>swap</div><div class="t m5 x1d h26 ybd5 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _15"> </span>values<span class="_ _21"> </span>stored<span class="_ _21"> </span>at<span class="_ _15"> </span>the<span class="_ _21"> </span>locations<span class="_ _21"> </span>denoted<span class="_ _15"> </span>by<span class="_ _21"> </span>pointer<span class="_ _21"> </span>variables<span class="_ _21"> </span><span class="ffd">x<span class="_ _15"> </span></span>and<span class="_ _21"> </span><span class="ffd">y</span>.<span class="_ _21"> </span>Note</div><div class="t m5 x1d h26 ybd6 ff7 fs19 fc2 sc0 ls0 ws0">that<span class="_ _11"> </span>unlike<span class="_ _11"> </span>the<span class="_ _16"> </span>usual<span class="_ _11"> </span>technique<span class="_ _11"> </span>for<span class="_ _16"> </span>swapping<span class="_ _11"> </span>two<span class="_ _11"> </span>values<span class="_ _1"></span>,<span class="_ _16"> </span>we<span class="_ _11"> </span>do<span class="_ _11"> </span>not<span class="_ _16"> </span>need<span class="_ _11"> </span>a<span class="_ _11"> </span>third</div><div class="t m5 x1d h26 ybd7 ff7 fs19 fc2 sc0 ls0 ws0">location<span class="_ _11"> </span>to<span class="_ _16"> </span>temporarily<span class="_ _11"> </span>store<span class="_ _16"> </span>one<span class="_ _11"> </span>value<span class="_ _16"> </span>while<span class="_ _11"> </span>we<span class="_ _16"> </span>are<span class="_ _11"> </span>moving<span class="_ _11"> </span>the<span class="_ _16"> </span>other.<span class="_ _11"> </span>T<span class="_ _1"></span>here<span class="_ _16"> </span>is</div><div class="t m5 x1d h26 ybd8 ff7 fs19 fc2 sc0 ls0 ws0">no<span class="_ _14"> </span>performance<span class="_ _16"> </span>advantage<span class="_ _14"> </span>to<span class="_ _14"> </span>this<span class="_ _14"> </span>way<span class="_ _14"> </span>of<span class="_ _14"> </span>swapping;<span class="_ _15"> </span>it<span class="_ _14"> </span>is<span class="_ _14"> </span>merely<span class="_ _14"> </span>an<span class="_ _14"> </span>intellectual</div><div class="t m5 x1d h26 ybd9 ff7 fs19 fc2 sc0 ls0 ws0">amusement.</div><div class="t m5 x29 h26 ybda ff7 fs19 fc2 sc0 ls0 ws0">Starting<span class="_ _6"> </span>with<span class="_ _13"> </span>values<span class="_ _6"> </span><span class="ff11">a<span class="_ _10"> </span></span>and<span class="_ _6"> </span><span class="ff11">b<span class="_ _13"> </span></span>in<span class="_ _13"> </span>the<span class="_ _6"> </span>locations<span class="_ _13"> </span>pointed<span class="_ _6"> </span>to<span class="_ _13"> </span>by<span class="_ _6"> </span><span class="ffd">x<span class="_ _13"> </span></span>and<span class="_ _6"> </span><span class="ffd">y</span>,<span class="_ _13"> </span>respectively<span class="_ _3"></span>,</div><div class="t m5 x1d h26 ybdb ff7 fs19 fc2 sc0 ls0 ws0">ﬁll<span class="_ _13"> </span>in<span class="_ _13"> </span>the<span class="_ _13"> </span>table<span class="_ _13"> </span>that<span class="_ _13"> </span>follows<span class="_ _1"></span>,<span class="_"> </span>giving<span class="_ _13"> </span>the<span class="_ _13"> </span>values<span class="_ _13"> </span>stored<span class="_ _13"> </span>at<span class="_ _13"> </span>the<span class="_ _13"> </span>two<span class="_ _13"> </span>locations<span class="_ _13"> </span>after<span class="_ _13"> </span>each</div><div class="t m5 x1d h26 ybdc ff7 fs19 fc2 sc0 ls0 ws0">step<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>procedure.<span class="_ _11"> </span>Use<span class="_ _16"> </span>the<span class="_ _16"> </span>properties<span class="_ _11"> </span>of<span class="_ _16"> </span><span class="ffd">^<span class="_ _16"> </span></span>to<span class="_ _16"> </span>show<span class="_ _16"> </span>that<span class="_ _16"> </span>the<span class="_ _11"> </span>desired<span class="_ _16"> </span>effect<span class="_ _16"> </span>is</div><div class="t m5 x1d h46 ybdd ff7 fs19 fc2 sc0 ls0 ws0">achieved.<span class="_"> </span>Recall<span class="_ _13"> </span>that<span class="_"> </span>every<span class="_"> </span>element<span class="_"> </span>is<span class="_ _13"> </span>its<span class="_"> </span>own<span class="_"> </span>additive<span class="_ _13"> </span>inverse<span class="_"> </span>(that<span class="_"> </span>is<span class="_ _3"></span>,<span class="_"> </span><span class="ff11">a<span class="_ _11"> </span><span class="ffd">^<span class="_ _13"> </span></span>a<span class="_ _11"> </span><span class="ff12">=<span class="_ _13"> </span></span></span><span class="ls24">0).</span></div><div class="t m5 x1d h31 ybde ff7 fs21 fc2 sc0 ls0 ws0">Step<span class="_ _82"> </span><span class="ffd fs1e">*x<span class="_ _87"> </span>*y</span></div><div class="t m5 x1d h31 ybdf ff7 fs21 fc2 sc0 ls0 ws0">Initially<span class="_ _88"> </span><span class="ff11 ls49">ab</span></div><div class="t m5 x1d h31 ybe0 ff7 fs21 fc2 sc0 ls0 ws0">Step<span class="_"> </span>1</div><div class="t m5 x1d h31 ybe1 ff7 fs21 fc1 sc0 ls0 ws0">Step<span class="_"> </span>2</div><div class="t m5 x1d h31 ybe2 ff7 fs21 fc1 sc0 ls0 ws0">Step<span class="_"> </span>3</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
