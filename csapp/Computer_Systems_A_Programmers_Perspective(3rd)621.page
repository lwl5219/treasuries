<div id="pf26d" class="pf w2 h11" data-page-no="26d"><div class="pc pc26d w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg26d.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">620<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x25d h3f y5277 ff74 fs27 fc1 sc0 ls0 ws0">Memory</div><div class="t m5 x265 h3f y5278 ff74 fs27 fc1 sc0 ls0 ws0">controller</div><div class="t m5 x26 h40 y5279 ff75 fs28 fc1 sc0 ls0 ws0">RAS</div><div class="c x14 y527a w13 hda"><div class="t m5 x266 h40 y527b ff75 fs28 fc3 sc1 ls0 ws0">RAS</div></div><div class="t m5 x77 h40 y5279 ff74 fs27 fc1 sc0 ls0 ws0"> <span class="ff75 fs28">=</span></div><div class="c x14 y527a w13 hda"><div class="t m5 x267 h40 y527b ff75 fs28 fc3 sc1 ls0 ws0">=</div></div><div class="t m5 x10a h40 y5279 ff74 fs27 fc1 sc0 ls0 ws0"> <span class="ff75 fs28">2</span></div><div class="c x14 y527a w13 hda"><div class="t m5 x268 h40 y527b ff75 fs28 fc3 sc1 ls0 ws0">2</div></div><div class="t m5 x146 h40 y527c ff75 fs28 fc1 sc0 ls0 ws0">8</div><div class="t m5 x1ce h40 y527d ff75 fs28 fc1 sc0 ls0 ws0">data</div><div class="t m5 x1d6 h3f y527e ff74 fs27 fc1 sc0 ls0 ws0">DRAM chip</div><div class="t m5 x1c6 h3f y527f ff74 fs27 fc1 sc0 ls0 ws0">Col<span class="ff76">s</span></div><div class="t m5 xa3 h3f y5280 ff74 fs27 fc1 sc0 ls0 ws0">0</div><div class="t m5 xa6 h3f y5281 ff74 fs27 fc1 sc0 ls0 ws0">0</div><div class="t m5 xa6 h3f y5282 ff74 fs27 fc1 sc0 ls0 ws0">1</div><div class="t m5 xa6 h3f y5283 ff74 fs27 fc1 sc0 ls0 ws0">2</div><div class="t m5 xa6 h3f y5284 ff76 fs27 fc1 sc0 ls0 ws0">3</div><div class="t m5 xcc h3f y5285 ff74 fs27 fc1 sc0 ls229 ws0">12<span class="ff76 ls0">3</span></div><div class="t m5 xc2 h3f y5286 ff74 fs27 fc1 sc0 ls0 ws0">Intern<span class="ff76">a</span>l row <span class="ff76">bu</span>ffer</div><div class="t m5 x14 h3f y5287 ff74 fs27 fc1 sc0 ls0 ws0">(<span class="ff76">a</span>) <span class="ff76">S</span>elect row 2 (RA<span class="ff76">S</span> req<span class="ff76">u</span>e<span class="ff76">s</span>t).</div><div class="t m5 x74 h3f y5288 ff74 fs27 fc1 sc0 ls0 ws0">Row<span class="ff76">s</span></div><div class="t m5 xcc h3f y5289 ff74 fs27 fc1 sc0 ls0 ws0">Row 2</div><div class="t m5 x1b5 h40 y528a ff75 fs28 fc1 sc0 ls0 ws0">2</div><div class="t m5 x15d h40 y528b ff75 fs28 fc1 sc0 ls0 ws0">addr</div><div class="t m5 xd9 h3f y528c ff74 fs27 fc1 sc0 ls0 ws0">(<span class="ff76">b</span>) <span class="ff76">S</span>elect col<span class="ff76">u</span>mn 1 (CA<span class="ff76">S</span> req<span class="ff76">u</span>e<span class="ff76">s</span>t).</div><div class="t m5 x1c8 h3f y528d ff74 fs27 fc1 sc0 ls0 ws0">Memory</div><div class="t m5 x186 h3f y528e ff74 fs27 fc1 sc0 ls0 ws0">controller</div><div class="t m5 x7e h40 y528f ff75 fs28 fc1 sc0 ls0 ws0">2</div><div class="t m5 x17a h40 y5290 ff75 fs28 fc1 sc0 ls0 ws0">CAS</div><div class="c xd9 y527a w14 hdb"><div class="t m5 x269 h40 y5291 ff75 fs28 fc3 sc1 ls0 ws0">CAS</div></div><div class="t m5 xf4 h40 y5292 ff74 fs27 fc1 sc0 ls0 ws0"> <span class="ff75 fs28">=</span></div><div class="c xd9 y527a w14 hdb"><div class="t m5 x26a h40 y5291 ff75 fs28 fc3 sc1 ls0 ws0">=</div></div><div class="t m5 xfb h40 y5292 ff74 fs27 fc1 sc0 ls0 ws0"> <span class="ff75 fs28">1</span></div><div class="c xd9 y527a w14 hdb"><div class="t m5 x26b h40 y5291 ff75 fs28 fc3 sc1 ls0 ws0">1</div></div><div class="t m5 x3f h40 y5293 ff75 fs28 fc1 sc0 ls0 ws0">addr</div><div class="t m5 x7e h40 y5294 ff75 fs28 fc1 sc0 ls0 ws0">8</div><div class="t m5 x24 h40 y5295 ff75 fs28 fc1 sc0 ls0 ws0">data</div><div class="t m5 x23b h3f y5296 ff38 fs27 fc1 sc0 ls0 ws0">S<span class="ff17">upercell</span></div><div class="t m5 x199 h3f y5297 ff17 fs27 fc1 sc0 ls0 ws0">(2,1)</div><div class="t m5 xf9 h3f y5298 ff74 fs27 fc1 sc0 ls0 ws0">DRAM chip</div><div class="t m5 x1dc h3f y5299 ff74 fs27 fc1 sc0 ls0 ws0">Col<span class="ff76">s</span></div><div class="t m5 x1c3 h3f y529a ff74 fs27 fc1 sc0 ls0 ws0">0</div><div class="t m5 x53 h3f y529b ff74 fs27 fc1 sc0 ls0 ws0">0</div><div class="t m5 x53 h3f y529c ff74 fs27 fc1 sc0 ls0 ws0">1</div><div class="t m5 x53 h3f y529d ff74 fs27 fc1 sc0 ls0 ws0">2</div><div class="t m5 x53 h3f y529e ff76 fs27 fc1 sc0 ls0 ws0">3</div><div class="t m5 x13e h3f y529f ff74 fs27 fc1 sc0 ls22a ws0">12<span class="ff76 ls0">3</span></div><div class="t m5 x98 h3f y52a0 ff74 fs27 fc1 sc0 ls0 ws0">Intern<span class="ff76">a</span>l row <span class="ff76">bu</span>ffer</div><div class="t m5 x1a3 h3f y52a1 ff74 fs27 fc1 sc0 ls0 ws0">Row<span class="ff76">s</span></div><div class="t m5 x14 h2f y52a2 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.4<span class="_ _66"> </span><span class="fc1">Reading<span class="_"> </span>the<span class="_"> </span>contents<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>DRAM<span class="_"> </span>supercell.</span></div><div class="t m5 x1d h42 y52a3 ff6 fs29 fc6 sc0 ls0 ws0">Memory<span class="_ _16"> </span>Modules</div><div class="t m5 x1d h26 y52a4 ff7 fs19 fc1 sc0 ls0 ws0">DRAM<span class="_"> </span>chips<span class="_"> </span>are<span class="_ _13"> </span>packaged<span class="_"> </span>in<span class="_"> </span><span class="ffa">memory<span class="_"> </span>modules<span class="_"> </span></span>that<span class="_"> </span>plug<span class="_ _13"> </span>into<span class="_"> </span>expansion<span class="_"> </span>slots<span class="_"> </span>on</div><div class="t m5 x1d h26 y52a5 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _13"> </span>main<span class="_ _13"> </span>system<span class="_ _13"> </span>board<span class="_ _13"> </span>(motherboard).<span class="_ _13"> </span>Core<span class="_ _13"> </span>i7<span class="_ _13"> </span>systems<span class="_ _13"> </span>use<span class="_ _13"> </span>the<span class="_ _13"> </span>240-pin<span class="_ _13"> </span><span class="ffa">dual<span class="_ _13"> </span>inline</span></div><div class="t m5 x1d h26 y52a6 ffa fs19 fc1 sc0 ls0 ws0">memory<span class="_ _6"> </span>module<span class="_ _13"> </span>(DIMM),<span class="_ _5"></span><span class="ff7">which<span class="_ _13"> </span>transfers<span class="_ _6"> </span>data<span class="_ _6"> </span>to<span class="_ _13"> </span>and<span class="_ _6"> </span>from<span class="_ _6"> </span>the<span class="_ _13"> </span>memory<span class="_ _6"> </span>controller</span></div><div class="t m5 x1d h26 y52a7 ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_"> </span>64-bit<span class="_"> </span>chunks<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y52a8 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _16"> </span>6.5<span class="_ _14"> </span>shows<span class="_ _16"> </span>the<span class="_ _16"> </span>basic<span class="_ _16"> </span>idea<span class="_ _16"> </span>of<span class="_ _16"> </span>a<span class="_ _16"> </span>memory<span class="_ _14"> </span>module<span class="_ _1"></span>.<span class="_ _16"> </span>The<span class="_ _11"> </span>example<span class="_ _14"> </span>module</div><div class="t m5 x1d h46 y52a9 ff7 fs19 fc1 sc0 ls0 ws0">stores<span class="_ _16"> </span>a<span class="_ _16"> </span>total<span class="_ _14"> </span>of<span class="_ _16"> </span>64<span class="_ _16"> </span>MB<span class="_ _14"> </span>(megabytes)<span class="_ _16"> </span>using<span class="_ _14"> </span>eight<span class="_ _16"> </span>64-Mbit<span class="_ _16"> </span>8M<span class="_"> </span><span class="ff12">×<span class="_ _10"> </span></span>8<span class="_ _16"> </span>DRAM<span class="_ _16"> </span>chips<span class="_ _1"></span>,</div><div class="t m5 x1d h26 y52aa ff7 fs19 fc1 sc0 ls0 ws0">numbered<span class="_ _11"> </span>0<span class="_ _16"> </span>to<span class="_ _16"> </span>7.<span class="_ _11"> </span>Each<span class="_ _16"> </span>supercell<span class="_ _11"> </span>stores<span class="_ _16"> </span>1<span class="_ _16"> </span>byte<span class="_ _11"> </span>of<span class="_ _16"> </span><span class="ffa">main<span class="_ _11"> </span>memory</span>,<span class="_ _16"> </span>and<span class="_ _11"> </span>each<span class="_ _16"> </span>64-bit</div><div class="t m5 x1d h26 y52ab ff7 fs19 fc1 sc0 ls0 ws0">word<span class="_ _14"> </span>at<span class="_ _14"> </span>byte<span class="_ _14"> </span>address<span class="_ _14"> </span><span class="ff11">A<span class="_"> </span></span>in<span class="_ _14"> </span>main<span class="_ _15"> </span>memory<span class="_ _14"> </span>is<span class="_ _14"> </span>represented<span class="_ _14"> </span>by<span class="_ _14"> </span>the<span class="_ _14"> </span>eight<span class="_ _14"> </span>supercells</div><div class="t m5 x1d h26 y52ac ff7 fs19 fc1 sc0 ls0 ws0">whose<span class="_ _21"> </span>corresponding<span class="_ _21"> </span>supercell<span class="_ _21"> </span>address<span class="_ _21"> </span>is<span class="_ _f"> </span><span class="ff11 ls24">(i,<span class="_ _10"> </span>j<span class="_ _be"></span>)</span>.<span class="_ _21"> </span>In<span class="_ _21"> </span>the<span class="_ _f"> </span>example<span class="_ _21"> </span>in<span class="_ _21"> </span>Figure<span class="_ _15"> </span>6.5,</div><div class="t m5 x1d h26 y52ad ff7 fs19 fc1 sc0 ls0 ws0">DRAM<span class="_ _11"> </span>0<span class="_ _16"> </span>stores<span class="_ _11"> </span>the<span class="_ _16"> </span>ﬁrst<span class="_ _11"> </span>(lower<span class="_ _1"></span>-order)<span class="_ _16"> </span>byte<span class="_ _1"></span>,<span class="_ _16"> </span>DRAM<span class="_ _16"> </span>1<span class="_ _11"> </span>stores<span class="_ _16"> </span>the<span class="_ _11"> </span>next<span class="_ _16"> </span>byte<span class="_ _1"></span>,<span class="_ _16"> </span>and</div><div class="t m5 x1d h26 y52ae ff7 fs19 fc1 sc0 ls0 ws0">so<span class="_"> </span>on.</div><div class="t m5 x29 h26 y52af ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _7"></span>o<span class="_ _16"> </span>retrieve<span class="_ _11"> </span>the<span class="_ _16"> </span>word<span class="_ _11"> </span>at<span class="_ _11"> </span>memory<span class="_ _16"> </span>address<span class="_ _11"> </span><span class="ff11">A</span>,<span class="_ _16"> </span>the<span class="_ _11"> </span>memory<span class="_ _16"> </span>controller<span class="_ _11"> </span>converts</div><div class="t m5 x1d h26 y52b0 ff11 fs19 fc1 sc0 ls0 ws0">A<span class="_"> </span><span class="ff7">to<span class="_ _14"> </span>a<span class="_ _14"> </span>supercell<span class="_ _14"> </span>address<span class="_ _14"> </span></span><span class="ls24">(i,<span class="_ _10"> </span>j<span class="_ _be"></span>)<span class="_"> </span></span><span class="ff7">and<span class="_ _14"> </span>sends<span class="_ _14"> </span>it<span class="_ _14"> </span>to<span class="_ _14"> </span>the<span class="_ _14"> </span>memory<span class="_ _14"> </span>module,<span class="_ _14"> </span>which<span class="_ _14"> </span>then</span></div><div class="t m5 x1d h26 y52b1 ff7 fs19 fc1 sc0 ls0 ws0">broadcasts<span class="_ _16"> </span><span class="ff11">i<span class="_ _15"> </span></span>and<span class="_ _16"> </span><span class="ff11">j<span class="_ _21"> </span></span>to<span class="_ _16"> </span>each<span class="_ _16"> </span>DRAM.<span class="_ _16"> </span>In<span class="_ _16"> </span>response<span class="_ _0"></span>,<span class="_ _16"> </span>each<span class="_ _16"> </span>DRAM<span class="_ _16"> </span>outputs<span class="_ _16"> </span>the<span class="_ _16"> </span>8-bit</div><div class="t m5 x1d h26 y52b2 ff7 fs19 fc1 sc0 ls0 ws0">contents<span class="_"> </span>of<span class="_ _11"> </span>its<span class="_"> </span><span class="ff11 ls24">(i,<span class="_ _10"> </span>j<span class="_ _be"></span>)<span class="_ _10"> </span></span>supercell.<span class="_ _11"> </span>Circuitry<span class="_"> </span>in<span class="_ _11"> </span>the<span class="_"> </span>module<span class="_ _11"> </span>collects<span class="_ _11"> </span>these<span class="_"> </span>outputs<span class="_ _11"> </span>and</div><div class="t m5 x1d h26 y52b3 ff7 fs19 fc1 sc0 ls0 ws0">forms<span class="_"> </span>them<span class="_"> </span>into<span class="_"> </span>a<span class="_"> </span>64-bit<span class="_"> </span>word,<span class="_"> </span>which<span class="_"> </span>it<span class="_"> </span>returns<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>memory<span class="_"> </span>controller.</div><div class="t m5 x29 h26 y52b4 ff7 fs19 fc1 sc0 ls0 ws0">Main<span class="_ _13"> </span>memory<span class="_"> </span>can<span class="_ _13"> </span>be<span class="_"> </span>aggregated<span class="_ _13"> </span>by<span class="_"> </span>connecting<span class="_ _13"> </span>multiple<span class="_"> </span>memory<span class="_ _13"> </span>modules<span class="_ _13"> </span>to</div><div class="t m5 x1d h26 y52b5 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _13"> </span>memory<span class="_ _13"> </span>controller<span class="_ _0"></span>.<span class="_ _13"> </span>In<span class="_ _13"> </span>this<span class="_ _13"> </span>case<span class="_ _1"></span>,<span class="_ _13"> </span>when<span class="_ _13"> </span>the<span class="_ _13"> </span>controller<span class="_ _13"> </span>receives<span class="_ _6"> </span>an<span class="_ _13"> </span>address<span class="_ _13"> </span><span class="ff11">A</span>,<span class="_ _13"> </span>the</div><div class="t m5 x1d h26 y52b6 ff7 fs19 fc1 sc0 ls0 ws0">controller<span class="_"> </span>selects<span class="_ _11"> </span>the<span class="_ _11"> </span>module<span class="_ _11"> </span><span class="ff11">k<span class="_"> </span></span>that<span class="_"> </span>contains<span class="_"> </span><span class="ff11">A</span>,<span class="_ _11"> </span>converts<span class="_ _11"> </span><span class="ff11">A<span class="_ _11"> </span></span>to<span class="_"> </span>its<span class="_ _11"> </span><span class="ff11 ls24">(i,<span class="_ _10"> </span>j<span class="_ _be"></span>)<span class="_ _11"> </span></span>form,<span class="_"> </span>and</div><div class="t m5 x1d h26 y52b7 ff7 fs19 fc1 sc0 ls0 ws0">sends<span class="_"> </span><span class="ff11 ls24">(i,<span class="_ _13"> </span>j<span class="_ _a"> </span>)<span class="_ _10"> </span></span>to<span class="_"> </span>module<span class="_"> </span><span class="ff11">k<span class="_ _2"></span></span>.</div><div class="t m5 x1d h47 y52b8 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>6.1<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>696)</span></div><div class="t m5 x1d h26 y13c0 ff7 fs19 fc1 sc0 ls0 ws0">In<span class="_"> </span>the<span class="_ _11"> </span>following,<span class="_"> </span>let<span class="_"> </span><span class="ff11">r<span class="_ _14"> </span></span>be<span class="_ _11"> </span>the<span class="_ _11"> </span>number<span class="_"> </span>of<span class="_ _11"> </span>rows<span class="_"> </span>in<span class="_ _11"> </span>a<span class="_"> </span>DRAM<span class="_ _11"> </span>array<span class="_ _3"></span>,<span class="_ _11"> </span><span class="ff11">c<span class="_ _11"> </span></span>the<span class="_ _11"> </span>number<span class="_"> </span>of</div><div class="t m5 x1d h26 y13c1 ff7 fs19 fc1 sc0 ls0 ws0">columns<span class="_ _1"></span>,<span class="_"> </span><span class="ff11">b</span></div><div class="t m5 x1cc h50 y52b9 ff11 fs25 fc1 sc0 ls0 ws0">r</div><div class="t m5 xc3 h26 y832 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>bits<span class="_"> </span>needed<span class="_"> </span>to<span class="_"> </span>address<span class="_"> </span>the<span class="_"> </span>rows<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span><span class="ff11">b</span></div><div class="t m5 x158 h50 y52ba ff11 fs25 fc1 sc0 ls0 ws0">c</div><div class="t m5 x16b h26 y832 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>number<span class="_"> </span>of</div><div class="t m5 x1d h26 y833 ff7 fs19 fc1 sc0 ls0 ws0">bits<span class="_ _13"> </span>needed<span class="_ _13"> </span>to<span class="_ _13"> </span>address<span class="_ _13"> </span>the<span class="_ _13"> </span>columns<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _3"></span>or<span class="_ _13"> </span>each<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>following<span class="_ _13"> </span>DRAMs<span class="_ _3"></span>,<span class="_ _13"> </span>determine</div><div class="t m5 x1d h26 y834 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _6"> </span>power<span class="_ _1"></span>-of-2<span class="_ _13"> </span>array<span class="_ _6"> </span>dimensions<span class="_ _13"> </span>that<span class="_ _6"> </span>minimize<span class="_ _13"> </span>max<span class="ff11">(b</span></div><div class="t m5 x1e3 h50 y197d ff11 fs25 fc1 sc0 ls0 ws0">r</div><div class="t m5 x107 h45 y77e ff11 fs19 fc1 sc0 ls22b ws0">,b</div><div class="t m5 x18c h50 y197d ff11 fs25 fc1 sc0 ls0 ws0">c</div><div class="t m5 x1dd h26 y77e ff11 fs19 fc1 sc0 ls0 ws0">)<span class="ff7">,<span class="_ _13"> </span>the<span class="_ _6"> </span>maximum<span class="_ _13"> </span>number</span></div><div class="t m5 x1d h26 y77f ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span>bits<span class="_"> </span>needed<span class="_"> </span>to<span class="_"> </span>address<span class="_"> </span>the<span class="_"> </span>rows<span class="_"> </span>or<span class="_"> </span>columns<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>array<span class="_ _3"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
