<div id="pf2c8" class="pf w2 h11" data-page-no="2c8"><div class="pc pc2c8 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2c8.png"/><div class="t m5 xfb h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>7.5<span class="_ _60"> </span>Symbols<span class="_ _10"> </span>and<span class="_ _10"> </span>Symbol<span class="_ _10"> </span>T<span class="_ _1"></span>ables<span class="_ _3e"> </span><span class="ffe fs1e">711</span></div><div class="t m5 x34 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">Why<span class="_ _11"> </span>is<span class="_ _11"> </span>uninitialized<span class="_ _11"> </span>data<span class="_ _16"> </span>called<span class="_ _11"> </span><span class="ffd fs2b">.bss</span>?</span></div><div class="t m5 x34 h2b y2d0 ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>use<span class="_"> </span>of<span class="_"> </span>the<span class="_ _13"> </span>term<span class="_"> </span><span class="ffd">.bss<span class="_ _13"> </span></span>to<span class="_"> </span>denote<span class="_"> </span>uninitialized<span class="_"> </span>data<span class="_ _13"> </span>is<span class="_"> </span>universal.<span class="_ _13"> </span>It<span class="_"> </span>was<span class="_"> </span>originally<span class="_ _13"> </span>an<span class="_"> </span>acronym<span class="_"> </span>for<span class="_ _13"> </span>the</div><div class="t m5 x34 h2b y2d1 ff7 fs1e fc2 sc0 ls0 ws0">“block<span class="_ _13"> </span>started<span class="_ _6"> </span>by<span class="_ _13"> </span>symbol”<span class="_ _13"> </span>directive<span class="_ _13"> </span>from<span class="_ _6"> </span>the<span class="_ _13"> </span>IBM<span class="_ _13"> </span>704<span class="_ _13"> </span>assembly<span class="_ _6"> </span>language<span class="_ _13"> </span>(circa<span class="_ _13"> </span>1957)<span class="_ _13"> </span>and<span class="_ _6"> </span>the<span class="_ _13"> </span>acronym</div><div class="t m5 x34 h2b y2d2 ff7 fs1e fc2 sc0 ls0 ws0">has<span class="_"> </span>stuck.<span class="_ _11"> </span>A<span class="_"> </span>simple<span class="_ _11"> </span>way<span class="_"> </span>to<span class="_ _11"> </span>remember<span class="_"> </span>the<span class="_ _11"> </span>difference<span class="_"> </span>between<span class="_ _11"> </span>the<span class="_"> </span><span class="ffd">.data<span class="_ _10"> </span></span>and<span class="_ _11"> </span><span class="ffd">.bss<span class="_ _10"> </span></span>sections<span class="_ _11"> </span>is<span class="_"> </span>to<span class="_ _10"> </span>think</div><div class="t m5 x34 h2b y2d3 ff7 fs1e fc2 sc0 ls0 ws0">of<span class="_"> </span>“bss”<span class="_"> </span>as<span class="_"> </span>an<span class="_"> </span>abbreviation<span class="_"> </span>for<span class="_"> </span>“Better<span class="_"> </span>Save<span class="_"> </span>Space!”</div><div class="t m5 x72 h26 y5e89 ffd fs19 fc2 sc0 ls0 ws0">.symtab<span class="_ _e"> </span><span class="ff7">A<span class="_"> </span><span class="ffa">symbol<span class="_ _13"> </span>table<span class="_ _13"> </span></span>with<span class="_ _13"> </span>information<span class="_"> </span>about<span class="_ _13"> </span>functions<span class="_ _13"> </span>and<span class="_ _13"> </span>global<span class="_ _13"> </span>variables</span></div><div class="t m5 x30 h26 y5e8a ff7 fs19 fc2 sc0 ls0 ws0">that<span class="_"> </span>are<span class="_ _13"> </span>deﬁned<span class="_"> </span>and<span class="_ _13"> </span>referenced<span class="_"> </span>in<span class="_ _13"> </span>the<span class="_"> </span>program.<span class="_ _13"> </span>Some<span class="_"> </span>programmers<span class="_"> </span>mis-</div><div class="t m5 x30 h26 y5e8b ff7 fs19 fc2 sc0 ls0 ws0">takenly<span class="_ _16"> </span>believe<span class="_ _11"> </span>that<span class="_ _16"> </span>a<span class="_ _16"> </span>program<span class="_ _16"> </span>must<span class="_ _16"> </span>be<span class="_ _16"> </span>compiled<span class="_ _11"> </span>with<span class="_ _16"> </span>the<span class="_ _16"> </span><span class="ffd">-g<span class="_ _16"> </span></span>option<span class="_ _16"> </span>to</div><div class="t m5 x30 h26 y5e8c ff7 fs19 fc2 sc0 ls0 ws0">get<span class="_ _14"> </span>symbol<span class="_ _15"> </span>table<span class="_ _15"> </span>information.<span class="_ _15"> </span>In<span class="_ _14"> </span>fact,<span class="_ _21"> </span>every<span class="_ _15"> </span>relocatable<span class="_ _15"> </span>object<span class="_ _15"> </span>ﬁle<span class="_ _14"> </span>has</div><div class="t m5 x30 h26 y5e8d ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _14"> </span>symbol<span class="_ _15"> </span>table<span class="_ _14"> </span>in<span class="_ _15"> </span><span class="ffd">.symtab<span class="_ _15"> </span></span>(unless<span class="_ _14"> </span>the<span class="_ _15"> </span>programmer<span class="_ _15"> </span>has<span class="_ _14"> </span>speciﬁcally<span class="_ _15"> </span>re-</div><div class="t m5 x30 h26 y5e8e ff7 fs19 fc2 sc0 ls0 ws0">moved<span class="_ _14"> </span>it<span class="_ _15"> </span>with<span class="_ _15"> </span>the<span class="_ _15"> </span><span class="ff9">strip<span class="_ _15"> </span></span>command).<span class="_ _14"> </span>However,<span class="_ _21"> </span>unlike<span class="_ _15"> </span>the<span class="_ _14"> </span>symbol<span class="_ _15"> </span>table</div><div class="t m5 x30 h26 y5e8f ff7 fs19 fc2 sc0 ls0 ws0">inside<span class="_"> </span>a<span class="_"> </span>compiler,<span class="_"> </span>the<span class="_"> </span><span class="ffd">.symtab<span class="_ _11"> </span></span>symbol<span class="_"> </span>table<span class="_"> </span>does<span class="_"> </span>not<span class="_ _11"> </span>contain<span class="_"> </span>entries<span class="_"> </span>for</div><div class="t m5 x30 h26 y5e90 ff7 fs19 fc2 sc0 ls0 ws0">local<span class="_"> </span>variables<span class="_ _1"></span>.</div><div class="t m5 x62 h26 y5e91 ffd fs19 fc2 sc0 ls0 ws0">.rel.text<span class="_ _e"> </span><span class="ff7">A<span class="_"> </span>list<span class="_ _6"> </span>of<span class="_ _13"> </span>locations<span class="_ _13"> </span>in<span class="_ _13"> </span>the<span class="_"> </span></span>.text<span class="_ _13"> </span><span class="ff7">section<span class="_ _13"> </span>that<span class="_ _13"> </span>will<span class="_ _13"> </span>need<span class="_ _13"> </span>to<span class="_ _13"> </span>be<span class="_ _13"> </span>modiﬁed</span></div><div class="t m5 x30 h26 y5e92 ff7 fs19 fc2 sc0 ls0 ws0">when<span class="_ _21"> </span>the<span class="_ _21"> </span>linker<span class="_ _21"> </span>combines<span class="_ _21"> </span>this<span class="_ _21"> </span>object<span class="_ _21"> </span>ﬁle<span class="_ _21"> </span>with<span class="_ _f"> </span>others<span class="_ _1"></span>.<span class="_ _21"> </span>In<span class="_ _21"> </span>general,<span class="_ _e"> </span>any</div><div class="t m5 x30 h26 y5e93 ff7 fs19 fc2 sc0 ls0 ws0">instruction<span class="_"> </span>that<span class="_"> </span>calls<span class="_"> </span>an<span class="_ _11"> </span>external<span class="_"> </span>function<span class="_"> </span>or<span class="_ _11"> </span>references<span class="_"> </span>a<span class="_"> </span>global<span class="_ _11"> </span>variable</div><div class="t m5 x30 h26 y5e94 ff7 fs19 fc2 sc0 ls0 ws0">will<span class="_ _16"> </span>need<span class="_ _11"> </span>to<span class="_ _16"> </span>be<span class="_ _16"> </span>modiﬁed.<span class="_ _11"> </span>On<span class="_ _16"> </span>the<span class="_ _11"> </span>other<span class="_ _16"> </span>hand,<span class="_ _16"> </span>instructions<span class="_ _16"> </span>that<span class="_ _11"> </span>call<span class="_ _16"> </span>local</div><div class="t m5 x30 h26 y5e95 ff7 fs19 fc2 sc0 ls0 ws0">functions<span class="_ _16"> </span>do<span class="_ _11"> </span>not<span class="_ _16"> </span>need<span class="_ _16"> </span>to<span class="_ _16"> </span>be<span class="_ _11"> </span>modiﬁed.<span class="_ _16"> </span>Note<span class="_ _16"> </span>that<span class="_ _16"> </span>relocation<span class="_ _11"> </span>information</div><div class="t m5 x30 h26 y5e96 ff7 fs19 fc2 sc0 ls0 ws0">is<span class="_"> </span>not<span class="_"> </span>needed<span class="_"> </span>in<span class="_"> </span>executable<span class="_"> </span>object<span class="_"> </span>ﬁles<span class="_ _0"></span>,<span class="_"> </span>and<span class="_"> </span>is<span class="_"> </span>usually<span class="_"> </span>omitted<span class="_"> </span>unless<span class="_"> </span>the</div><div class="t m5 x30 h26 y5e97 ff7 fs19 fc2 sc0 ls0 ws0">user<span class="_"> </span>explicitly<span class="_"> </span>instructs<span class="_"> </span>the<span class="_"> </span>linker<span class="_"> </span>to<span class="_"> </span>include<span class="_"> </span>it.</div><div class="t m5 x62 h26 y5e98 ffd fs19 fc2 sc0 ls0 ws0">.rel.data<span class="_ _e"> </span><span class="ff7">Relocation<span class="_ _13"> </span>information<span class="_ _13"> </span>for<span class="_ _6"> </span>any<span class="_ _13"> </span>global<span class="_ _13"> </span>variables<span class="_ _6"> </span>that<span class="_ _13"> </span>are<span class="_ _13"> </span>referenced</span></div><div class="t m5 x30 h26 y5e99 ff7 fs19 fc2 sc0 ls0 ws0">or<span class="_ _13"> </span>deﬁned<span class="_ _6"> </span>by<span class="_ _13"> </span>the<span class="_ _6"> </span>module<span class="_ _1"></span>.<span class="_ _13"> </span>In<span class="_ _6"> </span>general,<span class="_ _13"> </span>any<span class="_ _13"> </span>initialized<span class="_ _6"> </span>global<span class="_ _13"> </span>variable<span class="_ _6"> </span>whose</div><div class="t m5 x30 h26 y5e9a ff7 fs19 fc2 sc0 ls0 ws0">initial<span class="_"> </span>value<span class="_ _13"> </span>is<span class="_"> </span>the<span class="_ _13"> </span>address<span class="_"> </span>of<span class="_ _13"> </span>a<span class="_"> </span>global<span class="_"> </span>variable<span class="_ _13"> </span>or<span class="_"> </span>externally<span class="_ _13"> </span>deﬁned<span class="_"> </span>func-</div><div class="t m5 x30 h26 y5e9b ff7 fs19 fc2 sc0 ls0 ws0">tion<span class="_"> </span>will<span class="_"> </span>need<span class="_"> </span>to<span class="_"> </span>be<span class="_"> </span>modiﬁed.</div><div class="t m5 x62 h26 y5e9c ffd fs19 fc2 sc0 ls0 ws0">.debug<span class="_ _e"> </span><span class="ff7">A<span class="_"> </span>debugging<span class="_ _13"> </span>symbol<span class="_"> </span>table<span class="_ _13"> </span>with<span class="_ _13"> </span>entries<span class="_"> </span>for<span class="_ _13"> </span>local<span class="_"> </span>variables<span class="_ _13"> </span>and<span class="_ _13"> </span>typedefs</span></div><div class="t m5 x30 h26 y5e9d ff7 fs19 fc2 sc0 ls0 ws0">deﬁned<span class="_ _14"> </span>in<span class="_ _14"> </span>the<span class="_ _14"> </span>program,<span class="_ _15"> </span>global<span class="_ _14"> </span>variables<span class="_ _14"> </span>deﬁned<span class="_ _14"> </span>and<span class="_ _14"> </span>referenced<span class="_ _14"> </span>in<span class="_ _14"> </span>the</div><div class="t m5 x30 h26 y5e9e ff7 fs19 fc2 sc0 ls0 ws0">program,<span class="_"> </span>and<span class="_ _11"> </span>the<span class="_"> </span>original<span class="_ _11"> </span>C<span class="_ _11"> </span>source<span class="_"> </span>ﬁle.<span class="_"> </span>It<span class="_"> </span>is<span class="_"> </span>only<span class="_ _11"> </span>present<span class="_ _11"> </span>if<span class="_"> </span>the<span class="_ _11"> </span>compiler</div><div class="t m5 x30 h26 y5e9f ff7 fs19 fc2 sc0 ls0 ws0">driver<span class="_"> </span>is<span class="_"> </span>invoked<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span><span class="ffd">-g<span class="_ _10"> </span></span>option.</div><div class="t m5 x62 h26 y5ea0 ffd fs19 fc2 sc0 ls0 ws0">.line<span class="_ _e"> </span><span class="ff7">A<span class="_"> </span>mapping<span class="_"> </span>between<span class="_ _13"> </span>line<span class="_"> </span>numbers<span class="_"> </span>in<span class="_ _13"> </span>the<span class="_"> </span>original<span class="_"> </span>C<span class="_ _13"> </span>source<span class="_"> </span>program<span class="_"> </span>and</span></div><div class="t m5 x30 h26 y5ea1 ff7 fs19 fc2 sc0 ls0 ws0">machine<span class="_ _16"> </span>code<span class="_ _16"> </span>instructions<span class="_ _16"> </span>in<span class="_ _16"> </span>the<span class="_ _16"> </span><span class="ffd">.text<span class="_ _16"> </span></span>section.<span class="_ _16"> </span>It<span class="_ _16"> </span>is<span class="_ _16"> </span>only<span class="_ _16"> </span>present<span class="_ _16"> </span>if<span class="_ _16"> </span>the</div><div class="t m5 x30 h26 y5ea2 ff7 fs19 fc2 sc0 ls0 ws0">compiler<span class="_"> </span>driver<span class="_"> </span>is<span class="_"> </span>invoked<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span><span class="ffd">-g<span class="_ _10"> </span></span>option.</div><div class="t m5 x62 h26 y5ea3 ffd fs19 fc2 sc0 ls0 ws0">.strtab<span class="_ _e"> </span><span class="ff7">A<span class="_ _16"> </span>string<span class="_ _11"> </span>table<span class="_ _16"> </span>for<span class="_ _11"> </span>the<span class="_ _16"> </span>symbol<span class="_ _11"> </span>tables<span class="_ _16"> </span>in<span class="_ _11"> </span>the<span class="_ _11"> </span></span>.symtab<span class="_ _16"> </span><span class="ff7">and<span class="_ _11"> </span></span>.debug<span class="_ _16"> </span><span class="ff7">sec-</span></div><div class="t m5 x30 h26 y5ea4 ff7 fs19 fc2 sc0 ls0 ws0">tions<span class="_"> </span>and<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>section<span class="_"> </span>names<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>section<span class="_"> </span>headers<span class="_ _1"></span>.<span class="_"> </span>A<span class="_"> </span>string<span class="_"> </span>table<span class="_"> </span>is<span class="_"> </span>a</div><div class="t m5 x30 h26 y5ea5 ff7 fs19 fc2 sc0 ls0 ws0">sequence<span class="_"> </span>of<span class="_"> </span>null-terminated<span class="_"> </span>character<span class="_"> </span>strings<span class="_ _1"></span>.</div><div class="t m5 x17 h3b y5ea6 fff fs24 fc6 sc0 ls0 ws0">7.5</div><div class="t m5 x77 h3e y5a10 ffe fs18 fc6 sc0 ls0 ws0">Symbols<span class="_"> </span>and<span class="_"> </span>Symbol<span class="_"> </span>T<span class="_ _3"></span>ables</div><div class="t m5 x17 h26 y345b ff7 fs19 fc1 sc0 ls0 ws0">Each<span class="_"> </span>relocatable<span class="_"> </span>object<span class="_"> </span>module,<span class="_"> </span><span class="ff11">m</span>,<span class="_"> </span>has<span class="_"> </span>a<span class="_"> </span>symbol<span class="_"> </span>table<span class="_ _11"> </span>that<span class="_"> </span>contains<span class="_"> </span>information</div><div class="t m5 x17 h26 y4ad6 ff7 fs19 fc1 sc0 ls0 ws0">about<span class="_ _13"> </span>the<span class="_ _13"> </span>symbols<span class="_ _13"> </span>that<span class="_ _13"> </span>are<span class="_ _13"> </span>deﬁned<span class="_ _13"> </span>and<span class="_ _13"> </span>referenced<span class="_ _13"> </span>by<span class="_ _13"> </span><span class="ff11">m</span>.<span class="_ _13"> </span>In<span class="_ _13"> </span>the<span class="_ _13"> </span>context<span class="_ _13"> </span>of<span class="_ _6"> </span>a<span class="_ _13"> </span>linker,</div><div class="t m5 x17 h26 y5ea7 ff7 fs19 fc1 sc0 ls0 ws0">there<span class="_"> </span>are<span class="_"> </span>three<span class="_"> </span>different<span class="_"> </span>kinds<span class="_"> </span>of<span class="_"> </span>symbols:</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
