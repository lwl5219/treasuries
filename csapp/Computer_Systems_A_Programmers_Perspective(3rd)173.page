<div id="pfad" class="pf w2 h11" data-page-no="ad"><div class="pc pcad w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bgad.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">172<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x29 h26 y9c ff7 fs19 fc2 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_"> </span>generate<span class="_ _13"> </span>arbitrary<span class="_ _13"> </span>values<span class="_"> </span><span class="ffd">x<span class="_ _13"> </span></span>and<span class="_ _13"> </span><span class="ffd">y</span>,<span class="_"> </span>and<span class="_ _13"> </span>convert<span class="_ _13"> </span>them<span class="_"> </span>to<span class="_ _13"> </span>unsigned<span class="_ _13"> </span>values<span class="_"> </span>as</div><div class="t m5 x1d h26 y409 ff7 fs19 fc2 sc0 ls0 ws0">follows:</div><div class="t m5 x1d h2d y1b69 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Create<span class="_ _1f"> </span>some<span class="_ _1f"> </span>arbitrary<span class="_ _e"> </span>values<span class="_ _1f"> </span>*/</div><div class="t m5 x1d h2d y1b6a ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>x<span class="_ _1f"> </span>=<span class="_ _1f"> </span>random();</div><div class="t m5 x1d h2d y1b6b ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>y<span class="_ _1f"> </span>=<span class="_ _1f"> </span>random();</div><div class="t m5 x1d h2d y1b6c ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Convert<span class="_ _1f"> </span>to<span class="_ _1f"> </span>unsigned<span class="_ _e"> </span>*/</div><div class="t m5 x1d h2d y1b6d ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>ux<span class="_ _1f"> </span>=<span class="_ _1f"> </span>(unsigned)<span class="_ _e"> </span>x;</div><div class="t m5 x1d h2d y1b6e ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>uy<span class="_ _1f"> </span>=<span class="_ _1f"> </span>(unsigned)<span class="_ _e"> </span>y;</div><div class="t m5 x29 h26 y1b6f ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _f"> </span>each<span class="_ _e"> </span>of<span class="_ _f"> </span>the<span class="_ _e"> </span>following<span class="_ _f"> </span>C<span class="_ _e"> </span>expressions<span class="_ _3"></span>,<span class="_ _1f"> </span>you<span class="_ _f"> </span>are<span class="_ _e"> </span>to<span class="_ _f"> </span>indicate<span class="_ _e"> </span>whether<span class="_ _f"> </span>or</div><div class="t m5 x1d h26 y1b70 ff7 fs19 fc2 sc0 ls0 ws0">not<span class="_ _16"> </span>the<span class="_ _16"> </span>expression<span class="_ _16"> </span><span class="ffa">always<span class="_ _11"> </span></span>yields<span class="_ _16"> </span>1.<span class="_ _16"> </span>If<span class="_ _16"> </span>it<span class="_ _16"> </span>always<span class="_ _16"> </span>yields<span class="_ _16"> </span>1,<span class="_ _16"> </span>describe<span class="_ _16"> </span>the<span class="_ _16"> </span>underlying</div><div class="t m5 x1d h26 y1b71 ff7 fs19 fc2 sc0 ls0 ws0">mathematical<span class="_ _16"> </span>principles<span class="_ _1"></span>.<span class="_ _16"> </span>Otherwise<span class="_ _1"></span>,<span class="_ _16"> </span>give<span class="_ _16"> </span>an<span class="_ _16"> </span>example<span class="_ _16"> </span>of<span class="_ _16"> </span>arguments<span class="_ _16"> </span>that<span class="_ _16"> </span>make<span class="_ _16"> </span>it</div><div class="t m5 x1d h26 y1b72 ff7 fs19 fc2 sc0 ls0 ws0">yield<span class="_"> </span>0.</div><div class="t m5 x124 h26 y1b73 ff7 fs19 fc2 sc0 ls0 ws0">A.<span class="_ _1f"> </span><span class="ffd">(x&lt;y)<span class="_ _11"> </span>==<span class="_ _16"> </span>(-x&gt;-y)</span></div><div class="t m5 x124 h26 y1b74 ff7 fs19 fc2 sc0 ls2a ws0">B.<span class="_ _66"> </span><span class="ffd ls0">((x+y)&lt;&lt;4)<span class="_ _11"> </span>+<span class="_ _16"> </span>y-x<span class="_ _16"> </span>==<span class="_ _11"> </span>17*y+15*x</span></div><div class="t m5 x124 h26 y1b75 ff7 fs19 fc2 sc0 ls22 ws0">C.<span class="_ _24"> </span><span class="ffd ls0">~x+~y+1<span class="_ _16"> </span>==<span class="_ _11"> </span>~(x+y)</span></div><div class="t m5 x124 h26 y1b76 ff7 fs19 fc2 sc0 ls2a ws0">D.<span class="_ _24"> </span><span class="ffd ls0">(ux-uy)<span class="_ _11"> </span>==<span class="_ _16"> </span>-(unsigned)(y-x)</span></div><div class="t m5 x124 h26 y1b77 ff7 fs19 fc2 sc0 ls0 ws0">E.<span class="_ _25"> </span><span class="ffd">((x<span class="_ _11"> </span>&gt;&gt;<span class="_ _16"> </span>2)<span class="_ _16"> </span>&lt;&lt;<span class="_ _11"> </span>2)<span class="_ _16"> </span>&lt;=<span class="_ _11"> </span>x</span></div><div class="t m5 x1d h73 y1b78 ffe fs1e fc6 sc0 ls0 ws0">2.83<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x1d h26 y1b79 ff7 fs19 fc1 sc0 ls0 ws0">Consider<span class="_ _11"> </span>numbers<span class="_ _11"> </span>having<span class="_ _11"> </span>a<span class="_ _16"> </span>binary<span class="_ _11"> </span>representation<span class="_ _11"> </span>consisting<span class="_ _11"> </span>of<span class="_ _11"> </span>an<span class="_ _16"> </span>inﬁnite<span class="_ _11"> </span>string</div><div class="t m5 x1d h26 y1b7a ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span>the<span class="_"> </span>form<span class="_"> </span>0<span class="_ _2"></span><span class="ff11 ls11a">.<span class="_ _80"></span>yyyyyy</span></div><div class="t m5 x125 h45 y1b7b ff11 fs19 fc1 sc0 ls42 ws0">...</div><div class="t m5 xdd h26 y1b7a ff11 fs19 fc1 sc0 ls0 ws0">,<span class="_ _10"> </span><span class="ff7">where<span class="_"> </span></span>y<span class="_"> </span><span class="ff7">is<span class="_"> </span>a<span class="_"> </span></span>k<span class="_ _2"></span><span class="ff7">-bit<span class="_ _11"> </span>sequence<span class="_ _1"></span>.<span class="_ _11"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example,<span class="_"> </span>the<span class="_"> </span>binary</span></div><div class="t m5 x1b0 h26 y1b7c ff7 fs19 fc1 sc0 ls0 ws0">representation<span class="_ _14"> </span>of</div><div class="t m5 xd h3c y1b7d ff7 fs25 fc1 sc0 ls0 ws0">1</div><div class="t m5 xd h3c y1b7e ff7 fs25 fc1 sc0 ls0 ws0">3</div><div class="t m5 x91 h26 y1b7f ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _14"> </span>0<span class="_ _2"></span><span class="ff11">.</span>01010101</div><div class="t m5 x184 h45 y1b80 ff11 fs19 fc1 sc0 ls42 ws0">...</div><div class="t m5 x39 h46 y1b7f ff7 fs19 fc1 sc0 ls0 ws0">(<span class="ff11">y<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>01<span class="_ _1"></span>),<span class="_ _21"> </span>while<span class="_ _15"> </span>the<span class="_ _15"> </span>representation<span class="_ _15"> </span>of</div><div class="t m5 x229 h3c y1b7d ff7 fs25 fc1 sc0 ls0 ws0">1</div><div class="t m5 x229 h3c y1b7e ff7 fs25 fc1 sc0 ls0 ws0">5</div><div class="t m5 x227 h26 y1b81 ff7 fs19 fc1 sc0 ls0 ws0">is</div><div class="t m5 x1d h26 y1b82 ff7 fs19 fc1 sc0 ls0 ws0">0<span class="ff11">.</span>001100110011</div><div class="t m5 x235 h45 y1b83 ff11 fs19 fc1 sc0 ls42 ws0">...</div><div class="t m5 x47 h46 y1b82 ff7 fs19 fc1 sc0 ls0 ws0">(<span class="ff11">y<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>0011<span class="_ _3"></span>).</div><div class="t m5 x124 h46 y1b84 ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span>Let<span class="_"> </span><span class="ff11">Y<span class="_ _15"> </span><span class="ff12">=<span class="_ _13"> </span><span class="ffa">B2U</span></span></span></div><div class="t m5 xb7 h50 y1b85 ff11 fs25 fc1 sc0 ls0 ws0">k</div><div class="t m5 x5d h26 y1b86 ff11 fs19 fc1 sc0 ls0 ws0">(y<span class="_ _2"></span>)<span class="ff7">,<span class="_ _11"> </span>that<span class="_"> </span>is<span class="_ _0"></span>,<span class="_"> </span>the<span class="_ _11"> </span>number<span class="_"> </span>having<span class="_ _11"> </span>binary<span class="_"> </span>representation<span class="_ _11"> </span><span class="ff11">y<span class="_ _5"></span></span>.<span class="_"> </span>Give</span></div><div class="t m5 x4f h26 y1b87 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _13"> </span>formula<span class="_ _13"> </span>in<span class="_ _13"> </span>terms<span class="_"> </span>of<span class="_ _13"> </span><span class="ff11">Y<span class="_"> </span></span>and<span class="_ _13"> </span><span class="ff11">k<span class="_ _10"> </span></span>for<span class="_"> </span>the<span class="_ _13"> </span>value<span class="_ _13"> </span>represented<span class="_ _13"> </span>by<span class="_ _13"> </span>the<span class="_ _13"> </span>inﬁnite<span class="_ _13"> </span>string.</div><div class="t m5 x4f h26 y1b88 ffa fs19 fc1 sc0 ls0 ws0">Hint:<span class="_ _13"> </span><span class="ff7">Consider<span class="_ _13"> </span>the<span class="_ _13"> </span>effect<span class="_"> </span>of<span class="_ _13"> </span>shifting<span class="_ _13"> </span>the<span class="_ _13"> </span>binary<span class="_ _13"> </span>point<span class="_ _13"> </span><span class="ff11">k<span class="_ _10"> </span></span>positions<span class="_ _13"> </span>to<span class="_ _13"> </span>the<span class="_"> </span>right.</span></div><div class="t m5 x126 h26 y1b89 ff7 fs19 fc1 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>numeric<span class="_"> </span>value<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>string<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>values<span class="_"> </span>of<span class="_"> </span><span class="ff11">y<span class="_ _2"></span></span>?</div><div class="t m5 x4f h26 y1b8a ff7 fs19 fc1 sc0 ls0 ws0">(a)<span class="_ _e"> </span>101</div><div class="t m5 xad h26 y1b8b ff7 fs19 fc1 sc0 ls0 ws0">(b)<span class="_ _e"> </span>0110</div><div class="t m5 xc4 h26 y1b8c ff7 fs19 fc1 sc0 ls0 ws0">(c)<span class="_ _e"> </span>010011</div><div class="t m5 x1d h73 y1b8d ffe fs1e fc6 sc0 ls0 ws0">2.84<span class="_ _23"> </span><span class="ff10 fs19">◆</span></div><div class="t m5 x1d h26 y1b8e ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>ill<span class="_ _16"> </span>in<span class="_ _16"> </span>the<span class="_ _16"> </span>return<span class="_ _16"> </span>value<span class="_ _11"> </span>for<span class="_ _16"> </span>the<span class="_ _16"> </span>following<span class="_ _16"> </span>procedure<span class="_ _1"></span>,<span class="_ _16"> </span>which<span class="_ _16"> </span>tests<span class="_ _16"> </span>whether<span class="_ _16"> </span>its<span class="_ _16"> </span>ﬁrst</div><div class="t m5 x1d h26 y1b8f ff7 fs19 fc1 sc0 ls0 ws0">argument<span class="_"> </span>is<span class="_ _11"> </span>less<span class="_"> </span>than<span class="_ _11"> </span>or<span class="_ _11"> </span>equal<span class="_"> </span>to<span class="_ _11"> </span>its<span class="_ _11"> </span>second.<span class="_"> </span>Assume<span class="_ _11"> </span>the<span class="_ _11"> </span>function<span class="_"> </span><span class="ffd">f2u<span class="_ _11"> </span></span>returns<span class="_ _11"> </span>an</div><div class="t m5 x1d h26 y1b90 ff7 fs19 fc1 sc0 ls0 ws0">unsigned<span class="_ _16"> </span>32-bit<span class="_ _16"> </span>number<span class="_ _14"> </span>having<span class="_ _16"> </span>the<span class="_ _16"> </span>same<span class="_ _16"> </span>bit<span class="_ _14"> </span>representation<span class="_ _16"> </span>as<span class="_ _16"> </span>its<span class="_ _14"> </span>ﬂoating-point</div><div class="t m5 x1d h26 y1b91 ff7 fs19 fc1 sc0 ls0 ws0">argument.<span class="_ _13"> </span>Y<span class="_ _3"></span>ou<span class="_ _13"> </span>can<span class="_ _13"> </span>assume<span class="_ _13"> </span>that<span class="_"> </span>neither<span class="_ _13"> </span>argument<span class="_ _13"> </span>is<span class="_ _13"> </span><span class="ffa">NaN<span class="_ _5"></span></span>.<span class="_ _13"> </span>The<span class="_ _13"> </span>two<span class="_ _13"> </span>ﬂavors<span class="_ _13"> </span>of<span class="_ _13"> </span>zero<span class="_ _0"></span>,</div><div class="t m5 x1d h46 y1b92 ff12 fs19 fc1 sc0 ls0 ws0">+<span class="ff7">0<span class="_"> </span>and<span class="_"> </span></span>−<span class="ff7 lsaa">0,<span class="_"> </span>are<span class="_"> </span>considered<span class="_"> </span>equal.</span></div><div class="t m5 x1d h2d ye14 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>float_le(float<span class="_ _1f"> </span>x,<span class="_ _1f"> </span>float<span class="_ _e"> </span>y)<span class="_ _1f"> </span>{</div><div class="t m5 x10c h2d y1b93 ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>ux<span class="_ _1f"> </span>=<span class="_ _1f"> </span>f2u(x);</div><div class="t m5 x10c h2d y1b94 ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>uy<span class="_ _1f"> </span>=<span class="_ _1f"> </span>f2u(y);</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
