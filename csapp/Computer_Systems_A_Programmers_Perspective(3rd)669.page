<div id="pf29d" class="pf w2 h11" data-page-no="29d"><div class="pc pc29d w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg29d.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">668<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x14 h2f ye7 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.38</div><div class="t m5 x14 h2f y58a ffe fs16 fc1 sc0 ls0 ws0">Intel<span class="_ _15"> </span>Core<span class="_ _15"> </span>i7<span class="_ _15"> </span>cache</div><div class="t m5 x14 h2f y58b ffe fs16 fc1 sc0 ls0 ws0">hierarchy<span class="_ _3"></span>.</div><div class="t m5 x78 h3f y58ef ff85 fs27 fc1 sc0 ls0 ws0">Processor package</div><div class="t m5 x129 h3f y58f0 ff85 fs27 fc1 sc0 ls0 ws0">Core 0<span class="_ _1f4"> </span>Core 3</div><div class="t m5 x3f hd1 y58f1 ff85 fs84 fc1 sc0 ls0 ws0">. . .</div><div class="t m5 xf8 h3f y58f2 ff85 fs27 fc1 sc0 ls0 ws0">Regs</div><div class="t m5 xf1 h3f y58f3 ff85 fs27 fc1 sc0 ls0 ws0">L1</div><div class="t m5 x150 h3f y58f4 ff85 fs27 fc1 sc0 ls0 ws0">d-cache</div><div class="t m5 x21d h3f y58f5 ff85 fs27 fc1 sc0 ls0 ws0">L2 unified cache</div><div class="t m5 x122 h3f y58f6 ff85 fs27 fc1 sc0 ls0 ws0">L3 unified cache</div><div class="t m5 x119 h3f y58f7 ff85 fs27 fc1 sc0 ls0 ws0">(shared by all cores)</div><div class="t m5 xfd h3f y58f8 ff85 fs27 fc1 sc0 ls0 ws0">Main memory</div><div class="t m5 x68 h3f y58f3 ff85 fs27 fc1 sc0 ls0 ws0">L1</div><div class="t m5 xdd h3f y58f4 ff85 fs27 fc1 sc0 ls0 ws0">i-cache</div><div class="t m5 x1a1 h3f y58f2 ff85 fs27 fc1 sc0 ls0 ws0">Regs</div><div class="t m5 x1e3 h3f y58f3 ff85 fs27 fc1 sc0 ls0 ws0">L1</div><div class="t m5 xdf h3f y58f4 ff85 fs27 fc1 sc0 ls0 ws0">d-cache</div><div class="t m5 xb9 h3f y58f5 ff85 fs27 fc1 sc0 ls0 ws0">L2 unified cache</div><div class="t m5 x3d h3f y58f3 ff85 fs27 fc1 sc0 ls0 ws0">L1</div><div class="t m5 x19e h3f y58f4 ff85 fs27 fc1 sc0 ls0 ws0">i-cache</div><div class="t m5 x14 h31 y58f9 ff7 fs21 fc2 sc0 ls0 ws0">Cache<span class="_"> </span>type<span class="_ _2a"> </span>Access<span class="_"> </span>time<span class="_"> </span>(cycles)<span class="_ _26"> </span>Cache<span class="_"> </span>size<span class="_"> </span>(<span class="ff11">C<span class="_ _2"></span></span>)<span class="_ _26"> </span>Assoc.<span class="_"> </span>(<span class="ff11">E<span class="_ _2"></span></span>)<span class="_ _26"> </span>Block<span class="_"> </span>size<span class="_"> </span>(<span class="ff11">B<span class="_ _2"></span></span>)<span class="_ _26"> </span>Sets<span class="_"> </span>(<span class="ff11">S<span class="_ _5"></span></span>)</div><div class="t m5 x14 h31 y58fa ff7 fs21 fc2 sc0 ls0 ws0">L1<span class="_"> </span>i-cache<span class="_ _1fe"> </span>4<span class="_ _9d"> </span>32<span class="_"> </span>KB<span class="_ _c2"> </span>8<span class="_ _31"> </span>64<span class="_"> </span>B<span class="_ _bb"> </span>64</div><div class="t m5 x14 h31 y58fb ff7 fs21 fc2 sc0 ls0 ws0">L1<span class="_"> </span>d-cache<span class="_ _9c"> </span>4<span class="_ _9d"> </span>32<span class="_"> </span>KB<span class="_ _c2"> </span>8<span class="_ _31"> </span>64<span class="_"> </span>B<span class="_ _bb"> </span>64</div><div class="t m5 x14 h31 y58fc ff7 fs21 fc2 sc0 ls0 ws0">L2<span class="_"> </span>uniﬁed<span class="_"> </span>cache<span class="_ _e9"> </span>10<span class="_ _6a"> </span>256<span class="_"> </span>KB<span class="_ _d6"> </span>8<span class="_ _31"> </span>64<span class="_"> </span>B<span class="_ _65"> </span>512</div><div class="t m5 x14 h31 y58fd ff7 fs21 fc2 sc0 ls0 ws0">L3<span class="_"> </span>uniﬁed<span class="_"> </span>cache<span class="_ _121"> </span>40–75<span class="_ _13b"> </span>8<span class="_"> </span>MB<span class="_ _9a"> </span>16<span class="_ _1d5"> </span>64<span class="_"> </span>B<span class="_ _5d"> </span>8,192</div><div class="t m5 x14 h2f y58fe ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.39<span class="_ _66"> </span><span class="fc1">Characteristics<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>Intel<span class="_"> </span>Core<span class="_"> </span>i7<span class="_"> </span>cache<span class="_"> </span>hierarchy<span class="_ _1"></span>.</span></div><div class="t m5 x75 h26 y58ff ffa fs19 fc1 sc0 ls0 ws0">Miss<span class="_"> </span>penalty<span class="_ _0"></span>.<span class="_ _21"> </span><span class="ff7">Any<span class="_ _11"> </span>additional<span class="_ _11"> </span>time<span class="_ _11"> </span>required<span class="_ _11"> </span>because<span class="_ _11"> </span>of<span class="_ _11"> </span>a<span class="_"> </span>miss<span class="_ _0"></span>.<span class="_"> </span>The<span class="_"> </span>penalty<span class="_ _11"> </span>for</span></div><div class="t m5 xcd h26 y5900 ff7 fs19 fc1 sc0 ls0 ws0">L1<span class="_"> </span>misses<span class="_"> </span>served<span class="_ _13"> </span>from<span class="_"> </span>L2<span class="_"> </span>is<span class="_"> </span>on<span class="_ _13"> </span>the<span class="_"> </span>order<span class="_"> </span>of<span class="_"> </span>10<span class="_"> </span>c<span class="_ _1"></span>ycles;<span class="_"> </span>from<span class="_"> </span>L3,<span class="_"> </span>50<span class="_"> </span>c<span class="_ _1"></span>ycles;</div><div class="t m5 xcd h26 y5901 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span>from<span class="_"> </span>main<span class="_"> </span>memory<span class="_ _3"></span>,<span class="_"> </span>200<span class="_"> </span>cycles<span class="_ _3"></span>.</div><div class="t m5 x29 h26 y5902 ff7 fs19 fc1 sc0 ls0 ws0">Optimizing<span class="_ _13"> </span>the<span class="_ _13"> </span>cost<span class="_ _13"> </span>and<span class="_ _13"> </span>performance<span class="_ _13"> </span>trade-offs<span class="_ _13"> </span>of<span class="_ _13"> </span>cache<span class="_ _13"> </span>memories<span class="_ _13"> </span>is<span class="_ _13"> </span>a<span class="_ _13"> </span>subtle</div><div class="t m5 x1d h26 y5903 ff7 fs19 fc1 sc0 ls0 ws0">exercise<span class="_ _13"> </span>that<span class="_"> </span>requires<span class="_ _13"> </span>extensive<span class="_ _13"> </span>simulation<span class="_ _13"> </span>on<span class="_"> </span>realistic<span class="_ _13"> </span>benchmark<span class="_ _13"> </span>codes<span class="_ _13"> </span>and<span class="_"> </span>thus</div><div class="t m5 x1d h26 y5904 ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _16"> </span>beyond<span class="_ _14"> </span>our<span class="_ _16"> </span>scope.<span class="_ _16"> </span>However,<span class="_ _16"> </span>it<span class="_ _14"> </span>is<span class="_ _14"> </span>possible<span class="_ _16"> </span>to<span class="_ _14"> </span>identify<span class="_ _16"> </span>some<span class="_ _14"> </span>of<span class="_ _14"> </span>the<span class="_ _16"> </span>qualitative</div><div class="t m5 x1d h26 y5905 ff7 fs19 fc1 sc0 ls0 ws0">trade-offs<span class="_ _1"></span>.</div><div class="t m5 x1d h42 y1776 ff6 fs29 fc6 sc0 ls0 ws0">Impact<span class="_ _11"> </span>of<span class="_ _16"> </span>Cache<span class="_ _16"> </span>Size</div><div class="t m5 x1d h26 yd16 ff7 fs19 fc1 sc0 ls0 ws0">On<span class="_ _16"> </span>the<span class="_ _11"> </span>one<span class="_ _16"> </span>hand,<span class="_ _16"> </span>a<span class="_ _16"> </span>larger<span class="_ _16"> </span>cache<span class="_ _16"> </span>will<span class="_ _16"> </span>tend<span class="_ _16"> </span>to<span class="_ _11"> </span>increase<span class="_ _16"> </span>the<span class="_ _16"> </span>hit<span class="_ _16"> </span>rate<span class="_ _1"></span>.<span class="_ _16"> </span>On<span class="_ _16"> </span>the<span class="_ _16"> </span>other</div><div class="t m5 x1d h26 yd17 ff7 fs19 fc1 sc0 ls0 ws0">hand,<span class="_ _16"> </span>it<span class="_ _16"> </span>is<span class="_ _16"> </span>always<span class="_ _16"> </span>harder<span class="_ _16"> </span>to<span class="_ _16"> </span>make<span class="_ _16"> </span>large<span class="_ _16"> </span>memories<span class="_ _16"> </span>run<span class="_ _16"> </span>faster.<span class="_ _16"> </span>As<span class="_ _16"> </span>a<span class="_ _16"> </span>result,<span class="_ _16"> </span>larger</div><div class="t m5 x1d h26 y223b ff7 fs19 fc1 sc0 ls0 ws0">caches<span class="_ _13"> </span>tend<span class="_"> </span>to<span class="_ _13"> </span>increase<span class="_ _13"> </span>the<span class="_"> </span>hit<span class="_ _13"> </span>time<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _3"></span>his<span class="_"> </span>explains<span class="_ _13"> </span>why<span class="_ _13"> </span>an<span class="_"> </span>L1<span class="_ _13"> </span>cache<span class="_ _13"> </span>is<span class="_"> </span>smaller<span class="_ _13"> </span>than</div><div class="t m5 x1d h26 y223c ff7 fs19 fc1 sc0 ls0 ws0">an<span class="_"> </span>L2<span class="_"> </span>cache<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>an<span class="_"> </span>L2<span class="_"> </span>cache<span class="_"> </span>is<span class="_"> </span>smaller<span class="_"> </span>than<span class="_"> </span>an<span class="_"> </span>L3<span class="_"> </span>cache.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
