<div id="pf71" class="pf w2 h11" data-page-no="71"><div class="pc pc71 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg71.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">112<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x1a h31 y390 ff7 fs21 fc2 sc0 ls0 ws0">Expression<span class="_ _cd"> </span>T<span class="_ _7"></span>ype<span class="_ _bd"> </span>Evaluation</div><div class="t m5 x112 h31 yc94 ffd fs1e fc2 sc0 ls80 ws0">0=<span class="_ _b6"></span>=<span class="_ _ce"> </span>0<span class="_ _b6"></span>U<span class="_ _13"> </span><span class="ff7 fs21 ls0">Unsigned<span class="_ _bd"> </span></span><span class="ls0">1</span></div><div class="t m5 x141 h2d y1031 ffd fs1e fc2 sc0 ls0 ws0">-1<span class="_ _b0"> </span>&lt;<span class="_ _cf"> </span>0</div><div class="t m5 xf4 h31 yc98 ff7 fs21 fc2 sc0 ls0 ws0">Signed<span class="_ _9a"> </span><span class="ffd fs1e">1</span></div><div class="t m5 x141 h2d y1032 ffd fs1e fc2 sc0 ls0 ws0">-1<span class="_ _b0"> </span>&lt;<span class="_ _cf"> </span>0U</div><div class="t m5 xf4 h31 yc9b ff7 fs21 fc2 sc0 ls0 ws0">Unsigned<span class="_ _d0"> </span><span class="ffd fs1e">0<span class="_ _13"> </span></span>*</div><div class="t m5 x1cb h31 yc9e ffd fs1e fc2 sc0 ls0 ws0">2147483647<span class="_ _b0"> </span>&gt;<span class="_ _73"> </span>-2147483647-1<span class="_ _26"> </span><span class="ff7 fs21">Signed<span class="_ _9a"> </span></span>1</div><div class="t m5 x1cb h2d y1033 ffd fs1e fc2 sc0 ls0 ws0">2147483647U<span class="_ _23"> </span>&gt;<span class="_ _73"> </span>-2147483647-1</div><div class="t m5 xf4 h31 yca1 ff7 fs21 fc2 sc0 ls0 ws0">Unsigned<span class="_ _d0"> </span><span class="ffd fs1e">0<span class="_ _13"> </span></span>*</div><div class="t m5 x1cb h31 yca4 ffd fs1e fc2 sc0 ls0 ws0">2147483647<span class="_ _b0"> </span>&gt;<span class="_ _c"> </span>(int)<span class="_ _11"> </span>2147483648U<span class="_ _b3"> </span><span class="ff7 fs21">Signed<span class="_ _9a"> </span></span>1<span class="_ _13"> </span><span class="ff7 fs21">*</span></div><div class="t m5 x141 h31 y1034 ffd fs1e fc2 sc0 ls0 ws0">-1<span class="_ _b0"> </span>&gt;<span class="_ _d1"> </span>-2<span class="_ _26"> </span><span class="ff7 fs21">Signed<span class="_ _9a"> </span></span>1</div><div class="t m5 x1d h2d y1035 ffd fs1e fc2 sc0 ls0 ws0">(unsigned)<span class="_ _11"> </span>-1<span class="_ _b0"> </span>&gt;<span class="_ _d1"> </span>-2</div><div class="t m5 xf4 h31 y1036 ff7 fs21 fc2 sc0 ls0 ws0">Unsigned<span class="_ _d0"> </span><span class="ffd fs1e">1</span></div><div class="t m5 x1d h34 y1037 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>2.19<span class="_ _66"> </span><span class="fc1">Effects<span class="_"> </span>of<span class="_ _13"> </span>C<span class="_"> </span>promotion<span class="_ _10"> </span>rules.<span class="_ _10"> </span><span class="ff6">Nonintuitive<span class="_ _13"> </span>cases<span class="_ _10"> </span>are<span class="_ _10"> </span>marked<span class="_ _10"> </span>by<span class="_ _10"> </span>‘*’.<span class="_ _13"> </span>When</span></span></div><div class="t m5 x1d h34 y1038 ff6 fs16 fc1 sc0 ls0 ws0">either<span class="_ _14"> </span>operand<span class="_ _15"> </span>of<span class="_ _14"> </span>a<span class="_ _15"> </span>comparison<span class="_ _15"> </span>is<span class="_ _14"> </span>unsigned,<span class="_ _21"> </span>the<span class="_ _14"> </span>other<span class="_ _15"> </span>operand<span class="_ _14"> </span>is<span class="_ _15"> </span>implicitly<span class="_ _15"> </span>cast<span class="_ _14"> </span>to</div><div class="t m5 x1d h34 y1039 ff6 fs16 fc1 sc0 ls0 ws0">unsigned.<span class="_ _10"> </span>See<span class="_ _11"> </span>W<span class="_ _1"></span>eb<span class="_ _11"> </span>Aside<span class="_ _10"> </span><span class="ff1b">data:tmin<span class="_ _10"> </span></span>for<span class="_ _10"> </span>why<span class="_ _10"> </span>we<span class="_ _11"> </span>write<span class="_ _10"> </span><span class="ffa">TMin</span></div><div class="t m5 x11b h5d y103a ff7 fs32 fc1 sc0 ls0 ws0">32</div><div class="t m5 x3c h3a y103b ff6 fs16 fc1 sc0 ls0 ws0">as<span class="_ _10"> </span><span class="ffd fs19">-2,147,483,647-1</span>.</div><div class="t m5 x1d h26 y103c ff7 fs19 fc1 sc0 ls0 ws0">assuming<span class="_ _14"> </span>the<span class="_ _14"> </span>numbers<span class="_ _15"> </span>are<span class="_ _14"> </span>nonnegative<span class="_ _0"></span>.<span class="_ _14"> </span>As<span class="_ _14"> </span>we<span class="_ _15"> </span>will<span class="_ _14"> </span>see<span class="_ _0"></span>,<span class="_ _15"> </span>this<span class="_ _14"> </span>convention<span class="_ _14"> </span>makes</div><div class="t m5 x1d h26 y103d ff7 fs19 fc1 sc0 ls0 ws0">little<span class="_ _14"> </span>difference<span class="_ _15"> </span>for<span class="_ _14"> </span>standard<span class="_ _15"> </span>arithmetic<span class="_ _15"> </span>operations<span class="_ _1"></span>,<span class="_ _15"> </span>but<span class="_ _15"> </span>it<span class="_ _15"> </span>leads<span class="_ _14"> </span>to<span class="_ _15"> </span>nonintuitive</div><div class="t m5 x1d h26 y103e ff7 fs19 fc1 sc0 ls0 ws0">results<span class="_ _16"> </span>for<span class="_ _16"> </span>relational<span class="_ _16"> </span>operators<span class="_ _16"> </span>such<span class="_ _16"> </span>as<span class="_ _16"> </span><span class="ffd">&lt;<span class="_ _16"> </span></span>and<span class="_ _16"> </span><span class="ffd">&gt;</span>.<span class="_ _16"> </span>F<span class="_ _0"></span>igure<span class="_ _16"> </span>2.19<span class="_ _16"> </span>shows<span class="_ _16"> </span>some<span class="_ _16"> </span>sample</div><div class="t m5 x1d h26 y103f ff7 fs19 fc1 sc0 ls0 ws0">relational<span class="_ _16"> </span>expressions<span class="_ _16"> </span>and<span class="_ _11"> </span>their<span class="_ _16"> </span>resulting<span class="_ _16"> </span>evaluations<span class="_ _1"></span>,<span class="_ _16"> </span>when<span class="_ _16"> </span>data<span class="_ _16"> </span>type<span class="_ _16"> </span><span class="ffd">int<span class="_ _16"> </span></span>has<span class="_ _16"> </span>a</div><div class="t m5 x1d h26 y1040 ff7 fs19 fc1 sc0 ls0 ws0">32-bit<span class="_ _13"> </span>two’s-complement<span class="_ _13"> </span>representation.<span class="_"> </span>Consider<span class="_ _13"> </span>the<span class="_"> </span>comparison<span class="_ _13"> </span><span class="ffd ls4b">-<span class="_ _49"></span>1&lt;0<span class="_ _42"></span>U<span class="_ _49"></span><span class="ff7 ls0">.<span class="_"> </span>Since</span></span></div><div class="t m5 x1d h26 y1041 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _16"> </span>second<span class="_ _16"> </span>operand<span class="_ _14"> </span>is<span class="_ _16"> </span>unsigned,<span class="_ _14"> </span>the<span class="_ _14"> </span>ﬁrst<span class="_ _16"> </span>one<span class="_ _16"> </span>is<span class="_ _14"> </span>implicitly<span class="_ _16"> </span>cast<span class="_ _14"> </span>to<span class="_ _16"> </span>unsigned,<span class="_ _14"> </span>and</div><div class="t m5 x1d h26 y1042 ff7 fs19 fc1 sc0 ls0 ws0">hence<span class="_ _16"> </span>the<span class="_ _14"> </span>expression<span class="_ _16"> </span>is<span class="_ _16"> </span>equivalent<span class="_ _14"> </span>to<span class="_ _16"> </span>the<span class="_ _14"> </span>comparison<span class="_ _16"> </span><span class="ffd">4294967295U<span class="_ _16"> </span>&lt;<span class="_ _16"> </span>0U<span class="_ _16"> </span></span>(recall</div><div class="t m5 x1d h26 y1043 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _13"> </span><span class="ffa">T2U</span></div><div class="t m5 x65 h50 y1044 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1cc h46 y1045 ff11 fs19 fc1 sc0 ls0 ws0">(<span class="ff12">−<span class="ff7">1<span class="_ _1"></span><span class="ff11">)<span class="_ _13"> </span><span class="ff12">=<span class="_ _10"> </span><span class="ffa">UMax</span></span></span></span></span></div><div class="t m5 x90 h50 y1044 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x13b h26 y1045 ff7 fs19 fc1 sc0 ls0 ws0">),<span class="_ _13"> </span>which<span class="_"> </span>of<span class="_ _13"> </span>course<span class="_ _13"> </span>is<span class="_ _13"> </span>false<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _3"></span>he<span class="_"> </span>other<span class="_ _13"> </span>cases<span class="_ _13"> </span>can<span class="_ _13"> </span>be<span class="_ _13"> </span>under<span class="_ _1"></span>-</div><div class="t m5 x1d h26 y1046 ff7 fs19 fc1 sc0 ls0 ws0">stood<span class="_"> </span>by<span class="_"> </span>similar<span class="_"> </span>analyses<span class="_ _1"></span>.</div><div class="t m5 x1d h47 y1047 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>2.21<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>185)</span></div><div class="t m5 x1d h26 y1048 ff7 fs19 fc1 sc0 ls0 ws0">Assuming<span class="_ _6"> </span>the<span class="_ _6"> </span>expressions<span class="_ _13"> </span>are<span class="_ _6"> </span>evaluated<span class="_ _6"> </span>when<span class="_ _6"> </span>executing<span class="_ _13"> </span>a<span class="_ _6"> </span>32-bit<span class="_ _6"> </span>program<span class="_ _6"> </span>on<span class="_ _13"> </span>a<span class="_ _6"> </span>ma-</div><div class="t m5 x1d h26 y1049 ff7 fs19 fc1 sc0 ls0 ws0">chine<span class="_ _13"> </span>that<span class="_"> </span>uses<span class="_ _13"> </span>two’s-complement<span class="_"> </span>arithmetic<span class="_ _1"></span>,<span class="_"> </span>ﬁll<span class="_ _13"> </span>in<span class="_"> </span>the<span class="_ _13"> </span>following<span class="_"> </span>table<span class="_ _13"> </span>describing</div><div class="t m5 x1d h26 y104a ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>effect<span class="_"> </span>of<span class="_"> </span>casting<span class="_"> </span>and<span class="_"> </span>relational<span class="_"> </span>operations<span class="_ _1"></span>,<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>style<span class="_"> </span>of<span class="_"> </span>F<span class="_ _1"></span>igure<span class="_"> </span>2.19:</div><div class="t m5 x1d h31 y104b ff7 fs21 fc2 sc0 ls0 ws0">Expression<span class="_ _d2"> </span>T<span class="_ _7"></span>ype<span class="_ _d3"> </span>Evaluation</div><div class="t m5 x1d h2d y104c ffd fs1e fc2 sc0 ls0 ws0">-2147483647-1<span class="_ _11"> </span>==<span class="_ _11"> </span>2147483648U</div><div class="t m5 x1d h2d y104d ffd fs1e fc1 sc0 ls0 ws0">-2147483647-1<span class="_ _11"> </span>&lt;<span class="_ _11"> </span>2147483647</div><div class="t m5 x1d h2d y104e ffd fs1e fc1 sc0 ls0 ws0">-2147483647-1U<span class="_ _11"> </span>&lt;<span class="_ _11"> </span>2147483647</div><div class="t m5 x1d h2d y104f ffd fs1e fc1 sc0 ls0 ws0">-2147483647-1<span class="_ _11"> </span>&lt;<span class="_ _11"> </span>-2147483647</div><div class="t m5 x1d h2d y1050 ffd fs1e fc1 sc0 ls0 ws0">-2147483647-1U<span class="_ _11"> </span>&lt;<span class="_ _11"> </span>-2147483647</div><div class="t m5 x1d h41 y1051 ffe fs29 fc1 sc0 ls0 ws0">2.2.6<span class="_ _48"> </span><span class="fs19">Expanding<span class="_"> </span>the<span class="_"> </span>Bit<span class="_"> </span>Representation<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>Number</span></div><div class="t m5 x1d h26 y832 ff7 fs19 fc1 sc0 ls0 ws0">One<span class="_ _13"> </span>common<span class="_ _13"> </span>operation<span class="_ _6"> </span>is<span class="_ _13"> </span>to<span class="_ _13"> </span>convert<span class="_ _13"> </span>between<span class="_ _6"> </span>integers<span class="_ _13"> </span>having<span class="_ _13"> </span>different<span class="_ _13"> </span>word<span class="_ _6"> </span>sizes</div><div class="t m5 x1d h26 y833 ff7 fs19 fc1 sc0 ls0 ws0">while<span class="_ _13"> </span>retaining<span class="_"> </span>the<span class="_ _13"> </span>same<span class="_"> </span>numeric<span class="_ _13"> </span>value.<span class="_ _13"> </span>Of<span class="_"> </span>course<span class="_ _1"></span>,<span class="_"> </span>this<span class="_ _13"> </span>may<span class="_"> </span>not<span class="_ _13"> </span>be<span class="_"> </span>possible<span class="_ _13"> </span>when</div><div class="t m5 x1d h26 y834 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>destination<span class="_ _11"> </span>data<span class="_ _11"> </span>type<span class="_ _16"> </span>is<span class="_ _11"> </span>too<span class="_ _11"> </span>small<span class="_ _11"> </span>to<span class="_ _11"> </span>represent<span class="_ _16"> </span>the<span class="_ _11"> </span>desired<span class="_ _11"> </span>value<span class="_ _0"></span>.<span class="_ _11"> </span>Converting</div><div class="t m5 x1d h26 y835 ff7 fs19 fc1 sc0 ls0 ws0">from<span class="_"> </span>a<span class="_"> </span>smaller<span class="_"> </span>to<span class="_"> </span>a<span class="_"> </span>larger<span class="_"> </span>data<span class="_"> </span>type<span class="_ _1"></span>,<span class="_"> </span>however,<span class="_"> </span>should<span class="_"> </span>always<span class="_"> </span>be<span class="_"> </span>possible<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
