<div id="pf275" class="pf w2 h11" data-page-no="275"><div class="pc pc275 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg275.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">628<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x28 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">How<span class="_ _11"> </span>much<span class="_ _11"> </span>is<span class="_ _11"> </span>a<span class="_ _16"> </span>gigabyte?</span></div><div class="t m5 x28 h2b y258 ff7 fs1e fc2 sc0 ls0 ws0">Unfortunately<span class="_ _3"></span>,<span class="_ _16"> </span>the<span class="_ _16"> </span>meanings<span class="_ _16"> </span>of<span class="_ _16"> </span>preﬁxes<span class="_ _16"> </span>such<span class="_ _16"> </span>as<span class="_ _16"> </span>kilo<span class="_ _16"> </span>(K),<span class="_ _14"> </span>mega<span class="_ _16"> </span>(M),<span class="_ _16"> </span>giga<span class="_ _16"> </span>(G),<span class="_ _14"> </span>and<span class="_ _16"> </span>tera<span class="_ _16"> </span>(T)<span class="_ _16"> </span>depend</div><div class="t m5 x28 h4a y259 ff7 fs1e fc2 sc0 ls0 ws0">on<span class="_ _16"> </span>the<span class="_ _16"> </span>context.<span class="_ _16"> </span>F<span class="_ _1"></span>or<span class="_ _16"> </span>measures<span class="_ _16"> </span>that<span class="_ _16"> </span>relate<span class="_ _16"> </span>to<span class="_ _16"> </span>the<span class="_ _16"> </span>capacity<span class="_ _16"> </span>of<span class="_ _16"> </span>DRAMs<span class="_ _16"> </span>and<span class="_ _11"> </span>SRAMs<span class="_ _0"></span>,<span class="_ _16"> </span>typically<span class="_ _16"> </span>K<span class="_"> </span><span class="ff12">=<span class="_ _10"> </span></span>2</div><div class="t m5 x9d h48 y53c5 ff7 fs2c fc2 sc0 ls0 ws0">10</div><div class="t m5 x12b h2b y53c6 ff7 fs1e fc2 sc0 ls0 ws0">,</div><div class="t m5 x28 h4a y53c7 ff7 fs1e fc2 sc0 ls0 ws0">M<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>2</div><div class="t m5 x34 h48 yb79 ff7 fs2c fc2 sc0 ls0 ws0">20</div><div class="t m5 x2f h4a yb7a ff7 fs1e fc2 sc0 ls22f ws0">,G<span class="_ _3"></span><span class="ff12 ls0">=<span class="_ _10"> </span><span class="ff7">2</span></span></div><div class="t m5 x12 h48 yb79 ff7 fs2c fc2 sc0 ls0 ws0">30</div><div class="t m5 x1a7 h4a yb7a ff7 fs1e fc2 sc0 ls0 ws0">,<span class="_ _11"> </span>and<span class="_ _11"> </span>T<span class="_"> </span><span class="ff12">=<span class="_ _10"> </span></span>2</div><div class="t m5 x17f h48 yb79 ff7 fs2c fc2 sc0 ls0 ws0">40</div><div class="t m5 xe0 h2b yb7a ff7 fs1e fc2 sc0 ls0 ws0">.<span class="_ _11"> </span>F<span class="_ _1"></span>or<span class="_ _11"> </span>measures<span class="_ _11"> </span>related<span class="_ _11"> </span>to<span class="_ _16"> </span>the<span class="_ _10"> </span>capacity<span class="_ _16"> </span>of<span class="_ _10"> </span>I/O<span class="_ _16"> </span>devices<span class="_ _10"> </span>such<span class="_ _16"> </span>as<span class="_ _10"> </span>disks<span class="_ _16"> </span>and</div><div class="t m5 x28 h4a yb7b ff7 fs1e fc2 sc0 ls0 ws0">networks<span class="_ _1"></span>,<span class="_"> </span>typically<span class="_"> </span>K<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>10</div><div class="t m5 x203 h48 y53c8 ff7 fs2c fc2 sc0 ls0 ws0">3</div><div class="t m5 xcd h4a y2610 ff7 fs1e fc2 sc0 ls230 ws0">,M<span class="ff12 ls0">=<span class="_ _13"></span><span class="ff7">10</span></span></div><div class="t m5 x1a6 h48 y53c8 ff7 fs2c fc2 sc0 ls0 ws0">6</div><div class="t m5 xf8 h4a y2610 ff7 fs1e fc2 sc0 ls230 ws0">,G<span class="ff12 ls0">=<span class="_ _13"></span><span class="ff7">10</span></span></div><div class="t m5 xba h48 y53c9 ff7 fs2c fc2 sc0 ls0 ws0">9</div><div class="t m5 x1e6 h4a y2610 ff7 fs1e fc2 sc0 ls0 ws0">,<span class="_"> </span>and<span class="_"> </span>T<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>10</div><div class="t m5 x118 h48 y53c9 ff7 fs2c fc2 sc0 ls0 ws0">12</div><div class="t m5 x254 h2b y2610 ff7 fs1e fc2 sc0 ls0 ws0">.<span class="_"> </span>Rates<span class="_"> </span>and<span class="_"> </span>throughputs<span class="_"> </span>usually<span class="_"> </span>use<span class="_"> </span>these</div><div class="t m5 x28 h2b y2611 ff7 fs1e fc2 sc0 ls0 ws0">preﬁx<span class="_"> </span>values<span class="_"> </span>as<span class="_"> </span>well.</div><div class="t m5 x57 h2b y53ca ff7 fs1e fc2 sc0 ls0 ws0">F<span class="_ _1"></span>ortunately<span class="_ _3"></span>,<span class="_ _16"> </span>for<span class="_ _16"> </span>the<span class="_ _11"> </span>back-of-the-envelope<span class="_ _16"> </span>estimates<span class="_ _16"> </span>that<span class="_ _11"> </span>we<span class="_ _16"> </span>typically<span class="_ _16"> </span>rely<span class="_ _11"> </span>on,<span class="_ _16"> </span>either<span class="_ _16"> </span>assumption</div><div class="t m5 x28 h2b y53cb ff7 fs1e fc2 sc0 ls0 ws0">works<span class="_ _15"> </span>ﬁne<span class="_ _15"> </span>in<span class="_ _15"> </span>practice<span class="_ _0"></span>.<span class="_ _15"> </span>F<span class="_ _1"></span>or<span class="_ _15"> </span>example,<span class="_ _15"> </span>the<span class="_ _15"> </span>relative<span class="_ _15"> </span>difference<span class="_ _15"> </span>between<span class="_ _21"> </span>2</div><div class="t m5 x12f h48 y53cc ff7 fs2c fc2 sc0 ls0 ws0">30</div><div class="t m5 x22f h2b y843 ff7 fs1e fc2 sc0 ls0 ws0">and<span class="_ _15"> </span>10</div><div class="t m5 x24b h48 y53cc ff7 fs2c fc2 sc0 ls0 ws0">9</div><div class="t m5 x111 h2b y843 ff7 fs1e fc2 sc0 ls0 ws0">is<span class="_ _15"> </span>not<span class="_ _15"> </span>that<span class="_ _15"> </span>large:</div><div class="t m5 x28 h2b y53cd ff11 fs1e fc2 sc0 ls0 ws0">(<span class="ff7">2</span></div><div class="t m5 x251 h48 y53ce ff7 fs2c fc2 sc0 ls0 ws0">30</div><div class="t m5 x57 h4a y53cf ff12 fs1e fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">10</span></div><div class="t m5 x1b6 h48 y53ce ff7 fs2c fc2 sc0 ls0 ws0">9</div><div class="t m5 x2e h2b y53cf ff11 fs1e fc2 sc0 ls0 ws0">)/<span class="ff7">10</span></div><div class="t m5 x1da h48 y53ce ff7 fs2c fc2 sc0 ls0 ws0">9</div><div class="t m5 x26f h4a y53cf ff12 fs1e fc2 sc0 ls0 ws0">≈<span class="_ _13"> </span><span class="ff7">7%<span class="_ _3"></span>.<span class="_"> </span>Similarly<span class="_ _3"></span>,<span class="_"> </span><span class="ff11">(</span>2</span></div><div class="t m5 x7c h48 y53ce ff7 fs2c fc2 sc0 ls0 ws0">40</div><div class="t m5 xf8 h4a y53cf ff12 fs1e fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">10</span></div><div class="t m5 xdc h48 y53ce ff7 fs2c fc2 sc0 ls0 ws0">12</div><div class="t m5 x16c h2b y53cf ff11 fs1e fc2 sc0 ls0 ws0">)/<span class="ff7">10</span></div><div class="t m5 xa0 h48 y53ce ff7 fs2c fc2 sc0 ls0 ws0">12</div><div class="t m5 x1c8 h4a y53cf ff12 fs1e fc2 sc0 ls0 ws0">≈<span class="_ _13"> </span><span class="ff7">10%<span class="_ _3"></span>.</span></div><div class="t m5 x1d h26 y53d0 ff7 fs19 fc2 sc0 ls0 ws0">when<span class="_ _16"> </span>areal<span class="_ _16"> </span>densities<span class="_ _16"> </span>were<span class="_ _16"> </span>relatively<span class="_ _16"> </span>low<span class="_ _3"></span>.<span class="_ _16"> </span>However,<span class="_ _14"> </span>as<span class="_ _16"> </span>areal<span class="_ _16"> </span>densities<span class="_ _16"> </span>increased,</div><div class="t m5 x1d h26 y53d1 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>gaps<span class="_ _11"> </span>between<span class="_"> </span>sectors<span class="_ _11"> </span>(where<span class="_"> </span>no<span class="_ _11"> </span>data<span class="_"> </span>bits<span class="_ _11"> </span>were<span class="_"> </span>stored)<span class="_ _11"> </span>became<span class="_"> </span>unacceptably</div><div class="t m5 x1d h26 y53d2 ff7 fs19 fc2 sc0 ls0 ws0">large<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _1"></span>hus<span class="_ _1"></span>,<span class="_ _16"> </span>modern<span class="_ _11"> </span>high-capacity<span class="_ _11"> </span>disks<span class="_ _16"> </span>use<span class="_ _11"> </span>a<span class="_ _11"> </span>technique<span class="_ _11"> </span>known<span class="_ _16"> </span>as<span class="_ _11"> </span><span class="ffa">multiple<span class="_ _11"> </span>zone</span></div><div class="t m5 x1d h26 y53d3 ffa fs19 fc2 sc0 ls0 ws0">recording<span class="ff7">,<span class="_"> </span>where<span class="_"> </span>the<span class="_"> </span>set<span class="_"> </span>of<span class="_"> </span>cylinders<span class="_"> </span>is<span class="_"> </span>partitioned<span class="_"> </span>into<span class="_"> </span>disjoint<span class="_"> </span>subsets<span class="_"> </span>known<span class="_"> </span>as</span></div><div class="t m5 x1d h26 y53d4 ffa fs19 fc2 sc0 ls0 ws0">recording<span class="_"> </span>zones<span class="ff7">.<span class="_"> </span>Each<span class="_"> </span>zone<span class="_"> </span>consists<span class="_ _11"> </span>of<span class="_"> </span>a<span class="_ _11"> </span>contiguous<span class="_ _11"> </span>collection<span class="_"> </span>of<span class="_ _11"> </span>cylinders<span class="_ _3"></span>.<span class="_ _11"> </span>Each</span></div><div class="t m5 x1d h26 y53d5 ff7 fs19 fc2 sc0 ls0 ws0">track<span class="_ _16"> </span>in<span class="_ _11"> </span>each<span class="_ _16"> </span>cylinder<span class="_ _11"> </span>in<span class="_ _16"> </span>a<span class="_ _16"> </span>zone<span class="_ _11"> </span>has<span class="_ _16"> </span>the<span class="_ _16"> </span>same<span class="_ _11"> </span>number<span class="_ _16"> </span>of<span class="_ _16"> </span>sectors<span class="_ _3"></span>,<span class="_ _14"> </span>which<span class="_ _11"> </span>is<span class="_ _16"> </span>deter<span class="_ _1"></span>-</div><div class="t m5 x1d h26 y53d6 ff7 fs19 fc2 sc0 ls0 ws0">mined<span class="_ _16"> </span>by<span class="_ _16"> </span>the<span class="_ _16"> </span>number<span class="_ _11"> </span>of<span class="_ _16"> </span>sectors<span class="_ _16"> </span>that<span class="_ _16"> </span>can<span class="_ _16"> </span>be<span class="_ _16"> </span>packed<span class="_ _16"> </span>into<span class="_ _16"> </span>the<span class="_ _16"> </span>innermost<span class="_ _16"> </span>track<span class="_ _11"> </span>of</div><div class="t m5 x1d h26 y53d7 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>zone<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y53d8 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>capacity<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>disk<span class="_"> </span>is<span class="_"> </span>given<span class="_"> </span>by<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>formula:</div><div class="t m5 x126 h46 y53d9 ff7 fs19 fc2 sc0 ls0 ws0">Capacity<span class="_ _13"> </span><span class="ff12">=</span></div><div class="t m5 x218 h26 y53da ff7 fs19 fc2 sc0 ls0 ws0">#<span class="_"> </span>bytes</div><div class="t m5 x20 h26 y53db ff7 fs19 fc2 sc0 ls0 ws0">sector</div><div class="t m5 x1d7 h46 y53dc ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x90 h26 y53dd ff7 fs19 fc2 sc0 ls0 ws0">average<span class="_"> </span>#<span class="_"> </span>sectors</div><div class="t m5 x69 h26 y53db ff7 fs19 fc2 sc0 ls0 ws0">track</div><div class="t m5 x13c h46 y53dc ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x205 h26 y53de ff7 fs19 fc2 sc0 ls0 ws0">#<span class="_"> </span>tracks</div><div class="t m5 x1fc h26 y53df ff7 fs19 fc2 sc0 ls0 ws0">surface</div><div class="t m5 xf2 h46 y53e0 ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x18c h26 y53e1 ff7 fs19 fc2 sc0 ls0 ws0">#<span class="_"> </span>surfaces</div><div class="t m5 x1fd h26 y53df ff7 fs19 fc2 sc0 ls0 ws0">platter</div><div class="t m5 x270 h46 y53e0 ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x109 h26 y53e2 ff7 fs19 fc2 sc0 ls0 ws0">#<span class="_"> </span>platters</div><div class="t m5 x230 h26 y53df ff7 fs19 fc2 sc0 ls0 ws0">disk</div><div class="t m5 x1d h26 y53e3 ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _13"> </span>example<span class="_ _1"></span>,<span class="_ _13"> </span>suppose<span class="_ _13"> </span>we<span class="_ _13"> </span>have<span class="_ _6"> </span>a<span class="_ _13"> </span>disk<span class="_ _13"> </span>with<span class="_ _6"> </span>ﬁve<span class="_ _13"> </span>platters<span class="_ _1"></span>,<span class="_ _13"> </span>512<span class="_ _13"> </span>bytes<span class="_ _6"> </span>per<span class="_ _13"> </span>sector,<span class="_ _13"> </span>20,000</div><div class="t m5 x1d h26 y53e4 ff7 fs19 fc2 sc0 ls0 ws0">tracks<span class="_ _11"> </span>per<span class="_ _11"> </span>surface,<span class="_"> </span>and<span class="_ _16"> </span>an<span class="_"> </span>average<span class="_ _16"> </span>of<span class="_ _11"> </span>300<span class="_ _11"> </span>sectors<span class="_ _11"> </span>per<span class="_ _11"> </span>track.<span class="_ _16"> </span>T<span class="_ _1"></span>hen<span class="_ _11"> </span>the<span class="_ _16"> </span>capacity<span class="_"> </span>of</div><div class="t m5 x1d h26 y53e5 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>disk<span class="_"> </span>is</div><div class="t m5 x1f6 h46 y53e6 ff7 fs19 fc2 sc0 ls0 ws0">Capacity<span class="_ _13"> </span><span class="ff12">=</span></div><div class="t m5 x59 h26 y53e7 ff7 fs19 fc2 sc0 ls0 ws0">512<span class="_"> </span>bytes</div><div class="t m5 x7a h26 y53e8 ff7 fs19 fc2 sc0 ls0 ws0">sector</div><div class="t m5 x116 h46 y53e9 ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x16d h26 y53ea ff7 fs19 fc2 sc0 ls0 ws0">300<span class="_"> </span>sectors</div><div class="t m5 xe4 h26 y53e8 ff7 fs19 fc2 sc0 ls0 ws0">track</div><div class="t m5 x118 h46 y53e9 ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x3f h26 y53ea ff7 fs19 fc2 sc0 ls0 ws0">20,000<span class="_"> </span>tracks</div><div class="t m5 x1c9 h26 y53eb ff7 fs19 fc2 sc0 ls0 ws0">surface</div><div class="t m5 x22f h46 y53ec ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 x8d h26 y53ed ff7 fs19 fc2 sc0 ls0 ws0">2<span class="_"> </span>surfaces</div><div class="t m5 x16a h26 y53eb ff7 fs19 fc2 sc0 ls0 ws0">platter</div><div class="t m5 x25f h46 y53ec ff12 fs19 fc2 sc0 ls0 ws0">×</div><div class="t m5 xeb h26 y53ee ff7 fs19 fc2 sc0 ls0 ws0">5<span class="_"> </span>platters</div><div class="t m5 x174 h26 y53ef ff7 fs19 fc2 sc0 ls0 ws0">disk</div><div class="t m5 x145 h46 y53f0 ff12 fs19 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">30,720,000,000<span class="_"> </span>bytes</span></div><div class="t m5 x145 h46 y53f1 ff12 fs19 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">30.72<span class="_"> </span>GB</span></div><div class="t m5 x29 h26 y53f2 ff7 fs19 fc2 sc0 ls0 ws0">Notice<span class="_ _13"> </span>that<span class="_"> </span>manufacturers<span class="_ _13"> </span>express<span class="_ _13"> </span>disk<span class="_"> </span>capacity<span class="_ _13"> </span>in<span class="_ _13"> </span>units<span class="_"> </span>of<span class="_ _13"> </span>gigabytes<span class="_ _13"> </span>(GB)<span class="_"> </span>or</div><div class="t m5 x1d h46 y53f3 ff7 fs19 fc2 sc0 ls0 ws0">terabytes<span class="_"> </span>(TB),<span class="_"> </span>where<span class="_"> </span>1<span class="_ _6"> </span>GB<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>10</div><div class="t m5 xd4 h3c y53f4 ff7 fs25 fc2 sc0 ls0 ws0">9</div><div class="t m5 x184 h46 y53f5 ff7 fs19 fc2 sc0 ls0 ws0">bytes<span class="_"> </span>and<span class="_"> </span>1<span class="_ _6"> </span>TB<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>10</div><div class="t m5 x108 h3c y53f4 ff7 fs25 fc2 sc0 ls0 ws0">12</div><div class="t m5 x171 h26 y53f5 ff7 fs19 fc2 sc0 ls0 ws0">bytes.</div><div class="t m5 x1d h47 y53f6 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>6.2<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>697)</span></div><div class="t m5 x1d h26 y53f7 ff7 fs19 fc1 sc0 ls0 ws0">What<span class="_"> </span>is<span class="_ _11"> </span>the<span class="_ _11"> </span>capacity<span class="_ _11"> </span>of<span class="_ _11"> </span>a<span class="_ _11"> </span>disk<span class="_ _11"> </span>with<span class="_"> </span>3<span class="_ _11"> </span>platters<span class="_ _0"></span>,<span class="_ _11"> </span>15,000<span class="_ _11"> </span>cylinders<span class="_ _3"></span>,<span class="_ _11"> </span>an<span class="_ _11"> </span>average<span class="_ _11"> </span>of<span class="_ _11"> </span>500</div><div class="t m5 x1d h26 y53f8 ff7 fs19 fc1 sc0 ls0 ws0">sectors<span class="_"> </span>per<span class="_"> </span>track,<span class="_"> </span>and<span class="_"> </span>1,024<span class="_"> </span>bytes<span class="_"> </span>per<span class="_"> </span>sector?</div><div class="t m5 x1d h42 y20a6 ff6 fs29 fc6 sc0 ls0 ws0">Disk<span class="_ _11"> </span>Operation</div><div class="t m5 x1d h26 y77e ff7 fs19 fc1 sc0 ls0 ws0">Disks<span class="_ _11"> </span>read<span class="_ _11"> </span>and<span class="_ _11"> </span>write<span class="_ _11"> </span>bits<span class="_ _11"> </span>stored<span class="_ _11"> </span>on<span class="_ _11"> </span>the<span class="_ _11"> </span>magnetic<span class="_ _11"> </span>surface<span class="_ _16"> </span>using<span class="_"> </span>a<span class="_ _11"> </span><span class="ffa">read/write<span class="_ _11"> </span>head</span></div><div class="t m5 x1d h26 y77f ff7 fs19 fc1 sc0 ls0 ws0">connected<span class="_ _11"> </span>to<span class="_ _11"> </span>the<span class="_ _16"> </span>end<span class="_ _11"> </span>of<span class="_ _11"> </span>an<span class="_ _16"> </span><span class="ffa">actuator<span class="_ _11"> </span>arm</span>,<span class="_ _11"> </span>as<span class="_ _11"> </span>shown<span class="_ _16"> </span>in<span class="_ _11"> </span>F<span class="_ _0"></span>igure<span class="_ _11"> </span>6.10(a).<span class="_ _11"> </span>By<span class="_ _16"> </span>moving</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
