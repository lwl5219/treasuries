<div id="pf2ee" class="pf w2 h11" data-page-no="2ee"><div class="pc pc2ee w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2ee.png"/><div class="t m5 x225 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>7.15<span class="_ _60"> </span>Summar<span class="_ _2"></span>y<span class="_ _1b"> </span><span class="ffe fs1e">749</span></div><div class="t m5 x17 h3b ye7 fff fs24 fc6 sc0 ls0 ws0">7.14<span class="_ _17"> </span><span class="ffe fs18">T<span class="_ _1"></span>ools<span class="_"> </span>for<span class="_"> </span>Manipulating<span class="_"> </span>Object<span class="_"> </span>Files</span></div><div class="t m5 x17 h26 y327 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>here<span class="_ _16"> </span>are<span class="_ _11"> </span>a<span class="_ _11"> </span>number<span class="_ _16"> </span>of<span class="_ _11"> </span>tools<span class="_ _11"> </span>available<span class="_ _16"> </span>on<span class="_ _11"> </span>Linux<span class="_ _11"> </span>systems<span class="_ _16"> </span>to<span class="_ _11"> </span>help<span class="_ _16"> </span>you<span class="_ _11"> </span>understand</div><div class="t m5 x17 h26 y328 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span>manipulate<span class="_"> </span>object<span class="_ _11"> </span>ﬁles<span class="_ _1"></span>.<span class="_"> </span>In<span class="_ _11"> </span>particular,<span class="_"> </span>the<span class="_"> </span>GNU<span class="_"> </span><span class="ffa">binutils<span class="_ _11"> </span></span>package<span class="_"> </span>is<span class="_"> </span>especially</div><div class="t m5 x17 h26 y329 ff7 fs19 fc1 sc0 ls0 ws0">helpful<span class="_"> </span>and<span class="_"> </span>runs<span class="_"> </span>on<span class="_"> </span>every<span class="_"> </span>Linux<span class="_"> </span>platform.</div><div class="t m5 x72 h26 y62c6 ff9 fs19 fc1 sc0 ls0 ws0">ar<span class="ff7">.<span class="_ _e"> </span>Creates<span class="_"> </span>static<span class="_"> </span>libraries<span class="_ _0"></span>,<span class="_"> </span>and<span class="_"> </span>inserts<span class="_ _1"></span>,<span class="_"> </span>deletes<span class="_ _1"></span>,<span class="_"> </span>lists<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>extracts<span class="_"> </span>members<span class="_ _1"></span>.</span></div><div class="t m5 x72 h26 y62c7 ff9 fs19 fc1 sc0 ls0 ws0">strings<span class="ff7">.<span class="_ _e"> </span>Lists<span class="_"> </span>all<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>printable<span class="_"> </span>strings<span class="_"> </span>contained<span class="_"> </span>in<span class="_"> </span>an<span class="_"> </span>object<span class="_"> </span>ﬁle.</span></div><div class="t m5 x72 h26 y62c8 ff9 fs19 fc1 sc0 ls0 ws0">strip<span class="ff7">.<span class="_ _e"> </span>Deletes<span class="_"> </span>symbol<span class="_"> </span>table<span class="_"> </span>information<span class="_"> </span>from<span class="_"> </span>an<span class="_"> </span>object<span class="_"> </span>ﬁle.</span></div><div class="t m5 x72 h26 y62c9 ff9 fs19 fc1 sc0 ls0 ws0">nm<span class="ff7">.<span class="_ _e"> </span>Lists<span class="_"> </span>the<span class="_"> </span>symbols<span class="_"> </span>deﬁned<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>symbol<span class="_"> </span>table<span class="_"> </span>of<span class="_"> </span>an<span class="_"> </span>object<span class="_"> </span>ﬁle.</span></div><div class="t m5 x72 h26 y62ca ff9 fs19 fc1 sc0 ls0 ws0">size<span class="ff7">.<span class="_ _e"> </span>Lists<span class="_"> </span>the<span class="_"> </span>names<span class="_"> </span>and<span class="_"> </span>sizes<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>sections<span class="_"> </span>in<span class="_"> </span>an<span class="_"> </span>object<span class="_"> </span>ﬁle.</span></div><div class="t m5 x72 h26 y62cb ff9 fs19 fc1 sc0 ls0 ws0">readelf<span class="ff7">.<span class="_ _e"> </span>Displays<span class="_ _11"> </span>the<span class="_ _11"> </span>complete<span class="_"> </span>structure<span class="_ _11"> </span>of<span class="_ _11"> </span>an<span class="_"> </span>object<span class="_ _11"> </span>ﬁle,<span class="_"> </span>including<span class="_"> </span>all<span class="_ _11"> </span>of<span class="_"> </span>the</span></div><div class="t m5 x30 h26 y62cc ff7 fs19 fc1 sc0 ls0 ws0">information<span class="_ _16"> </span>encoded<span class="_ _16"> </span>in<span class="_ _11"> </span>the<span class="_ _16"> </span>ELF<span class="_ _16"> </span>header.<span class="_ _16"> </span>Subsumes<span class="_ _11"> </span>the<span class="_ _16"> </span>functionality<span class="_ _16"> </span>of</div><div class="t m5 x30 h26 y62cd ff9 fs19 fc1 sc0 ls0 ws0">size<span class="_ _10"> </span><span class="ff7">and<span class="_"> </span></span>nm<span class="ff7">.</span></div><div class="t m5 x72 h26 y62ce ff9 fs19 fc1 sc0 ls0 ws0">objd<span class="_ _1"></span>ump<span class="ff7">.<span class="_ _1f"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>mother<span class="_ _6"> </span>of<span class="_ _13"> </span>all<span class="_ _6"> </span>binary<span class="_ _13"> </span>tools<span class="_ _3"></span>.<span class="_ _13"> </span>Can<span class="_ _6"> </span>display<span class="_ _13"> </span>all<span class="_ _6"> </span>of<span class="_ _13"> </span>the<span class="_ _6"> </span>information<span class="_ _13"> </span>in<span class="_ _6"> </span>an</span></div><div class="t m5 x30 h26 y62cf ff7 fs19 fc1 sc0 ls0 ws0">object<span class="_ _6"> </span>ﬁle.<span class="_ _a"> </span>Its<span class="_ _13"> </span>most<span class="_ _6"> </span>useful<span class="_ _6"> </span>function<span class="_ _13"> </span>is<span class="_ _a"> </span>disassembling<span class="_ _13"> </span>the<span class="_ _6"> </span>binary<span class="_ _6"> </span>instructions</div><div class="t m5 x30 h26 y62d0 ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_"> </span>the<span class="_"> </span><span class="ffd">.text<span class="_ _10"> </span></span>section.</div><div class="t m5 x17 h26 y62d1 ff7 fs19 fc1 sc0 ls0 ws0">Linux<span class="_"> </span>systems<span class="_"> </span>also<span class="_"> </span>provide<span class="_"> </span>the<span class="_"> </span><span class="ff9">ldd<span class="_ _10"> </span></span>program<span class="_"> </span>for<span class="_"> </span>manipulating<span class="_"> </span>shared<span class="_"> </span>libraries:</div><div class="t m5 x72 h26 y62d2 ff9 fs19 fc1 sc0 ls0 ws0">ldd<span class="ff7">:<span class="_ _e"> </span>Lists<span class="_"> </span>the<span class="_"> </span>shared<span class="_"> </span>libraries<span class="_"> </span>that<span class="_"> </span>an<span class="_"> </span>executable<span class="_"> </span>needs<span class="_"> </span>at<span class="_"> </span>run<span class="_"> </span>time.</span></div><div class="t m5 x17 h3b y35d fff fs24 fc6 sc0 ls0 ws0">7.15<span class="_ _17"> </span><span class="ffe fs18">Summar<span class="_ _2"></span>y</span></div><div class="t m5 x17 h26 y35e ff7 fs19 fc1 sc0 ls0 ws0">Linking<span class="_ _6"> </span>can<span class="_ _6"> </span>be<span class="_ _6"> </span>performed<span class="_ _6"> </span>at<span class="_ _13"> </span>compile<span class="_ _a"> </span>time<span class="_ _6"> </span>by<span class="_ _6"> </span>static<span class="_ _13"> </span>linkers<span class="_ _a"> </span>and<span class="_ _6"> </span>at<span class="_ _6"> </span>load<span class="_ _6"> </span>time<span class="_ _13"> </span>and<span class="_ _a"> </span>run</div><div class="t m5 x17 h26 y35f ff7 fs19 fc1 sc0 ls0 ws0">time<span class="_"> </span>by<span class="_ _13"> </span>dynamic<span class="_"> </span>linkers<span class="_ _1"></span>.<span class="_"> </span>Linkers<span class="_ _13"> </span>manipulate<span class="_"> </span>binary<span class="_"> </span>ﬁles<span class="_ _13"> </span>called<span class="_"> </span>object<span class="_"> </span>ﬁles<span class="_ _3"></span>,<span class="_"> </span>which</div><div class="t m5 x17 h26 y360 ff7 fs19 fc1 sc0 ls0 ws0">come<span class="_ _16"> </span>in<span class="_ _16"> </span>three<span class="_ _16"> </span>different<span class="_ _16"> </span>forms:<span class="_ _14"> </span>relocatable<span class="_ _1"></span>,<span class="_ _14"> </span>executable,<span class="_ _16"> </span>and<span class="_ _16"> </span>shared.<span class="_ _16"> </span>Relocatable</div><div class="t m5 x17 h26 y361 ff7 fs19 fc1 sc0 ls0 ws0">object<span class="_ _11"> </span>ﬁles<span class="_ _16"> </span>are<span class="_ _11"> </span>combined<span class="_ _11"> </span>by<span class="_ _16"> </span>static<span class="_ _11"> </span>linkers<span class="_ _16"> </span>into<span class="_ _11"> </span>an<span class="_ _11"> </span>executable<span class="_ _16"> </span>object<span class="_ _11"> </span>ﬁle<span class="_ _16"> </span>that<span class="_ _11"> </span>can</div><div class="t m5 x17 h26 y362 ff7 fs19 fc1 sc0 ls0 ws0">be<span class="_ _16"> </span>loaded<span class="_ _14"> </span>into<span class="_ _16"> </span>memory<span class="_ _14"> </span>and<span class="_ _16"> </span>executed.<span class="_ _14"> </span>Shared<span class="_ _14"> </span>object<span class="_ _16"> </span>ﬁles<span class="_ _14"> </span>(shared<span class="_ _16"> </span>libraries)<span class="_ _14"> </span>are</div><div class="t m5 x17 h26 y363 ff7 fs19 fc1 sc0 ls0 ws0">linked<span class="_ _6"> </span>and<span class="_ _13"> </span>loaded<span class="_ _6"> </span>by<span class="_ _6"> </span>dynamic<span class="_ _13"> </span>linkers<span class="_ _6"> </span>at<span class="_ _6"> </span>run<span class="_ _13"> </span>time<span class="_ _1"></span>,<span class="_ _13"> </span>either<span class="_ _6"> </span>implicitly<span class="_ _6"> </span>when<span class="_ _13"> </span>the<span class="_ _6"> </span>calling</div><div class="t m5 x17 h26 y364 ff7 fs19 fc1 sc0 ls0 ws0">program<span class="_ _11"> </span>is<span class="_ _16"> </span>loaded<span class="_ _11"> </span>and<span class="_ _11"> </span>begins<span class="_ _16"> </span>executing,<span class="_ _11"> </span>or<span class="_ _16"> </span>on<span class="_ _11"> </span>demand,<span class="_ _16"> </span>when<span class="_ _11"> </span>the<span class="_ _11"> </span>program<span class="_ _16"> </span>calls</div><div class="t m5 x17 h26 y365 ff7 fs19 fc1 sc0 ls0 ws0">functions<span class="_"> </span>from<span class="_"> </span>the<span class="_"> </span><span class="ffd">dlopen<span class="_ _10"> </span></span>library<span class="_ _3"></span>.</div><div class="t m5 x26 h26 y366 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>two<span class="_ _a"> </span>main<span class="_ _13"> </span>tasks<span class="_ _a"> </span>of<span class="_ _13"> </span>linkers<span class="_ _a"> </span>are<span class="_ _6"> </span>symbol<span class="_ _13"> </span>resolution,<span class="_ _6"> </span>where<span class="_ _6"> </span>each<span class="_ _13"> </span>global<span class="_ _a"> </span>symbol</div><div class="t m5 x17 h26 y367 ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_ _13"> </span>an<span class="_ _13"> </span>object<span class="_ _13"> </span>ﬁle<span class="_ _13"> </span>is<span class="_ _6"> </span>bound<span class="_ _13"> </span>to<span class="_ _13"> </span>a<span class="_ _13"> </span>unique<span class="_ _13"> </span>deﬁnition,<span class="_ _13"> </span>and<span class="_ _13"> </span>relocation,<span class="_ _13"> </span>where<span class="_ _13"> </span>the<span class="_ _13"> </span>ultimate</div><div class="t m5 x17 h26 y368 ff7 fs19 fc1 sc0 ls0 ws0">memory<span class="_ _14"> </span>address<span class="_ _14"> </span>for<span class="_ _14"> </span>each<span class="_ _14"> </span>symbol<span class="_ _15"> </span>is<span class="_ _14"> </span>determined<span class="_ _14"> </span>and<span class="_ _14"> </span>where<span class="_ _14"> </span>references<span class="_ _14"> </span>to<span class="_ _15"> </span>those</div><div class="t m5 x17 h26 y369 ff7 fs19 fc1 sc0 ls0 ws0">objects<span class="_"> </span>are<span class="_"> </span>modiﬁed.</div><div class="t m5 x26 h26 y36a ff7 fs19 fc1 sc0 ls0 ws0">Static<span class="_ _15"> </span>linkers<span class="_ _21"> </span>are<span class="_ _15"> </span>invoked<span class="_ _21"> </span>by<span class="_ _15"> </span>compiler<span class="_ _21"> </span>drivers<span class="_ _21"> </span>such<span class="_ _15"> </span>as<span class="_ _21"> </span><span class="ff9">gcc</span>.<span class="_ _15"> </span>They<span class="_ _15"> </span>combine</div><div class="t m5 x17 h26 y36b ff7 fs19 fc1 sc0 ls0 ws0">multiple<span class="_ _13"> </span>relocatable<span class="_ _6"> </span>object<span class="_ _13"> </span>ﬁles<span class="_ _6"> </span>into<span class="_ _13"> </span>a<span class="_ _6"> </span>single<span class="_ _13"> </span>executable<span class="_ _13"> </span>object<span class="_ _6"> </span>ﬁle<span class="_ _0"></span>.<span class="_ _13"> </span>Multiple<span class="_ _6"> </span>object</div><div class="t m5 x17 h26 y36c ff7 fs19 fc1 sc0 ls0 ws0">ﬁles<span class="_ _6"> </span>can<span class="_ _13"> </span>deﬁne<span class="_ _6"> </span>the<span class="_ _6"> </span>same<span class="_ _13"> </span>symbol,<span class="_ _6"> </span>and<span class="_ _13"> </span>the<span class="_ _6"> </span>rules<span class="_ _6"> </span>that<span class="_ _13"> </span>linkers<span class="_ _6"> </span>use<span class="_ _13"> </span>for<span class="_ _a"> </span>silently<span class="_ _13"> </span>resolving</div><div class="t m5 x17 h26 y36d ff7 fs19 fc1 sc0 ls0 ws0">these<span class="_"> </span>multiple<span class="_"> </span>deﬁnitions<span class="_"> </span>can<span class="_"> </span>introduce<span class="_"> </span>subtle<span class="_"> </span>bugs<span class="_"> </span>in<span class="_"> </span>user<span class="_"> </span>programs<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y36e ff7 fs19 fc1 sc0 ls0 ws0">Multiple<span class="_ _14"> </span>object<span class="_ _15"> </span>ﬁles<span class="_ _15"> </span>can<span class="_ _15"> </span>be<span class="_ _15"> </span>concatenated<span class="_ _15"> </span>in<span class="_ _14"> </span>a<span class="_ _15"> </span>single<span class="_ _15"> </span>static<span class="_ _15"> </span>library<span class="_ _3"></span>.<span class="_ _14"> </span>Linkers</div><div class="t m5 x17 h26 y36f ff7 fs19 fc1 sc0 ls0 ws0">use<span class="_ _14"> </span>libraries<span class="_ _14"> </span>to<span class="_ _14"> </span>resolve<span class="_ _14"> </span>symbol<span class="_ _14"> </span>references<span class="_ _14"> </span>in<span class="_ _14"> </span>other<span class="_ _14"> </span>object<span class="_ _14"> </span>modules<span class="_ _1"></span>.<span class="_ _14"> </span>T<span class="_ _0"></span>he<span class="_ _14"> </span>left-to-</div><div class="t m5 x17 h26 y370 ff7 fs19 fc1 sc0 ls0 ws0">right<span class="_ _13"> </span>sequential<span class="_ _6"> </span>scan<span class="_ _13"> </span>that<span class="_ _13"> </span>many<span class="_ _13"> </span>linkers<span class="_ _6"> </span>use<span class="_ _13"> </span>to<span class="_ _13"> </span>resolve<span class="_ _6"> </span>symbol<span class="_ _13"> </span>references<span class="_ _13"> </span>is<span class="_ _13"> </span>another</div><div class="t m5 x17 h26 y371 ff7 fs19 fc1 sc0 ls0 ws0">source<span class="_"> </span>of<span class="_"> </span>confusing<span class="_"> </span>link-time<span class="_"> </span>errors<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
