<div id="pf3c1" class="pf w2 h11" data-page-no="3c1"><div class="pc pc3c1 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg3c1.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">960<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>11<span class="_ _3d"> </span>Network<span class="_ _10"> </span>Programming</span></div><div class="t m5 x14 h2f y9c ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>11.8</div><div class="t m5 x14 h2f y676 ffe fs16 fc1 sc0 ls0 ws0">Hardware<span class="_ _11"> </span>and<span class="_ _16"> </span>software</div><div class="t m5 x14 h2f y7cb ffe fs16 fc1 sc0 ls0 ws0">organization<span class="_ _15"> </span>of<span class="_ _15"> </span>an</div><div class="t m5 x14 h2f yd19 ffe fs16 fc1 sc0 ls0 ws0">Internet<span class="_"> </span>application.</div><div class="t m5 x187 h3f y7a80 ffd7 fs27 fc1 sc0 ls0 ws0">Client</div><div class="t m5 x186 h3f y7a81 ffd7 fs27 fc1 sc0 ls0 ws0">Internet client host</div><div class="t m5 x51 h3f y7a82 ffc8 fs27 fc1 sc0 ls0 ws0">User code</div><div class="t m5 x129 h3f y7a83 ffc8 fs27 fc1 sc0 ls0 ws0">Sock<span class="_ _0"></span>ets interf<span class="_ _0"></span>ace</div><div class="t m5 x15c h3f y7a84 ffc8 fs27 fc1 sc0 ls0 ws0">(system calls)</div><div class="t m5 xe0 h3f y7a85 ffc8 fs27 fc1 sc0 ls0 ws0">Hardware interf<span class="_ _1"></span>ace</div><div class="t m5 x21d h3f y7a86 ffc8 fs27 fc1 sc0 ls0 ws0">(interrupts)</div><div class="t m5 x151 h3f y7a87 ffd7 fs27 fc1 sc0 ls0 ws0">TCP/IP</div><div class="t m5 x51 h3f y7a88 ffc8 fs27 fc1 sc0 ls0 ws0">K<span class="_ _0"></span>ernel code</div><div class="t m5 x119 h3f y7a89 ffd7 fs27 fc1 sc0 ls0 ws0">Network</div><div class="t m5 xfc h3f y7a8a ffd9 fs27 fc1 sc0 ls0 ws0">a<span class="ffd7">d</span>a<span class="ffd7">pter</span></div><div class="t m5 x22e h3f y7a80 ffd9 fs27 fc1 sc0 ls0 ws0">S<span class="ffd7">erver</span></div><div class="t m5 x45 h3f y7a81 ffd7 fs27 fc1 sc0 ls0 ws0">Internet server host</div><div class="t m5 x220 h3f y7a87 ffd7 fs27 fc1 sc0 ls0 ws0">TCP/IP</div><div class="t m5 x95 h3f y7a8b ffd7 fs27 fc1 sc0 ls0 ws0">Network</div><div class="t m5 x109 h3f y7a8c ffd9 fs27 fc1 sc0 ls0 ws0">a<span class="ffd7">d</span>a<span class="ffd7">pter</span></div><div class="t m5 x51 h3f y7a8d ffc8 fs27 fc1 sc0 ls0 ws0">Hardware</div><div class="t m5 x194 h3f y7a8e ffd8 fs27 fc1 sc0 ls0 ws0">Global IP Internet</div><div class="t m5 x1d h3b y7a8f fff fs24 fc6 sc0 ls0 ws0">11.3<span class="_ _17"> </span><span class="ffe fs18">The<span class="_"> </span>Global<span class="_"> </span>IP<span class="_"> </span>Internet</span></div><div class="t m5 x1d h26 y7a90 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>global<span class="_ _14"> </span>IP<span class="_ _16"> </span>Internet<span class="_ _16"> </span>is<span class="_ _16"> </span>the<span class="_ _16"> </span>most<span class="_ _16"> </span>famous<span class="_ _16"> </span>and<span class="_ _16"> </span>successful<span class="_ _14"> </span>implementation<span class="_ _16"> </span>of<span class="_ _16"> </span>an</div><div class="t m5 x1d h26 y7a91 ff7 fs19 fc1 sc0 ls0 ws0">internet.<span class="_ _21"> </span>It<span class="_ _21"> </span>has<span class="_ _21"> </span>existed<span class="_ _21"> </span>in<span class="_ _21"> </span>one<span class="_ _21"> </span>form<span class="_ _21"> </span>or<span class="_ _21"> </span>another<span class="_ _21"> </span>since<span class="_ _21"> </span>1969.<span class="_ _21"> </span>While<span class="_ _15"> </span>the<span class="_ _21"> </span>internal</div><div class="t m5 x1d h26 y7a92 ff7 fs19 fc1 sc0 ls0 ws0">architecture<span class="_"> </span>of<span class="_"> </span>the<span class="_ _13"> </span>Internet<span class="_"> </span>is<span class="_"> </span>complex<span class="_"> </span>and<span class="_ _13"> </span>constantly<span class="_"> </span>changing,<span class="_"> </span>the<span class="_ _13"> </span>organization</div><div class="t m5 x1d h26 y7a93 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _13"> </span>client-server<span class="_ _13"> </span>applications<span class="_ _6"> </span>has<span class="_ _13"> </span>remained<span class="_ _13"> </span>remarkably<span class="_ _13"> </span>stable<span class="_ _6"> </span>since<span class="_ _13"> </span>the<span class="_ _13"> </span>early<span class="_ _13"> </span>1980s<span class="_ _3"></span>.</div><div class="t m5 x1d h26 y7a94 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _14"> </span>11.8<span class="_ _14"> </span>shows<span class="_ _16"> </span>the<span class="_ _14"> </span>basic<span class="_ _14"> </span>hardware<span class="_ _14"> </span>and<span class="_ _16"> </span>software<span class="_ _14"> </span>organization<span class="_ _14"> </span>of<span class="_ _16"> </span>an<span class="_ _14"> </span>Internet</div><div class="t m5 x1d h26 y7a95 ff7 fs19 fc1 sc0 ls0 ws0">client-server<span class="_"> </span>application.</div><div class="t m5 x29 h26 y7a96 ff7 fs19 fc1 sc0 ls0 ws0">Each<span class="_ _1f"> </span>Internet<span class="_ _e"> </span>host<span class="_ _1f"> </span>runs<span class="_ _1f"> </span>software<span class="_ _e"> </span>that<span class="_ _1f"> </span>implements<span class="_ _1f"> </span>the<span class="_ _e"> </span><span class="ffa">TCP/IP<span class="_ _22"> </span></span>protocol</div><div class="t m5 x1d h26 y7a97 ff7 fs19 fc1 sc0 ls0 ws0">(<span class="ffa">T<span class="_ _3"></span>ransmission<span class="_"> </span>Control<span class="_ _11"> </span>Protocol/Internet<span class="_"> </span>Protocol<span class="_ _2"></span><span class="ff7">),<span class="_ _11"> </span>which<span class="_"> </span>is<span class="_"> </span>supported<span class="_"> </span>by<span class="_ _11"> </span>almost</span></span></div><div class="t m5 x1d h26 y7a98 ff7 fs19 fc1 sc0 ls0 ws0">every<span class="_ _11"> </span>modern<span class="_ _11"> </span>computer<span class="_ _11"> </span>system.<span class="_ _16"> </span>Internet<span class="_"> </span>clients<span class="_ _16"> </span>and<span class="_"> </span>servers<span class="_ _16"> </span>communicate<span class="_"> </span>using</div><div class="t m5 x1d h26 y7a99 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>mix<span class="_"> </span>of<span class="_"> </span><span class="ffa">sockets<span class="_"> </span>interface<span class="_"> </span></span>functions<span class="_"> </span>and<span class="_"> </span>Unix<span class="_"> </span>I/O<span class="_"> </span>functions<span class="_ _3"></span>.<span class="_"> </span>(W<span class="_ _1"></span>e<span class="_"> </span>will<span class="_"> </span>describe<span class="_"> </span>the</div><div class="t m5 x1d h26 y7a9a ff7 fs19 fc1 sc0 ls0 ws0">sockets<span class="_ _6"> </span>interface<span class="_ _13"> </span>in<span class="_ _6"> </span>Section<span class="_ _13"> </span>11.4.)<span class="_ _6"> </span>T<span class="_ _0"></span>he<span class="_ _6"> </span>sockets<span class="_ _13"> </span>functions<span class="_ _6"> </span>are<span class="_ _13"> </span>typically<span class="_ _6"> </span>implemented</div><div class="t m5 x1d h26 y7a9b ff7 fs19 fc1 sc0 ls0 ws0">as<span class="_"> </span>system<span class="_ _13"> </span>calls<span class="_"> </span>that<span class="_"> </span>trap<span class="_ _13"> </span>into<span class="_"> </span>the<span class="_ _13"> </span>kernel<span class="_"> </span>and<span class="_"> </span>call<span class="_ _13"> </span>various<span class="_"> </span>kernel-mode<span class="_"> </span>functions<span class="_ _13"> </span>in</div><div class="t m5 x1d h26 y7a9c ff7 fs19 fc1 sc0 ls0 ws0">TCP/IP<span class="_ _4"></span>.</div><div class="t m5 x29 h26 y7a9d ff7 fs19 fc1 sc0 ls0 ws0">TCP/IP<span class="_ _11"> </span>is<span class="_ _16"> </span>actually<span class="_ _11"> </span>a<span class="_ _11"> </span>family<span class="_ _11"> </span>of<span class="_ _16"> </span>protocols<span class="_ _1"></span>,<span class="_ _11"> </span>each<span class="_ _16"> </span>of<span class="_ _11"> </span>which<span class="_ _11"> </span>contributes<span class="_ _16"> </span>different</div><div class="t m5 x1d h26 y7a9e ff7 fs19 fc1 sc0 ls0 ws0">capabilities<span class="_ _1"></span>.<span class="_ _14"> </span>F<span class="_ _1"></span>or<span class="_ _15"> </span>example<span class="_ _0"></span>,<span class="_ _15"> </span>IP<span class="_ _15"> </span>provides<span class="_ _14"> </span>the<span class="_ _15"> </span>basic<span class="_ _14"> </span>naming<span class="_ _15"> </span>scheme<span class="_ _14"> </span>and<span class="_ _15"> </span>a<span class="_ _14"> </span>delivery</div><div class="t m5 x1d h26 y7a9f ff7 fs19 fc1 sc0 ls0 ws0">mechanism<span class="_ _13"> </span>that<span class="_"> </span>can<span class="_ _13"> </span>send<span class="_"> </span>packets<span class="_ _3"></span>,<span class="_"> </span>known<span class="_ _13"> </span>as<span class="_"> </span><span class="ffa">datagrams</span>,<span class="_"> </span>from<span class="_ _13"> </span>one<span class="_ _13"> </span>Internet<span class="_"> </span>host<span class="_ _13"> </span>to</div><div class="t m5 x1d h26 y7aa0 ff7 fs19 fc1 sc0 ls0 ws0">any<span class="_ _13"> </span>other<span class="_ _13"> </span>host.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>IP<span class="_ _13"> </span>mechanism<span class="_ _13"> </span>is<span class="_ _13"> </span>unreliable<span class="_ _13"> </span>in<span class="_ _13"> </span>the<span class="_ _13"> </span>sense<span class="_ _13"> </span>that<span class="_ _13"> </span>it<span class="_ _13"> </span>makes<span class="_ _13"> </span>no<span class="_ _13"> </span>effort</div><div class="t m5 x1d h26 y7aa1 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _16"> </span>recover<span class="_ _11"> </span>if<span class="_ _16"> </span>datagrams<span class="_ _16"> </span>are<span class="_ _16"> </span>lost<span class="_ _11"> </span>or<span class="_ _16"> </span>duplicated<span class="_ _16"> </span>in<span class="_ _16"> </span>the<span class="_ _11"> </span>network.<span class="_ _16"> </span>UDP<span class="_ _16"> </span>(Unreliable</div><div class="t m5 x1d h26 y7aa2 ff7 fs19 fc1 sc0 ls0 ws0">Datagram<span class="_ _21"> </span>Protocol)<span class="_ _21"> </span>extends<span class="_ _f"> </span>IP<span class="_ _21"> </span>slightly<span class="_ _3"></span>,<span class="_ _e"> </span>so<span class="_ _15"> </span>that<span class="_ _f"> </span>datagrams<span class="_ _21"> </span>can<span class="_ _f"> </span>be<span class="_ _21"> </span>transferred</div><div class="t m5 x1d h26 y7aa3 ff7 fs19 fc1 sc0 ls0 ws0">from<span class="_"> </span>process<span class="_"> </span>to<span class="_"> </span>process<span class="_ _1"></span>,<span class="_"> </span>rather<span class="_"> </span>than<span class="_"> </span>host<span class="_"> </span>to<span class="_"> </span>host.<span class="_"> </span>TCP<span class="_"> </span>is<span class="_"> </span>a<span class="_"> </span>complex<span class="_"> </span>protocol<span class="_"> </span>that</div><div class="t m5 x1d h26 y7aa4 ff7 fs19 fc1 sc0 ls0 ws0">builds<span class="_ _16"> </span>on<span class="_ _16"> </span>IP<span class="_ _16"> </span>to<span class="_ _16"> </span>provide<span class="_ _16"> </span>reliable<span class="_ _16"> </span>full<span class="_ _16"> </span>duplex<span class="_ _16"> </span>(bidirectional)<span class="_ _16"> </span><span class="ffa">connections<span class="_ _14"> </span></span>between</div><div class="t m5 x1d h26 y7aa5 ff7 fs19 fc1 sc0 ls0 ws0">processes<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _3"></span>o<span class="_"> </span>simplify<span class="_"> </span>our<span class="_ _11"> </span>discussion,<span class="_"> </span>we<span class="_"> </span>will<span class="_ _11"> </span>treat<span class="_"> </span>TCP/IP<span class="_"> </span>as<span class="_ _11"> </span>a<span class="_"> </span>single<span class="_"> </span>monolithic</div><div class="t m5 x1d h26 y7aa6 ff7 fs19 fc1 sc0 ls0 ws0">protocol.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_"> </span>will<span class="_ _11"> </span>not<span class="_"> </span>discuss<span class="_"> </span>its<span class="_"> </span>inner<span class="_ _11"> </span>workings<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>we<span class="_"> </span>will<span class="_ _11"> </span>only<span class="_"> </span>discuss<span class="_"> </span>some<span class="_"> </span>of</div><div class="t m5 x1d h26 y7aa7 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _16"> </span>basic<span class="_ _11"> </span>capabilities<span class="_ _16"> </span>that<span class="_ _16"> </span>TCP<span class="_ _16"> </span>and<span class="_ _11"> </span>IP<span class="_ _16"> </span>provide<span class="_ _16"> </span>to<span class="_ _16"> </span>application<span class="_ _16"> </span>programs<span class="_ _3"></span>.<span class="_ _16"> </span>W<span class="_ _3"></span>e<span class="_ _16"> </span>will</div><div class="t m5 x1d h26 y7aa8 ff7 fs19 fc1 sc0 ls0 ws0">not<span class="_"> </span>discuss<span class="_"> </span>UDP<span class="_ _4"></span>.</div><div class="t m5 x29 h26 y7aa9 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>rom<span class="_ _13"> </span>a<span class="_ _6"> </span>programmer’s<span class="_ _13"> </span>perspective<span class="_ _1"></span>,<span class="_ _13"> </span>we<span class="_ _6"> </span>can<span class="_ _13"> </span>think<span class="_ _6"> </span>of<span class="_ _13"> </span>the<span class="_ _6"> </span>Internet<span class="_ _13"> </span>as<span class="_ _6"> </span>a<span class="_ _13"> </span>worldwide</div><div class="t m5 x1d h26 y7aaa ff7 fs19 fc1 sc0 ls0 ws0">collection<span class="_"> </span>of<span class="_"> </span>hosts<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>properties:</div><div class="t m5 x75 h3d y77d ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y77e ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>set<span class="_"> </span>of<span class="_"> </span>hosts<span class="_"> </span>is<span class="_"> </span>mapped<span class="_"> </span>to<span class="_"> </span>a<span class="_"> </span>set<span class="_"> </span>of<span class="_"> </span>32-bit<span class="_"> </span><span class="ffa">IP<span class="_"> </span>addresses<span class="_ _1"></span>.</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
