<div id="pf69" class="pf w2 h11" data-page-no="69"><div class="pc pc69 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg69.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">104<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x28 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">Alternative<span class="_ _11"> </span>representations<span class="_ _11"> </span>of<span class="_ _11"> </span>signed<span class="_ _16"> </span>numbers</span></div><div class="t m5 x28 h2b y2d0 ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>here<span class="_"> </span>are<span class="_"> </span>two<span class="_"> </span>other<span class="_"> </span>standard<span class="_"> </span>representations<span class="_"> </span>for<span class="_"> </span>signed<span class="_"> </span>numbers:</div><div class="t m5 x56 h2b ye5a ffa fs1e fc2 sc0 ls0 ws0">Ones’<span class="_ _11"> </span>complement.<span class="_ _24"> </span><span class="ff7">T<span class="_ _1"></span>his<span class="_ _11"> </span>is<span class="_ _11"> </span>the<span class="_ _11"> </span>same<span class="_ _11"> </span>as<span class="_ _11"> </span>two’s<span class="_ _11"> </span>complement,<span class="_ _11"> </span>except<span class="_ _11"> </span>that<span class="_ _11"> </span>the<span class="_ _11"> </span>most<span class="_ _11"> </span>signiﬁcant<span class="_ _11"> </span>bit<span class="_ _11"> </span>has</span></div><div class="t m5 x1a4 h4a ya78 ff7 fs1e fc2 sc0 ls0 ws0">weight<span class="_"> </span><span class="ff12">−<span class="ff11">(</span></span>2</div><div class="t m5 xcf h5e ye5b ff11 fs2c fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 x23 h4a ye5c ff12 fs1e fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _1"></span><span class="ff11">)<span class="_ _10"> </span><span class="ff7">rather<span class="_"> </span>than<span class="_"> </span><span class="ff12">−</span>2</span></span></span></div><div class="t m5 x125 h5e ye5b ff11 fs2c fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 x136 h2b ye5c ff7 fs1e fc2 sc0 ls0 ws0">:</div><div class="t m5 x50 h53 ye5d ffa fs1e fc2 sc0 ls0 ws0">B2O</div><div class="t m5 xab h54 ye5e ff11 fs2c fc2 sc0 ls0 ws0">w</div><div class="t m5 xdc h4a ye5f ff11 fs1e fc2 sc0 ls0 ws0">(<span class="_ _5"></span><span class="ff12"><span class="_ _41"></span><span class="ff11 ls6d">x)</span></span></div><div class="t m5 x13b h49 ye60 ff11 fs1e fc2 sc0 ls0 ws0">.</div><div class="t m5 xba h4a ye61 ff12 fs1e fc2 sc0 ls0 ws0">=</div><div class="t m5 x136 h4a ye5f ff12 fs1e fc2 sc0 ls0 ws0">−<span class="ff11">x</span></div><div class="t m5 x18 h5e ye5e ff11 fs2c fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 x119 h2b ye62 ff11 fs1e fc2 sc0 ls0 ws0">(<span class="ff7">2</span></div><div class="t m5 x16f h5e ye63 ff11 fs2c fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 xd8 h4a ye62 ff12 fs1e fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _1"></span><span class="ff11">)<span class="_ _10"> </span><span class="ff12">+</span></span></span></div><div class="t m5 x170 h5e ye64 ff11 fs2c fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">2</span></span></div><div class="t m5 x170 h5f ye65 ff1e fs1e fc2 sc0 ls0 ws0"></div><div class="t m5 x1ad h5e ye66 ff11 fs2c fc2 sc0 ls0 ws0">i<span class="_ _2"></span><span class="ff12">=<span class="ff7">0</span></span></div><div class="t m5 x85 h49 ye62 ff11 fs1e fc2 sc0 ls0 ws0">x</div><div class="t m5 xda h54 ye5e ff11 fs2c fc2 sc0 ls0 ws0">i</div><div class="t m5 x2b h2b ye62 ff7 fs1e fc2 sc0 ls0 ws0">2</div><div class="t m5 x53 h54 ye63 ff11 fs2c fc2 sc0 ls0 ws0">i</div><div class="t m5 x56 h2b ye67 ffa fs1e fc2 sc0 ls0 ws0">Sign<span class="_ _16"> </span>magnitude.<span class="_ _15"> </span><span class="ff7">T<span class="_ _1"></span>he<span class="_ _14"> </span>most<span class="_ _16"> </span>signiﬁcant<span class="_ _14"> </span>bit<span class="_ _16"> </span>is<span class="_ _14"> </span>a<span class="_ _16"> </span>sign<span class="_ _14"> </span>bit<span class="_ _16"> </span>that<span class="_ _14"> </span>determines<span class="_ _16"> </span>whether<span class="_ _14"> </span>the<span class="_ _16"> </span>remaining<span class="_ _14"> </span>bits</span></div><div class="t m5 x1a4 h2b ye68 ff7 fs1e fc2 sc0 ls0 ws0">should<span class="_"> </span>be<span class="_"> </span>given<span class="_"> </span>negative<span class="_"> </span>or<span class="_"> </span>positive<span class="_"> </span>weight:</div><div class="t m5 x183 h53 ye69 ffa fs1e fc2 sc0 ls0 ws0">B2S</div><div class="t m5 x116 h54 ye6a ff11 fs2c fc2 sc0 ls0 ws0">w</div><div class="t m5 x9b h4a ye6b ff11 fs1e fc2 sc0 ls0 ws0">(<span class="_ _5"></span><span class="ff12"><span class="_ _41"></span><span class="ff11 ls6d">x)</span></span></div><div class="t m5 xd9 h49 ye6c ff11 fs1e fc2 sc0 ls0 ws0">.</div><div class="t m5 x9f h4a ye6d ff12 fs1e fc2 sc0 ls0 ws0">=</div><div class="t m5 x18 h4a ye6b ff11 fs1e fc2 sc0 ls0 ws0">(<span class="ff12">−<span class="ff7">1<span class="_ _1"></span><span class="ff11">)</span></span></span></div><div class="t m5 x187 h54 ye6e ff11 fs2c fc2 sc0 ls0 ws0">x</div><div class="t m5 x138 h60 ye6f ff11 fs34 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 x1ae h49 ye70 ff11 fs1e fc2 sc0 ls0 ws0">.</div><div class="t m5 xbf h5f ye71 ff1e fs1e fc2 sc0 ls0 ws0"></div><div class="t m5 x120 h5e ye72 ff11 fs2c fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">2</span></span></div><div class="t m5 x19d h5f ye73 ff1e fs1e fc2 sc0 ls0 ws0"></div><div class="t m5 x82 h5e ye74 ff11 fs2c fc2 sc0 ls0 ws0">i<span class="_ _2"></span><span class="ff12">=<span class="ff7">0</span></span></div><div class="t m5 xbd h49 ye6b ff11 fs1e fc2 sc0 ls0 ws0">x</div><div class="t m5 x170 h54 ye6a ff11 fs2c fc2 sc0 ls0 ws0">i</div><div class="t m5 xf9 h2b ye6b ff7 fs1e fc2 sc0 ls0 ws0">2</div><div class="t m5 xe8 h54 ye6e ff11 fs2c fc2 sc0 ls0 ws0">i</div><div class="t m5 x6a h5f ye75 ff1e fs1e fc2 sc0 ls0 ws0"></div><div class="t m5 x28 h2b ye76 ff7 fs1e fc2 sc0 ls0 ws0">Both<span class="_"> </span>of<span class="_"> </span>these<span class="_ _11"> </span>representations<span class="_"> </span>have<span class="_"> </span>the<span class="_ _11"> </span>curious<span class="_"> </span>property<span class="_"> </span>that<span class="_ _11"> </span>there<span class="_"> </span>are<span class="_"> </span>two<span class="_ _10"> </span>different<span class="_ _11"> </span>encodings<span class="_"> </span>of<span class="_"> </span>the</div><div class="t m5 x28 h2b ye77 ff7 fs1e fc2 sc0 ls0 ws0">number<span class="_ _11"> </span>0.<span class="_ _11"> </span>F<span class="_ _1"></span>or<span class="_ _11"> </span>both<span class="_ _11"> </span>representations<span class="_ _1"></span>,<span class="_ _16"> </span>[00</div><div class="t m5 xe7 h49 ye78 ff11 fs1e fc2 sc0 ls6e ws0">...</div><div class="t m5 xec h4a ye77 ff7 fs1e fc2 sc0 ls0 ws0">0]<span class="_"> </span>is<span class="_"> </span>interpreted<span class="_ _16"> </span>as<span class="_ _10"> </span><span class="ff12">+</span><span class="ls6f">0.<span class="_ _11"> </span>The<span class="_"> </span>value<span class="_ _11"> </span></span><span class="ff12">−</span>0<span class="_ _11"> </span>can<span class="_ _11"> </span>be<span class="_ _11"> </span>represented</div><div class="t m5 x28 h2b ye79 ff7 fs1e fc2 sc0 ls0 ws0">in<span class="_ _10"> </span>sign-magnitude<span class="_ _11"> </span>form<span class="_ _11"> </span>as<span class="_ _11"> </span>[10</div><div class="t m5 x4d h49 ye7a ff11 fs1e fc2 sc0 ls6e ws0">...</div><div class="t m5 x7a h2b ye79 ff7 fs1e fc2 sc0 ls0 ws0">0]<span class="_"> </span>and<span class="_"> </span>in<span class="_ _11"> </span>ones’<span class="_ _11"> </span>complement<span class="_ _10"> </span>as<span class="_ _11"> </span>[11</div><div class="t m5 x1a3 h49 ye7a ff11 fs1e fc2 sc0 ls6e ws0">...</div><div class="t m5 xda h2b ye79 ff7 fs1e fc2 sc0 ls0 ws0">1]<span class="_ _1"></span>.<span class="_ _11"> </span>Although<span class="_ _10"> </span>machines<span class="_ _11"> </span>based</div><div class="t m5 x28 h2b ye7b ff7 fs1e fc2 sc0 ls0 ws0">on<span class="_ _16"> </span>ones’-complement<span class="_ _16"> </span>representations<span class="_ _14"> </span>were<span class="_ _16"> </span>built<span class="_ _14"> </span>in<span class="_ _16"> </span>the<span class="_ _16"> </span>past,<span class="_ _15"> </span>almost<span class="_ _16"> </span>all<span class="_ _16"> </span>modern<span class="_ _14"> </span>machines<span class="_ _16"> </span>use<span class="_ _14"> </span>two’s</div><div class="t m5 x28 h2b ye7c ff7 fs1e fc2 sc0 ls0 ws0">complement.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_"> </span>will<span class="_"> </span>see<span class="_"> </span>that<span class="_"> </span>sign-magnitude<span class="_"> </span>encoding<span class="_"> </span>is<span class="_"> </span>used<span class="_"> </span>with<span class="_"> </span>ﬂoating-point<span class="_"> </span>numbers<span class="_ _1"></span>.</div><div class="t m5 x57 h2b ye7d ff7 fs1e fc2 sc0 ls0 ws0">Note<span class="_"> </span>the<span class="_ _13"> </span>different<span class="_"> </span>position<span class="_ _13"> </span>of<span class="_"> </span>apostrophes:<span class="_ _13"> </span><span class="ffa">two’<span class="_ _3"></span>s<span class="_"> </span><span class="ff7">complement<span class="_"> </span>versus<span class="_ _13"> </span></span>ones’<span class="_"> </span><span class="ff7">complement.<span class="_"> </span>T<span class="_ _3"></span>he<span class="_"> </span>term</span></span></div><div class="t m5 x28 h2b ye7e ff7 fs1e fc2 sc0 ls0 ws0">“two’s<span class="_ _11"> </span>complement”<span class="_ _16"> </span>arises<span class="_ _16"> </span>from<span class="_ _16"> </span>the<span class="_ _16"> </span>fact<span class="_ _16"> </span>that<span class="_ _16"> </span>for<span class="_ _16"> </span>nonnegative<span class="_ _16"> </span><span class="ff11">x<span class="_ _14"> </span></span>we<span class="_ _16"> </span>compute<span class="_ _16"> </span>a<span class="_ _16"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_ _16"> </span>representation</div><div class="t m5 x28 h4a ye7f ff7 fs1e fc2 sc0 ls0 ws0">of<span class="_ _11"> </span><span class="ff12">−<span class="ff11">x<span class="_ _15"> </span></span></span>as<span class="_ _11"> </span>2</div><div class="t m5 x35 h54 ye80 ff11 fs2c fc2 sc0 ls0 ws0">w</div><div class="t m5 xd1 h4a ye81 ff12 fs1e fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff11">x<span class="_ _15"> </span><span class="ff7">(a<span class="_ _11"> </span>single<span class="_ _16"> </span>two<span class="_ _1"></span>.)<span class="_ _16"> </span>T<span class="_ _1"></span>he<span class="_ _16"> </span>term<span class="_ _11"> </span>“ones’<span class="_ _16"> </span>complement”<span class="_ _11"> </span>comes<span class="_ _16"> </span>from<span class="_ _11"> </span>the<span class="_ _16"> </span>property<span class="_ _11"> </span>that<span class="_ _16"> </span>we<span class="_ _16"> </span>can</span></span></div><div class="t m5 x28 h4a ye82 ff7 fs1e fc2 sc0 ls0 ws0">compute<span class="_"> </span><span class="ff12">−<span class="ff11">x<span class="_"> </span></span></span>in<span class="_"> </span>this<span class="_"> </span>notation<span class="_"> </span>as<span class="_"> </span>[111</div><div class="t m5 x1af h49 ye83 ff11 fs1e fc2 sc0 ls6e ws0">...</div><div class="t m5 xa5 h4a ye82 ff7 fs1e fc2 sc0 ls0 ws0">1]<span class="_ _6"> </span><span class="ff12">−<span class="_ _13"> </span><span class="ff11">x<span class="_"> </span></span></span>(multiple<span class="_"> </span>ones).</div><div class="t m5 x1d h26 ye84 ff7 fs19 fc2 sc0 ls0 ws0">delimiting<span class="_ _13"> </span>the<span class="_ _13"> </span>ranges<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>different<span class="_ _13"> </span>integer<span class="_ _6"> </span>data<span class="_ _13"> </span>types<span class="_ _13"> </span>for<span class="_ _13"> </span>the<span class="_ _13"> </span>particular<span class="_ _13"> </span>machine</div><div class="t m5 x1d h26 ye85 ff7 fs19 fc2 sc0 ls0 ws0">on<span class="_ _13"> </span>which<span class="_ _13"> </span>the<span class="_ _13"> </span>compiler<span class="_ _13"> </span>is<span class="_"> </span>running<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _3"></span>or<span class="_ _13"> </span>example,<span class="_ _13"> </span>it<span class="_ _13"> </span>deﬁnes<span class="_ _13"> </span>constants<span class="_ _13"> </span><span class="ffd">INT_MAX</span>,<span class="_"> </span><span class="ffd">INT_</span></div><div class="t m5 x1d h26 ye86 ffd fs19 fc2 sc0 ls0 ws0">MIN<span class="ff7">,<span class="_ _16"> </span>and<span class="_ _16"> </span></span>UINT_MAX<span class="_ _11"> </span><span class="ff7">describing<span class="_ _16"> </span>the<span class="_ _16"> </span>ranges<span class="_ _16"> </span>of<span class="_ _16"> </span>signed<span class="_ _11"> </span>and<span class="_ _16"> </span>unsigned<span class="_ _16"> </span>integers<span class="_ _1"></span>.<span class="_ _16"> </span>F<span class="_ _1"></span>or<span class="_ _16"> </span>a</span></div><div class="t m5 x1d h26 ye87 ff7 fs19 fc2 sc0 ls0 ws0">two’s-complement<span class="_ _14"> </span>machine<span class="_ _15"> </span>in<span class="_ _15"> </span>which<span class="_ _15"> </span>data<span class="_ _14"> </span>type<span class="_ _15"> </span><span class="ffd">int<span class="_ _15"> </span></span>has<span class="_ _15"> </span><span class="ff11">w<span class="_ _21"> </span></span>bits<span class="_ _1"></span>,<span class="_ _21"> </span>these<span class="_ _15"> </span>constants</div><div class="t m5 x1d h26 ye88 ff7 fs19 fc2 sc0 ls0 ws0">correspond<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>values<span class="_"> </span>of<span class="_"> </span><span class="ffa">TMax</span></div><div class="t m5 x151 h50 ye89 ff11 fs25 fc2 sc0 ls0 ws0">w</div><div class="t m5 x138 h26 ye8a ff7 fs19 fc2 sc0 ls0 ws0">,<span class="_"> </span><span class="ffa">TMin</span></div><div class="t m5 x13c h50 ye89 ff11 fs25 fc2 sc0 ls0 ws0">w</div><div class="t m5 x12d h26 ye8a ff7 fs19 fc2 sc0 ls0 ws0">,<span class="_"> </span>and<span class="_"> </span><span class="ffa">UMax</span></div><div class="t m5 x11b h50 ye89 ff11 fs25 fc2 sc0 ls0 ws0">w</div><div class="t m5 x8d h26 ye8a ff7 fs19 fc2 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 ye8b ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _11"> </span>J<span class="_ _3"></span>ava<span class="_ _11"> </span>standard<span class="_"> </span>is<span class="_ _11"> </span>quite<span class="_"> </span>speciﬁc<span class="_ _11"> </span>about<span class="_"> </span>integer<span class="_ _11"> </span>data<span class="_ _11"> </span>type<span class="_"> </span>ranges<span class="_ _11"> </span>and<span class="_"> </span>repre-</div><div class="t m5 x1d h26 ye8c ff7 fs19 fc2 sc0 ls0 ws0">sentations<span class="_ _1"></span>.<span class="_ _16"> </span>It<span class="_ _11"> </span>requires<span class="_ _16"> </span>a<span class="_ _16"> </span>two’s-complement<span class="_ _11"> </span>representation<span class="_ _16"> </span>with<span class="_ _11"> </span>the<span class="_ _16"> </span>exact<span class="_ _16"> </span>ranges</div><div class="t m5 x1d h26 ye8d ff7 fs19 fc2 sc0 ls0 ws0">shown<span class="_"> </span>for<span class="_ _13"> </span>the<span class="_"> </span>64-bit<span class="_"> </span>case<span class="_ _13"> </span>(Figure<span class="_ _13"> </span>2.10).<span class="_"> </span>In<span class="_"> </span>J<span class="_ _7"></span>ava,<span class="_"> </span>the<span class="_"> </span>single-byte<span class="_"> </span>data<span class="_ _13"> </span>type<span class="_"> </span>is<span class="_"> </span>called</div><div class="t m5 x1d h26 ye8e ffd fs19 fc2 sc0 ls0 ws0">byte<span class="_ _16"> </span><span class="ff7">instead<span class="_ _14"> </span>of<span class="_ _16"> </span></span>char<span class="ff7">.<span class="_ _14"> </span>T<span class="_ _1"></span>hese<span class="_ _14"> </span>detailed<span class="_ _16"> </span>requirements<span class="_ _14"> </span>are<span class="_ _16"> </span>intended<span class="_ _14"> </span>to<span class="_ _16"> </span>enable<span class="_ _16"> </span>J<span class="_ _1"></span>ava</span></div><div class="t m5 x1d h26 ye8f ff7 fs19 fc2 sc0 ls0 ws0">programs<span class="_ _16"> </span>to<span class="_ _11"> </span>behave<span class="_ _16"> </span>identically<span class="_ _16"> </span>regardless<span class="_ _11"> </span>of<span class="_ _16"> </span>the<span class="_ _11"> </span>machines<span class="_ _16"> </span>or<span class="_ _16"> </span>operating<span class="_ _11"> </span>systems</div><div class="t m5 x1d h26 ye90 ff7 fs19 fc2 sc0 ls0 ws0">running<span class="_"> </span>them.</div><div class="t m5 x29 h26 ye91 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _7"></span>o<span class="_ _11"> </span>get<span class="_ _11"> </span>a<span class="_ _11"> </span>better<span class="_ _11"> </span>understanding<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>two’s-complement<span class="_"> </span>representation,<span class="_ _11"> </span>con-</div><div class="t m5 x1d h26 ye92 ff7 fs19 fc2 sc0 ls0 ws0">sider<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>code<span class="_"> </span>example:</div><div class="t m5 x1f h2d ye93 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _20"> </span><span class="ffd fs1e fc2">short<span class="_ _e"> </span>x<span class="_ _1f"> </span>=<span class="_ _1f"> </span>12345;</span></div><div class="t m5 x1f h2d y832 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _20"> </span><span class="ffd fs1e fc2">short<span class="_ _e"> </span>mx<span class="_ _1f"> </span>=<span class="_ _1f"> </span>-x;</span></div><div class="t m5 x1f h2e y8d6 ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x1f h2e ye94 ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x33 h2d y77e ffd fs1e fc2 sc0 ls0 ws0">show_bytes((byte_pointer)<span class="_ _e"> </span>&amp;x,<span class="_ _1f"> </span>sizeof(short));</div><div class="t m5 x1f h2d ye95 ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _20"> </span><span class="ffd fs1e fc2">show_bytes((byte_pointer)<span class="_ _e"> </span>&amp;mx,<span class="_ _1f"> </span>sizeof(short));</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
