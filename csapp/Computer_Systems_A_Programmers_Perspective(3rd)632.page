<div id="pf278" class="pf w2 h11" data-page-no="278"><div class="pc pc278 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg278.png"/><div class="t m5 x195 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>6.1<span class="_ _60"> </span>Storage<span class="_ _10"> </span>T<span class="_ _1"></span>echnologies<span class="_ _3e"> </span><span class="ffe fs1e">631</span></div><div class="t m5 x17 h26 y9c ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span>example<span class="_"> </span>illustrates<span class="_"> </span>some<span class="_"> </span>important<span class="_"> </span>points:</div><div class="t m5 x72 h3d y5458 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5459 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>time<span class="_"> </span>to<span class="_ _13"> </span>access<span class="_ _13"> </span>the<span class="_ _13"> </span>512<span class="_ _13"> </span>bytes<span class="_ _13"> </span>in<span class="_ _13"> </span>a<span class="_ _13"> </span>disk<span class="_ _13"> </span>sector<span class="_ _13"> </span>is<span class="_ _13"> </span>dominated<span class="_ _13"> </span>by<span class="_ _13"> </span>the<span class="_"> </span>seek<span class="_ _13"> </span>time</div><div class="t m5 x26 h26 y545a ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_ _11"> </span>the<span class="_ _11"> </span>rotational<span class="_ _11"> </span>latency<span class="_ _3"></span>.<span class="_ _11"> </span>Accessing<span class="_ _11"> </span>the<span class="_ _11"> </span>ﬁrst<span class="_ _11"> </span>byte<span class="_ _16"> </span>in<span class="_"> </span>the<span class="_ _16"> </span>sector<span class="_ _11"> </span>takes<span class="_ _11"> </span>a<span class="_ _11"> </span>long</div><div class="t m5 x26 h26 y545b ff7 fs19 fc1 sc0 ls0 ws0">time<span class="_ _1"></span>,<span class="_"> </span>but<span class="_"> </span>the<span class="_"> </span>remaining<span class="_"> </span>bytes<span class="_"> </span>are<span class="_"> </span>essentially<span class="_"> </span>free.</div><div class="t m5 x72 h3d y545c ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y545d ff7 fs19 fc1 sc0 ls0 ws0">Since<span class="_ _14"> </span>the<span class="_ _14"> </span>seek<span class="_ _14"> </span>time<span class="_ _14"> </span>and<span class="_ _14"> </span>rotational<span class="_ _14"> </span>latency<span class="_ _14"> </span>are<span class="_ _14"> </span>roughly<span class="_ _14"> </span>the<span class="_ _14"> </span>same<span class="_ _1"></span>,<span class="_ _15"> </span>twice<span class="_ _14"> </span>the</div><div class="t m5 x26 h26 y545e ff7 fs19 fc1 sc0 ls0 ws0">seek<span class="_"> </span>time<span class="_"> </span>is<span class="_"> </span>a<span class="_"> </span>simple<span class="_"> </span>and<span class="_"> </span>reasonable<span class="_"> </span>rule<span class="_"> </span>for<span class="_"> </span>estimating<span class="_"> </span>disk<span class="_"> </span>access<span class="_"> </span>time<span class="_ _1"></span>.</div><div class="t m5 x72 h3d y545f ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5460 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _11"> </span>access<span class="_ _11"> </span>time<span class="_ _11"> </span>for<span class="_"> </span>a<span class="_ _11"> </span>64-bit<span class="_ _11"> </span>word<span class="_ _11"> </span>stored<span class="_ _11"> </span>in<span class="_"> </span>SRAM<span class="_ _11"> </span>is<span class="_ _11"> </span>roughly<span class="_ _11"> </span>4<span class="_ _11"> </span>ns<span class="_ _1"></span>,<span class="_ _11"> </span>and<span class="_"> </span>60<span class="_ _11"> </span>ns</div><div class="t m5 x26 h26 y5461 ff7 fs19 fc1 sc0 ls0 ws0">for<span class="_"> </span>DRAM.<span class="_ _13"> </span>T<span class="_ _0"></span>hus<span class="_ _1"></span>,<span class="_"> </span>the<span class="_ _13"> </span>time<span class="_"> </span>to<span class="_ _13"> </span>read<span class="_"> </span>a<span class="_"> </span>512-byte<span class="_ _13"> </span>sector<span class="_ _1"></span>-size<span class="_"> </span>block<span class="_ _13"> </span>from<span class="_"> </span>memory</div><div class="t m5 x26 h26 y5462 ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _11"> </span>roughly<span class="_ _16"> </span>256<span class="_ _11"> </span>ns<span class="_ _16"> </span>for<span class="_ _11"> </span>SRAM<span class="_ _16"> </span>and<span class="_ _11"> </span>4,000<span class="_ _16"> </span>ns<span class="_ _11"> </span>for<span class="_ _16"> </span>DRAM.<span class="_ _11"> </span>The<span class="_ _11"> </span>disk<span class="_ _11"> </span>access<span class="_ _16"> </span>time<span class="_ _1"></span>,</div><div class="t m5 x26 h26 y5463 ff7 fs19 fc1 sc0 ls0 ws0">roughly<span class="_ _14"> </span>10<span class="_ _14"> </span>ms<span class="_ _1"></span>,<span class="_ _15"> </span>is<span class="_ _14"> </span>about<span class="_ _14"> </span>40,000<span class="_ _14"> </span>times<span class="_ _14"> </span>greater<span class="_ _14"> </span>than<span class="_ _14"> </span>SRAM,<span class="_ _15"> </span>and<span class="_ _14"> </span>about<span class="_ _14"> </span>2,500</div><div class="t m5 x26 h26 y5464 ff7 fs19 fc1 sc0 ls0 ws0">times<span class="_"> </span>greater<span class="_"> </span>than<span class="_"> </span>DRAM.</div><div class="t m5 x17 h47 y5465 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>6.3<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>697)</span></div><div class="t m5 x17 h26 y5466 ff7 fs19 fc1 sc0 ls0 ws0">Estimate<span class="_"> </span>the<span class="_"> </span>average<span class="_"> </span>time<span class="_"> </span>(in<span class="_"> </span>ms)<span class="_"> </span>to<span class="_"> </span>access<span class="_"> </span>a<span class="_"> </span>sector<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>disk:</div><div class="t m5 x17 h31 y5467 ff7 fs21 fc2 sc0 ls0 ws0">Parameter<span class="_ _1f5"> </span>V<span class="_ _7"></span>alue</div><div class="t m5 x17 h31 y5468 ff7 fs21 fc2 sc0 ls0 ws0">Rotational<span class="_"> </span>rate<span class="_ _18d"> </span>12,000<span class="_"> </span>RPM</div><div class="t m5 x17 h55 y5469 ff11 fs21 fc2 sc0 ls0 ws0">T</div><div class="t m5 x52 h33 y546a ff7 fs20 fc2 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 xe7 h31 y546b ff7 fs21 fc2 sc0 ls128 ws0">5m<span class="_ _4a"></span>s</div><div class="t m5 x17 h31 y546c ff7 fs21 fc2 sc0 ls0 ws0">A<span class="_ _3"></span>verage<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>sectors/track<span class="_ _26"> </span>300</div><div class="t m5 x17 h42 y546d ff6 fs29 fc6 sc0 ls0 ws0">Logical<span class="_ _11"> </span>Disk<span class="_ _16"> </span>Blocks</div><div class="t m5 x17 h26 y33ca ff7 fs19 fc1 sc0 ls0 ws0">As<span class="_"> </span>we<span class="_"> </span>have<span class="_"> </span>seen,<span class="_ _11"> </span>modern<span class="_"> </span>disks<span class="_"> </span>have<span class="_ _11"> </span>complex<span class="_"> </span>geometries<span class="_ _1"></span>,<span class="_ _11"> </span>with<span class="_"> </span>multiple<span class="_"> </span>surfaces</div><div class="t m5 x17 h26 y546e ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_ _15"> </span>different<span class="_ _15"> </span>recording<span class="_ _15"> </span>zones<span class="_ _21"> </span>on<span class="_ _15"> </span>those<span class="_ _15"> </span>surfaces<span class="_ _1"></span>.<span class="_ _21"> </span>T<span class="_ _3"></span>o<span class="_ _15"> </span>hide<span class="_ _15"> </span>this<span class="_ _15"> </span>complexity<span class="_ _15"> </span>from</div><div class="t m5 x17 h26 y546f ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>operating<span class="_ _16"> </span>system,<span class="_ _16"> </span>modern<span class="_ _16"> </span>disks<span class="_ _11"> </span>present<span class="_ _16"> </span>a<span class="_ _11"> </span>simpler<span class="_ _16"> </span>view<span class="_ _11"> </span>of<span class="_ _16"> </span>their<span class="_ _16"> </span>geometry<span class="_ _11"> </span>as</div><div class="t m5 x17 h46 y5470 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _15"> </span>sequence<span class="_ _15"> </span>of<span class="_ _21"> </span><span class="ff11">B<span class="_ _e"> </span></span>sector<span class="_ _3"></span>-size<span class="_ _15"> </span><span class="ffa">logical<span class="_ _21"> </span>blocks</span>,<span class="_ _21"> </span>numbered<span class="_ _15"> </span>0<span class="_ _2"></span><span class="ff11">,<span class="_ _10"> </span></span>1<span class="_ _3"></span><span class="ff11 ls231">,...,B<span class="_ _2"></span><span class="ff12 ls0">−<span class="_ _10"> </span><span class="ff7">1<span class="_ _1"></span>.<span class="_ _21"> </span>A<span class="_ _15"> </span>small</span></span></span></div><div class="t m5 x17 h26 y5471 ff7 fs19 fc1 sc0 ls0 ws0">hardware/ﬁrmware<span class="_ _6"> </span>device<span class="_ _6"> </span>in<span class="_ _6"> </span>the<span class="_ _6"> </span>disk<span class="_ _6"> </span>package<span class="_ _0"></span>,<span class="_ _6"> </span>called<span class="_ _13"> </span>the<span class="_ _a"> </span><span class="ffa">disk<span class="_ _6"> </span>controller<span class="_ _2"></span></span>,<span class="_ _13"> </span>maintains</div><div class="t m5 x17 h26 y5472 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>mapping<span class="_"> </span>between<span class="_"> </span>logical<span class="_"> </span>block<span class="_"> </span>numbers<span class="_"> </span>and<span class="_"> </span>actual<span class="_"> </span>(physical)<span class="_"> </span>disk<span class="_"> </span>sectors<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y5473 ff7 fs19 fc1 sc0 ls0 ws0">When<span class="_ _6"> </span>the<span class="_ _6"> </span>operating<span class="_ _13"> </span>system<span class="_ _6"> </span>wants<span class="_ _13"> </span>to<span class="_ _6"> </span>perform<span class="_ _13"> </span>an<span class="_ _6"> </span>I/O<span class="_ _13"> </span>operation<span class="_ _a"> </span>such<span class="_ _13"> </span>as<span class="_ _6"> </span>reading</div><div class="t m5 x17 h26 y5474 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>disk<span class="_"> </span>sector<span class="_ _13"> </span>into<span class="_"> </span>main<span class="_"> </span>memory<span class="_ _3"></span>,<span class="_"> </span>it<span class="_"> </span>sends<span class="_ _13"> </span>a<span class="_"> </span>command<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>disk<span class="_ _13"> </span>controller<span class="_"> </span>asking</div><div class="t m5 x17 h26 y5475 ff7 fs19 fc1 sc0 ls0 ws0">it<span class="_"> </span>to<span class="_"> </span>read<span class="_ _13"> </span>a<span class="_"> </span>particular<span class="_"> </span>logical<span class="_"> </span>block<span class="_"> </span>number<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _0"></span>irmware<span class="_"> </span>on<span class="_"> </span>the<span class="_ _13"> </span>controller<span class="_"> </span>performs</div><div class="t m5 x17 h26 y5476 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>fast<span class="_"> </span>table<span class="_"> </span>lookup<span class="_"> </span>that<span class="_ _11"> </span>translates<span class="_"> </span>the<span class="_"> </span>logical<span class="_"> </span>block<span class="_ _11"> </span>number<span class="_"> </span>into<span class="_"> </span>a<span class="_"> </span><span class="ffa">(surface,<span class="_"> </span>track,</span></div><div class="t m5 x17 h26 y5477 ffa fs19 fc1 sc0 ls0 ws0">sector)<span class="_ _a"> </span><span class="ff7">triple<span class="_ _13"> </span>that<span class="_"> </span>uniquely<span class="_ _13"> </span>identiﬁes<span class="_ _13"> </span>the<span class="_ _13"> </span>corresponding<span class="_ _13"> </span>physical<span class="_ _13"> </span>sector.<span class="_ _13"> </span>Hardware</span></div><div class="t m5 x17 h26 y5478 ff7 fs19 fc1 sc0 ls0 ws0">on<span class="_ _f"> </span>the<span class="_ _e"> </span>controller<span class="_ _f"> </span>interprets<span class="_ _e"> </span>this<span class="_ _f"> </span>triple<span class="_ _e"> </span>to<span class="_ _21"> </span>move<span class="_ _e"> </span>the<span class="_ _f"> </span>heads<span class="_ _e"> </span>to<span class="_ _f"> </span>the<span class="_ _e"> </span>appropriate</div><div class="t m5 x17 h26 y5479 ff7 fs19 fc1 sc0 ls0 ws0">cylinder<span class="_ _1"></span>,<span class="_ _14"> </span>waits<span class="_ _16"> </span>for<span class="_ _16"> </span>the<span class="_ _16"> </span>sector<span class="_ _16"> </span>to<span class="_ _16"> </span>pass<span class="_ _16"> </span>under<span class="_ _16"> </span>the<span class="_ _16"> </span>head,<span class="_ _16"> </span>gathers<span class="_ _16"> </span>up<span class="_ _16"> </span>the<span class="_ _16"> </span>bits<span class="_ _16"> </span>sensed</div><div class="t m5 x17 h26 y547a ff7 fs19 fc1 sc0 ls0 ws0">by<span class="_ _11"> </span>the<span class="_ _16"> </span>head<span class="_ _11"> </span>into<span class="_ _16"> </span>a<span class="_ _16"> </span>small<span class="_ _11"> </span>memory<span class="_ _16"> </span>buffer<span class="_ _11"> </span>on<span class="_ _16"> </span>the<span class="_ _11"> </span>controller,<span class="_ _16"> </span>and<span class="_ _11"> </span>copies<span class="_ _16"> </span>them<span class="_ _11"> </span>into</div><div class="t m5 x17 h26 y547b ff7 fs19 fc1 sc0 ls0 ws0">main<span class="_"> </span>memory<span class="_ _3"></span>.</div><div class="t m5 x17 h47 y3895 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>6.4<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>697)</span></div><div class="t m5 x17 h26 yeef ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_"> </span>tha<span class="lscd">ta1M<span class="_ _4a"></span>Bﬁ<span class="_ _49"></span>l<span class="_ _49"></span>e<span class="ls0">consisting<span class="_ _11"> </span>of<span class="_ _11"> </span>512-byte<span class="_ _11"> </span>logical<span class="_ _11"> </span>blocks<span class="_ _11"> </span>is<span class="_ _11"> </span>stored<span class="_ _11"> </span>on<span class="_ _11"> </span>a<span class="_ _11"> </span>disk</span></span></div><div class="t m5 x17 h26 yf74 ff7 fs19 fc1 sc0 ls0 ws0">drive<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>characteristics:</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
