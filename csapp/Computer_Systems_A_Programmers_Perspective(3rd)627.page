<div id="pf273" class="pf w2 h11" data-page-no="273"><div class="pc pc273 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg273.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">626<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x1d h3f y536b ff74 fs27 fc1 sc0 ls0 ws0">(<span class="ff76">a</span>) CPU pl<span class="ff76">a</span>ce<span class="ff76">s</span> <span class="ff76">a</span>ddre<span class="ff76">ss</span> </div><div class="t m10 xac hde y536b ff74 fs8f fc1 sc0 ls0 ws0">A </div><div class="t m5 x255 h3f y536b ff74 fs27 fc1 sc0 ls0 ws0">on the memory <span class="ff76">bus</span>. M<span class="ff76">a</span>in memory re<span class="ff76">a</span>d<span class="ff76">s</span> it <span class="ff76">a</span>nd w<span class="ff76">a</span>it<span class="ff76">s</span> for the d<span class="ff76">a</span>t<span class="ff76">a</span> word.</div><div class="t m5 xc2 h3f y536c ff74 fs27 fc1 sc0 ls0 ws0">Regi<span class="ff76">s</span>ter file</div><div class="t m5 x12f h3f y536d ff74 fs27 fc1 sc0 ls0 ws0">M<span class="ff76">a</span>in</div><div class="t m5 x1f8 h3f y536e ff74 fs27 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x140 h3f y536f ff74 fs27 fc1 sc0 ls0 ws0">B<span class="ff76">us</span> interf<span class="ff76">a</span>ce</div><div class="t m5 x87 h3f y5370 ff74 fs27 fc1 sc0 ls0 ws0">I/O</div><div class="t m5 x18 h3f y5371 ff76 fs27 fc1 sc0 ls0 ws0">b<span class="ff74">ridge</span></div><div class="t m5 xb7 h3f y5372 ff74 fs27 fc1 sc0 ls0 ws0">ALU</div><div class="t m10 x36 hde y5373 ff74 fs8f fc1 sc0 ls0 ws0">A</div><div class="t m5 x1a8 h65 y5374 ff74 fs38 fc1 sc0 ls0 ws0">y</div><div class="t m5 x16a h65 y5375 ff74 fs38 fc1 sc0 ls0 ws0">0</div><div class="t m5 x16a h65 y5376 ff74 fs38 fc1 sc0 ls0 ws0">A</div><div class="t m5 xf6 h40 y5377 ff75 fs28 fc1 sc0 ls0 ws0">%rax</div><div class="t m5 x1d h3f y5378 ff74 fs27 fc1 sc0 ls0 ws0">(<span class="ff76">b</span>) CPU pl<span class="ff76">a</span>ce<span class="ff76">s</span> d<span class="ff76">a</span>t<span class="ff76">a</span> word </div><div class="t m10 xdc hde y5378 ff74 fs8f fc1 sc0 ls0 ws0">y </div><div class="t m5 x116 h3f y5378 ff74 fs27 fc1 sc0 ls0 ws0">on the <span class="ff76">bus</span>. </div><div class="t m5 xc2 h3f y5379 ff74 fs27 fc1 sc0 ls0 ws0">Regi<span class="ff76">s</span>ter file</div><div class="t m5 x12f h3f y537a ff74 fs27 fc1 sc0 ls0 ws0">M<span class="ff76">a</span>in</div><div class="t m5 x1f8 h3f y537b ff74 fs27 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x140 h3f y537c ff74 fs27 fc1 sc0 ls0 ws0">B<span class="ff76">us</span> interf<span class="ff76">a</span>ce</div><div class="t m5 x87 h3f y537d ff74 fs27 fc1 sc0 ls0 ws0">I/O</div><div class="t m5 x18 h3f y537e ff76 fs27 fc1 sc0 ls0 ws0">b<span class="ff74">ridge</span></div><div class="t m5 xb7 h3f y537f ff74 fs27 fc1 sc0 ls0 ws0">ALU</div><div class="t m10 x36 hde y5380 ff74 fs8f fc1 sc0 ls0 ws0">y</div><div class="t m5 x1a8 h65 y5381 ff74 fs38 fc1 sc0 ls0 ws0">y</div><div class="t m5 x16a h65 y5382 ff74 fs38 fc1 sc0 ls0 ws0">0</div><div class="t m5 x16a h65 y5383 ff74 fs38 fc1 sc0 ls0 ws0">A</div><div class="t m5 xf6 h40 y5384 ff75 fs28 fc1 sc0 ls0 ws0">%rax</div><div class="t m5 x1d h3f y5385 ff74 fs27 fc1 sc0 ls0 ws0">(c) M<span class="ff76">a</span>in memory re<span class="ff76">a</span>d<span class="ff76">s</span> d<span class="ff76">a</span>t<span class="ff76">a</span> word </div><div class="t m10 x67 hde y5385 ff74 fs8f fc1 sc0 ls0 ws0">y </div><div class="t m5 x176 h3f y5385 ff74 fs27 fc1 sc0 ls0 ws0">from the <span class="ff76">bus</span> <span class="ff76">a</span>nd <span class="ff76">s</span>tore<span class="ff76">s</span> it <span class="ff76">a</span>t <span class="ff76">a</span>ddre<span class="ff76">ss</span> </div><div class="t m10 xb4 hde y5385 ff74 fs8f fc1 sc0 ls0 ws0">A</div><div class="t m5 x5f h3f y5385 ff74 fs27 fc1 sc0 ls0 ws0">.</div><div class="t m5 xc2 h3f y5386 ff74 fs27 fc1 sc0 ls0 ws0">Regi<span class="ff76">s</span>ter file</div><div class="t m5 x12f h3f y5387 ff74 fs27 fc1 sc0 ls0 ws0">M<span class="ff76">a</span>in</div><div class="t m5 x1f8 h3f y5388 ff74 fs27 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x140 h3f y5389 ff74 fs27 fc1 sc0 ls0 ws0">B<span class="ff76">us</span> interf<span class="ff76">a</span>ce</div><div class="t m5 x87 h3f y538a ff74 fs27 fc1 sc0 ls0 ws0">I/O</div><div class="t m5 x18 h3f y538b ff76 fs27 fc1 sc0 ls0 ws0">b<span class="ff74">ridge</span></div><div class="t m5 xb7 h3f y538c ff74 fs27 fc1 sc0 ls0 ws0">ALU</div><div class="t m5 x1a8 h65 y538d ff74 fs38 fc1 sc0 ls0 ws0">y</div><div class="t m5 x16a h65 y538e ff74 fs38 fc1 sc0 ls0 ws0">0</div><div class="t m5 x16a h65 y538f ff74 fs38 fc1 sc0 ls0 ws0">A</div><div class="t m5 x152 h65 y5390 ff74 fs38 fc1 sc0 ls0 ws0">y</div><div class="t m5 xf6 h40 y5391 ff75 fs28 fc1 sc0 ls0 ws0">%rax</div><div class="t m5 x1d h3a y5392 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.8<span class="_ _66"> </span><span class="fc1">Memor<span class="_ _2"></span>y<span class="_"> </span>write<span class="_"> </span>transaction<span class="_"> </span>for<span class="_"> </span>a<span class="_"> </span>store<span class="_"> </span>operation:<span class="_"> </span><span class="ffd fs19">movq<span class="_ _16"> </span>%rax,A</span>.</span></div><div class="t m5 x1d h42 y5393 ff6 fs29 fc6 sc0 ls0 ws0">Disk<span class="_ _11"> </span>Geometr<span class="_ _2"></span>y</div><div class="t m5 x1d h26 y7c1 ff7 fs19 fc1 sc0 ls0 ws0">Disks<span class="_ _13"> </span>are<span class="_ _13"> </span>constructed<span class="_"> </span>from<span class="_ _13"> </span><span class="ffa">platters</span>.<span class="_ _13"> </span>Each<span class="_ _13"> </span>platter<span class="_"> </span>consists<span class="_ _13"> </span>of<span class="_ _13"> </span>two<span class="_ _13"> </span>sides<span class="_ _1"></span>,<span class="_"> </span>or<span class="_ _13"> </span><span class="ffa">surfaces</span>,</div><div class="t m5 x1d h26 y7c2 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _13"> </span>are<span class="_"> </span>coated<span class="_ _13"> </span>with<span class="_"> </span>magnetic<span class="_ _13"> </span>recording<span class="_"> </span>material.<span class="_ _13"> </span>A<span class="_ _13"> </span>rotating<span class="_"> </span><span class="ffa">spindle<span class="_ _13"> </span></span>in<span class="_"> </span>the<span class="_ _13"> </span>center</div><div class="t m5 x1d h26 y7c3 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _13"> </span>the<span class="_ _6"> </span>platter<span class="_ _13"> </span>spins<span class="_ _6"> </span>the<span class="_ _13"> </span>platter<span class="_ _6"> </span>at<span class="_ _13"> </span>a<span class="_ _6"> </span>Ô¨Åxed<span class="_ _13"> </span><span class="ffa">rotational<span class="_ _13"> </span>rate</span>,<span class="_ _13"> </span>typically<span class="_ _6"> </span>between<span class="_ _13"> </span>5,400<span class="_ _6"> </span>and</div><div class="t m5 x1d h26 y7c4 ff7 fs19 fc1 sc0 ls0 ws0">15,000<span class="_ _13"> </span><span class="ffa">revolutions<span class="_"> </span>per<span class="_ _13"> </span>minute<span class="_"> </span>(RPM)<span class="_ _3"></span><span class="ff7">.<span class="_ _13"> </span>A<span class="_"> </span>disk<span class="_ _13"> </span>will<span class="_"> </span>typically<span class="_ _13"> </span>contain<span class="_ _13"> </span>one<span class="_"> </span>or<span class="_ _13"> </span>more<span class="_ _13"> </span>of</span></span></div><div class="t m5 x1d h26 y7c5 ff7 fs19 fc1 sc0 ls0 ws0">these<span class="_"> </span>platters<span class="_"> </span>encased<span class="_"> </span>in<span class="_"> </span>a<span class="_"> </span>sealed<span class="_"> </span>container.</div><div class="t m5 x29 h26 y7c6 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _e"> </span>6.9(a)<span class="_ _f"> </span>shows<span class="_ _f"> </span>the<span class="_ _e"> </span>geometry<span class="_ _f"> </span>of<span class="_ _f"> </span>a<span class="_ _e"> </span>typical<span class="_ _21"> </span>disk<span class="_ _e"> </span>surface<span class="_ _1"></span>.<span class="_ _e"> </span>Each<span class="_ _21"> </span>surface</div><div class="t m5 x1d h26 y7c7 ff7 fs19 fc1 sc0 ls0 ws0">consists<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>collection<span class="_"> </span>of<span class="_"> </span>concentric<span class="_ _11"> </span>rings<span class="_"> </span>called<span class="_"> </span><span class="ffa">tracks</span>.<span class="_"> </span>Each<span class="_"> </span>track<span class="_"> </span>is<span class="_"> </span>partitioned</div><div class="t m5 x1d h26 y7c8 ff7 fs19 fc1 sc0 ls0 ws0">into<span class="_ _14"> </span>a<span class="_ _15"> </span>collection<span class="_ _14"> </span>of<span class="_ _15"> </span><span class="ffa">sectors</span>.<span class="_ _15"> </span>Each<span class="_ _14"> </span>sector<span class="_ _15"> </span>contains<span class="_ _14"> </span>an<span class="_ _15"> </span>equal<span class="_ _15"> </span>number<span class="_ _14"> </span>of<span class="_ _15"> </span>data<span class="_ _14"> </span>bits</div><div class="t m5 x1d h26 y7c9 ff7 fs19 fc1 sc0 ls0 ws0">(typically<span class="_"> </span>512<span class="_ _11"> </span>bytes)<span class="_ _11"> </span>encoded<span class="_"> </span>in<span class="_ _11"> </span>the<span class="_ _11"> </span>magnetic<span class="_ _11"> </span>material<span class="_"> </span>on<span class="_ _11"> </span>the<span class="_ _11"> </span>sector.<span class="_"> </span>Sectors<span class="_ _11"> </span>are</div><div class="t m5 x1d h26 y7ca ff7 fs19 fc1 sc0 ls0 ws0">separated<span class="_ _11"> </span>by<span class="_ _11"> </span><span class="ffa">gaps<span class="_ _11"> </span></span>where<span class="_ _11"> </span>no<span class="_ _16"> </span>data<span class="_"> </span>bits<span class="_ _11"> </span>are<span class="_ _16"> </span>stored.<span class="_"> </span>Gaps<span class="_ _11"> </span>store<span class="_ _16"> </span>formatting<span class="_"> </span>bits<span class="_ _16"> </span>that</div><div class="t m5 x1d h26 y17d4 ff7 fs19 fc1 sc0 ls0 ws0">identify<span class="_"> </span>sectors<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
