<div id="pf1e9" class="pf w2 h11" data-page-no="1e9"><div class="pc pc1e9 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1e9.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">488<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 x172 h3f y4413 ff4e fs27 fc1 sc0 ls0 ws0">W</div><div class="t m5 x180 h3f y4414 ff4e fs27 fc1 sc0 ls0 ws0">F</div><div class="t m5 x1d h40 y4415 ff4a fs28 fc1 sc0 ls0 ws0">0x000: irmovq $10,%rdx</div><div class="t m5 x1d h40 y4416 ff4a fs28 fc1 sc0 ls0 ws0">0x00a: irmovq  $3,%rdx</div><div class="t m5 x1d h40 y4417 ff4a fs28 fc1 sc0 ls0 ws0">0x014: rrmovq %rdx,%rax</div><div class="t m5 x1d h40 y4418 ff4a fs28 fc1 sc0 ls0 ws0">0x016: halt</div><div class="t m5 x1d h40 y4419 ff4a fs28 fc1 sc0 ls0 ws0"># prog8</div><div class="c x1d y441a w10 hc1"><div class="t m5 x0 h40 y441b ff4a fs28 fc3 sc1 ls0 ws0"># prog8</div></div><div class="t m5 x13d h3f y4415 ff4e fs27 fc1 sc0 ls1f6 ws0">DE<span class="_ _1"></span>M<span class="_ _4"></span>W</div><div class="t m5 x13d h3f y441c ff4e fs27 fc1 sc0 ls1ca ws0">FDE<span class="_ _3"></span>M<span class="_ _8"></span>W</div><div class="t m5 x1c9 h3f y441d ff4e fs27 fc1 sc0 ls1c8 ws0">FDE<span class="_ _3"></span>M</div><div class="t m5 xff h3f y441e ff4e fs27 fc1 sc0 ls1c8 ws0">FDE<span class="_ _3"></span>M<span class="_ _8"></span>W</div><div class="t m5 xd4 h44 y441f ff4e fs2a fc6 sc0 ls1d7 ws0">12345</div><div class="t m5 xb5 h44 y4420 ff4e fs2a fc6 sc0 ls0 ws0">6</div><div class="t m5 x1e9 h44 y4421 ff4e fs2a fc6 sc0 ls0 ws0">7</div><div class="t m5 x104 h44 y4422 ff4e fs2a fc6 sc0 ls0 ws0">8</div><div class="t m5 xff h3f y4423 ff4e fs27 fc1 sc0 ls0 ws0">D</div><div class="t m5 xb0 h3f y4424 ff4e fs27 fc1 sc0 ls0 ws0">valA<span class="_ _1"></span>      e_valE = 3</div><div class="t m5 x41 h3f y4425 ff4e fs27 fc1 sc0 ls0 ws0">Cycle 4</div><div class="t m5 x113 h3f y4426 ff4e fs27 fc1 sc0 ls0 ws0">M_dstE = </div><div class="t m5 x199 h40 y4427 ff4a fs28 fc1 sc0 ls0 ws0">%rdx</div><div class="t m5 x113 h3f y4428 ff4e fs27 fc1 sc0 ls0 ws0">M_valE = 10</div><div class="t m5 x113 h40 y4429 ff4e fs27 fc1 sc0 ls0 ws0">srcA<span class="_ _1"></span> = <span class="ff4a fs28">%rdx</span></div><div class="t m5 xe8 h3f y442a ff4e fs27 fc1 sc0 ls0 ws0">M</div><div class="t m5 x113 h3f y442b ff4e fs27 fc1 sc0 ls0 ws0">E_dstE = </div><div class="t m5 x40 h40 y442c ff4a fs28 fc1 sc0 ls0 ws0">%rdx</div><div class="t m5 x113 h3f y442d ff4e fs27 fc1 sc0 ls0 ws0">e_valE   <span class="ff4c">    </span>0 + 3 = 3</div><div class="t m5 xff h3f y442e ff4e fs27 fc1 sc0 ls0 ws0">E</div><div class="t m5 x1d h3a y442f ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _16"> </span>4.59<span class="_ _66"> </span><span class="fc1">Demonstration<span class="_ _16"> </span>of<span class="_ _16"> </span>for<span class="_ _2"></span>warding<span class="_ _16"> </span>priority<span class="_ _3"></span>.<span class="_ _16"> </span><span class="ff6">In<span class="_ _16"> </span>cycle<span class="_ _16"> </span>4,<span class="_ _16"> </span>values<span class="_ _16"> </span>for<span class="_ _16"> </span><span class="ffd fs19">%rdx<span class="_ _16"> </span></span>are</span></span></div><div class="t m5 x1d h34 y4430 ff6 fs16 fc1 sc0 ls0 ws0">available<span class="_ _13"> </span>from<span class="_ _13"> </span>both<span class="_ _13"> </span>the<span class="_ _13"> </span>execute<span class="_ _13"> </span>and<span class="_ _13"> </span>memory<span class="_ _13"> </span>stages.<span class="_ _13"> </span>The<span class="_ _13"> </span>forwarding<span class="_ _13"> </span>logic<span class="_ _13"> </span>should<span class="_ _13"> </span>choose</div><div class="t m5 x1d h34 y4431 ff6 fs16 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>one<span class="_ _16"> </span>in<span class="_ _11"> </span>the<span class="_ _11"> </span>execute<span class="_ _16"> </span>stage,<span class="_ _11"> </span>since<span class="_ _11"> </span>it<span class="_ _16"> </span>represents<span class="_ _11"> </span>the<span class="_ _16"> </span>most<span class="_ _11"> </span>recently<span class="_ _11"> </span>generated<span class="_ _16"> </span>value<span class="_ _11"> </span>for</div><div class="t m5 x1d h34 y4432 ff6 fs16 fc1 sc0 ls0 ws0">this<span class="_ _10"> </span>register<span class="_ _1"></span>.</div><div class="t m5 x1d h47 y4433 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>4.32<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>526)</span></div><div class="t m5 x1d h26 y4434 ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_ _21"> </span>the<span class="_ _f"> </span>order<span class="_ _f"> </span>of<span class="_ _21"> </span>the<span class="_ _f"> </span>third<span class="_ _f"> </span>and<span class="_ _f"> </span>fourth<span class="_ _21"> </span>cases<span class="_ _f"> </span>(the<span class="_ _f"> </span>two<span class="_ _21"> </span>forwarding<span class="_ _f"> </span>sources</div><div class="t m5 x1d h26 y4435 ff7 fs19 fc1 sc0 ls0 ws0">from<span class="_"> </span>the<span class="_ _13"> </span>memory<span class="_"> </span>stage)<span class="_ _13"> </span>in<span class="_"> </span>the<span class="_"> </span>HCL<span class="_ _13"> </span>code<span class="_"> </span>for<span class="_"> </span><span class="ff6">d_valA<span class="_ _13"> </span></span>were<span class="_"> </span>reversed.<span class="_ _13"> </span>Describe<span class="_"> </span>the</div><div class="t m5 x1d h26 y4436 ff7 fs19 fc1 sc0 ls0 ws0">resulting<span class="_"> </span>behavior<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span><span class="ffd">rrmovq<span class="_ _10"> </span></span>instruction<span class="_"> </span>(line<span class="_"> </span>5)<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>program:</div><div class="t m5 x1f h2d y4437 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _20"> </span><span class="ffd fs1e fc2">irmovq<span class="_ _e"> </span>$5,<span class="_ _1f"> </span>%rdx</span></div><div class="t m5 x1f h2d y4438 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _20"> </span><span class="ffd fs1e fc2">irmovq<span class="_ _e"> </span>$0x100,%rsp</span></div><div class="t m5 x1f h2d y4439 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _20"> </span><span class="ffd fs1e fc2">rmmovq<span class="_ _e"> </span>%rdx,0(%rsp)</span></div><div class="t m5 x1f h2e y443a ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x33 h2d y443b ffd fs1e fc2 sc0 ls0 ws0">popq<span class="_ _e"> </span>%rsp</div><div class="t m5 x1f h2e y443c ff6 fs20 fc6 sc0 ls0 ws0">5</div><div class="t m5 x33 h2d y443d ffd fs1e fc2 sc0 ls0 ws0">rrmovq<span class="_ _e"> </span>%rsp,%rax</div><div class="t m5 x1d h47 y443e ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>4.33<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>527)</span></div><div class="t m5 x1d h26 y940 ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_ _11"> </span>the<span class="_ _16"> </span>order<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>Ô¨Åfth<span class="_ _16"> </span>and<span class="_ _11"> </span>sixth<span class="_ _16"> </span>cases<span class="_ _11"> </span>(the<span class="_ _16"> </span>two<span class="_ _16"> </span>forwarding<span class="_ _11"> </span>sources<span class="_ _16"> </span>from</div><div class="t m5 x1d h26 y443f ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>write-back<span class="_"> </span>stage)<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>HCL<span class="_"> </span>code<span class="_"> </span>for<span class="_"> </span><span class="ff6">d_valA<span class="_ _11"> </span></span>were<span class="_"> </span>reversed.<span class="_"> </span>Write<span class="_"> </span>a<span class="_"> </span>Y86-64</div><div class="t m5 x1d h26 y4440 ff7 fs19 fc1 sc0 ls0 ws0">program<span class="_"> </span>that<span class="_ _13"> </span>would<span class="_"> </span>be<span class="_ _13"> </span>executed<span class="_"> </span>incorrectly<span class="_ _3"></span>.<span class="_ _13"> </span>Describe<span class="_"> </span>how<span class="_"> </span>the<span class="_ _13"> </span>error<span class="_"> </span>would<span class="_ _13"> </span>occur</div><div class="t m5 x1d h26 y4441 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span>its<span class="_"> </span>effect<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>program<span class="_"> </span>behavior.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
