<div id="pf1a1" class="pf w2 h11" data-page-no="1a1"><div class="pc pc1a1 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1a1.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">416<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 xc2 h6a y39ed ff3d fs3b fc1 sc0 ls0 ws0">0</div><div class="t m5 x1d h6a y39ee ff3d fs3b fc1 sc0 ls0 ws0">Y</div><div class="t m5 x1d h6a y39ef ff3d fs3b fc1 sc0 ls0 ws0">X</div><div class="t m5 x112 h6a y39f0 ff3d fs3b fc1 sc0 ls0 ws0">X <span class="ff24"></span><span class="ls1b4"> Y</span></div><div class="t m5 x1c h6a y39f1 ff3d fs3b fc1 sc0 ls0 ws0">A</div><div class="t m5 x1c h6a y39f2 ff3d fs3b fc1 sc0 ls0 ws0">L</div><div class="t m5 xc2 h6a y39f3 ff3d fs3b fc1 sc0 ls0 ws0">U</div><div class="t m5 x4f h8e y39f4 ff3d fs54 fc1 sc0 ls0 ws0">A</div><div class="t m5 x4f h8e y39f5 ff3d fs54 fc1 sc0 ls0 ws0">B</div><div class="t m5 x9f h6a y39ed ff3d fs3b fc1 sc0 ls0 ws0">1</div><div class="t m5 x18d h6a y39ee ff3d fs3b fc1 sc0 ls0 ws0">Y</div><div class="t m5 x18d h6a y39ef ff3d fs3b fc1 sc0 ls0 ws0">X</div><div class="t m5 x187 h6a y39f0 ff3d fs3b fc1 sc0 ls0 ws0">X <span class="ff24"></span><span class="ls1b4"> Y</span></div><div class="t m5 x9e h6a y39f1 ff3d fs3b fc1 sc0 ls0 ws0">A</div><div class="t m5 x9e h6a y39f2 ff3d fs3b fc1 sc0 ls0 ws0">L</div><div class="t m5 x9f h6a y39f3 ff3d fs3b fc1 sc0 ls0 ws0">U</div><div class="t m5 x143 h8e y39f4 ff3d fs54 fc1 sc0 ls0 ws0">A</div><div class="t m5 x143 h8e y39f5 ff3d fs54 fc1 sc0 ls0 ws0">B</div><div class="t m5 x60 h6a y39ed ff3d fs3b fc1 sc0 ls0 ws0">2</div><div class="t m5 x13c h6a y39ee ff3d fs3b fc1 sc0 ls0 ws0">Y</div><div class="t m5 x13c h6a y39ef ff3d fs3b fc1 sc0 ls0 ws0">X</div><div class="t m5 x11b h6a y39f0 ff3d fs3b fc1 sc0 ls0 ws0">X </div><div class="t m5 xb6 h8f y39f6 ff3e fs55 fc1 sc0 ls0 ws0">&amp;<span class="ff3d fs56"> <span class="fs3b">Y</span></span></div><div class="t m5 x60 h6a y39f7 ff3d fs3b fc1 sc0 ls0 ws0">A</div><div class="t m5 x93 h6a y39f8 ff3d fs3b fc1 sc0 ls0 ws0">L</div><div class="t m5 x6a h6a y39f9 ff3d fs3b fc1 sc0 ls0 ws0">U</div><div class="t m5 x1a3 h8e y39f4 ff3d fs54 fc1 sc0 ls0 ws0">A</div><div class="t m5 x1a3 h8e y39f5 ff3d fs54 fc1 sc0 ls0 ws0">B</div><div class="t m5 x12a h6a y39ed ff3d fs3b fc1 sc0 ls0 ws0">3</div><div class="t m5 x1d8 h6a y39ee ff3d fs3b fc1 sc0 ls0 ws0">Y</div><div class="t m5 x1d8 h6a y39ef ff3d fs3b fc1 sc0 ls0 ws0">X</div><div class="t m5 x252 h6a y39f0 ff3d fs3b fc1 sc0 ls0 ws0">X </div><div class="t m5 xbb h8f y39f6 ff3e fs55 fc1 sc0 ls0 ws0">^<span class="ff3d fs56"> </span></div><div class="c x1d y39fa w3 h90"><div class="t m5 x7e h6a y39fb ff3d fs3b fc1 sc0 ls0 ws0">Y</div></div><div class="t m5 x12a h6a y39fc ff3d fs3b fc1 sc0 ls0 ws0">A</div><div class="t m5 x6e h6a y39fd ff3d fs3b fc1 sc0 ls0 ws0">L</div><div class="t m5 x12a h6a y39fe ff3d fs3b fc1 sc0 ls0 ws0">U</div><div class="t m5 x212 h8e y39f4 ff3d fs54 fc1 sc0 ls0 ws0">A</div><div class="t m5 x212 h8e y39f5 ff3d fs54 fc1 sc0 ls0 ws0">B</div><div class="t m5 x1d h34 y39ff ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _16"> </span>4.15<span class="_ _66"> </span><span class="fc1">Arithmetic/logic<span class="_ _16"> </span>unit<span class="_ _16"> </span>(ALU).<span class="_ _11"> </span><span class="ff6">Depending<span class="_ _16"> </span>on<span class="_ _16"> </span>the<span class="_ _16"> </span>setting<span class="_ _11"> </span>of<span class="_ _16"> </span>the<span class="_ _16"> </span>function</span></span></div><div class="t m5 x1d h34 y3a00 ff6 fs16 fc1 sc0 ls0 ws0">input,<span class="_ _10"> </span>the<span class="_ _11"> </span>circuit<span class="_ _10"> </span>will<span class="_ _10"> </span>perform<span class="_ _11"> </span>one<span class="_ _10"> </span>of<span class="_ _10"> </span>four<span class="_ _11"> </span>different<span class="_ _10"> </span>arithmetic<span class="_ _11"> </span>and<span class="_ _10"> </span>logical<span class="_ _11"> </span>operations.</div><div class="t m5 x1d h47 y3a01 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>4.12<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>520)</span></div><div class="t m5 x1d h26 y3a02 ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_ _11"> </span>HCL<span class="_ _11"> </span>code<span class="_ _11"> </span>describing<span class="_ _16"> </span>a<span class="_"> </span>circuit<span class="_ _16"> </span>that<span class="_"> </span>for<span class="_ _16"> </span>word<span class="_"> </span>inputs<span class="_ _16"> </span><span class="ff6">A</span>,<span class="_ _11"> </span><span class="ff6">B</span>,<span class="_ _11"> </span>and<span class="_ _16"> </span><span class="ff6">C<span class="_ _10"> </span></span>selects<span class="_ _16"> </span>the</div><div class="t m5 x1d h26 y3a03 ffa fs19 fc1 sc0 ls0 ws0">median<span class="_"> </span><span class="ff7">of<span class="_"> </span>the<span class="_"> </span>three<span class="_"> </span>values<span class="_ _3"></span>.<span class="_"> </span>T<span class="_ _1"></span>hat<span class="_"> </span>is<span class="_ _1"></span>,<span class="_"> </span>the<span class="_"> </span>output<span class="_"> </span>equals<span class="_"> </span>the<span class="_"> </span>word<span class="_"> </span>lying<span class="_"> </span>between<span class="_"> </span>the</span></div><div class="t m5 x1d h26 y3a04 ff7 fs19 fc1 sc0 ls0 ws0">minimum<span class="_"> </span>and<span class="_"> </span>maximum<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>three<span class="_"> </span>inputs<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y3a05 ff7 fs19 fc1 sc0 ls0 ws0">Combinational<span class="_ _13"> </span>logic<span class="_ _13"> </span>circuits<span class="_ _13"> </span>can<span class="_ _13"> </span>be<span class="_"> </span>designed<span class="_ _13"> </span>to<span class="_ _13"> </span>perform<span class="_ _13"> </span>many<span class="_ _13"> </span>different<span class="_ _13"> </span>types</div><div class="t m5 x1d h26 y3a06 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _21"> </span>operations<span class="_ _f"> </span>on<span class="_ _f"> </span>word-level<span class="_ _f"> </span>data.<span class="_ _21"> </span>The<span class="_ _15"> </span>detailed<span class="_ _f"> </span>design<span class="_ _f"> </span>of<span class="_ _f"> </span>these<span class="_ _f"> </span>is<span class="_ _21"> </span>beyond<span class="_ _f"> </span>the</div><div class="t m5 x1d h26 y3a07 ff7 fs19 fc1 sc0 ls0 ws0">scope<span class="_ _15"> </span>of<span class="_ _21"> </span>our<span class="_ _21"> </span>presentation.<span class="_ _15"> </span>One<span class="_ _21"> </span>important<span class="_ _21"> </span>combinational<span class="_ _15"> </span>circuit,<span class="_ _f"> </span>known<span class="_ _21"> </span>as<span class="_ _21"> </span>an</div><div class="t m5 x1d h26 y3a08 ffa fs19 fc1 sc0 ls0 ws0">arithmetic/logic<span class="_ _14"> </span>unit<span class="_ _21"> </span><span class="ff7">(ALU),<span class="_ _21"> </span>is<span class="_ _14"> </span>diagrammed<span class="_ _15"> </span>at<span class="_ _14"> </span>an<span class="_ _15"> </span>abstract<span class="_ _14"> </span>level<span class="_ _15"> </span>in<span class="_ _14"> </span>Figure<span class="_ _14"> </span>4.15.</span></div><div class="t m5 x1d h26 y3a09 ff7 fs19 fc1 sc0 ls0 ws0">In<span class="_ _11"> </span>our<span class="_ _16"> </span>version,<span class="_ _16"> </span>the<span class="_ _11"> </span>circuit<span class="_ _16"> </span>has<span class="_ _11"> </span>three<span class="_ _16"> </span>inputs:<span class="_ _11"> </span>two<span class="_ _11"> </span>data<span class="_ _16"> </span>inputs<span class="_ _11"> </span>labeled<span class="_ _16"> </span><span class="ff6">A<span class="_ _11"> </span></span>and<span class="_ _16"> </span><span class="ff6">B<span class="_ _11"> </span></span>and</div><div class="t m5 x1d h26 y3a0a ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _15"> </span>control<span class="_ _14"> </span>input.<span class="_ _15"> </span>Depending<span class="_ _15"> </span>on<span class="_ _15"> </span>the<span class="_ _15"> </span>setting<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>control<span class="_ _14"> </span>input,<span class="_ _f"> </span>the<span class="_ _15"> </span>circuit<span class="_ _14"> </span>will</div><div class="t m5 x1d h26 y3a0b ff7 fs19 fc1 sc0 ls0 ws0">perform<span class="_ _15"> </span>different<span class="_ _14"> </span>arithmetic<span class="_ _15"> </span>or<span class="_ _15"> </span>logical<span class="_ _15"> </span>operations<span class="_ _15"> </span>on<span class="_ _15"> </span>the<span class="_ _15"> </span>data<span class="_ _15"> </span>inputs<span class="_ _1"></span>.<span class="_ _15"> </span>Observe</div><div class="t m5 x1d h26 y3a0c ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _6"> </span>the<span class="_ _6"> </span>four<span class="_ _6"> </span>operations<span class="_ _6"> </span>diagrammed<span class="_ _6"> </span>for<span class="_ _6"> </span>this<span class="_ _6"> </span>ALU<span class="_ _13"> </span>correspond<span class="_ _a"> </span>to<span class="_ _6"> </span>the<span class="_ _6"> </span>four<span class="_ _6"> </span>different</div><div class="t m5 x1d h26 y3a0d ff7 fs19 fc1 sc0 ls0 ws0">integer<span class="_ _13"> </span>operations<span class="_ _13"> </span>supported<span class="_ _13"> </span>by<span class="_ _13"> </span>the<span class="_ _13"> </span>Y86-64<span class="_ _13"> </span>instruction<span class="_ _13"> </span>set,<span class="_ _13"> </span>and<span class="_ _13"> </span>the<span class="_ _13"> </span>control<span class="_ _13"> </span>values</div><div class="t m5 x1d h26 y3a0e ff7 fs19 fc1 sc0 ls0 ws0">match<span class="_ _6"> </span>the<span class="_ _13"> </span>function<span class="_ _a"> </span>codes<span class="_ _13"> </span>for<span class="_ _6"> </span>these<span class="_ _6"> </span>instructions<span class="_ _13"> </span>(F<span class="_ _1"></span>igure<span class="_ _6"> </span>4.3).<span class="_ _13"> </span>Note<span class="_ _6"> </span>also<span class="_ _6"> </span>the<span class="_ _13"> </span>ordering</div><div class="t m5 x1d h26 y3a0f ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _14"> </span>operands<span class="_ _15"> </span>for<span class="_ _14"> </span>subtraction,<span class="_ _21"> </span>where<span class="_ _14"> </span>the<span class="_ _15"> </span><span class="ff6">A<span class="_ _15"> </span></span>input<span class="_ _14"> </span>is<span class="_ _15"> </span>subtracted<span class="_ _14"> </span>from<span class="_ _15"> </span>the<span class="_ _14"> </span><span class="ff6">B<span class="_ _15"> </span></span>input.</div><div class="t m5 x1d h26 y3a10 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _16"> </span>ordering<span class="_ _11"> </span>is<span class="_ _11"> </span>chosen<span class="_ _16"> </span>in<span class="_ _11"> </span>anticipation<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>ordering<span class="_ _16"> </span>of<span class="_ _11"> </span>arguments<span class="_ _11"> </span>in<span class="_ _16"> </span>the<span class="_ _11"> </span><span class="ffd">subq</span></div><div class="t m5 x1d h26 y3a11 ff7 fs19 fc1 sc0 ls0 ws0">instruction.</div><div class="t m5 x1d h41 y3a12 ffe fs29 fc1 sc0 ls0 ws0">4.2.4<span class="_ _48"> </span><span class="fs19">Set<span class="_"> </span>Membership</span></div><div class="t m5 x1d h26 y3a13 ff7 fs19 fc1 sc0 ls0 ws0">In<span class="_"> </span>our<span class="_"> </span>processor<span class="_"> </span>designs<span class="_ _1"></span>,<span class="_"> </span>we<span class="_"> </span>will<span class="_"> </span>ﬁnd<span class="_"> </span>many<span class="_"> </span>examples<span class="_"> </span>where<span class="_"> </span>we<span class="_"> </span>want<span class="_"> </span>to<span class="_"> </span>compare</div><div class="t m5 x1d h26 y3a14 ff7 fs19 fc1 sc0 ls0 ws0">one<span class="_"> </span>signal<span class="_ _11"> </span>against<span class="_"> </span>a<span class="_ _11"> </span>number<span class="_"> </span>of<span class="_ _11"> </span>possible<span class="_"> </span>matching<span class="_ _11"> </span>signals<span class="_ _1"></span>,<span class="_ _11"> </span>such<span class="_"> </span>as<span class="_ _11"> </span>to<span class="_"> </span>test<span class="_ _11"> </span>whether</div><div class="t m5 x1d h26 y3a15 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>code<span class="_"> </span>for<span class="_"> </span>some<span class="_"> </span>instruction<span class="_"> </span>being<span class="_"> </span>processed<span class="_"> </span>matches<span class="_"> </span>some<span class="_"> </span>category<span class="_"> </span>of<span class="_"> </span>instruc-</div><div class="t m5 x1d h26 y3a16 ff7 fs19 fc1 sc0 ls0 ws0">tion<span class="_"> </span>codes<span class="_ _1"></span>.<span class="_"> </span>As<span class="_ _11"> </span>a<span class="_"> </span>simple<span class="_ _11"> </span>example<span class="_ _1"></span>,<span class="_ _11"> </span>suppose<span class="_"> </span>we<span class="_ _11"> </span>want<span class="_"> </span>to<span class="_"> </span>generate<span class="_ _11"> </span>the<span class="_"> </span>signals<span class="_"> </span><span class="ff6">s1<span class="_ _11"> </span></span>and</div><div class="t m5 x1d h26 y3a17 ff6 fs19 fc1 sc0 ls0 ws0">s0<span class="_ _11"> </span><span class="ff7">for<span class="_ _16"> </span>the<span class="_ _11"> </span>4-way<span class="_ _11"> </span>multiplexor<span class="_ _16"> </span>of<span class="_ _11"> </span>F<span class="_ _0"></span>igure<span class="_ _11"> </span>4.14<span class="_ _16"> </span>by<span class="_ _11"> </span>selecting<span class="_ _11"> </span>the<span class="_ _16"> </span>high-<span class="_ _11"> </span>and<span class="_ _16"> </span>low-order</span></div><div class="t m5 x1d h26 y3a18 ff7 fs19 fc1 sc0 ls0 ws0">bits<span class="_"> </span>from<span class="_"> </span>a<span class="_"> </span>2-bit<span class="_"> </span>signal<span class="_"> </span><span class="ff6">code</span>,<span class="_"> </span>as<span class="_"> </span>follows:</div><div class="t m5 x1d h91 y3a19 ff3d fs57 fc1 sc0 ls0 ws0">code</div><div class="t m5 x1a6 h91 y3a1a ff3d fs57 fc1 sc0 ls0 ws0">s1</div><div class="t m5 x1a6 h91 y3a1b ff3d fs57 fc1 sc0 ls0 ws0">s0</div><div class="t m5 x112 h91 y3a1c ff3d fs57 fc1 sc0 ls0 ws0">D</div><div class="t m5 x112 h91 y3a1d ff3d fs57 fc1 sc0 ls0 ws0">C</div><div class="t m5 x112 h91 y3a1e ff3d fs57 fc1 sc0 ls0 ws0">B</div><div class="t m5 x1f7 h91 y3a1f ff3d fs57 fc1 sc0 ls0 ws0">A</div><div class="t m5 x1c4 h91 y3a20 ff3d fs57 fc1 sc0 ls0 ws0">Control</div><div class="t m5 x91 h91 y3a21 ff3d fs57 fc1 sc0 ls0 ws0">MUX4</div><div class="t m5 x87 h91 y3a22 ff3d fs57 fc1 sc0 ls0 ws0">Out4</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
