<div id="pf32" class="pf w2 h11" data-page-no="32"><div class="pc pc32 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg32.png"/><div class="t m5 x8d h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>1.5<span class="_ _3d"> </span>Caches<span class="_ _13"> </span>Matter<span class="_ _3e"> </span><span class="ffe fs1e">49</span></div><div class="t m5 x17 h2f y9c ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>1.8</div><div class="t m5 x17 h2f y676 ffe fs16 fc1 sc0 ls0 ws0">Cache<span class="_"> </span>memories.</div><div class="t m5 xb5 h3f y677 ff15 fs27 fc1 sc0 ls0 ws0">I/O</div><div class="t m5 xb6 h3f y678 ff15 fs27 fc1 sc0 ls0 ws0">bridge</div><div class="t m5 xb3 h3f y679 ff15 fs27 fc1 sc0 ls0 ws0">CPU chip</div><div class="t m5 x91 h3f y67a ff17 fs27 fc1 sc0 ls0 ws0">Cache</div><div class="t m5 xb7 h3f y67b ff17 fs27 fc1 sc0 ls0 ws0">memories</div><div class="t m5 xb8 h3f y67c ff15 fs27 fc1 sc0 ls0 ws0">Register file</div><div class="t m5 xb9 h3f y67d ff15 fs27 fc1 sc0 ls0 ws0">System bus<span class="_ _3d"> </span>Memory bus</div><div class="t m5 xba h3f y67e ff15 fs27 fc1 sc0 ls0 ws0">Bus interface</div><div class="t m5 xbb h3f y67f ff15 fs27 fc1 sc0 ls0 ws0">Main</div><div class="t m5 xbc h3f y680 ff15 fs27 fc1 sc0 ls0 ws0">memory</div><div class="t m5 xbd h3f y681 ff15 fs27 fc1 sc0 ls0 ws0">ALU</div><div class="t m5 x17 h26 y682 ff7 fs19 fc1 sc0 ls0 ws0">counterparts<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_ _13"> </span>the<span class="_"> </span>disk<span class="_ _13"> </span>drive<span class="_ _13"> </span>on<span class="_ _13"> </span>a<span class="_ _13"> </span>typical<span class="_"> </span>system<span class="_ _13"> </span>might<span class="_ _13"> </span>be<span class="_ _13"> </span>1,000<span class="_"> </span>times</div><div class="t m5 x17 h26 y683 ff7 fs19 fc1 sc0 ls0 ws0">larger<span class="_ _14"> </span>than<span class="_ _14"> </span>the<span class="_ _16"> </span>main<span class="_ _14"> </span>memory<span class="_ _3"></span>,<span class="_ _15"> </span>but<span class="_ _14"> </span>it<span class="_ _14"> </span>might<span class="_ _14"> </span>take<span class="_ _14"> </span>the<span class="_ _14"> </span>processor<span class="_ _14"> </span>10,000,000<span class="_ _16"> </span>times</div><div class="t m5 x17 h26 y684 ff7 fs19 fc1 sc0 ls0 ws0">longer<span class="_"> </span>to<span class="_"> </span>read<span class="_"> </span>a<span class="_"> </span>word<span class="_"> </span>from<span class="_"> </span>disk<span class="_"> </span>than<span class="_"> </span>from<span class="_"> </span>memory<span class="_ _3"></span>.</div><div class="t m5 x26 h26 y685 ff7 fs19 fc1 sc0 ls0 ws0">Similarly<span class="_ _3"></span>,<span class="_ _13"> </span>a<span class="_ _6"> </span>typical<span class="_ _13"> </span>register<span class="_ _13"> </span>ﬁle<span class="_ _6"> </span>stores<span class="_ _13"> </span>only<span class="_ _13"> </span>a<span class="_ _6"> </span>few<span class="_ _13"> </span>hundred<span class="_ _6"> </span>bytes<span class="_ _13"> </span>of<span class="_ _13"> </span>information,</div><div class="t m5 x17 h26 y686 ff7 fs19 fc1 sc0 ls0 ws0">as<span class="_"> </span>opposed<span class="_ _11"> </span>to<span class="_ _11"> </span>billions<span class="_ _11"> </span>of<span class="_ _11"> </span>bytes<span class="_ _11"> </span>in<span class="_ _11"> </span>the<span class="_ _11"> </span>main<span class="_ _11"> </span>memory<span class="_ _3"></span>.<span class="_"> </span>However,<span class="_ _11"> </span>the<span class="_ _11"> </span>processor<span class="_ _11"> </span>can</div><div class="t m5 x17 h26 y687 ff7 fs19 fc1 sc0 ls0 ws0">read<span class="_ _11"> </span>data<span class="_ _11"> </span>from<span class="_ _11"> </span>the<span class="_"> </span>register<span class="_ _11"> </span>ﬁle<span class="_ _11"> </span>almost<span class="_ _11"> </span>100<span class="_ _11"> </span>times<span class="_ _11"> </span>faster<span class="_ _11"> </span>than<span class="_ _11"> </span>from<span class="_ _11"> </span>memory<span class="_ _3"></span>.<span class="_ _11"> </span>Even</div><div class="t m5 x17 h26 y688 ff7 fs19 fc1 sc0 ls0 ws0">more<span class="_ _16"> </span>troublesome<span class="_ _1"></span>,<span class="_ _14"> </span>as<span class="_ _16"> </span>semiconductor<span class="_ _16"> </span>technology<span class="_ _16"> </span>progresses<span class="_ _16"> </span>over<span class="_ _16"> </span>the<span class="_ _16"> </span>years<span class="_ _0"></span>,<span class="_ _16"> </span>this</div><div class="t m5 x17 h26 y689 ffa fs19 fc1 sc0 ls0 ws0">processor<span class="_ _1"></span>–memory<span class="_ _15"> </span>gap<span class="_ _14"> </span><span class="ff7">continues<span class="_ _15"> </span>to<span class="_ _14"> </span>increase.<span class="_ _14"> </span>It<span class="_ _15"> </span>is<span class="_ _14"> </span>easier<span class="_ _15"> </span>and<span class="_ _15"> </span>cheaper<span class="_ _15"> </span>to<span class="_ _14"> </span>make</span></div><div class="t m5 x17 h26 y68a ff7 fs19 fc1 sc0 ls0 ws0">processors<span class="_"> </span>run<span class="_"> </span>faster<span class="_"> </span>than<span class="_"> </span>it<span class="_"> </span>is<span class="_"> </span>to<span class="_"> </span>make<span class="_"> </span>main<span class="_"> </span>memory<span class="_"> </span>run<span class="_"> </span>faster.</div><div class="t m5 x26 h26 y68b ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _7"></span>o<span class="_ _15"> </span>deal<span class="_ _14"> </span>with<span class="_ _14"> </span>the<span class="_ _14"> </span>processor<span class="_ _0"></span>–memory<span class="_ _14"> </span>gap<span class="_ _1"></span>,<span class="_ _21"> </span>system<span class="_ _14"> </span>designers<span class="_ _14"> </span>include<span class="_ _15"> </span>smaller,</div><div class="t m5 x17 h26 y68c ff7 fs19 fc1 sc0 ls0 ws0">faster<span class="_ _21"> </span>storage<span class="_ _f"> </span>devices<span class="_ _f"> </span>called<span class="_ _f"> </span><span class="ffa">cache<span class="_ _21"> </span>memories<span class="_ _f"> </span></span>(or<span class="_ _f"> </span>simply<span class="_ _f"> </span>caches)<span class="_ _f"> </span>that<span class="_ _f"> </span>serve<span class="_ _f"> </span>as</div><div class="t m5 x17 h26 y68d ff7 fs19 fc1 sc0 ls0 ws0">temporary<span class="_ _14"> </span>staging<span class="_ _15"> </span>areas<span class="_ _14"> </span>for<span class="_ _14"> </span>information<span class="_ _15"> </span>that<span class="_ _14"> </span>the<span class="_ _15"> </span>processor<span class="_ _14"> </span>is<span class="_ _15"> </span>likely<span class="_ _14"> </span>to<span class="_ _15"> </span>need<span class="_ _14"> </span>in</div><div class="t m5 x17 h26 y68e ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>near<span class="_ _11"> </span>future.<span class="_"> </span>F<span class="_ _1"></span>igure<span class="_ _11"> </span>1.8<span class="_ _11"> </span>shows<span class="_"> </span>the<span class="_ _11"> </span>cache<span class="_ _11"> </span>memories<span class="_ _11"> </span>in<span class="_ _11"> </span>a<span class="_"> </span>typical<span class="_ _11"> </span>system.<span class="_ _11"> </span>An<span class="_ _11"> </span><span class="ffa">L1</span></div><div class="t m5 x17 h26 y68f ffa fs19 fc1 sc0 ls0 ws0">cache<span class="_"> </span><span class="ff7">on<span class="_"> </span>the<span class="_"> </span>processor<span class="_"> </span>chip<span class="_"> </span>holds<span class="_"> </span>tens<span class="_"> </span>of<span class="_"> </span>thousands<span class="_"> </span>of<span class="_ _13"> </span>bytes<span class="_"> </span>and<span class="_"> </span>can<span class="_"> </span>be<span class="_"> </span>accessed</span></div><div class="t m5 x17 h26 y690 ff7 fs19 fc1 sc0 ls0 ws0">nearly<span class="_ _16"> </span>as<span class="_ _11"> </span>fast<span class="_ _16"> </span>as<span class="_ _16"> </span>the<span class="_ _16"> </span>register<span class="_ _16"> </span>ﬁle<span class="_ _1"></span>.<span class="_ _16"> </span>A<span class="_ _16"> </span>larger<span class="_ _16"> </span><span class="ffa">L2<span class="_ _11"> </span>cache<span class="_ _16"> </span></span>with<span class="_ _16"> </span>hundreds<span class="_ _16"> </span>of<span class="_ _16"> </span>thousands</div><div class="t m5 x17 h26 y691 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_"> </span>millions<span class="_"> </span>of<span class="_"> </span>bytes<span class="_"> </span>is<span class="_"> </span>connected<span class="_"> </span>to<span class="_ _13"> </span>the<span class="_"> </span>processor<span class="_"> </span>by<span class="_"> </span>a<span class="_"> </span>special<span class="_"> </span>bus<span class="_ _1"></span>.<span class="_"> </span>It<span class="_"> </span>might<span class="_"> </span>take<span class="_"> </span>5</div><div class="t m5 x17 h26 y692 ff7 fs19 fc1 sc0 ls0 ws0">times<span class="_ _13"> </span>longer<span class="_"> </span>for<span class="_ _13"> </span>the<span class="_ _13"> </span>processor<span class="_"> </span>to<span class="_ _13"> </span>access<span class="_ _13"> </span>the<span class="_"> </span>L2<span class="_ _13"> </span>cache<span class="_ _13"> </span>than<span class="_"> </span>the<span class="_ _13"> </span>L1<span class="_ _13"> </span>cache,<span class="_ _13"> </span>but<span class="_ _13"> </span>this<span class="_"> </span>is</div><div class="t m5 x17 h26 y693 ff7 fs19 fc1 sc0 ls0 ws0">still<span class="_ _13"> </span>5<span class="_ _6"> </span>to<span class="_ _13"> </span>10<span class="_ _13"> </span>times<span class="_ _6"> </span>faster<span class="_ _13"> </span>than<span class="_ _13"> </span>accessing<span class="_ _13"> </span>the<span class="_ _6"> </span>main<span class="_ _13"> </span>memory<span class="_ _3"></span>.<span class="_ _13"> </span>T<span class="_ _3"></span>he<span class="_ _13"> </span>L1<span class="_ _13"> </span>and<span class="_ _13"> </span>L2<span class="_ _6"> </span>caches<span class="_ _13"> </span>are</div><div class="t m5 x17 h26 y694 ff7 fs19 fc1 sc0 ls0 ws0">implemented<span class="_ _13"> </span>with<span class="_"> </span>a<span class="_ _13"> </span>hardware<span class="_"> </span>technology<span class="_ _13"> </span>known<span class="_"> </span>as<span class="_ _13"> </span><span class="ffa">static<span class="_"> </span>random<span class="_ _13"> </span>access<span class="_"> </span>memory</span></div><div class="t m5 x17 h26 y695 ff7 fs19 fc1 sc0 ls0 ws0">(SRAM).<span class="_"> </span>Newer<span class="_ _13"> </span>and<span class="_"> </span>more<span class="_"> </span>powerful<span class="_"> </span>systems<span class="_ _13"> </span>even<span class="_"> </span>have<span class="_"> </span>three<span class="_ _13"> </span>levels<span class="_"> </span>of<span class="_"> </span>cache:<span class="_ _13"> </span>L1,</div><div class="t m5 x17 h26 y696 ff7 fs19 fc1 sc0 ls0 ws0">L2,<span class="_ _16"> </span>and<span class="_ _14"> </span>L3.<span class="_ _16"> </span>T<span class="_ _0"></span>he<span class="_ _16"> </span>idea<span class="_ _16"> </span>behind<span class="_ _16"> </span>caching<span class="_ _14"> </span>is<span class="_ _16"> </span>that<span class="_ _16"> </span>a<span class="_ _16"> </span>system<span class="_ _16"> </span>can<span class="_ _14"> </span>get<span class="_ _16"> </span>the<span class="_ _16"> </span>effect<span class="_ _16"> </span>of<span class="_ _14"> </span>both</div><div class="t m5 x17 h26 y697 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _11"> </span>very<span class="_ _16"> </span>large<span class="_ _11"> </span>memory<span class="_ _16"> </span>and<span class="_ _11"> </span>a<span class="_ _16"> </span>very<span class="_ _11"> </span>fast<span class="_ _16"> </span>one<span class="_ _11"> </span>by<span class="_ _11"> </span>exploiting<span class="_ _16"> </span><span class="ffa">locality</span>,<span class="_ _11"> </span>the<span class="_ _16"> </span>tendency<span class="_ _11"> </span>for</div><div class="t m5 x17 h26 y698 ff7 fs19 fc1 sc0 ls0 ws0">programs<span class="_ _13"> </span>to<span class="_ _13"> </span>access<span class="_ _6"> </span>data<span class="_ _13"> </span>and<span class="_ _13"> </span>code<span class="_ _13"> </span>in<span class="_ _13"> </span>localized<span class="_ _6"> </span>regions<span class="_ _1"></span>.<span class="_ _13"> </span>By<span class="_ _13"> </span>setting<span class="_ _13"> </span>up<span class="_ _13"> </span>caches<span class="_ _6"> </span>to<span class="_ _13"> </span>hold</div><div class="t m5 x17 h26 y699 ff7 fs19 fc1 sc0 ls0 ws0">data<span class="_ _13"> </span>that<span class="_ _13"> </span>are<span class="_ _13"> </span>likely<span class="_ _13"> </span>to<span class="_ _13"> </span>be<span class="_ _13"> </span>accessed<span class="_ _13"> </span>often,<span class="_ _13"> </span>we<span class="_ _13"> </span>can<span class="_ _13"> </span>perform<span class="_ _13"> </span>most<span class="_ _13"> </span>memory<span class="_ _13"> </span>operations</div><div class="t m5 x17 h26 y69a ff7 fs19 fc1 sc0 ls0 ws0">using<span class="_"> </span>the<span class="_"> </span>fast<span class="_"> </span>caches<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y69b ff7 fs19 fc1 sc0 ls0 ws0">One<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>most<span class="_ _11"> </span>important<span class="_ _11"> </span>lessons<span class="_ _11"> </span>in<span class="_ _16"> </span>this<span class="_ _11"> </span>book<span class="_ _11"> </span>is<span class="_ _11"> </span>that<span class="_ _16"> </span>application<span class="_ _11"> </span>program-</div><div class="t m5 x17 h26 y69c ff7 fs19 fc1 sc0 ls0 ws0">mers<span class="_ _11"> </span>who<span class="_ _11"> </span>are<span class="_ _11"> </span>aware<span class="_ _11"> </span>of<span class="_ _11"> </span>cache<span class="_ _11"> </span>memories<span class="_ _11"> </span>can<span class="_ _11"> </span>exploit<span class="_ _11"> </span>them<span class="_ _16"> </span>to<span class="_"> </span>improve<span class="_ _11"> </span>the<span class="_ _11"> </span>perfor<span class="_ _1"></span>-</div><div class="t m5 x17 h26 y69d ff7 fs19 fc1 sc0 ls0 ws0">mance<span class="_ _16"> </span>of<span class="_ _14"> </span>their<span class="_ _14"> </span>programs<span class="_ _16"> </span>by<span class="_ _14"> </span>an<span class="_ _16"> </span>order<span class="_ _14"> </span>of<span class="_ _14"> </span>magnitude<span class="_ _1"></span>.<span class="_ _14"> </span>Y<span class="_ _3"></span>ou<span class="_ _14"> </span>will<span class="_ _16"> </span>learn<span class="_ _14"> </span>more<span class="_ _16"> </span>about</div><div class="t m5 x17 h26 y69e ff7 fs19 fc1 sc0 ls0 ws0">these<span class="_"> </span>important<span class="_"> </span>devices<span class="_"> </span>and<span class="_"> </span>how<span class="_"> </span>to<span class="_"> </span>exploit<span class="_"> </span>them<span class="_"> </span>in<span class="_"> </span>Chapter<span class="_"> </span>6.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
