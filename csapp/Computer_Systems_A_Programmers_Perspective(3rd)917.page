<div id="pf395" class="pf w2 h11" data-page-no="395"><div class="pc pc395 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg395.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">916<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>9<span class="_ _3d"> </span>Virtual<span class="_ _10"> </span>Memory</span></div><div class="t m5 x1d h73 ye7 ffe fs1e fc6 sc0 ls0 ws0">9.19<span class="_ _23"> </span><span class="ff10 fs19">◆</span></div><div class="t m5 x1d h26 y2a7 ff7 fs19 fc1 sc0 ls0 ws0">Y<span class="_ _3"></span>ou<span class="_ _16"> </span>are<span class="_ _16"> </span>given<span class="_ _16"> </span>three<span class="_ _16"> </span>groups<span class="_ _11"> </span>of<span class="_ _16"> </span>statements<span class="_ _16"> </span>relating<span class="_ _16"> </span>to<span class="_ _16"> </span>memory<span class="_ _16"> </span>management<span class="_ _16"> </span>and</div><div class="t m5 x1d h26 y2a8 ff7 fs19 fc1 sc0 ls0 ws0">garbage<span class="_"> </span>collection<span class="_ _11"> </span>below<span class="_ _1"></span>.<span class="_ _11"> </span>In<span class="_ _11"> </span>each<span class="_"> </span>group,<span class="_"> </span>only<span class="_ _11"> </span>one<span class="_ _11"> </span>statement<span class="_ _11"> </span>is<span class="_ _11"> </span>true<span class="_ _0"></span>.<span class="_"> </span>Y<span class="_ _3"></span>our<span class="_ _11"> </span>task<span class="_ _11"> </span>is</div><div class="t m5 x1d h26 y2f7 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_"> </span>indicate<span class="_"> </span>which<span class="_"> </span>statement<span class="_"> </span>is<span class="_"> </span>true<span class="_ _1"></span>.</div><div class="t m5 xc5 h26 y7645 ffc fs19 fc1 sc0 ls0 ws0">1.<span class="_ _1f"> </span><span class="ff7">(a)<span class="_ _1f"> </span>In<span class="_"> </span>a<span class="_"> </span>buddy<span class="_"> </span>system,<span class="_"> </span>up<span class="_"> </span>to<span class="_"> </span>50%<span class="_"> </span>of<span class="_"> </span>the<span class="_ _13"> </span>space<span class="_"> </span>can<span class="_"> </span>be<span class="_"> </span>wasted<span class="_"> </span>due<span class="_"> </span>to<span class="_"> </span>internal</span></div><div class="t m5 xcd h26 y7646 ff7 fs19 fc1 sc0 ls0 ws0">fragmentation.</div><div class="t m5 x29 h26 y7647 ff7 fs19 fc1 sc0 ls0 ws0">(b)<span class="_ _e"> </span>The<span class="_"> </span>ﬁrst-ﬁt<span class="_"> </span>memory<span class="_"> </span>allocation<span class="_"> </span>algorithm<span class="_"> </span>is<span class="_"> </span>slower<span class="_"> </span>than<span class="_"> </span>the<span class="_"> </span>best-ﬁt<span class="_"> </span>algo-</div><div class="t m5 xcd h26 y7648 ff7 fs19 fc1 sc0 ls0 ws0">rithm<span class="_"> </span>(on<span class="_"> </span>average).</div><div class="t m5 x178 h26 y7649 ff7 fs19 fc1 sc0 ls0 ws0">(c)<span class="_ _e"> </span>Deallocation<span class="_"> </span>using<span class="_"> </span>boundary<span class="_"> </span>tags<span class="_"> </span>is<span class="_"> </span>fast<span class="_"> </span>only<span class="_"> </span>when<span class="_ _13"> </span>the<span class="_"> </span>list<span class="_"> </span>of<span class="_"> </span>free<span class="_"> </span>blocks</div><div class="t m5 xcd h26 y764a ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_"> </span>ordered<span class="_"> </span>according<span class="_"> </span>to<span class="_"> </span>increasing<span class="_"> </span>memory<span class="_"> </span>addresses<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y764b ff7 fs19 fc1 sc0 ls0 ws0">(d)<span class="_ _e"> </span>The<span class="_ _f"> </span>buddy<span class="_ _f"> </span>system<span class="_ _e"> </span>suffers<span class="_ _f"> </span>from<span class="_ _e"> </span>internal<span class="_ _21"> </span>fragmentation,<span class="_ _1f"> </span>but<span class="_ _f"> </span>not<span class="_ _e"> </span>from</div><div class="t m5 xcd h26 y764c ff7 fs19 fc1 sc0 ls0 ws0">external<span class="_"> </span>fragmentation.</div><div class="t m5 xc5 h26 y764d ffc fs19 fc1 sc0 ls0 ws0">2.<span class="_ _1f"> </span><span class="ff7">(a)<span class="_ _1f"> </span>Using<span class="_ _15"> </span>the<span class="_ _15"> </span>ﬁrst-ﬁt<span class="_ _15"> </span>algorithm<span class="_ _15"> </span>on<span class="_ _21"> </span>a<span class="_ _15"> </span>free<span class="_ _15"> </span>list<span class="_ _21"> </span>that<span class="_ _15"> </span>is<span class="_ _15"> </span>ordered<span class="_ _21"> </span>according<span class="_ _15"> </span>to</span></div><div class="t m5 xcd h26 y764e ff7 fs19 fc1 sc0 ls0 ws0">decreasing<span class="_ _21"> </span>block<span class="_ _f"> </span>sizes<span class="_ _f"> </span>results<span class="_ _f"> </span>in<span class="_ _f"> </span>low<span class="_ _f"> </span>performance<span class="_ _21"> </span>for<span class="_ _f"> </span>allocations<span class="_ _1"></span>,<span class="_ _e"> </span>but</div><div class="t m5 xcd h26 y764f ff7 fs19 fc1 sc0 ls0 ws0">avoids<span class="_"> </span>external<span class="_"> </span>fragmentation.</div><div class="t m5 x29 h26 y7650 ff7 fs19 fc1 sc0 ls0 ws0">(b)<span class="_ _e"> </span>F<span class="_ _0"></span>or<span class="_ _6"> </span>the<span class="_ _13"> </span>best-ﬁt<span class="_ _6"> </span>method,<span class="_ _13"> </span>the<span class="_ _6"> </span>list<span class="_ _13"> </span>of<span class="_ _6"> </span>free<span class="_ _6"> </span>blocks<span class="_ _13"> </span>should<span class="_ _6"> </span>be<span class="_ _13"> </span>ordered<span class="_ _6"> </span>according</div><div class="t m5 xcd h26 y7651 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_"> </span>increasing<span class="_"> </span>memory<span class="_"> </span>addresses<span class="_ _1"></span>.</div><div class="t m5 x178 h26 y7652 ff7 fs19 fc1 sc0 ls0 ws0">(c)<span class="_ _e"> </span>The<span class="_ _15"> </span>best-ﬁt<span class="_ _f"> </span>method<span class="_ _21"> </span>chooses<span class="_ _f"> </span>the<span class="_ _21"> </span>largest<span class="_ _21"> </span>free<span class="_ _f"> </span>block<span class="_ _21"> </span>into<span class="_ _f"> </span>which<span class="_ _21"> </span>the<span class="_ _21"> </span>re-</div><div class="t m5 xcd h26 y7653 ff7 fs19 fc1 sc0 ls0 ws0">quested<span class="_"> </span>segment<span class="_"> </span>ﬁts<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y7654 ff7 fs19 fc1 sc0 ls0 ws0">(d)<span class="_ _e"> </span>Using<span class="_ _21"> </span>the<span class="_ _15"> </span>ﬁrst-ﬁt<span class="_ _15"> </span>algorithm<span class="_ _21"> </span>on<span class="_ _15"> </span>a<span class="_ _15"> </span>free<span class="_ _21"> </span>list<span class="_ _15"> </span>that<span class="_ _15"> </span>is<span class="_ _15"> </span>ordered<span class="_ _21"> </span>according<span class="_ _15"> </span>to</div><div class="t m5 xcd h26 y7655 ff7 fs19 fc1 sc0 ls0 ws0">increasing<span class="_"> </span>block<span class="_"> </span>sizes<span class="_"> </span>is<span class="_"> </span>equivalent<span class="_"> </span>to<span class="_"> </span>using<span class="_"> </span>the<span class="_"> </span>best-ﬁt<span class="_"> </span>algorithm.</div><div class="t m5 xc5 h26 y7656 ffc fs19 fc1 sc0 ls0 ws0">3.<span class="_ _e"> </span><span class="ff7">Mark&amp;Sweep<span class="_"> </span>garbage<span class="_"> </span>collectors<span class="_"> </span>are<span class="_"> </span>called<span class="_"> </span>conservative<span class="_"> </span>if</span></div><div class="t m5 x29 h26 y7657 ff7 fs19 fc1 sc0 ls0 ws0">(a)<span class="_ _e"> </span>They<span class="_ _15"> </span>coalesce<span class="_ _21"> </span>freed<span class="_ _15"> </span>memory<span class="_ _21"> </span>only<span class="_ _21"> </span>when<span class="_ _21"> </span>a<span class="_ _21"> </span>memory<span class="_ _21"> </span>request<span class="_ _21"> </span>cannot<span class="_ _15"> </span>be</div><div class="t m5 xcd h26 y7658 ff7 fs19 fc1 sc0 ls0 ws0">satisﬁed.</div><div class="t m5 x29 h26 y7659 ff7 fs19 fc1 sc0 ls0 ws0">(b)<span class="_ _e"> </span>They<span class="_"> </span>treat<span class="_"> </span>everything<span class="_"> </span>that<span class="_"> </span>looks<span class="_"> </span>like<span class="_"> </span>a<span class="_"> </span>pointer<span class="_"> </span>as<span class="_"> </span>a<span class="_"> </span>pointer<span class="_ _1"></span>.</div><div class="t m5 x178 h26 y765a ff7 fs19 fc1 sc0 ls0 ws0">(c)<span class="_ _e"> </span>They<span class="_"> </span>perform<span class="_"> </span>garbage<span class="_"> </span>collection<span class="_"> </span>only<span class="_"> </span>when<span class="_"> </span>they<span class="_"> </span>run<span class="_"> </span>out<span class="_"> </span>of<span class="_"> </span>memory<span class="_ _7"></span>.</div><div class="t m5 x29 h26 y765b ff7 fs19 fc1 sc0 ls0 ws0">(d)<span class="_ _e"> </span>They<span class="_"> </span>do<span class="_"> </span>not<span class="_"> </span>free<span class="_"> </span>memory<span class="_"> </span>blocks<span class="_"> </span>forming<span class="_"> </span>a<span class="_"> </span>c<span class="_ _1"></span>yclic<span class="_"> </span>list.</div><div class="t m5 x1d h73 y765c ffe fs1e fc6 sc0 ls0 ws0">9.20<span class="_ _23"> </span><span class="ff10 fs19">◆◆◆◆</span></div><div class="t m5 x1d h26 y765d ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_ _16"> </span>your<span class="_ _11"> </span>own<span class="_ _16"> </span>version<span class="_ _16"> </span>of<span class="_ _11"> </span><span class="ffd">malloc<span class="_ _16"> </span></span>and<span class="_ _16"> </span><span class="ffd">free</span>,<span class="_ _16"> </span>and<span class="_ _16"> </span>compare<span class="_ _11"> </span>its<span class="_ _16"> </span>running<span class="_ _16"> </span>time<span class="_ _11"> </span>and</div><div class="t m5 x1d h26 y765e ff7 fs19 fc1 sc0 ls0 ws0">space<span class="_"> </span>utilization<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>version<span class="_"> </span>of<span class="_"> </span><span class="ffd">malloc<span class="_ _10"> </span></span>provided<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>standard<span class="_"> </span>C<span class="_"> </span>library<span class="_ _3"></span>.</div><div class="t m5 x1d h29 y765f ffe fs14 fc1 sc0 ls0 ws0">Solutions<span class="_"> </span>to<span class="_"> </span>Practice<span class="_"> </span>Problems</div><div class="t m5 x1d h28 ybfe ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>9.1<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>841)</span></div><div class="t m5 x1d h26 yc21 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _13"> </span>problem<span class="_ _13"> </span>gives<span class="_ _6"> </span>you<span class="_ _13"> </span>some<span class="_ _13"> </span>appreciation<span class="_ _6"> </span>for<span class="_ _13"> </span>the<span class="_ _13"> </span>sizes<span class="_ _6"> </span>of<span class="_ _13"> </span>different<span class="_ _13"> </span>address<span class="_ _6"> </span>spaces<span class="_ _1"></span>.</div><div class="t m5 x1d h26 yc22 ff7 fs19 fc1 sc0 ls0 ws0">At<span class="_ _16"> </span>one<span class="_ _14"> </span>point<span class="_ _14"> </span>in<span class="_ _16"> </span>time,<span class="_ _16"> </span>a<span class="_ _14"> </span>32-bit<span class="_ _14"> </span>address<span class="_ _16"> </span>space<span class="_ _14"> </span>seemed<span class="_ _16"> </span>impossibly<span class="_ _14"> </span>large.<span class="_ _16"> </span>But<span class="_ _16"> </span>now</div><div class="t m5 x1d h26 yc23 ff7 fs19 fc1 sc0 ls0 ws0">there<span class="_"> </span>are<span class="_ _13"> </span>database<span class="_"> </span>and<span class="_"> </span>scientiﬁc<span class="_ _13"> </span>applications<span class="_"> </span>that<span class="_"> </span>need<span class="_ _13"> </span>more,<span class="_ _13"> </span>and<span class="_"> </span>you<span class="_"> </span>can<span class="_ _13"> </span>expect</div><div class="t m5 x1d h26 yc24 ff7 fs19 fc1 sc0 ls0 ws0">this<span class="_ _15"> </span>trend<span class="_ _15"> </span>to<span class="_ _21"> </span>continue<span class="_ _1"></span>.<span class="_ _21"> </span>At<span class="_ _15"> </span>some<span class="_ _21"> </span>point<span class="_ _15"> </span>in<span class="_ _15"> </span>your<span class="_ _21"> </span>lifetime<span class="_ _0"></span>,<span class="_ _21"> </span>expect<span class="_ _21"> </span>to<span class="_ _15"> </span>ﬁnd<span class="_ _15"> </span>yourself</div><div class="t m5 x1d h26 yc25 ff7 fs19 fc1 sc0 ls0 ws0">complaining<span class="_"> </span>about<span class="_ _13"> </span>the<span class="_"> </span>cramped<span class="_ _13"> </span>64-bit<span class="_"> </span>address<span class="_ _13"> </span>space<span class="_"> </span>on<span class="_"> </span>your<span class="_ _13"> </span>personal<span class="_"> </span>computer!</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
