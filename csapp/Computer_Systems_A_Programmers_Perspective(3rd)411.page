<div id="pf19b" class="pf w2 h11" data-page-no="19b"><div class="pc pc19b w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg19b.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">410<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 x14 h2f ye7 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>4.10</div><div class="t m5 x14 h2f y58a ffe fs16 fc1 sc0 ls0 ws0">Combinational<span class="_"> </span>circuit<span class="_ _11"> </span>to</div><div class="t m5 x14 h34 y58b ffe fs16 fc1 sc0 ls0 ws0">test<span class="_ _11"> </span>for<span class="_ _11"> </span>bit<span class="_ _16"> </span>equality<span class="_ _3"></span>.<span class="_ _16"> </span><span class="ff6">The</span></div><div class="t m5 x14 h34 y58c ff6 fs16 fc1 sc0 ls0 ws0">output<span class="_ _11"> </span>will<span class="_ _16"> </span>equal<span class="_ _11"> </span>1<span class="_ _11"> </span>when</div><div class="t m5 x14 h34 y58d ff6 fs16 fc1 sc0 ls0 ws0">both<span class="_ _11"> </span>inputs<span class="_ _11"> </span>are<span class="_ _16"> </span>0<span class="_ _11"> </span>or<span class="_ _11"> </span>both</div><div class="t m5 x14 h34 y58e ff6 fs16 fc1 sc0 ls0 ws0">are<span class="_ _10"> </span>1.</div><div class="t m5 xe0 h3f y38ec ff3b fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 xe0 h3f y38ed ff3b fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 x175 h3f y38ee ff3b fs27 fc1 sc0 ls0 ws0">eq</div><div class="t m5 x13b h3f y38ef ff3b fs27 fc1 sc0 ls0 ws0">Bit equal</div><div class="t m5 x1d h41 y38f0 ffe fs29 fc1 sc0 ls0 ws0">4.2.2<span class="_ _48"> </span><span class="fs19">Combinational<span class="_"> </span>Circuits<span class="_"> </span>and<span class="_"> </span>HCL<span class="_"> </span>Boolean<span class="_"> </span>Expressions</span></div><div class="t m5 x1d h26 y38f1 ff7 fs19 fc1 sc0 ls0 ws0">By<span class="_ _13"> </span>assembling<span class="_"> </span>a<span class="_ _13"> </span>number<span class="_ _13"> </span>of<span class="_"> </span>logic<span class="_ _13"> </span>gates<span class="_ _13"> </span>into<span class="_"> </span>a<span class="_ _13"> </span>network,<span class="_"> </span>we<span class="_ _13"> </span>can<span class="_ _13"> </span>construct<span class="_"> </span>computa-</div><div class="t m5 x1d h26 y38f2 ff7 fs19 fc1 sc0 ls0 ws0">tional<span class="_"> </span>blocks<span class="_"> </span>known<span class="_"> </span>as<span class="_"> </span><span class="ffa">combinational<span class="_ _11"> </span>circuits</span>.<span class="_ _1f"> </span>Several<span class="_"> </span>restrictions<span class="_"> </span>are<span class="_"> </span>placed<span class="_ _11"> </span>on</div><div class="t m5 x1d h26 y38f3 ff7 fs19 fc1 sc0 ls0 ws0">how<span class="_"> </span>the<span class="_"> </span>networks<span class="_"> </span>are<span class="_"> </span>constructed:</div><div class="t m5 x75 h3d y38f4 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y38f5 ff7 fs19 fc1 sc0 ls0 ws0">Every<span class="_ _15"> </span>logic<span class="_ _14"> </span>gate<span class="_ _15"> </span>input<span class="_ _15"> </span>must<span class="_ _15"> </span>be<span class="_ _15"> </span>connected<span class="_ _15"> </span>to<span class="_ _15"> </span>exactly<span class="_ _15"> </span>one<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>following:</div><div class="t m5 x29 h26 y38f6 ff7 fs19 fc1 sc0 ls0 ws0">(1)<span class="_ _f"> </span>one<span class="_ _f"> </span>of<span class="_ _f"> </span>the<span class="_ _f"> </span>system<span class="_ _f"> </span>inputs<span class="_ _f"> </span>(known<span class="_ _f"> </span>as<span class="_ _f"> </span>a<span class="_ _f"> </span><span class="ffa">primary<span class="_ _f"> </span>input<span class="_ _2"></span></span>),<span class="_ _e"> </span>(2)<span class="_ _f"> </span>the<span class="_ _f"> </span>output</div><div class="t m5 x29 h26 y38f7 ff7 fs19 fc1 sc0 ls0 ws0">connection<span class="_"> </span>of<span class="_"> </span>some<span class="_"> </span>memory<span class="_"> </span>element,<span class="_"> </span>or<span class="_"> </span>(3)<span class="_"> </span>the<span class="_"> </span>output<span class="_"> </span>of<span class="_"> </span>some<span class="_"> </span>logic<span class="_"> </span>gate<span class="_ _1"></span>.</div><div class="t m5 x75 h3d y38f8 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y38f9 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>outputs<span class="_ _16"> </span>of<span class="_ _11"> </span>two<span class="_ _16"> </span>or<span class="_ _16"> </span>more<span class="_ _11"> </span>logic<span class="_ _16"> </span>gates<span class="_ _16"> </span>cannot<span class="_ _16"> </span>be<span class="_ _11"> </span>connected<span class="_ _16"> </span>together.<span class="_ _11"> </span>Oth-</div><div class="t m5 x29 h26 y38fa ff7 fs19 fc1 sc0 ls0 ws0">erwise<span class="_ _1"></span>,<span class="_"> </span>the<span class="_"> </span>two<span class="_"> </span>could<span class="_"> </span>try<span class="_"> </span>to<span class="_"> </span>drive<span class="_ _13"> </span>the<span class="_"> </span>wire<span class="_"> </span>toward<span class="_"> </span>different<span class="_"> </span>voltages<span class="_ _1"></span>,<span class="_"> </span>possibly</div><div class="t m5 x29 h26 y38fb ff7 fs19 fc1 sc0 ls0 ws0">causing<span class="_"> </span>an<span class="_"> </span>invalid<span class="_"> </span>voltage<span class="_"> </span>or<span class="_"> </span>a<span class="_"> </span>circuit<span class="_"> </span>malfunction.</div><div class="t m5 x75 h3d y38fc ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y38fd ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>network<span class="_"> </span>must<span class="_"> </span>be<span class="_"> </span><span class="ffa">acyclic</span>.<span class="_"> </span>T<span class="_ _1"></span>hat<span class="_"> </span>is<span class="_ _1"></span>,<span class="_"> </span>there<span class="_"> </span>cannot<span class="_"> </span>be<span class="_"> </span>a<span class="_ _13"> </span>path<span class="_"> </span>through<span class="_"> </span>a<span class="_"> </span>series</div><div class="t m5 x29 h26 y38fe ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span>gates<span class="_"> </span>that<span class="_ _11"> </span>forms<span class="_"> </span>a<span class="_"> </span>loop<span class="_ _11"> </span>in<span class="_"> </span>the<span class="_"> </span>network.<span class="_ _11"> </span>Such<span class="_"> </span>loops<span class="_"> </span>can<span class="_ _11"> </span>cause<span class="_"> </span>ambiguity<span class="_"> </span>in</div><div class="t m5 x29 h26 y38ff ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>function<span class="_"> </span>computed<span class="_"> </span>by<span class="_"> </span>the<span class="_"> </span>network.</div><div class="t m5 x29 h26 y3900 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _16"> </span>4.10<span class="_ _11"> </span>shows<span class="_ _11"> </span>an<span class="_ _11"> </span>example<span class="_ _16"> </span>of<span class="_ _11"> </span>a<span class="_ _11"> </span>simple<span class="_ _16"> </span>combinational<span class="_ _11"> </span>circuit<span class="_ _11"> </span>that<span class="_ _11"> </span>we<span class="_ _16"> </span>will</div><div class="t m5 x1d h26 y3901 ff7 fs19 fc1 sc0 ls0 ws0">ﬁnd<span class="_ _16"> </span>useful.<span class="_ _11"> </span>It<span class="_ _16"> </span>has<span class="_ _16"> </span>two<span class="_ _11"> </span>inputs<span class="_ _1"></span>,<span class="_ _16"> </span><span class="ff6">a<span class="_ _16"> </span></span>and<span class="_ _16"> </span><span class="ff6">b</span>.<span class="_ _11"> </span>It<span class="_ _16"> </span>generates<span class="_ _16"> </span>a<span class="_ _16"> </span>single<span class="_ _11"> </span>output<span class="_ _16"> </span><span class="ff6">eq</span>,<span class="_ _16"> </span>such<span class="_ _16"> </span>that</div><div class="t m5 x1d h26 y3902 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _16"> </span>output<span class="_ _16"> </span>will<span class="_ _16"> </span>equal<span class="_ _16"> </span>1<span class="_ _16"> </span>if<span class="_ _16"> </span>either<span class="_ _14"> </span><span class="ff6">a<span class="_ _16"> </span></span>and<span class="_ _16"> </span><span class="ff6">b<span class="_ _16"> </span></span>are<span class="_ _16"> </span>both<span class="_ _16"> </span>1<span class="_ _16"> </span>(detected<span class="_ _16"> </span>by<span class="_ _14"> </span>the<span class="_ _16"> </span>upper<span class="_ _16"> </span><span class="ff9">and</span></div><div class="t m5 x1d h26 y3903 ff7 fs19 fc1 sc0 ls0 ws0">gate)<span class="_ _13"> </span>or<span class="_ _13"> </span>are<span class="_"> </span>both<span class="_ _13"> </span>0<span class="_ _13"> </span>(detected<span class="_ _13"> </span>by<span class="_"> </span>the<span class="_ _13"> </span>lower<span class="_ _13"> </span><span class="ff9">and<span class="_ _13"> </span></span>gate).<span class="_"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>write<span class="_ _13"> </span>the<span class="_"> </span>function<span class="_ _13"> </span>of<span class="_ _13"> </span>this</div><div class="t m5 x1d h26 y3904 ff7 fs19 fc1 sc0 ls0 ws0">network<span class="_"> </span>in<span class="_"> </span>HCL<span class="_"> </span>as</div><div class="t m5 x1d h2d y3905 ffd fs1e fc2 sc0 ls0 ws0">bool<span class="_ _e"> </span>eq<span class="_ _1f"> </span>=<span class="_ _1f"> </span>(a<span class="_ _e"> </span>&amp;&amp;<span class="_ _1f"> </span>b)<span class="_ _e"> </span>||<span class="_ _1f"> </span>(!a<span class="_ _1f"> </span>&amp;&amp;<span class="_ _e"> </span>!b);</div><div class="t m5 x1d h26 y3906 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _11"> </span>code<span class="_ _11"> </span>simply<span class="_ _11"> </span>deﬁnes<span class="_"> </span>the<span class="_ _11"> </span>bit-level<span class="_ _11"> </span>(denoted<span class="_ _11"> </span>by<span class="_ _11"> </span>data<span class="_"> </span>type<span class="_ _11"> </span><span class="ffd">bool</span>)<span class="_ _11"> </span>signal<span class="_ _11"> </span><span class="ff6">eq<span class="_ _11"> </span></span>as<span class="_"> </span>a</div><div class="t m5 x1d h26 y3907 ff7 fs19 fc2 sc0 ls0 ws0">function<span class="_"> </span>of<span class="_"> </span>inputs<span class="_"> </span><span class="ff6">a<span class="_ _13"> </span></span>and<span class="_"> </span><span class="ff6">b</span>.<span class="_"> </span>As<span class="_"> </span>this<span class="_"> </span>example<span class="_"> </span>shows<span class="_ _3"></span>,<span class="_"> </span>HCL<span class="_"> </span>uses<span class="_"> </span>C-style<span class="_"> </span>syntax,<span class="_ _13"> </span>with</div><div class="t m5 x1d h26 y3908 ff7 fs19 fc2 sc0 ls0 ws0">‘<span class="ffd">=</span>’<span class="_ _16"> </span>associating<span class="_ _16"> </span>a<span class="_ _16"> </span>signal<span class="_ _16"> </span>name<span class="_ _16"> </span>with<span class="_ _16"> </span>an<span class="_ _16"> </span>expression.<span class="_ _16"> </span>Unlike<span class="_ _16"> </span>C<span class="_ _1"></span>,<span class="_ _14"> </span>however,<span class="_ _16"> </span>we<span class="_ _16"> </span>do<span class="_ _16"> </span>not</div><div class="t m5 x1d h26 y3909 ff7 fs19 fc2 sc0 ls0 ws0">view<span class="_"> </span>this<span class="_ _11"> </span>as<span class="_ _11"> </span>performing<span class="_ _11"> </span>a<span class="_ _11"> </span>computation<span class="_ _11"> </span>and<span class="_ _11"> </span>assigning<span class="_ _11"> </span>the<span class="_ _11"> </span>result<span class="_ _11"> </span>to<span class="_ _11"> </span>some<span class="_"> </span>memory</div><div class="t m5 x1d h26 y390a ff7 fs19 fc2 sc0 ls0 ws0">location.<span class="_"> </span>Instead,<span class="_"> </span>it<span class="_"> </span>is<span class="_"> </span>simply<span class="_"> </span>a<span class="_"> </span>way<span class="_"> </span>to<span class="_"> </span>give<span class="_"> </span>a<span class="_"> </span>name<span class="_"> </span>to<span class="_"> </span>an<span class="_"> </span>expression.</div><div class="t m5 x1d h47 y390b ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>4.9<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>520)</span></div><div class="t m5 x1d h26 y390c ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_ _11"> </span>an<span class="_ _11"> </span>HCL<span class="_ _11"> </span>expression<span class="_ _16"> </span>for<span class="_"> </span>a<span class="_ _16"> </span>signal<span class="_"> </span><span class="ff6">xor</span>,<span class="_ _16"> </span>equal<span class="_ _11"> </span>to<span class="_ _11"> </span>the<span class="_ _11"> </span><span class="ff9">exclusive-or<span class="_ _10"> </span></span>of<span class="_ _16"> </span>inputs<span class="_"> </span><span class="ff6">a</span></div><div class="t m5 x1d h26 y390d ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span><span class="ff6">b</span>.<span class="_"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>relation<span class="_"> </span>between<span class="_"> </span>the<span class="_"> </span>signals<span class="_"> </span><span class="ff6">xor<span class="_ _10"> </span></span>and<span class="_"> </span><span class="ff6">eq<span class="_ _10"> </span></span>deﬁned<span class="_"> </span>above?</div><div class="t m5 x29 h26 y77e ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _f"> </span>4.11<span class="_ _e"> </span>shows<span class="_ _21"> </span>another<span class="_ _f"> </span>example<span class="_ _f"> </span>of<span class="_ _f"> </span>a<span class="_ _f"> </span>simple<span class="_ _f"> </span>but<span class="_ _f"> </span>useful<span class="_ _e"> </span>combinational</div><div class="t m5 x1d h26 y77f ff7 fs19 fc1 sc0 ls0 ws0">circuit<span class="_ _6"> </span>known<span class="_ _6"> </span>as<span class="_ _6"> </span>a<span class="_ _13"> </span><span class="ffa">multiplexor<span class="_ _6"> </span></span>(commonly<span class="_ _13"> </span>referred<span class="_ _a"> </span>to<span class="_ _6"> </span>as<span class="_ _13"> </span>a<span class="_ _a"> </span>“MUX”).<span class="_ _6"> </span>A<span class="_ _13"> </span>multiplexor</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
