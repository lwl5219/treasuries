<div id="pf255" class="pf w2 h11" data-page-no="255"><div class="pc pc255 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg255.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">596<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>5<span class="_ _3d"> </span>Optimizing<span class="_ _10"> </span>Program<span class="_ _10"> </span>Performance</span></div><div class="t m5 x14 h2f ye7 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>5.37</div><div class="t m5 x14 h2f y58a ffe fs16 fc1 sc0 ls0 ws0">Data-ï¬‚ow<span class="_"> </span>representation</div><div class="t m5 x14 h2f y58b ffe fs16 fc1 sc0 ls0 ws0">of<span class="_"> </span>function</div><div class="t m5 x2d h3a y609 ffd fs19 fc1 sc0 ls0 ws0">write_read.</div><div class="t m5 x14 h34 y2d53 ff6 fs16 fc1 sc0 ls0 ws0">When<span class="_ _16"> </span>the<span class="_ _11"> </span>two<span class="_ _16"> </span>addresses</div><div class="t m5 x14 h34 y2d7c ff6 fs16 fc1 sc0 ls0 ws0">do<span class="_ _16"> </span>not<span class="_ _16"> </span>match,<span class="_ _14"> </span>the<span class="_ _16"> </span>only</div><div class="t m5 x14 h34 y2d7d ff6 fs16 fc1 sc0 ls0 ws0">critical<span class="_ _11"> </span>path<span class="_ _16"> </span>is<span class="_ _11"> </span>formed<span class="_ _16"> </span>by</div><div class="t m5 x14 h34 y504e ff6 fs16 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>decrementing<span class="_ _16"> </span>of</div><div class="t m5 x155 h3a y2a15 ffd fs19 fc1 sc0 ls0 ws0">cnt</div><div class="t m5 x14 h34 y1328 ff6 fs16 fc1 sc0 ls0 ws0">(Example<span class="_ _16"> </span>A).<span class="_ _11"> </span>When<span class="_ _16"> </span>they</div><div class="t m5 x14 h34 y1329 ff6 fs16 fc1 sc0 ls0 ws0">do<span class="_ _16"> </span>match,<span class="_ _14"> </span>the<span class="_ _16"> </span>chain<span class="_ _16"> </span>of</div><div class="t m5 x14 h34 y15f8 ff6 fs16 fc1 sc0 ls0 ws0">data<span class="_ _11"> </span>being<span class="_ _10"> </span>stored,<span class="_ _11"> </span>loaded,</div><div class="t m5 x14 h34 y5074 ff6 fs16 fc1 sc0 ls0 ws0">and<span class="_ _10"> </span>incremented<span class="_ _10"> </span>forms<span class="_ _13"> </span>the</div><div class="t m5 x14 h34 y5075 ff6 fs16 fc1 sc0 ls0 ws0">critical<span class="_ _10"> </span>path<span class="_ _11"> </span>(Example<span class="_ _10"> </span>B).</div><div class="t m5 x170 h3f y5076 ff72 fs27 fc1 sc0 ls214 ws0">s_data</div><div class="t m5 xb0 h3f y5077 ff72 fs27 fc1 sc0 ls214 ws0">load</div><div class="t m5 x94 h3f y5078 ff72 fs27 fc1 sc0 ls214 ws0">add</div><div class="t m5 x25 h3f y5076 ff72 fs27 fc1 sc0 ls214 ws0">s_data</div><div class="t m5 x15c h3f y5079 ff72 fs27 fc1 sc0 ls214 ws0">load</div><div class="t m5 x170 h3f y507a ff72 fs27 fc1 sc0 ls214 ws0">s_data</div><div class="t m5 xb0 h3f y507b ff72 fs27 fc1 sc0 ls214 ws0">load</div><div class="t m5 x94 h3f y507c ff72 fs27 fc1 sc0 ls214 ws0">add</div><div class="t m5 x225 h3f y507d ff72 fs27 fc1 sc0 ls214 ws0">sub</div><div class="t m5 x25 h3f y507a ff72 fs27 fc1 sc0 ls214 ws0">s_data</div><div class="t m5 x15c h3f y507e ff72 fs27 fc1 sc0 ls214 ws0">load</div><div class="t m5 x1a5 h3f y507c ff72 fs27 fc1 sc0 ls214 ws0">add</div><div class="t m5 x192 h3f y507d ff72 fs27 fc1 sc0 ls214 ws0">sub</div><div class="t m5 x170 h3f y507f ff72 fs27 fc1 sc0 ls214 ws0">s_data</div><div class="t m5 xb0 h3f y5080 ff72 fs27 fc1 sc0 ls214 ws0">load</div><div class="t m5 x94 h3f y5081 ff72 fs27 fc1 sc0 ls214 ws0">add</div><div class="t m5 x225 h3f y5082 ff72 fs27 fc1 sc0 ls214 ws0">sub</div><div class="t m5 x25 h3f y507f ff72 fs27 fc1 sc0 ls214 ws0">s_data</div><div class="t m5 x15c h3f y5083 ff72 fs27 fc1 sc0 ls214 ws0">load</div><div class="t m5 x1a5 h3f y5081 ff72 fs27 fc1 sc0 ls214 ws0">add</div><div class="t m5 x192 h3f y5082 ff72 fs27 fc1 sc0 ls214 ws0">sub</div><div class="t m5 x192 h3f y5084 ff72 fs27 fc1 sc0 ls214 ws0">sub<span class="_ _8d"> </span>sub</div><div class="t m5 x1a5 h3f y5078 ff72 fs27 fc1 sc0 ls214 ws0">add</div><div class="t m5 x89 h3f y5085 ff72 fs27 fc1 sc0 ls214 wsa">Example A<span class="_ _bc"> </span>Example B</div><div class="t m5 xd h3f y5086 ff72 fs27 fc1 sc0 ls214 wsa">Critical path<span class="_ _55"> </span>Critical path</div><div class="t m5 x29 h26 y5087 ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_ _14"> </span><span class="ffd">a<span class="_ _14"> </span></span>is<span class="_ _14"> </span>an<span class="_ _14"> </span>array<span class="_ _15"> </span>of<span class="_ _14"> </span>length<span class="_ _14"> </span>1,000<span class="_ _14"> </span>initialized<span class="_ _14"> </span>so<span class="_ _14"> </span>that<span class="_ _15"> </span>each<span class="_ _14"> </span>element<span class="_ _14"> </span><span class="ffd">a[<span class="ff11">i<span class="_ _5"></span></span>]</span></div><div class="t m5 x1d h26 y5088 ff7 fs19 fc1 sc0 ls0 ws0">equals<span class="_"> </span><span class="ff11">i<span class="_ _2"></span></span>.</div><div class="t m5 x124 h26 y341b ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span>What<span class="_"> </span>would<span class="_"> </span>be<span class="_"> </span>the<span class="_"> </span>effect<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>call<span class="_"> </span><span class="ffd">copy_array(a+1,a,999)</span>?</div><div class="t m5 x124 h26 y5089 ff7 fs19 fc1 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>What<span class="_"> </span>would<span class="_"> </span>be<span class="_"> </span>the<span class="_"> </span>effect<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>call<span class="_"> </span><span class="ffd">copy_array(a,a+1,999)</span>?</div><div class="t m5 x124 h26 ye54 ff7 fs19 fc1 sc0 ls0 ws0">C.<span class="_ _25"> </span>Our<span class="_"> </span>performance<span class="_ _11"> </span>measurements<span class="_ _11"> </span>indicate<span class="_"> </span>that<span class="_ _11"> </span>the<span class="_ _11"> </span>call<span class="_"> </span>of<span class="_ _11"> </span>part<span class="_ _11"> </span>A<span class="_ _11"> </span>has<span class="_"> </span>a<span class="_ _11"> </span>CPE</div><div class="t m5 x4f h26 ye55 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span>1.2<span class="_ _11"> </span>(which<span class="_"> </span>drops<span class="_ _11"> </span>to<span class="_ _11"> </span>1.0<span class="_"> </span>when<span class="_ _11"> </span>the<span class="_"> </span>loop<span class="_ _11"> </span>is<span class="_ _11"> </span>unrolled<span class="_"> </span>by<span class="_ _11"> </span>a<span class="_"> </span>factor<span class="_ _11"> </span>of<span class="_ _11"> </span>4),<span class="_"> </span>while</div><div class="t m5 x4f h26 ye56 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _14"> </span>call<span class="_ _15"> </span>of<span class="_ _15"> </span>part<span class="_ _15"> </span>B<span class="_ _15"> </span>has<span class="_ _14"> </span>a<span class="_ _15"> </span>CPE<span class="_ _15"> </span>of<span class="_ _15"> </span>5.0.<span class="_ _14"> </span>T<span class="_ _3"></span>o<span class="_ _15"> </span>what<span class="_ _15"> </span>factor<span class="_ _14"> </span>do<span class="_ _15"> </span>you<span class="_ _15"> </span>attribute<span class="_ _15"> </span>this</div><div class="t m5 x4f h26 ye57 ff7 fs19 fc1 sc0 ls0 ws0">performance<span class="_"> </span>difference?</div><div class="t m5 x124 h26 y508a ff7 fs19 fc1 sc0 ls0 ws0">D<span class="_ _3"></span>.<span class="_ _23"> </span>What<span class="_"> </span>performance<span class="_"> </span>would<span class="_"> </span>you<span class="_"> </span>expect<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>call<span class="_"> </span><span class="ffd">copy_array(a,a,999)</span>?</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
