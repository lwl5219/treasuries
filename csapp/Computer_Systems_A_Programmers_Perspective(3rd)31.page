<div id="pf1f" class="pf w2 h11" data-page-no="1f"><div class="pc pc1f w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1f.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">30<span class="_ _1b"> </span><span class="ff6 fs1f">Preface</span></div><div class="t m5 x1d h29 ye7 ffe fs14 fc2 sc0 ls0 ws0">For<span class="_"> </span>Instructors:<span class="_"> </span>Classroom-T<span class="_ _3"></span>ested<span class="_"> </span>Laboratory<span class="_"> </span>Exercises</div><div class="t m5 x1d h26 y327 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>ICS+<span class="_ _13"> </span>course<span class="_ _6"> </span>at<span class="_ _13"> </span>Carnegie<span class="_ _6"> </span>Mellon<span class="_ _13"> </span>receives<span class="_ _13"> </span>very<span class="_ _6"> </span>high<span class="_ _13"> </span>evaluations<span class="_ _6"> </span>from<span class="_ _13"> </span>students<span class="_ _1"></span>.</div><div class="t m5 x1d h26 y328 ff7 fs19 fc2 sc0 ls0 ws0">Median<span class="_ _11"> </span>scores<span class="_ _11"> </span>of<span class="_ _11"> </span>5<span class="ff11">.</span>0<span class="ff11">/</span>5<span class="_ _0"></span><span class="ff11">.<span class="ff7">0<span class="_ _11"> </span>and<span class="_ _11"> </span>means<span class="_ _11"> </span>of<span class="_ _11"> </span>4</span>.<span class="ff7">6</span>/<span class="ff7">5</span>.<span class="ff7">0<span class="_ _11"> </span>are<span class="_ _11"> </span>typical<span class="_ _11"> </span>for<span class="_ _11"> </span>the<span class="_ _11"> </span>student<span class="_ _11"> </span>course</span></span></div><div class="t m5 x1d h26 y329 ff7 fs19 fc2 sc0 ls0 ws0">evaluations<span class="_ _1"></span>.<span class="_ _16"> </span>Students<span class="_ _16"> </span>cite<span class="_ _11"> </span>the<span class="_ _16"> </span>fun,<span class="_ _14"> </span>exciting,<span class="_ _11"> </span>and<span class="_ _16"> </span>relevant<span class="_ _16"> </span>laboratory<span class="_ _16"> </span>exercises<span class="_ _16"> </span>as</div><div class="t m5 x1d h26 y32a ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>primary<span class="_"> </span>reason.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span>labs<span class="_"> </span>are<span class="_"> </span>available<span class="_"> </span>from<span class="_"> </span>the<span class="_ _13"> </span>CS:APP<span class="_"> </span>W<span class="_ _1"></span>eb<span class="_"> </span>page<span class="_ _1"></span>.<span class="_"> </span>Here<span class="_"> </span>are</div><div class="t m5 x1d h26 y32b ff7 fs19 fc2 sc0 ls0 ws0">examples<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>labs<span class="_"> </span>that<span class="_"> </span>are<span class="_"> </span>provided<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>book.</div><div class="t m5 x1d h26 y3bc ffa fs19 fc2 sc0 ls0 ws0">Data<span class="_"> </span>Lab<span class="_ _1"></span>.<span class="_ _f"> </span><span class="ff7">T<span class="_ _1"></span>his<span class="_ _11"> </span>lab<span class="_ _11"> </span>requires<span class="_"> </span>students<span class="_ _11"> </span>to<span class="_ _11"> </span>implement<span class="_"> </span>simple<span class="_ _11"> </span>logical<span class="_ _11"> </span>and<span class="_"> </span>arithmetic</span></div><div class="t m5 x32 h26 y3bd ff7 fs19 fc2 sc0 ls0 ws0">functions<span class="_ _1"></span>,<span class="_"> </span>but<span class="_"> </span>using<span class="_"> </span>a<span class="_"> </span>highly<span class="_ _11"> </span>restricted<span class="_"> </span>subset<span class="_"> </span>of<span class="_"> </span>C.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _0"></span>,<span class="_"> </span>they<span class="_"> </span>must</div><div class="t m5 x32 h26 y3be ff7 fs19 fc2 sc0 ls0 ws0">compute<span class="_ _6"> </span>the<span class="_ _13"> </span>absolute<span class="_ _6"> </span>value<span class="_ _13"> </span>of<span class="_ _6"> </span>a<span class="_ _6"> </span>number<span class="_ _13"> </span>using<span class="_ _6"> </span>only<span class="_ _13"> </span>bit-level<span class="_ _a"> </span>operations<span class="_ _0"></span>.<span class="_ _6"> </span>This</div><div class="t m5 x32 h26 y3bf ff7 fs19 fc2 sc0 ls0 ws0">lab<span class="_"> </span>helps<span class="_ _11"> </span>students<span class="_"> </span>understand<span class="_ _11"> </span>the<span class="_"> </span>bit-level<span class="_ _11"> </span>representations<span class="_"> </span>of<span class="_ _11"> </span>C<span class="_"> </span>data<span class="_ _11"> </span>types</div><div class="t m5 x32 h26 y3c0 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_"> </span>the<span class="_"> </span>bit-level<span class="_"> </span>behavior<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>operations<span class="_"> </span>on<span class="_"> </span>data.</div><div class="t m5 x1d h26 y3c1 ffa fs19 fc2 sc0 ls0 ws0">Binary<span class="_ _13"> </span>Bomb<span class="_ _13"> </span>Lab<span class="_ _3"></span>.<span class="_ _21"> </span><span class="ff7">A<span class="_ _13"> </span></span>binary<span class="_ _13"> </span>bomb<span class="_ _6"> </span><span class="ff7">is<span class="_ _13"> </span>a<span class="_ _13"> </span>program<span class="_ _13"> </span>provided<span class="_ _13"> </span>to<span class="_ _6"> </span>students<span class="_ _13"> </span>as<span class="_ _13"> </span>an<span class="_ _13"> </span>object-</span></div><div class="t m5 x32 h26 y3c2 ff7 fs19 fc2 sc0 ls0 ws0">code<span class="_ _16"> </span>ﬁle<span class="_ _0"></span>.<span class="_ _16"> </span>When<span class="_ _16"> </span>run,<span class="_ _16"> </span>it<span class="_ _16"> </span>prompts<span class="_ _16"> </span>the<span class="_ _14"> </span>user<span class="_ _16"> </span>to<span class="_ _16"> </span>type<span class="_ _16"> </span>in<span class="_ _16"> </span>six<span class="_ _16"> </span>different<span class="_ _14"> </span>strings<span class="_ _1"></span>.<span class="_ _16"> </span>If</div><div class="t m5 x32 h26 y3c3 ff7 fs19 fc2 sc0 ls0 ws0">any<span class="_"> </span>of<span class="_"> </span>these<span class="_"> </span>are<span class="_"> </span>incorrect,<span class="_"> </span>the<span class="_"> </span>bomb<span class="_"> </span>“explodes<span class="_ _1"></span>,<span class="_ _1"></span>”<span class="_"> </span>printing<span class="_"> </span>an<span class="_"> </span>error<span class="_"> </span>message</div><div class="t m5 x32 h26 y3c4 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_ _14"> </span>logging<span class="_ _15"> </span>the<span class="_ _15"> </span>event<span class="_ _15"> </span>on<span class="_ _15"> </span>a<span class="_ _15"> </span>grading<span class="_ _15"> </span>server.<span class="_ _14"> </span>Students<span class="_ _15"> </span>must<span class="_ _15"> </span>“defuse”<span class="_ _14"> </span>their</div><div class="t m5 x32 h26 y3c5 ff7 fs19 fc2 sc0 ls0 ws0">own<span class="_"> </span>unique<span class="_ _13"> </span>bombs<span class="_"> </span>by<span class="_ _13"> </span>disassembling<span class="_"> </span>and<span class="_ _13"> </span>reverse<span class="_"> </span>engineering<span class="_ _13"> </span>the<span class="_"> </span>programs</div><div class="t m5 x32 h26 y3c6 ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_ _15"> </span>determine<span class="_ _14"> </span>what<span class="_ _15"> </span>the<span class="_ _15"> </span>six<span class="_ _15"> </span>strings<span class="_ _15"> </span>should<span class="_ _15"> </span>be.<span class="_ _14"> </span>T<span class="_ _1"></span>he<span class="_ _15"> </span>lab<span class="_ _15"> </span>teaches<span class="_ _15"> </span>students<span class="_ _15"> </span>to</div><div class="t m5 x32 h26 y3c7 ff7 fs19 fc2 sc0 ls0 ws0">understand<span class="_ _11"> </span>assembly<span class="_ _16"> </span>language<span class="_ _11"> </span>and<span class="_ _16"> </span>also<span class="_ _11"> </span>forces<span class="_ _16"> </span>them<span class="_ _11"> </span>to<span class="_ _16"> </span>learn<span class="_ _11"> </span>how<span class="_ _11"> </span>to<span class="_ _16"> </span>use<span class="_ _11"> </span>a</div><div class="t m5 x32 h26 y3c8 ff7 fs19 fc2 sc0 ls0 ws0">debugger.</div><div class="t m5 x1d h26 y3c9 ffa fs19 fc2 sc0 ls0 ws0">Buffer<span class="_ _11"> </span>Overﬂow<span class="_ _11"> </span>Lab<span class="_ _1"></span>.<span class="_ _f"> </span><span class="ff7">Students<span class="_ _11"> </span>are<span class="_ _16"> </span>required<span class="_ _11"> </span>to<span class="_ _16"> </span>modify<span class="_ _11"> </span>the<span class="_ _11"> </span>run-time<span class="_ _16"> </span>behavior<span class="_ _11"> </span>of</span></div><div class="t m5 x32 h26 y3ca ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _16"> </span>binary<span class="_ _11"> </span>executable<span class="_ _16"> </span>by<span class="_ _16"> </span>exploiting<span class="_ _16"> </span>a<span class="_ _16"> </span>buffer<span class="_ _11"> </span>overﬂow<span class="_ _16"> </span>vulnerability<span class="_ _3"></span>.<span class="_ _16"> </span>T<span class="_ _1"></span>his<span class="_ _16"> </span>lab</div><div class="t m5 x32 h26 y3cb ff7 fs19 fc2 sc0 ls0 ws0">teaches<span class="_ _15"> </span>the<span class="_ _21"> </span>students<span class="_ _21"> </span>about<span class="_ _21"> </span>the<span class="_ _21"> </span>stack<span class="_ _21"> </span>discipline<span class="_ _15"> </span>and<span class="_ _21"> </span>about<span class="_ _21"> </span>the<span class="_ _21"> </span>danger<span class="_ _21"> </span>of</div><div class="t m5 x32 h26 y3cc ff7 fs19 fc2 sc0 ls0 ws0">writing<span class="_"> </span>code<span class="_"> </span>that<span class="_"> </span>is<span class="_"> </span>vulnerable<span class="_"> </span>to<span class="_"> </span>buffer<span class="_"> </span>overﬂow<span class="_"> </span>attacks<span class="_ _1"></span>.</div><div class="t m5 x1d h26 y3cd ffa fs19 fc2 sc0 ls0 ws0">Architecture<span class="_ _11"> </span>Lab<span class="_ _1"></span>.<span class="_ _21"> </span><span class="ff7">Several<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>homework<span class="_ _11"> </span>problems<span class="_ _16"> </span>of<span class="_ _11"> </span>Chapter<span class="_ _16"> </span>4<span class="_ _11"> </span>can<span class="_ _16"> </span>be<span class="_ _11"> </span>com-</span></div><div class="t m5 x32 h26 y3ce ff7 fs19 fc2 sc0 ls0 ws0">bined<span class="_ _13"> </span>into<span class="_"> </span>a<span class="_ _13"> </span>lab<span class="_"> </span>assignment,<span class="_ _13"> </span>where<span class="_"> </span>students<span class="_ _13"> </span>modify<span class="_"> </span>the<span class="_ _13"> </span>HCL<span class="_"> </span>description<span class="_ _13"> </span>of</div><div class="t m5 x32 h26 y3cf ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _13"> </span>processor<span class="_"> </span>to<span class="_ _13"> </span>add<span class="_ _13"> </span>new<span class="_"> </span>instructions<span class="_ _3"></span>,<span class="_"> </span>change<span class="_ _13"> </span>the<span class="_"> </span>branch<span class="_ _13"> </span>prediction<span class="_ _13"> </span>policy<span class="_ _3"></span>,<span class="_ _13"> </span>or</div><div class="t m5 x32 h26 y3d0 ff7 fs19 fc2 sc0 ls0 ws0">add<span class="_"> </span>or<span class="_"> </span>remove<span class="_"> </span>bypassing<span class="_"> </span>paths<span class="_"> </span>and<span class="_"> </span>register<span class="_"> </span>ports<span class="_ _3"></span>.<span class="_"> </span>The<span class="_ _13"> </span>resulting<span class="_"> </span>processors</div><div class="t m5 x32 h26 y3d1 ff7 fs19 fc2 sc0 ls0 ws0">can<span class="_ _11"> </span>be<span class="_ _11"> </span>simulated<span class="_ _11"> </span>and<span class="_"> </span>run<span class="_ _11"> </span>through<span class="_ _11"> </span>automated<span class="_ _11"> </span>tests<span class="_ _11"> </span>that<span class="_ _11"> </span>will<span class="_ _11"> </span>detect<span class="_ _11"> </span>most<span class="_ _11"> </span>of</div><div class="t m5 x32 h26 y3d2 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _13"> </span>possible<span class="_ _13"> </span>bugs<span class="_ _1"></span>.<span class="_ _13"> </span>T<span class="_ _0"></span>his<span class="_ _13"> </span>lab<span class="_ _13"> </span>lets<span class="_ _13"> </span>students<span class="_ _13"> </span>experience<span class="_ _13"> </span>the<span class="_ _13"> </span>exciting<span class="_ _13"> </span>parts<span class="_ _13"> </span>of<span class="_ _13"> </span>pro-</div><div class="t m5 x32 h26 y3d3 ff7 fs19 fc2 sc0 ls0 ws0">cessor<span class="_"> </span>design<span class="_"> </span>without<span class="_"> </span>requiring<span class="_"> </span>a<span class="_"> </span>complete<span class="_"> </span>background<span class="_"> </span>in<span class="_"> </span>logic<span class="_ _13"> </span>design<span class="_"> </span>and</div><div class="t m5 x32 h26 y3d4 ff7 fs19 fc2 sc0 ls0 ws0">hardware<span class="_"> </span>description<span class="_"> </span>languages<span class="_ _1"></span>.</div><div class="t m5 x1d h26 y3d5 ffa fs19 fc2 sc0 ls0 ws0">P<span class="_ _1"></span>erformance<span class="_ _13"> </span>Lab<span class="_ _1"></span>.<span class="_ _21"> </span><span class="ff7">Students<span class="_ _13"> </span>must<span class="_ _13"> </span>optimize<span class="_ _13"> </span>the<span class="_ _13"> </span>performance<span class="_ _13"> </span>of<span class="_ _13"> </span>an<span class="_ _13"> </span>application<span class="_ _13"> </span>ker<span class="_ _1"></span>-</span></div><div class="t m5 x32 h26 y3d6 ff7 fs19 fc2 sc0 ls0 ws0">nel<span class="_"> </span>function<span class="_ _11"> </span>such<span class="_"> </span>as<span class="_ _11"> </span>convolution<span class="_"> </span>or<span class="_ _11"> </span>matrix<span class="_ _11"> </span>transposition.<span class="_"> </span>T<span class="_ _0"></span>his<span class="_"> </span>lab<span class="_ _11"> </span>provides</div><div class="t m5 x32 h26 y3d7 ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _11"> </span>very<span class="_ _16"> </span>clear<span class="_ _11"> </span>demonstration<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>properties<span class="_ _11"> </span>of<span class="_ _16"> </span>cache<span class="_ _11"> </span>memories<span class="_ _16"> </span>and<span class="_ _11"> </span>gives</div><div class="t m5 x32 h26 y3d8 ff7 fs19 fc2 sc0 ls0 ws0">students<span class="_"> </span>experience<span class="_"> </span>with<span class="_"> </span>low-level<span class="_"> </span>program<span class="_"> </span>optimization.</div><div class="t m5 x1d h26 y3d9 ffa fs19 fc2 sc0 ls0 ws0">Cache<span class="_ _11"> </span>Lab<span class="_ _1"></span>.<span class="_ _21"> </span><span class="ff7">In<span class="_ _16"> </span>this<span class="_ _16"> </span>alternative<span class="_ _11"> </span>to<span class="_ _16"> </span>the<span class="_ _16"> </span>performance<span class="_ _11"> </span>lab,<span class="_ _11"> </span>students<span class="_ _16"> </span>write<span class="_ _16"> </span>a<span class="_ _11"> </span>general-</span></div><div class="t m5 x32 h26 y3da ff7 fs19 fc2 sc0 ls0 ws0">purpose<span class="_ _13"> </span>cache<span class="_ _13"> </span>simulator,<span class="_ _13"> </span>and<span class="_ _13"> </span>then<span class="_ _13"> </span>optimize<span class="_ _13"> </span>a<span class="_ _13"> </span>small<span class="_ _13"> </span>matrix<span class="_ _13"> </span>transpose<span class="_ _13"> </span>kernel</div><div class="t m5 x32 h26 y3db ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_ _13"> </span>minimize<span class="_ _6"> </span>the<span class="_ _13"> </span>number<span class="_ _13"> </span>of<span class="_ _6"> </span>misses<span class="_ _13"> </span>on<span class="_ _13"> </span>a<span class="_ _6"> </span>simulated<span class="_ _13"> </span>cache<span class="_ _1"></span>.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>use<span class="_ _13"> </span>the<span class="_ _6"> </span>V<span class="_ _3"></span>algrind</div><div class="t m5 x32 h26 y3dc ff7 fs19 fc2 sc0 ls0 ws0">tool<span class="_"> </span>to<span class="_"> </span>generate<span class="_"> </span>real<span class="_"> </span>address<span class="_"> </span>traces<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>matrix<span class="_"> </span>transpose<span class="_"> </span>kernel.</div><div class="t m5 x1d h26 y3dd ffa fs19 fc2 sc0 ls0 ws0">Shell<span class="_ _14"> </span>Lab<span class="_ _1"></span>.<span class="_ _21"> </span><span class="ff7">Students<span class="_ _14"> </span>implement<span class="_ _14"> </span>their<span class="_ _14"> </span>own<span class="_ _14"> </span>Unix<span class="_ _14"> </span>shell<span class="_ _14"> </span>program<span class="_ _14"> </span>with<span class="_ _14"> </span>job<span class="_ _14"> </span>control,</span></div><div class="t m5 x32 h26 y3de ff7 fs19 fc2 sc0 ls0 ws0">including<span class="_"> </span>the<span class="_"> </span>Ctrl+C<span class="_"> </span>and<span class="_"> </span>Ctrl+Z<span class="_"> </span>keystrokes<span class="_"> </span>and<span class="_"> </span>the<span class="_ _13"> </span><span class="ffd">fg</span>,<span class="_"> </span><span class="ffd">bg</span>,<span class="_"> </span>and<span class="_"> </span><span class="ffd">jobs<span class="_ _10"> </span></span>com-</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
