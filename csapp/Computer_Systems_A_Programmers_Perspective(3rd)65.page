<div id="pf41" class="pf w2 h11" data-page-no="41"><div class="pc pc41 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg41.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">64<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>1<span class="_ _3d"> </span>A<span class="_ _10"> </span>T<span class="_ _3"></span>our<span class="_ _10"> </span>of<span class="_ _10"> </span>Computer<span class="_ _10"> </span>Systems</span></div><div class="t m5 x1d h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">hierarchy<span class="_ _3"></span>.<span class="_"> </span>Storage<span class="_"> </span>devices<span class="_ _13"> </span>that<span class="_"> </span>are<span class="_"> </span>higher<span class="_"> </span>in<span class="_"> </span>the<span class="_ _13"> </span>hierarchy<span class="_"> </span>serve<span class="_"> </span>as<span class="_"> </span>caches<span class="_"> </span>for<span class="_"> </span>de-</div><div class="t m5 x1d h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">vices<span class="_"> </span>that<span class="_ _13"> </span>are<span class="_"> </span>lower<span class="_ _13"> </span>in<span class="_"> </span>the<span class="_"> </span>hierarchy<span class="_ _7"></span>.<span class="_"> </span>Programmers<span class="_ _13"> </span>can<span class="_"> </span>optimize<span class="_"> </span>the<span class="_ _13"> </span>performance</div><div class="t m5 x1d h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>their<span class="_"> </span>C<span class="_"> </span>programs<span class="_"> </span>by<span class="_"> </span>understanding<span class="_"> </span>and<span class="_"> </span>exploiting<span class="_"> </span>the<span class="_"> </span>memory<span class="_"> </span>hierarchy<span class="_ _3"></span>.</div><div class="t m5 x29 h26 y2f7 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _11"> </span>operating<span class="_ _11"> </span>system<span class="_ _11"> </span>kernel<span class="_"> </span>serves<span class="_ _11"> </span>as<span class="_ _11"> </span>an<span class="_ _11"> </span>intermediary<span class="_"> </span>between<span class="_ _11"> </span>the<span class="_ _11"> </span>applica-</div><div class="t m5 x1d h26 y2f8 ff7 fs19 fc2 sc0 ls0 ws0">tion<span class="_ _16"> </span>and<span class="_ _11"> </span>the<span class="_ _16"> </span>hardware<span class="_ _0"></span>.<span class="_ _16"> </span>It<span class="_ _11"> </span>provides<span class="_ _16"> </span>three<span class="_ _16"> </span>fundamental<span class="_ _16"> </span>abstractions:<span class="_ _16"> </span>(1)<span class="_ _11"> </span>Files<span class="_ _11"> </span>are</div><div class="t m5 x1d h26 y2f9 ff7 fs19 fc2 sc0 ls0 ws0">abstractions<span class="_ _11"> </span>for<span class="_ _16"> </span>I/O<span class="_ _11"> </span>devices<span class="_ _1"></span>.<span class="_ _11"> </span>(2)<span class="_ _16"> </span>V<span class="_ _1"></span>irtual<span class="_ _11"> </span>memory<span class="_ _16"> </span>is<span class="_ _11"> </span>an<span class="_ _11"> </span>abstraction<span class="_ _16"> </span>for<span class="_ _11"> </span>both<span class="_ _11"> </span>main</div><div class="t m5 x1d h26 y2fa ff7 fs19 fc2 sc0 ls0 ws0">memory<span class="_ _13"> </span>and<span class="_ _13"> </span>disks<span class="_ _3"></span>.<span class="_ _13"> </span>(3)<span class="_ _13"> </span>Processes<span class="_ _13"> </span>are<span class="_ _13"> </span>abstractions<span class="_ _13"> </span>for<span class="_ _13"> </span>the<span class="_ _13"> </span>processor<span class="_ _0"></span>,<span class="_ _13"> </span>main<span class="_ _13"> </span>memory<span class="_ _3"></span>,</div><div class="t m5 x1d h26 y2fb ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_"> </span>I/O<span class="_"> </span>devices<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y2fc ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>inally<span class="_ _3"></span>,<span class="_ _15"> </span>networks<span class="_ _16"> </span>provide<span class="_ _14"> </span>ways<span class="_ _14"> </span>for<span class="_ _16"> </span>computer<span class="_ _14"> </span>systems<span class="_ _14"> </span>to<span class="_ _14"> </span>communicate<span class="_ _16"> </span>with</div><div class="t m5 x1d h26 y2fd ff7 fs19 fc2 sc0 ls0 ws0">one<span class="_ _6"> </span>another.<span class="_ _6"> </span>F<span class="_ _0"></span>rom<span class="_ _6"> </span>the<span class="_ _6"> </span>viewpoint<span class="_ _13"> </span>of<span class="_ _a"> </span>a<span class="_ _13"> </span>particular<span class="_ _a"> </span>system,<span class="_ _13"> </span>the<span class="_ _6"> </span>network<span class="_ _6"> </span>is<span class="_ _13"> </span>just<span class="_ _a"> </span>another</div><div class="t m5 x1d h26 y2fe ff7 fs19 fc2 sc0 ls0 ws0">I/O<span class="_"> </span>device<span class="_ _1"></span>.</div><div class="t m5 x1d h29 y906 ffe fs14 fc2 sc0 ls0 ws0">Bibliographic<span class="_"> </span>Notes</div><div class="t m5 x1d h26 y907 ff7 fs19 fc2 sc0 ls0 ws0">Ritchie<span class="_ _f"> </span>has<span class="_ _f"> </span>written<span class="_ _e"> </span>interesting<span class="_ _21"> </span>ﬁrsthand<span class="_ _e"> </span>accounts<span class="_ _21"> </span>of<span class="_ _e"> </span>the<span class="_ _21"> </span>early<span class="_ _e"> </span>days<span class="_ _21"> </span>of<span class="_ _e"> </span>C<span class="_ _21"> </span>and</div><div class="t m5 x1d h26 y908 ff7 fs19 fc2 sc0 ls0 ws0">Unix<span class="_ _15"> </span>[91,<span class="_ _21"> </span>92].<span class="_ _21"> </span>Ritchie<span class="_ _15"> </span>and<span class="_ _15"> </span>T<span class="_ _0"></span>hompson<span class="_ _15"> </span>presented<span class="_ _15"> </span>the<span class="_ _15"> </span>ﬁrst<span class="_ _21"> </span>published<span class="_ _15"> </span>account<span class="_ _15"> </span>of</div><div class="t m5 x1d h26 y909 ff7 fs19 fc2 sc0 ls0 ws0">Unix<span class="_ _13"> </span>[93].<span class="_ _13"> </span>Silberschatz,<span class="_ _13"> </span>Galvin,<span class="_ _13"> </span>and<span class="_ _13"> </span>Gagne<span class="_ _13"> </span>[102]<span class="_ _13"> </span>provide<span class="_ _13"> </span>a<span class="_ _13"> </span>comprehensive<span class="_ _13"> </span>history</div><div class="t m5 x1d h26 y90a ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>the<span class="_"> </span>different<span class="_"> </span>ﬂavors<span class="_"> </span>of<span class="_"> </span>Unix.<span class="_"> </span>The<span class="_"> </span>GNU<span class="_"> </span>(www.gnu.org)<span class="_"> </span>and<span class="_"> </span>Linux<span class="_"> </span>(www.linux</div><div class="t m5 x1d h26 y90b ff7 fs19 fc2 sc0 ls0 ws0">.org)<span class="_ _f"> </span>W<span class="_ _1"></span>eb<span class="_ _f"> </span>pages<span class="_ _e"> </span>have<span class="_ _f"> </span>loads<span class="_ _e"> </span>of<span class="_ _f"> </span>current<span class="_ _f"> </span>and<span class="_ _e"> </span>historical<span class="_ _f"> </span>information.<span class="_ _e"> </span>T<span class="_ _1"></span>he<span class="_ _f"> </span>Posix</div><div class="t m5 x1d h26 y90c ff7 fs19 fc2 sc0 ls0 ws0">standards<span class="_"> </span>are<span class="_"> </span>available<span class="_"> </span>online<span class="_"> </span>at<span class="_"> </span>(www.unix.org).</div><div class="t m5 x1d h29 y90d ffe fs14 fc2 sc0 ls0 ws0">Solutions<span class="_"> </span>to<span class="_"> </span>Practice<span class="_"> </span>Problems</div><div class="t m5 x1d h28 y90e ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>1.1<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>58)</span></div><div class="t m5 x1d h26 y90f ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _14"> </span>problem<span class="_ _14"> </span>illustrates<span class="_ _14"> </span>that<span class="_ _14"> </span>Amdahl’s<span class="_ _16"> </span>law<span class="_ _14"> </span>applies<span class="_ _14"> </span>to<span class="_ _16"> </span>more<span class="_ _14"> </span>than<span class="_ _14"> </span>just<span class="_ _14"> </span>computer</div><div class="t m5 x1d h26 y910 ff7 fs19 fc1 sc0 ls0 ws0">systems<span class="_ _1"></span>.</div><div class="t m5 x124 h46 y911 ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span>In<span class="_"> </span>terms<span class="_ _13"> </span>of<span class="_"> </span>Equation<span class="_ _13"> </span>1.1,<span class="_"> </span>we<span class="_ _13"> </span>have<span class="_"> </span><span class="ff11">α<span class="_ _10"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>0<span class="ff11">.</span>6<span class="_ _13"> </span>and<span class="_"> </span><span class="ff11">k<span class="_ _10"> </span><span class="ff12">=<span class="_ _13"></span></span></span>1<span class="_ _0"></span><span class="ff11">.<span class="ff7">5<span class="_ _0"></span>.<span class="_"> </span>More<span class="_ _13"> </span>directly<span class="_ _3"></span>,<span class="_"> </span>travel-</span></span></div><div class="t m5 x4f h26 y912 ff7 fs19 fc1 sc0 ls0 ws0">ing<span class="_ _13"> </span>the<span class="_ _13"> </span>1,500<span class="_ _13"> </span>kilometers<span class="_ _13"> </span>through<span class="_ _13"> </span>Montana<span class="_ _13"> </span>will<span class="_ _13"> </span>require<span class="_ _13"> </span>10<span class="_"> </span>hours<span class="_ _3"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>the<span class="_"> </span>rest</div><div class="t m5 x4f h46 y913 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span>the<span class="_ _13"> </span>trip<span class="_"> </span>also<span class="_"> </span>requires<span class="_ _13"> </span>10<span class="_"> </span>hours<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _1"></span>his<span class="_"> </span>will<span class="_"> </span>give<span class="_ _13"> </span>a<span class="_"> </span>speedup<span class="_"> </span>of<span class="_ _13"> </span>25<span class="ff11">/(</span>10<span class="_ _13"> </span><span class="ff12">+<span class="_ _10"> </span></span>10<span class="ff11">)<span class="_ _13"> </span><span class="ff12">=</span></span></div><div class="t m5 x4f h46 y914 ff7 fs19 fc1 sc0 ls0 ws0">1<span class="_ _1"></span><span class="ff11">.<span class="ff7">25<span class="ff12">×</span>.</span></span></div><div class="t m5 x124 h46 y915 ff7 fs19 fc1 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>In<span class="_ _14"> </span>terms<span class="_ _16"> </span>of<span class="_ _16"> </span>Equation<span class="_ _14"> </span>1.1,<span class="_ _14"> </span>we<span class="_ _16"> </span>have<span class="_ _14"> </span><span class="ff11">α<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>0<span class="ff11">.</span><span class="ls17">6,<span class="_ _16"> </span>and<span class="_ _14"> </span>we<span class="_ _16"> </span>require<span class="_ _14"> </span></span><span class="ff11">S<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>1<span class="_ _1"></span><span class="ff11">.<span class="ff7 ls18">67,<span class="_ _14"> </span>from</span></span></div><div class="t m5 x4f h46 y916 ff7 fs19 fc1 sc0 ls0 ws0">which<span class="_ _16"> </span>we<span class="_ _11"> </span>can<span class="_ _16"> </span>solve<span class="_ _16"> </span>for<span class="_ _11"> </span><span class="ff11">k<span class="_ _2"></span></span>.<span class="_ _16"> </span>More<span class="_ _16"> </span>directly<span class="_ _7"></span>,<span class="_ _16"> </span>to<span class="_ _16"> </span>speed<span class="_ _16"> </span>up<span class="_ _11"> </span>the<span class="_ _16"> </span>trip<span class="_ _16"> </span>by<span class="_ _11"> </span>1<span class="_ _0"></span><span class="ff11">.<span class="ff7">67<span class="ff12">×</span><span class="ls19">,w<span class="_ _42"></span>e</span></span></span></div><div class="t m5 x4f h26 y917 ff7 fs19 fc1 sc0 ls0 ws0">must<span class="_ _16"> </span>decrease<span class="_ _16"> </span>the<span class="_ _16"> </span>overall<span class="_ _16"> </span>time<span class="_ _16"> </span>to<span class="_ _16"> </span>15<span class="_ _16"> </span>hours<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _0"></span>he<span class="_ _16"> </span>parts<span class="_ _16"> </span>outside<span class="_ _16"> </span>of<span class="_ _16"> </span>Montana</div><div class="t m5 x4f h26 y918 ff7 fs19 fc1 sc0 ls0 ws0">will<span class="_ _14"> </span>still<span class="_ _14"> </span>require<span class="_ _14"> </span>10<span class="_ _15"> </span>hours<span class="_ _1"></span>,<span class="_ _15"> </span>so<span class="_ _14"> </span>we<span class="_ _15"> </span>must<span class="_ _14"> </span>drive<span class="_ _14"> </span>through<span class="_ _14"> </span>Montana<span class="_ _15"> </span>in<span class="_ _14"> </span>5<span class="_ _14"> </span>hours<span class="_ _1"></span>.</div><div class="t m5 x4f h26 y919 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span>requires<span class="_"> </span>traveling<span class="_"> </span>at<span class="_"> </span>300<span class="_"> </span>km/hr,<span class="_"> </span>which<span class="_"> </span>is<span class="_"> </span>pretty<span class="_"> </span>fast<span class="_"> </span>for<span class="_"> </span>a<span class="_"> </span>truck!</div><div class="t m5 x1d h28 y91a ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>1.2<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>59)</span></div><div class="t m5 x1d h26 y91b ff7 fs19 fc1 sc0 ls0 ws0">Amdahl’s<span class="_ _16"> </span>law<span class="_ _16"> </span>is<span class="_ _14"> </span>best<span class="_ _16"> </span>understood<span class="_ _14"> </span>by<span class="_ _16"> </span>working<span class="_ _14"> </span>through<span class="_ _14"> </span>some<span class="_ _16"> </span>examples<span class="_ _1"></span>.<span class="_ _14"> </span>T<span class="_ _1"></span>his<span class="_ _14"> </span>one</div><div class="t m5 x1d h26 y91c ff7 fs19 fc1 sc0 ls0 ws0">requires<span class="_ _11"> </span>you<span class="_ _11"> </span>to<span class="_ _16"> </span>look<span class="_"> </span>at<span class="_ _16"> </span>Equation<span class="_ _11"> </span>1.1<span class="_ _11"> </span>from<span class="_ _11"> </span>an<span class="_ _16"> </span>unusual<span class="_"> </span>perspective.<span class="_"> </span>This<span class="_"> </span>problem</div><div class="t m5 x1d h46 y91d ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_"> </span>a<span class="_"> </span>simple<span class="_"> </span>application<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>equation.<span class="_ _11"> </span>Y<span class="_ _3"></span>ou<span class="_"> </span>are<span class="_"> </span>given<span class="_"> </span><span class="ff11">S<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>4<span class="_"> </span>and<span class="_"> </span><span class="ff11">α<span class="_ _10"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>0<span class="ff11">.</span><span class="ls1a">9,<span class="_"> </span>and<span class="_"> </span>you</span></div><div class="t m5 x1d h26 y91e ff7 fs19 fc1 sc0 ls0 ws0">must<span class="_"> </span>then<span class="_"> </span>solve<span class="_"> </span>for<span class="_"> </span><span class="ff11">k<span class="_ _2"></span></span>:</div><div class="t m5 xfc h46 y91f ff7 fs19 fc1 sc0 ls0 ws0">4<span class="_ _13"> </span><span class="ff12">=<span class="_ _10"> </span></span>1<span class="_ _1"></span><span class="ff11">/(<span class="ff7">1<span class="_ _13"> </span><span class="ff12">−<span class="_ _13"></span></span>0</span>.<span class="ff7">9</span>)<span class="_ _10"> </span><span class="ff12">+<span class="_ _13"></span><span class="ff7">0</span></span>.<span class="ff7">9</span><span class="ls1b">/k</span></span></div><div class="t m5 x125 h46 y920 ff7 fs19 fc1 sc0 ls0 ws0">0<span class="ff11">.</span>4<span class="_"> </span><span class="ff12">+<span class="_ _13"></span></span>3<span class="ff11">.</span>6<span class="_ _0"></span><span class="ff11 ls1b">/k<span class="_ _6"> </span><span class="ff12 ls0">=<span class="_ _10"> </span><span class="ff7">1<span class="_ _1"></span><span class="ff11">.<span class="ff7">0</span></span></span></span></span></div><div class="t m5 xfc h46 y921 ff11 fs19 fc1 sc0 ls0 ws0">k<span class="_ _10"> </span><span class="ff12">=<span class="_ _10"> </span><span class="ff7">6</span></span>.<span class="ff7">0</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
