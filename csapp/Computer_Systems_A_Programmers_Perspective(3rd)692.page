<div id="pf2b4" class="pf w2 h11" data-page-no="2b4"><div class="pc pc2b4 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2b4.png"/><div class="t m5 x5f h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Homework<span class="_ _10"> </span>Problems<span class="_ _1b"> </span><span class="ffe fs1e">691</span></div><div class="t m5 x2c h2d ye7 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _20"> </span><span class="ffd fs1e fc2">int<span class="_ _e"> </span>sum<span class="_ _1f"> </span>=<span class="_ _1f"> </span>0;</span></div><div class="t m5 x2c h2e yc4d ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x2c h2e y5c27 ff6 fs20 fc6 sc0 ls0 ws0">5</div><div class="t m5 x142 h2d yecb ffd fs1e fc2 sc0 ls0 ws0">for<span class="_ _e"> </span>(i<span class="_ _1f"> </span>=<span class="_ _1f"> </span>0;<span class="_ _e"> </span>i<span class="_ _1f"> </span>&lt;<span class="_ _e"> </span>128;<span class="_ _1f"> </span>i++)<span class="_ _1f"> </span>{</div><div class="t m5 x2c h2d yecc ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _70"> </span><span class="ffd fs1e fc2">sum<span class="_ _e"> </span>+=<span class="_ _1f"> </span>x[0][i]<span class="_ _1f"> </span>*<span class="_ _e"> </span>x[1][i];</span></div><div class="t m5 x2c h2d yecd ff6 fs20 fc6 sc0 ls0 ws0">7<span class="_ _20"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x26 h26 y5c28 ff7 fs19 fc2 sc0 ls0 ws0">Assume<span class="_"> </span>we<span class="_"> </span>execute<span class="_"> </span>this<span class="_"> </span>under<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>conditions:</div><div class="t m5 x72 h3d y5c29 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h46 y5c2a ffd fs19 fc1 sc0 ls0 ws0">sizeof<span class="_ _1"></span><span class="ff11">(<span class="ffd">int<span class="_ _1"></span><span class="ff11">)<span class="_ _10"> </span><span class="ff12">=<span class="_ _13"></span><span class="ff7 lsb1">4.</span></span></span></span></span></div><div class="t m5 x72 h3d y5c2b ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5c2c ff7 fs19 fc1 sc0 ls0 ws0">Array<span class="_"> </span><span class="ffd">x<span class="_ _10"> </span></span>begins<span class="_"> </span>at<span class="_"> </span>memory<span class="_"> </span>address<span class="_"> </span><span class="ffd">0x0<span class="_ _10"> </span></span>and<span class="_"> </span>is<span class="_"> </span>stored<span class="_"> </span>in<span class="_"> </span>row-major<span class="_"> </span>order.</div><div class="t m5 x72 h3d y5c2d ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5c2e ff7 fs19 fc1 sc0 ls0 ws0">In<span class="_"> </span>each<span class="_"> </span>case<span class="_"> </span>below<span class="_ _3"></span>,<span class="_"> </span>the<span class="_"> </span>cache<span class="_"> </span>is<span class="_"> </span>initially<span class="_"> </span>empty<span class="_ _7"></span>.</div><div class="t m5 x72 h3d y5c2f ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5c30 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>only<span class="_ _13"> </span>memory<span class="_ _13"> </span>accesses<span class="_ _13"> </span>are<span class="_ _13"> </span>to<span class="_ _13"> </span>the<span class="_ _6"> </span>entries<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>array<span class="_ _13"> </span><span class="ffd">x</span>.<span class="_ _13"> </span>All<span class="_ _6"> </span>other<span class="_ _13"> </span>variables</div><div class="t m5 x26 h26 y5c31 ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_"> </span>stored<span class="_"> </span>in<span class="_"> </span>registers<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y5c32 ff7 fs19 fc1 sc0 ls0 ws0">Given<span class="_"> </span>these<span class="_"> </span>assumptions<span class="_ _1"></span>,<span class="_"> </span>estimate<span class="_"> </span>the<span class="_"> </span>miss<span class="_"> </span>rates<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>cases:</div><div class="t m5 x34 h26 y5c33 ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span>Case<span class="_ _16"> </span>1:<span class="_ _11"> </span>Assume<span class="_ _16"> </span>the<span class="_ _16"> </span>cache<span class="_ _16"> </span>is<span class="_ _16"> </span>512<span class="_ _16"> </span>bytes<span class="_ _3"></span>,<span class="_ _14"> </span>direct-mapped,<span class="_ _16"> </span>with<span class="_ _16"> </span>16-byte<span class="_ _16"> </span>cache</div><div class="t m5 x2d h26 y5c34 ff7 fs19 fc1 sc0 ls0 ws0">blocks<span class="_ _1"></span>.<span class="_"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>miss<span class="_"> </span>rate?</div><div class="t m5 x34 h26 y5c35 ff7 fs19 fc1 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>Case<span class="_"> </span>2:<span class="_"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>miss<span class="_"> </span>rate<span class="_"> </span>if<span class="_"> </span>we<span class="_"> </span>double<span class="_"> </span>the<span class="_"> </span>cache<span class="_"> </span>size<span class="_"> </span>to<span class="_"> </span>1,024<span class="_"> </span>bytes?</div><div class="t m5 x34 h26 y5c36 ff7 fs19 fc1 sc0 ls0 ws0">C.<span class="_ _25"> </span>Case<span class="_ _16"> </span>3:<span class="_ _14"> </span>Now<span class="_ _16"> </span>assume<span class="_ _14"> </span>the<span class="_ _16"> </span>cache<span class="_ _14"> </span>is<span class="_ _14"> </span>512<span class="_ _16"> </span>bytes<span class="_ _1"></span>,<span class="_ _14"> </span>two-way<span class="_ _14"> </span>set<span class="_ _14"> </span>associative<span class="_ _16"> </span>using</div><div class="t m5 x2d h26 y5c37 ff7 fs19 fc1 sc0 ls0 ws0">an<span class="_ _16"> </span>LR<span class="_ _0"></span>U<span class="_ _16"> </span>replacement<span class="_ _16"> </span>policy<span class="_ _7"></span>,<span class="_ _14"> </span>with<span class="_ _14"> </span>16-byte<span class="_ _16"> </span>cache<span class="_ _16"> </span>blocks<span class="_ _1"></span>.<span class="_ _16"> </span>What<span class="_ _16"> </span>is<span class="_ _16"> </span>the<span class="_ _16"> </span>cache</div><div class="t m5 x2d h26 y5c38 ff7 fs19 fc1 sc0 ls0 ws0">miss<span class="_"> </span>rate?</div><div class="t m5 x34 h26 y5c39 ff7 fs19 fc1 sc0 ls0 ws0">D<span class="_ _3"></span>.<span class="_ _23"> </span>F<span class="_ _1"></span>or<span class="_ _15"> </span>case<span class="_ _14"> </span>3,<span class="_ _21"> </span>will<span class="_ _15"> </span>a<span class="_ _14"> </span>larger<span class="_ _15"> </span>cache<span class="_ _14"> </span>size<span class="_ _15"> </span>help<span class="_ _14"> </span>to<span class="_ _15"> </span>reduce<span class="_ _14"> </span>the<span class="_ _15"> </span>miss<span class="_ _14"> </span>rate?<span class="_ _15"> </span>Why<span class="_ _14"> </span>or</div><div class="t m5 x2d h26 y5c3a ff7 fs19 fc1 sc0 ls0 ws0">why<span class="_"> </span>not?</div><div class="t m5 x34 h26 y5c3b ff7 fs19 fc1 sc0 ls0 ws0">E.<span class="_ _25"> </span>F<span class="_ _1"></span>or<span class="_"> </span>case<span class="_ _13"> </span>3,<span class="_"> </span>will<span class="_"> </span>a<span class="_ _13"> </span>larger<span class="_"> </span>block<span class="_"> </span>size<span class="_ _13"> </span>help<span class="_"> </span>to<span class="_ _13"> </span>reduce<span class="_"> </span>the<span class="_"> </span>miss<span class="_ _13"> </span>rate?<span class="_"> </span>Why<span class="_ _13"> </span>or<span class="_"> </span>why</div><div class="t m5 x2d h26 y5c3c ff7 fs19 fc1 sc0 ls0 ws0">not?</div><div class="t m5 x17 h73 y5c3d ffe fs1e fc6 sc0 ls0 ws0">6.37<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x17 h26 y5c3e ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span>is<span class="_"> </span>another<span class="_"> </span>problem<span class="_"> </span>that<span class="_"> </span>tests<span class="_ _13"> </span>your<span class="_"> </span>ability<span class="_"> </span>to<span class="_"> </span>analyze<span class="_"> </span>the<span class="_"> </span>cache<span class="_ _13"> </span>behavior<span class="_"> </span>of<span class="_"> </span>C</div><div class="t m5 x17 h26 y5c3f ff7 fs19 fc1 sc0 ls0 ws0">code<span class="_ _1"></span>.<span class="_"> </span>Assume<span class="_ _13"> </span>we<span class="_"> </span>execute<span class="_ _13"> </span>the<span class="_ _13"> </span>three<span class="_"> </span>summation<span class="_ _13"> </span>functions<span class="_"> </span>in<span class="_ _13"> </span>F<span class="_ _1"></span>igure<span class="_"> </span>6.47<span class="_ _13"> </span>under<span class="_"> </span>the</div><div class="t m5 x17 h26 y5c40 ff7 fs19 fc1 sc0 ls0 ws0">following<span class="_"> </span>conditions:</div><div class="t m5 x72 h3d y5c41 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h46 y5c42 ffd fs19 fc1 sc0 ls0 ws0">sizeof<span class="_ _1"></span><span class="ff11">(<span class="ffd">int<span class="_ _1"></span><span class="ff11">)<span class="_ _10"> </span><span class="ff12">=<span class="_ _13"></span><span class="ff7 lsb1">4.</span></span></span></span></span></div><div class="t m5 x72 h3d y5c43 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5c44 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>machine<span class="_"> </span>has<span class="_"> </span>a<span class="_"> </span>4<span class="_ _13"> </span>KB<span class="_"> </span>direct-mapped<span class="_"> </span>cache<span class="_"> </span>with<span class="_"> </span>a<span class="_"> </span>16-byte<span class="_"> </span>block<span class="_"> </span>size.</div><div class="t m5 x72 h3d y5c45 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5c46 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _1"></span>ithin<span class="_"> </span>the<span class="_"> </span>two<span class="_"> </span>loops<span class="_ _3"></span>,<span class="_"> </span>the<span class="_"> </span>code<span class="_"> </span>uses<span class="_ _13"> </span>memory<span class="_"> </span>accesses<span class="_"> </span>only<span class="_"> </span>for<span class="_ _13"> </span>the<span class="_"> </span>array<span class="_"> </span>data.</div><div class="t m5 x26 h26 y5c47 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>loop<span class="_"> </span>indices<span class="_"> </span>and<span class="_"> </span>the<span class="_"> </span>value<span class="_"> </span><span class="ffd">sum<span class="_ _10"> </span></span>are<span class="_"> </span>held<span class="_"> </span>in<span class="_"> </span>registers<span class="_ _0"></span>.</div><div class="t m5 x72 h3d y5c48 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y5c49 ff7 fs19 fc1 sc0 ls0 ws0">Array<span class="_"> </span><span class="ffd">a<span class="_ _10"> </span></span>is<span class="_"> </span>stored<span class="_"> </span>starting<span class="_"> </span>at<span class="_"> </span>memory<span class="_"> </span>address<span class="_"> </span><span class="ffd">0x08000000</span>.</div><div class="t m5 x26 h46 y5c4a ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>ill<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>table<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>approximate<span class="_ _13"> </span>cache<span class="_"> </span>miss<span class="_"> </span>rate<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>two<span class="_"> </span>cases<span class="_"> </span><span class="ff11">N<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>64</div><div class="t m5 x17 h46 y5c4b ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span><span class="ff11">N<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span></span><span class="ls24">60.</span></div><div class="t m5 x17 h32 y5c4c ff7 fs21 fc2 sc0 ls0 ws0">Function<span class="_ _26"> </span><span class="ff11">N<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span></span>64<span class="_ _26"> </span><span class="ff11">N<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span></span>60</div><div class="t m5 x17 h2d yb3f ffd fs1e fc2 sc0 ls0 ws0">sumA</div><div class="t m5 x17 h2d yb41 ffd fs1e fc1 sc0 ls0 ws0">sumB</div><div class="t m5 x17 h2d yb42 ffd fs1e fc1 sc0 ls0 ws0">sumC</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
