<div id="pf2b1" class="pf w2 h11" data-page-no="2b1"><div class="pc pc2b1 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2b1.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">688<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x1d h73 y9c ffe fs1e fc6 sc0 ls0 ws0">6.30<span class="_ _23"> </span><span class="ff10 fs19">◆</span></div><div class="t m5 x1d h26 y409 ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_"> </span>we<span class="_"> </span>have<span class="_"> </span>a<span class="_"> </span>system<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>properties:</div><div class="t m5 x75 h3d y5bc9 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y5bca ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>memory<span class="_"> </span>is<span class="_"> </span>byte<span class="_"> </span>addressable.</div><div class="t m5 x75 h3d y5bcb ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y5bcc ff7 fs19 fc1 sc0 ls0 ws0">Memory<span class="_"> </span>accesses<span class="_"> </span>are<span class="_"> </span>to<span class="_"> </span>1-byte<span class="_"> </span>words<span class="_"> </span>(not<span class="_"> </span>to<span class="_"> </span>4-byte<span class="_"> </span>words).</div><div class="t m5 x75 h3d y5bcd ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y5bce ff7 fs19 fc1 sc0 ls0 ws0">Addresses<span class="_"> </span>are<span class="_"> </span>13<span class="_"> </span>bits<span class="_"> </span>wide<span class="_ _1"></span>.</div><div class="t m5 x75 h3d y5bcf ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h46 y5bd0 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>cache<span class="_ _14"> </span>is<span class="_ _16"> </span>4-way<span class="_ _16"> </span>set<span class="_ _16"> </span>associative<span class="_ _16"> </span>(<span class="ff11">E<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span><span class="ls20">4),<span class="_ _16"> </span>with<span class="_ _16"> </span>a<span class="_ _14"> </span>4-byte<span class="_ _16"> </span>block<span class="_ _16"> </span>size<span class="_ _16"> </span>(</span><span class="ff11">B<span class="_ _16"> </span><span class="ff12">=<span class="_ _13"> </span></span></span><span class="lsb1">4)</span></div><div class="t m5 x29 h46 y5bd1 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span>eight<span class="_"> </span>sets<span class="_"> </span>(<span class="ff11">S<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span><span class="ls10f">8).</span></div><div class="t m5 x29 h26 y5bd2 ff7 fs19 fc1 sc0 ls0 ws0">Consider<span class="_ _13"> </span>the<span class="_ _13"> </span>following<span class="_ _13"> </span>cache<span class="_ _6"> </span>state.<span class="_ _6"> </span>All<span class="_ _13"> </span>addresses<span class="_ _1"></span>,<span class="_ _13"> </span>tags<span class="_ _1"></span>,<span class="_"> </span>and<span class="_ _6"> </span>values<span class="_ _13"> </span>are<span class="_ _13"> </span>given<span class="_ _13"> </span>in</div><div class="t m5 x1d h26 y5bd3 ff7 fs19 fc1 sc0 ls0 ws0">hexadecimal<span class="_ _13"> </span>format.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span>Index<span class="_ _13"> </span>column<span class="_"> </span>contains<span class="_ _13"> </span>the<span class="_"> </span>set<span class="_ _13"> </span>index<span class="_"> </span>for<span class="_ _13"> </span>each<span class="_"> </span>set<span class="_ _13"> </span>of<span class="_"> </span>four</div><div class="t m5 x1d h26 y5bd4 ff7 fs19 fc1 sc0 ls0 ws0">lines<span class="_ _1"></span>.<span class="_ _13"> </span>The<span class="_ _13"> </span>T<span class="_ _7"></span>ag<span class="_"> </span>columns<span class="_ _13"> </span>contain<span class="_"> </span>the<span class="_ _13"> </span>tag<span class="_ _13"> </span>value<span class="_"> </span>for<span class="_ _13"> </span>each<span class="_ _13"> </span>line.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_"> </span>V<span class="_ _13"> </span>columns<span class="_"> </span>contain</div><div class="t m5 x1d h26 y5bd5 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>valid<span class="_ _11"> </span>bit<span class="_ _11"> </span>for<span class="_ _11"> </span>each<span class="_ _11"> </span>line.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_ _16"> </span>Bytes<span class="_"> </span>0–3<span class="_ _11"> </span>columns<span class="_ _11"> </span>contain<span class="_ _11"> </span>the<span class="_ _16"> </span>data<span class="_"> </span>for<span class="_ _11"> </span>each<span class="_ _11"> </span>line,</div><div class="t m5 x1d h26 y5bd6 ff7 fs19 fc1 sc0 ls0 ws0">numbered<span class="_"> </span>left<span class="_"> </span>to<span class="_"> </span>right<span class="_"> </span>starting<span class="_"> </span>with<span class="_"> </span>byte<span class="_"> </span>0<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>left.</div><div class="t m5 x5d h1d y5bd7 ff7 fs17 fc2 sc0 ls0 ws0">4-way<span class="_"> </span>set<span class="_"> </span>associative<span class="_"> </span>cache</div><div class="t m5 x14 h1d y5bd8 ff7 fs17 fc2 sc0 ls0 ws0">Index<span class="_ _1c"> </span>T<span class="_ _3"></span>ag<span class="_ _1a"> </span>V<span class="_ _1a"> </span>Bytes<span class="_"> </span>0–3<span class="_ _2c"> </span>T<span class="_ _3"></span>ag<span class="_ _1a"> </span>V<span class="_ _1a"> </span>Bytes<span class="_"> </span>0–3<span class="_ _28"> </span>T<span class="_ _3"></span>ag<span class="_ _1a"> </span>V<span class="_ _1a"> </span>Bytes<span class="_"> </span>0–3<span class="_ _6c"> </span>T<span class="_ _3"></span>ag<span class="_ _1a"> </span>V<span class="_ _1a"> </span>Bytes<span class="_"> </span>0–3</div><div class="t m5 x28 h1d y5bd9 ff7 fs17 fc2 sc0 ls0 ws0">0<span class="_ _94"> </span>F0<span class="_ _3e"> </span>1<span class="_ _d"> </span>ED<span class="_"> </span>32<span class="_"> </span>0A<span class="_"> </span>A2<span class="_ _26"> </span>8A<span class="_ _188"> </span>1<span class="_ _1e2"> </span>BF<span class="_"> </span>80<span class="_"> </span>1D<span class="_"> </span>FC<span class="_ _79"> </span>14<span class="_ _b3"> </span>1<span class="_ _d"> </span>EF<span class="_"> </span>09<span class="_"> </span>86<span class="_"> </span>2A<span class="_ _75"> </span>BC<span class="_ _d"> </span>0<span class="_ _1e2"> </span>25<span class="_"> </span>44<span class="_"> </span>6F<span class="_"> </span>1A</div><div class="t m5 x28 h1d y5bda ff7 fs17 fc2 sc0 ls0 ws0">1<span class="_ _14a"> </span>BC<span class="_ _d"> </span>0<span class="_ _d"> </span>03<span class="_"> </span>3E<span class="_"> </span>CD<span class="_"> </span>38<span class="_ _85"> </span>A0<span class="_ _17"> </span>0<span class="_ _1e2"> </span>16<span class="_"> </span>7B<span class="_"> </span>ED<span class="_"> </span>5A<span class="_ _52"> </span>BC<span class="_ _d"> </span>1<span class="_ _d"> </span>8E<span class="_"> </span>4C<span class="_"> </span>DF<span class="_"> </span>18<span class="_ _4c"> </span>E4<span class="_ _1b"> </span>1<span class="_ _1e2"> </span>FB<span class="_"> </span>B7<span class="_"> </span>12<span class="_"> </span>02</div><div class="t m5 x28 h1d y5bdb ff7 fs17 fc2 sc0 ls0 ws0">2<span class="_ _14a"> </span>BC<span class="_ _d"> </span>1<span class="_ _d"> </span>54<span class="_"> </span>9E<span class="_"> </span>1E<span class="_"> </span>F<span class="_ _3"></span>A<span class="_ _4c"> </span>B6<span class="_ _1b"> </span>1<span class="_ _b0"> </span>DC<span class="_"> </span>81<span class="_"> </span>B2<span class="_"> </span>14<span class="_ _8b"> </span>00<span class="_ _b3"> </span>0<span class="_ _1e2"> </span>B6<span class="_"> </span>1F<span class="_"> </span>7B<span class="_"> </span>44<span class="_ _45"> </span>74<span class="_ _b3"> </span>0<span class="_ _1e2"> </span>10<span class="_"> </span>F5<span class="_"> </span>B8<span class="_"> </span>2E</div><div class="t m5 x28 h1d y5bdc ff7 fs17 fc2 sc0 ls0 ws0">3<span class="_ _14a"> </span>BE<span class="_ _d"> </span>0<span class="_ _d"> </span>2F<span class="_"> </span>7E<span class="_"> </span>3D<span class="_"> </span>A8<span class="_ _1f9"> </span>C0<span class="_ _1b"> </span>1<span class="_ _1e2"> </span>27<span class="_"> </span>95<span class="_"> </span>A4<span class="_"> </span>74<span class="_ _74"> </span>C4<span class="_ _1b"> </span>0<span class="_ _1e2"> </span>07<span class="_"> </span>11<span class="_"> </span>6B<span class="_"> </span>D8<span class="_ _14a"> </span>BC<span class="_ _d"> </span>0<span class="_ _1e2"> </span>C7<span class="_"> </span>B7<span class="_"> </span>AF<span class="_"> </span>C2</div><div class="t m5 x28 h1d y5bdd ff7 fs17 fc2 sc0 ls0 ws0">4<span class="_ _72"> </span>7E<span class="_ _1b"> </span>1<span class="_ _1e2"> </span>32<span class="_"> </span>21<span class="_"> </span>1C<span class="_"> </span>2C<span class="_ _14a"> </span>8A<span class="_ _17"> </span>1<span class="_ _1e2"> </span>22<span class="_"> </span>C2<span class="_"> </span>DC<span class="_"> </span>34<span class="_ _79"> </span>BC<span class="_ _188"> </span>1<span class="_ _1e2"> </span>B<span class="_ _1"></span>A<span class="_"> </span>DD<span class="_"> </span>37<span class="_"> </span>D8<span class="_ _103"> </span>DC<span class="_ _1e2"> </span>0<span class="_ _1e2"> </span>E7<span class="_"> </span>A2<span class="_"> </span>39<span class="_"> </span>B<span class="_ _1"></span>A</div><div class="t m5 x28 h1d y5bde ff7 fs17 fc2 sc0 ls0 ws0">5<span class="_ _78"> </span>98<span class="_ _b3"> </span>0<span class="_ _b0"> </span>A9<span class="_"> </span>76<span class="_"> </span>2B<span class="_"> </span>EE<span class="_ _8b"> </span>54<span class="_ _b3"> </span>0<span class="_ _d"> </span>BC<span class="_"> </span>91<span class="_"> </span>D5<span class="_"> </span>92<span class="_ _73"> </span>98<span class="_ _b3"> </span>1<span class="_ _1e2"> </span>80<span class="_"> </span>B<span class="_ _1"></span>A<span class="_"> </span>9B<span class="_"> </span>F6<span class="_ _4c"> </span>BC<span class="_ _d"> </span>1<span class="_ _1e2"> </span>48<span class="_"> </span>16<span class="_"> </span>81<span class="_"> </span>0A</div><div class="t m5 x28 h1d y5bdf ff7 fs17 fc2 sc0 ls0 ws0">6<span class="_ _78"> </span>38<span class="_ _b3"> </span>0<span class="_ _b0"> </span>5D<span class="_"> </span>4D<span class="_"> </span>F7<span class="_"> </span>D<span class="_ _1"></span>A<span class="_ _52"> </span>BC<span class="_ _d"> </span>1<span class="_ _1e2"> </span>69<span class="_"> </span>C2<span class="_"> </span>8C<span class="_"> </span>74<span class="_ _3a"> </span>8A<span class="_ _17"> </span>1<span class="_ _1e2"> </span>A8<span class="_"> </span>CE<span class="_"> </span>7F<span class="_"> </span>D<span class="_ _1"></span>A<span class="_ _95"> </span>38<span class="_ _b3"> </span>1<span class="_ _1e2"> </span>F<span class="_ _1"></span>A<span class="_"> </span>93<span class="_"> </span>EB<span class="_"> </span>48</div><div class="t m5 x28 h1d y5be0 ff7 fs17 fc2 sc0 ls0 ws0">7<span class="_ _58"> </span>8A<span class="_ _1b"> </span>1<span class="_ _b0"> </span>04<span class="_"> </span>2A<span class="_"> </span>32<span class="_"> </span>6A<span class="_ _75"> </span>9E<span class="_ _1b"> </span>0<span class="_ _1e2"> </span>B1<span class="_"> </span>86<span class="_"> </span>56<span class="_"> </span>0E<span class="_ _4c"> </span>CC<span class="_ _d"> </span>1<span class="_ _1e2"> </span>96<span class="_"> </span>30<span class="_"> </span>47<span class="_"> </span>F2<span class="_ _119"> </span>BC<span class="_ _188"> </span>1<span class="_ _1e2"> </span>F8<span class="_"> </span>1D<span class="_"> </span>42<span class="_"> </span>30</div><div class="t m5 x124 h26 y5be1 ff7 fs19 fc2 sc0 ls0 ws0">A.<span class="_ _1f"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>size<span class="_"> </span>(<span class="ff11">C<span class="_ _2"></span></span>)<span class="_"> </span>of<span class="_"> </span>this<span class="_"> </span>cache<span class="_"> </span>in<span class="_"> </span>bytes?</div><div class="t m5 x124 h26 y5be2 ff7 fs19 fc2 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>The<span class="_ _6"> </span>box<span class="_ _13"> </span>that<span class="_ _13"> </span>follows<span class="_ _13"> </span>shows<span class="_ _13"> </span>the<span class="_ _13"> </span>format<span class="_ _13"> </span>of<span class="_ _13"> </span>an<span class="_ _13"> </span>address<span class="_ _13"> </span>(1<span class="_ _13"> </span>bit<span class="_ _13"> </span>per<span class="_ _13"> </span>box).<span class="_ _13"> </span>Indicate</div><div class="t m5 x4f h26 y5be3 ff7 fs19 fc2 sc0 ls0 ws0">(by<span class="_ _14"> </span>labeling<span class="_ _15"> </span>the<span class="_ _14"> </span>diagram)<span class="_ _15"> </span>the<span class="_ _14"> </span>ﬁelds<span class="_ _15"> </span>that<span class="_ _14"> </span>would<span class="_ _15"> </span>be<span class="_ _15"> </span>used<span class="_ _14"> </span>to<span class="_ _15"> </span>determine<span class="_ _14"> </span>the</div><div class="t m5 x4f h26 y5be4 ff7 fs19 fc2 sc0 ls0 ws0">following:</div><div class="t m5 x10d h26 y5be5 ff7 fs19 fc2 sc0 ls0 ws0">CO<span class="_ _3"></span>.<span class="_ _1f"> </span>T<span class="_ _1"></span>he<span class="_"> </span>cache<span class="_"> </span>block<span class="_"> </span>offset</div><div class="t m5 x10d h26 y5be6 ff7 fs19 fc2 sc0 ls0 ws0">CI.<span class="_ _e"> </span>The<span class="_"> </span>cache<span class="_"> </span>set<span class="_"> </span>index</div><div class="t m5 x10d h26 y5be7 ff7 fs19 fc2 sc0 ls0 ws0">CT<span class="_ _3"></span>.<span class="_ _e"> </span>The<span class="_"> </span>cache<span class="_"> </span>tag</div><div class="t m5 x58 he4 y5be8 ff86 fs95 fc1 sc0 ls0 ws0">12<span class="_ _1c"> </span><span class="ls250">11<span class="_ _1c"> </span></span>10<span class="_ _19"> </span>9<span class="_ _79"> </span>8<span class="_ _79"> </span>7<span class="_ _79"> </span>6<span class="_ _79"> </span>5<span class="_ _7b"> </span>4<span class="_ _f1"> </span>3<span class="_ _79"> </span>2<span class="_ _79"> </span>1<span class="_ _79"> </span>0</div><div class="t m5 x1d h73 y278 ffe fs1e fc6 sc0 ls0 ws0">6.31<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x1d h26 y279 ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_ _14"> </span>that<span class="_ _14"> </span>a<span class="_ _14"> </span>program<span class="_ _14"> </span>using<span class="_ _14"> </span>the<span class="_ _14"> </span>cache<span class="_ _14"> </span>in<span class="_ _14"> </span>Problem<span class="_ _14"> </span>6.30<span class="_ _14"> </span>references<span class="_ _14"> </span>the<span class="_ _14"> </span>1-byte</div><div class="t m5 x1d h26 y27a ff7 fs19 fc1 sc0 ls0 ws0">word<span class="_ _14"> </span>at<span class="_ _15"> </span>address<span class="_ _14"> </span><span class="ffd">0x071A</span>.<span class="_ _15"> </span>Indicate<span class="_ _15"> </span>the<span class="_ _14"> </span>cache<span class="_ _15"> </span>entry<span class="_ _14"> </span>accessed<span class="_ _15"> </span>and<span class="_ _14"> </span>the<span class="_ _15"> </span>cache<span class="_ _15"> </span>byte</div><div class="t m5 x1d h26 y27b ff7 fs19 fc1 sc0 ls0 ws0">value<span class="_ _16"> </span>returned<span class="_ _16"> </span><span class="ffa">in<span class="_ _14"> </span>hex</span>.<span class="_ _16"> </span>Indicate<span class="_ _14"> </span>whether<span class="_ _16"> </span>a<span class="_ _16"> </span>cache<span class="_ _14"> </span>miss<span class="_ _16"> </span>occurs<span class="_ _1"></span>.<span class="_ _14"> </span>If<span class="_ _16"> </span>there<span class="_ _16"> </span>is<span class="_ _14"> </span>a<span class="_ _16"> </span>cache</div><div class="t m5 x1d h26 y27c ff7 fs19 fc1 sc0 ls0 ws0">miss<span class="_ _1"></span>,<span class="_ _21"> </span>enter<span class="_ _15"> </span>“—”<span class="_ _15"> </span>for<span class="_ _14"> </span>“Cache<span class="_ _15"> </span>byte<span class="_ _15"> </span>returned.<span class="_ _1"></span>”<span class="_ _15"> </span><span class="ffa">Hint:<span class="_ _15"> </span></span>Pay<span class="_ _15"> </span>attention<span class="_ _15"> </span>to<span class="_ _15"> </span>those<span class="_ _15"> </span>valid</div><div class="t m5 x1d h26 y27d ff7 fs19 fc1 sc0 ls0 ws0">bits!</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
