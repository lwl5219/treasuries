<div id="pf279" class="pf w2 h11" data-page-no="279"><div class="pc pc279 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg279.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">632<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x28 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">Formatted<span class="_ _11"> </span>disk<span class="_ _11"> </span>capacity</span></div><div class="t m5 x28 h2b y2d0 ff7 fs1e fc2 sc0 ls0 ws0">Before<span class="_ _13"> </span>a<span class="_"> </span>disk<span class="_ _13"> </span>can<span class="_ _13"> </span>be<span class="_ _13"> </span>used<span class="_"> </span>to<span class="_ _13"> </span>store<span class="_ _13"> </span>data,<span class="_"> </span>it<span class="_ _13"> </span>must<span class="_ _13"> </span>be<span class="_ _13"> </span><span class="ffa">formatted<span class="_"> </span></span>by<span class="_"> </span>the<span class="_ _13"> </span>disk<span class="_ _13"> </span>controller.<span class="_ _13"> </span>T<span class="_ _1"></span>his<span class="_"> </span>involves<span class="_ _13"> </span>ﬁlling</div><div class="t m5 x28 h2b y2d1 ff7 fs1e fc2 sc0 ls0 ws0">in<span class="_"> </span>the<span class="_"> </span>gaps<span class="_ _10"> </span>between<span class="_ _11"> </span>sectors<span class="_"> </span>with<span class="_"> </span>information<span class="_ _10"> </span>that<span class="_ _10"> </span>identiﬁes<span class="_ _11"> </span>the<span class="_"> </span>sectors<span class="_ _1"></span>,<span class="_"> </span>identifying<span class="_ _11"> </span>any<span class="_"> </span>cylinders<span class="_"> </span>with</div><div class="t m5 x28 h2b y2d2 ff7 fs1e fc2 sc0 ls0 ws0">surface<span class="_ _13"> </span>defects<span class="_ _13"> </span>and<span class="_"> </span>taking<span class="_ _13"> </span>them<span class="_ _13"> </span>out<span class="_ _13"> </span>of<span class="_ _13"> </span>action,<span class="_ _13"> </span>and<span class="_"> </span>setting<span class="_ _13"> </span>aside<span class="_ _13"> </span>a<span class="_ _13"> </span>set<span class="_ _13"> </span>of<span class="_ _13"> </span>cylinders<span class="_ _13"> </span>in<span class="_ _13"> </span>each<span class="_ _13"> </span>zone<span class="_ _13"> </span>as<span class="_"> </span>spares</div><div class="t m5 x28 h2b y2d3 ff7 fs1e fc2 sc0 ls0 ws0">that<span class="_ _10"> </span>can<span class="_ _11"> </span>be<span class="_ _11"> </span>called<span class="_"> </span>into<span class="_ _11"> </span>action<span class="_ _11"> </span>if<span class="_ _10"> </span>one<span class="_ _11"> </span>or<span class="_ _11"> </span>more<span class="_ _10"> </span>cylinders<span class="_ _10"> </span>in<span class="_ _11"> </span>the<span class="_ _11"> </span>zone<span class="_ _10"> </span>goes<span class="_ _11"> </span>bad<span class="_ _11"> </span>during<span class="_"> </span>the<span class="_ _11"> </span>lifetime<span class="_ _11"> </span>of<span class="_ _10"> </span>the</div><div class="t m5 x28 h2b y2d4 ff7 fs1e fc2 sc0 ls0 ws0">disk.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span><span class="ffa">formatted<span class="_"> </span>capacity<span class="_ _13"> </span></span>quoted<span class="_"> </span>by<span class="_"> </span>disk<span class="_"> </span>manufacturers<span class="_ _13"> </span>is<span class="_"> </span>less<span class="_"> </span>than<span class="_"> </span>the<span class="_ _13"> </span>maximum<span class="_"> </span>capacity<span class="_"> </span>because</div><div class="t m5 x28 h2b y2d5 ff7 fs1e fc2 sc0 ls0 ws0">of<span class="_"> </span>the<span class="_"> </span>existence<span class="_"> </span>of<span class="_"> </span>these<span class="_"> </span>spare<span class="_"> </span>cylinders<span class="_ _3"></span>.</div><div class="t m5 x1d h31 y547c ff7 fs21 fc2 sc0 ls0 ws0">Parameter<span class="_ _1f5"> </span>V<span class="_ _7"></span>alue</div><div class="t m5 x1d h31 y547d ff7 fs21 fc2 sc0 ls0 ws0">Rotational<span class="_"> </span>rate<span class="_ _18d"> </span>13,000<span class="_"> </span>RPM</div><div class="t m5 x1d h55 y547e ff11 fs21 fc2 sc0 ls0 ws0">T</div><div class="t m5 xc5 h33 y547f ff7 fs20 fc2 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x184 h31 y5480 ff7 fs21 fc2 sc0 ls128 ws0">6m<span class="_ _4a"></span>s</div><div class="t m5 x1d h31 y5481 ff7 fs21 fc2 sc0 ls0 ws0">A<span class="_ _3"></span>verage<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>sectors/track<span class="_ _26"> </span>5,000</div><div class="t m5 x1d h31 y5482 ff7 fs21 fc2 sc0 ls0 ws0">Surfaces<span class="_ _a1"> </span>4</div><div class="t m5 x1d h31 y5483 ff7 fs21 fc2 sc0 ls0 ws0">Sector<span class="_"> </span>size<span class="_ _1f6"> </span>512<span class="_"> </span>bytes</div><div class="t m5 x29 h26 y5484 ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _11"> </span>each<span class="_ _16"> </span>case<span class="_ _11"> </span>below<span class="_ _3"></span>,<span class="_ _16"> </span>suppose<span class="_ _11"> </span>that<span class="_ _16"> </span>a<span class="_ _11"> </span>program<span class="_ _16"> </span>reads<span class="_ _11"> </span>the<span class="_ _16"> </span>logical<span class="_ _11"> </span>blocks<span class="_ _16"> </span>of<span class="_ _11"> </span>the</div><div class="t m5 x1d h26 y5485 ff7 fs19 fc2 sc0 ls0 ws0">ﬁle<span class="_ _11"> </span>sequentially<span class="_ _3"></span>,<span class="_ _11"> </span>one<span class="_ _11"> </span>after<span class="_ _11"> </span>the<span class="_ _16"> </span>other<span class="_ _0"></span>,<span class="_ _11"> </span>and<span class="_ _11"> </span>that<span class="_ _16"> </span>the<span class="_"> </span>time<span class="_ _16"> </span>to<span class="_"> </span>position<span class="_ _11"> </span>the<span class="_ _16"> </span>head<span class="_"> </span>over</div><div class="t m5 x1d h26 y5486 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>ﬁrst<span class="_"> </span>block<span class="_"> </span>is<span class="_"> </span><span class="ff11">T</span></div><div class="t m5 x21d h3c y5487 ff7 fs25 fc2 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x9b h46 y5488 ff12 fs19 fc2 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">T</span></div><div class="t m5 x67 h3c y5487 ff7 fs25 fc2 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x131 h26 y5488 ff7 fs19 fc2 sc0 ls0 ws0">.</div><div class="t m5 x124 h26 y5489 ff7 fs19 fc2 sc0 ls0 ws0">A.<span class="_ _1f"> </span><span class="ffa">Best<span class="_"> </span>case:<span class="_ _11"> </span></span>Estimate<span class="_ _11"> </span>the<span class="_ _11"> </span>optimal<span class="_ _11"> </span>time<span class="_ _11"> </span>(in<span class="_"> </span>ms)<span class="_ _11"> </span>required<span class="_ _11"> </span>to<span class="_ _11"> </span>read<span class="_ _11"> </span>the<span class="_ _11"> </span>ﬁle<span class="_"> </span>given</div><div class="t m5 x4f h26 y548a ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>best<span class="_"> </span>possible<span class="_"> </span>mapping<span class="_"> </span>of<span class="_"> </span>logical<span class="_"> </span>blocks<span class="_"> </span>to<span class="_"> </span>disk<span class="_"> </span>sectors<span class="_"> </span>(i.e<span class="_ _1"></span>.,<span class="_"> </span>sequential).</div><div class="t m5 x124 h26 y548b ff7 fs19 fc2 sc0 ls2a ws0">B.<span class="_ _66"> </span><span class="ffa ls0">Random<span class="_ _11"> </span>case:<span class="_ _16"> </span><span class="ff7">Estimate<span class="_ _16"> </span>the<span class="_ _16"> </span>time<span class="_ _11"> </span>(in<span class="_ _16"> </span>ms)<span class="_ _11"> </span>required<span class="_ _16"> </span>to<span class="_ _16"> </span>read<span class="_ _11"> </span>the<span class="_ _16"> </span>ﬁle<span class="_ _16"> </span>if<span class="_ _11"> </span>blocks</span></span></div><div class="t m5 x4f h26 y548c ff7 fs19 fc2 sc0 ls0 ws0">are<span class="_"> </span>mapped<span class="_"> </span>randomly<span class="_"> </span>to<span class="_"> </span>disk<span class="_"> </span>sectors<span class="_ _1"></span>.</div><div class="t m5 x1d h42 y548d ff6 fs29 fc6 sc0 ls0 ws0">Connecting<span class="_ _11"> </span>I/O<span class="_ _16"> </span>Devices</div><div class="t m5 x1d h26 y548e ff7 fs19 fc1 sc0 ls0 ws0">Input/output<span class="_ _13"> </span>(I/O)<span class="_"> </span>devices<span class="_ _13"> </span>such<span class="_"> </span>as<span class="_ _13"> </span>graphics<span class="_ _13"> </span>cards<span class="_ _1"></span>,<span class="_"> </span>monitors<span class="_ _3"></span>,<span class="_"> </span>mice<span class="_ _1"></span>,<span class="_"> </span>keyboards<span class="_ _1"></span>,<span class="_ _13"> </span>and</div><div class="t m5 x1d h26 y548f ff7 fs19 fc1 sc0 ls0 ws0">disks<span class="_ _11"> </span>are<span class="_ _11"> </span>connected<span class="_ _16"> </span>to<span class="_"> </span>the<span class="_ _16"> </span>CPU<span class="_ _11"> </span>and<span class="_ _11"> </span>main<span class="_ _11"> </span>memory<span class="_ _16"> </span>using<span class="_"> </span>an<span class="_ _16"> </span><span class="ffa">I/O<span class="_ _11"> </span>bus</span>.<span class="_ _11"> </span>Unlike<span class="_ _11"> </span>the</div><div class="t m5 x1d h26 y5490 ff7 fs19 fc1 sc0 ls0 ws0">system<span class="_ _16"> </span>bus<span class="_ _16"> </span>and<span class="_ _16"> </span>memory<span class="_ _14"> </span>buses<span class="_ _1"></span>,<span class="_ _14"> </span>which<span class="_ _16"> </span>are<span class="_ _16"> </span>CPU-speciﬁc,<span class="_ _16"> </span>I/O<span class="_ _14"> </span>buses<span class="_ _16"> </span>are<span class="_ _16"> </span>designed</div><div class="t m5 x1d h26 y5491 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_"> </span>be<span class="_ _13"> </span>independent<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>underlying<span class="_"> </span>CPU<span class="_ _7"></span>.<span class="_"> </span>F<span class="_ _1"></span>igure<span class="_"> </span>6.11<span class="_ _13"> </span>shows<span class="_"> </span>a<span class="_"> </span>representative<span class="_ _13"> </span>I/O</div><div class="t m5 x1d h26 y5492 ff7 fs19 fc1 sc0 ls0 ws0">bus<span class="_"> </span>structure<span class="_"> </span>that<span class="_"> </span>connects<span class="_"> </span>the<span class="_"> </span>CPU<span class="_ _3"></span>,<span class="_"> </span>main<span class="_"> </span>memory<span class="_ _7"></span>,<span class="_"> </span>and<span class="_"> </span>I/O<span class="_"> </span>devices<span class="_ _0"></span>.</div><div class="t m5 x29 h26 y5493 ff7 fs19 fc1 sc0 ls0 ws0">Although<span class="_ _14"> </span>the<span class="_ _15"> </span>I/O<span class="_ _14"> </span>bus<span class="_ _15"> </span>is<span class="_ _15"> </span>slower<span class="_ _14"> </span>than<span class="_ _15"> </span>the<span class="_ _14"> </span>system<span class="_ _15"> </span>and<span class="_ _14"> </span>memory<span class="_ _15"> </span>buses<span class="_ _1"></span>,<span class="_ _21"> </span>it<span class="_ _14"> </span>can</div><div class="t m5 x1d h26 y5494 ff7 fs19 fc1 sc0 ls0 ws0">accommodate<span class="_ _11"> </span>a<span class="_ _16"> </span>wide<span class="_ _16"> </span>variety<span class="_ _11"> </span>of<span class="_ _16"> </span>third-party<span class="_ _16"> </span>I/O<span class="_ _11"> </span>devices<span class="_ _1"></span>.<span class="_ _16"> </span>F<span class="_ _1"></span>or<span class="_ _16"> </span>example<span class="_ _1"></span>,<span class="_ _16"> </span>the<span class="_ _16"> </span>bus<span class="_ _11"> </span>in</div><div class="t m5 x1d h26 y5495 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_"> </span>6.11<span class="_"> </span>has<span class="_"> </span>three<span class="_"> </span>different<span class="_"> </span>types<span class="_"> </span>of<span class="_"> </span>devices<span class="_"> </span>attached<span class="_"> </span>to<span class="_"> </span>it.</div><div class="t m5 x75 h3d y5496 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y107b ff7 fs19 fc1 sc0 ls0 ws0">A<span class="_ _11"> </span><span class="ffa">Universal<span class="_ _11"> </span>Serial<span class="_ _11"> </span>Bus<span class="_ _11"> </span>(USB)<span class="_"> </span></span>controller<span class="_"> </span>is<span class="_ _16"> </span>a<span class="_"> </span>conduit<span class="_ _16"> </span>for<span class="_"> </span>devices<span class="_ _16"> </span>attached<span class="_"> </span>to</div><div class="t m5 x29 h26 y21fc ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _14"> </span>USB<span class="_ _15"> </span>bus<span class="_ _1"></span>,<span class="_ _21"> </span>which<span class="_ _15"> </span>is<span class="_ _15"> </span>a<span class="_ _14"> </span>wildly<span class="_ _15"> </span>popular<span class="_ _15"> </span>standard<span class="_ _15"> </span>for<span class="_ _14"> </span>connecting<span class="_ _15"> </span>a<span class="_ _15"> </span>variety<span class="_ _15"> </span>of</div><div class="t m5 x29 h26 y3366 ff7 fs19 fc1 sc0 ls0 ws0">peripheral<span class="_ _11"> </span>I/O<span class="_ _11"> </span>devices<span class="_ _1"></span>,<span class="_ _16"> </span>including<span class="_ _11"> </span>keyboards<span class="_ _1"></span>,<span class="_ _16"> </span>mice<span class="_ _1"></span>,<span class="_ _16"> </span>modems<span class="_ _1"></span>,<span class="_ _11"> </span>digital<span class="_ _16"> </span>cameras<span class="_ _1"></span>,</div><div class="t m5 x29 h26 y3367 ff7 fs19 fc1 sc0 ls0 ws0">game<span class="_ _15"> </span>controllers<span class="_ _1"></span>,<span class="_ _21"> </span>printers<span class="_ _1"></span>,<span class="_ _f"> </span>external<span class="_ _15"> </span>disk<span class="_ _15"> </span>drives<span class="_ _1"></span>,<span class="_ _f"> </span>and<span class="_ _15"> </span>solid<span class="_ _15"> </span>state<span class="_ _15"> </span>disks<span class="_ _1"></span>.<span class="_ _15"> </span>USB</div><div class="t m5 x29 h26 yc03 ff7 fs19 fc1 sc0 ls0 ws0">3.0<span class="_ _14"> </span>buses<span class="_ _14"> </span>have<span class="_ _15"> </span>a<span class="_ _14"> </span>maximum<span class="_ _15"> </span>bandwidth<span class="_ _14"> </span>of<span class="_ _14"> </span>625<span class="_ _15"> </span>MB/s<span class="_ _1"></span>.<span class="_ _14"> </span>USB<span class="_ _14"> </span>3.1<span class="_ _15"> </span>buses<span class="_ _14"> </span>have<span class="_ _15"> </span>a</div><div class="t m5 x29 h26 yc04 ff7 fs19 fc1 sc0 ls0 ws0">maximum<span class="_"> </span>bandwidth<span class="_"> </span>of<span class="_"> </span>1,250<span class="_"> </span>MB/s<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
