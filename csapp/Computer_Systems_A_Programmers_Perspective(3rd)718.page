<div id="pf2ce" class="pf w2 h11" data-page-no="2ce"><div class="pc pc2ce w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2ce.png"/><div class="t m5 x84 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>7.6<span class="_ _60"> </span>Symbol<span class="_ _10"> </span>Resolution<span class="_ _3e"> </span><span class="ffe fs1e">717</span></div><div class="t m5 x17 h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">In<span class="_"> </span>this<span class="_"> </span>case,<span class="_"> </span>the<span class="_"> </span>linker<span class="_ _11"> </span>will<span class="_"> </span>generate<span class="_"> </span>an<span class="_ _11"> </span>error<span class="_"> </span>message<span class="_ _11"> </span>because<span class="_"> </span>the<span class="_ _11"> </span>strong<span class="_"> </span>symbol</div><div class="t m5 x17 h26 y2a7 ffd fs19 fc2 sc0 ls0 ws0">main<span class="_ _10"> </span><span class="ff7">is<span class="_"> </span>deﬁned<span class="_"> </span>multiple<span class="_"> </span>times<span class="_"> </span>(rule<span class="_"> </span>1):</span></div><div class="t m5 x17 h2d y5f37 ffd fs1e fc2 sc0 ls0 ws0">linux&gt;<span class="_ _e"> </span><span class="ff13">gcc<span class="_ _1f"> </span>foo1.c<span class="_ _1f"> </span>bar1.c</span></div><div class="t m5 x17 h2d y5f38 ffd fs1e fc2 sc0 ls0 ws0">/tmp/ccq2Uxnd.o:<span class="_ _e"> </span>In<span class="_ _1f"> </span>function<span class="_ _1f"> </span>‘main’:</div><div class="t m5 x17 h2d y5f39 ffd fs1e fc2 sc0 ls0 ws0">bar1.c:(.text+0x0):<span class="_ _e"> </span>multiple<span class="_ _1f"> </span>definition<span class="_ _1f"> </span>of<span class="_ _e"> </span>‘main’</div><div class="t m5 x17 h26 y5f3a ff7 fs19 fc2 sc0 ls0 ws0">Similarly<span class="_ _3"></span>,<span class="_ _21"> </span>the<span class="_ _15"> </span>linker<span class="_ _15"> </span>will<span class="_ _15"> </span>generate<span class="_ _15"> </span>an<span class="_ _15"> </span>error<span class="_ _21"> </span>message<span class="_ _15"> </span>for<span class="_ _15"> </span>the<span class="_ _15"> </span>following<span class="_ _15"> </span>modules</div><div class="t m5 x17 h26 y5f3b ff7 fs19 fc2 sc0 ls0 ws0">because<span class="_"> </span>the<span class="_"> </span>strong<span class="_"> </span>symbol<span class="_"> </span><span class="ffd">x<span class="_ _10"> </span></span>is<span class="_"> </span>deﬁned<span class="_"> </span>twice<span class="_"> </span>(rule<span class="_"> </span>1):</div><div class="t m5 x2c h2d y5f3c ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">/*<span class="_ _1f"> </span>foo2.c<span class="_ _e"> </span>*/</span></div><div class="t m5 x2c h2d y5f3d ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _1c"> </span><span class="ffd fs1e fc2">int<span class="_ _1f"> </span>x<span class="_ _e"> </span>=<span class="_ _1f"> </span>15213;</span></div><div class="t m5 x2c h2e y5f3e ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x2c h2e y5f3f ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x2d h2d y5f40 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>main()</div><div class="t m5 x2c h2d y5f41 ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _1c"> </span><span class="ffd fs1e fc2">{</span></div><div class="t m5 x2c h2d y5f42 ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _20"> </span><span class="ffd fs1e fc2">return<span class="_ _e"> </span>0;</span></div><div class="t m5 x2c h2d y5f43 ff6 fs20 fc6 sc0 ls0 ws0">7<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x2c h2d y5f44 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">/*<span class="_ _1f"> </span>bar2.c<span class="_ _e"> </span>*/</span></div><div class="t m5 x2c h2d y5f45 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _1c"> </span><span class="ffd fs1e fc2">int<span class="_ _1f"> </span>x<span class="_ _e"> </span>=<span class="_ _1f"> </span>15213;</span></div><div class="t m5 x2c h2e y5f46 ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x2c h2e y5f47 ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x2d h2d y5f48 ffd fs1e fc2 sc0 ls0 ws0">void<span class="_ _e"> </span>f()</div><div class="t m5 x2c h2d y5f49 ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _1c"> </span><span class="ffd fs1e fc2">{</span></div><div class="t m5 x2c h2d y5f4a ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x26 h26 y5f4b ff7 fs19 fc2 sc0 ls0 ws0">However,<span class="_ _6"> </span>if<span class="_ _13"> </span><span class="ffd">x<span class="_ _a"> </span></span>is<span class="_ _13"> </span>uninitialized<span class="_ _6"> </span>in<span class="_ _6"> </span>one<span class="_ _13"> </span>module<span class="_ _1"></span>,<span class="_ _13"> </span>then<span class="_ _6"> </span>the<span class="_ _6"> </span>linker<span class="_ _13"> </span>will<span class="_ _6"> </span>quietly<span class="_ _6"> </span>choose</div><div class="t m5 x17 h26 y5f4c ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>strong<span class="_"> </span>symbol<span class="_"> </span>deﬁned<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>other<span class="_"> </span>(rule<span class="_"> </span>2):</div><div class="t m5 x2c h2d y5f4d ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">/*<span class="_ _1f"> </span>foo3.c<span class="_ _e"> </span>*/</span></div><div class="t m5 x2c h2d y5f4e ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _1c"> </span><span class="ffd fs1e fc2">#include<span class="_ _1f"> </span>&lt;stdio.h&gt;</span></div><div class="t m5 x2c h2e y5f4f ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x2d h2d y5f50 ffd fs1e fc2 sc0 ls0 ws0">void<span class="_ _e"> </span>f(void);</div><div class="t m5 x2c h2e y5f51 ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x2c h2e y5f52 ff6 fs20 fc6 sc0 ls0 ws0">5</div><div class="t m5 x2d h2d y5f53 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>x<span class="_ _1f"> </span>=<span class="_ _1f"> </span>15213;</div><div class="t m5 x2c h2e y5f54 ff6 fs20 fc6 sc0 ls0 ws0">6</div><div class="t m5 x2c h2e y5f55 ff6 fs20 fc6 sc0 ls0 ws0">7</div><div class="t m5 x2d h2d y5f56 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>main()</div><div class="t m5 x2c h2d y5f57 ff6 fs20 fc6 sc0 ls0 ws0">8<span class="_ _1c"> </span><span class="ffd fs1e fc2">{</span></div><div class="t m5 x2c h2d y5f58 ff6 fs20 fc6 sc0 ls0 ws0">9<span class="_ _20"> </span><span class="ffd fs1e fc2">f();</span></div><div class="t m5 x17 h2e y5f59 ff6 fs20 fc6 sc0 ls0 ws0">10</div><div class="t m5 x142 h2d y5f5a ffd fs1e fc2 sc0 ls0 ws0">printf(&quot;x<span class="_ _e"> </span>=<span class="_ _1f"> </span>%d\n&quot;,<span class="_ _1f"> </span>x);</div><div class="t m5 x17 h2d y5f5b ff6 fs20 fc6 sc0 ls0 ws0">11<span class="_ _20"> </span><span class="ffd fs1e fc2">return<span class="_ _e"> </span>0;</span></div><div class="t m5 x17 h2d y5f5c ff6 fs20 fc6 sc0 ls0 ws0">12<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x2c h2d y107b ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">/*<span class="_ _1f"> </span>bar3.c<span class="_ _e"> </span>*/</span></div><div class="t m5 x2c h2d ye93 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _1c"> </span><span class="ffd fs1e fc2">int<span class="_ _1f"> </span>x;</span></div><div class="t m5 x2c h2e y832 ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x2c h2e y5f5d ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 x2d h2d y8d6 ffd fs1e fc2 sc0 ls0 ws0">void<span class="_ _e"> </span>f()</div><div class="t m5 x2c h2d y77e ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _1c"> </span><span class="ffd fs1e fc2">{</span></div><div class="t m5 x2c h2d ye95 ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _20"> </span><span class="ffd fs1e fc2">x<span class="_ _e"> </span>=<span class="_ _1f"> </span>15212;</span></div><div class="t m5 x2c h2d y177d ff6 fs20 fc6 sc0 ls0 ws0">7<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
