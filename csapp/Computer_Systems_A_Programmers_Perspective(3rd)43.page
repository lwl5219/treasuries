<div id="pf2b" class="pf w2 h11" data-page-no="2b"><div class="pc pc2b w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2b.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">42<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>1<span class="_ _3d"> </span>A<span class="_ _10"> </span>T<span class="_ _3"></span>our<span class="_ _10"> </span>of<span class="_ _10"> </span>Computer<span class="_ _10"> </span>Systems</span></div><div class="t m5 x28 h2a y548 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">The<span class="_ _11"> </span>GNU<span class="_ _11"> </span>project</span></div><div class="t m5 x28 h2b y2d0 ff9 fs1e fc2 sc0 ls0 ws0">Gcc<span class="_ _14"> </span><span class="ff7">is<span class="_ _16"> </span>one<span class="_ _14"> </span>of<span class="_ _14"> </span>many<span class="_ _14"> </span>useful<span class="_ _14"> </span>tools<span class="_ _14"> </span>developed<span class="_ _16"> </span>by<span class="_ _14"> </span>the<span class="_ _14"> </span>GNU<span class="_ _14"> </span>(short<span class="_ _14"> </span>for<span class="_ _14"> </span>GNU’s<span class="_ _16"> </span>Not<span class="_ _14"> </span>Unix)<span class="_ _16"> </span>project.<span class="_ _14"> </span>The</span></div><div class="t m5 x28 h2b y2d1 ff7 fs1e fc2 sc0 ls0 ws0">GNU<span class="_ _10"> </span>project<span class="_ _11"> </span>is<span class="_ _11"> </span>a<span class="_"> </span>tax-exempt<span class="_ _11"> </span>charity<span class="_ _11"> </span>started<span class="_ _10"> </span>by<span class="_ _11"> </span>Richard<span class="_ _11"> </span>Stallman<span class="_ _10"> </span>in<span class="_ _11"> </span>1984,<span class="_ _11"> </span>with<span class="_ _10"> </span>the<span class="_ _11"> </span>ambitious<span class="_ _11"> </span>goal<span class="_ _10"> </span>of</div><div class="t m5 x28 h2b y2d2 ff7 fs1e fc2 sc0 ls0 ws0">developing<span class="_ _11"> </span>a<span class="_ _11"> </span>complete<span class="_ _11"> </span>Unix-like<span class="_ _11"> </span>system<span class="_ _11"> </span>whose<span class="_ _11"> </span>source<span class="_ _16"> </span>code<span class="_ _10"> </span>is<span class="_ _16"> </span>unencumbered<span class="_ _10"> </span>by<span class="_ _16"> </span>restrictions<span class="_ _10"> </span>on<span class="_ _16"> </span>how</div><div class="t m5 x28 h2b y2d3 ff7 fs1e fc2 sc0 ls0 ws0">it<span class="_"> </span>can<span class="_ _10"> </span>be<span class="_ _11"> </span>modiﬁed<span class="_"> </span>or<span class="_"> </span>distributed.<span class="_ _11"> </span>T<span class="_ _1"></span>he<span class="_ _11"> </span>GNU<span class="_"> </span>project<span class="_"> </span>has<span class="_ _11"> </span>developed<span class="_"> </span>an<span class="_ _10"> </span>environment<span class="_ _11"> </span>with<span class="_"> </span>all<span class="_"> </span>the<span class="_ _11"> </span>major</div><div class="t m5 x28 h2b y2d4 ff7 fs1e fc2 sc0 ls0 ws0">components<span class="_ _16"> </span>of<span class="_ _14"> </span>a<span class="_ _16"> </span>Unix<span class="_ _16"> </span>operating<span class="_ _14"> </span>system,<span class="_ _14"> </span>except<span class="_ _14"> </span>for<span class="_ _16"> </span>the<span class="_ _14"> </span>kernel,<span class="_ _14"> </span>which<span class="_ _16"> </span>was<span class="_ _14"> </span>developed<span class="_ _16"> </span>separately<span class="_ _14"> </span>by</div><div class="t m5 x28 h2b y2d5 ff7 fs1e fc2 sc0 ls0 ws0">the<span class="_ _14"> </span>Linux<span class="_ _14"> </span>project.<span class="_ _14"> </span>T<span class="_ _0"></span>he<span class="_ _14"> </span>GNU<span class="_ _14"> </span>environment<span class="_ _14"> </span>includes<span class="_ _14"> </span>the<span class="_ _15"> </span><span class="ff9">emacs<span class="_ _16"> </span></span>editor,<span class="_ _15"> </span><span class="ff9">gcc<span class="_ _14"> </span></span>compiler,<span class="_ _14"> </span><span class="ff9">gdb<span class="_ _14"> </span></span>debugger,</div><div class="t m5 x28 h2b y2d6 ff7 fs1e fc2 sc0 ls0 ws0">assembler,<span class="_ _15"> </span>linker,<span class="_ _15"> </span>utilities<span class="_ _14"> </span>for<span class="_ _14"> </span>manipulating<span class="_ _15"> </span>binaries<span class="_ _1"></span>,<span class="_ _21"> </span>and<span class="_ _14"> </span>other<span class="_ _15"> </span>components<span class="_ _1"></span>.<span class="_ _14"> </span>The<span class="_ _14"> </span><span class="ff9">gcc<span class="_ _14"> </span></span>compiler<span class="_ _15"> </span>has</div><div class="t m5 x28 h2b y549 ff7 fs1e fc2 sc0 ls0 ws0">grown<span class="_ _21"> </span>to<span class="_ _21"> </span>support<span class="_ _21"> </span>many<span class="_ _f"> </span>different<span class="_ _21"> </span>languages<span class="_ _1"></span>,<span class="_ _e"> </span>with<span class="_ _15"> </span>the<span class="_ _f"> </span>ability<span class="_ _21"> </span>to<span class="_ _21"> </span>generate<span class="_ _21"> </span>code<span class="_ _f"> </span>for<span class="_ _21"> </span>many<span class="_ _21"> </span>different</div><div class="t m5 x28 h2b y54a ff7 fs1e fc2 sc0 ls0 ws0">machines<span class="_ _1"></span>.<span class="_"> </span>Supported<span class="_"> </span>languages<span class="_"> </span>include<span class="_"> </span>C,<span class="_"> </span>C++,<span class="_"> </span>F<span class="_ _3"></span>ortran,<span class="_"> </span>J<span class="_ _1"></span>ava,<span class="_"> </span>Pascal,<span class="_"> </span>Objective-C,<span class="_"> </span>and<span class="_"> </span>Ada.</div><div class="t m5 x57 h2b y54b ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>GNU<span class="_"> </span>project<span class="_"> </span>is<span class="_ _13"> </span>a<span class="_"> </span>remarkable<span class="_ _13"> </span>achievement,<span class="_"> </span>and<span class="_"> </span>yet<span class="_ _13"> </span>it<span class="_"> </span>is<span class="_"> </span>often<span class="_ _13"> </span>overlooked.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span>modern<span class="_"> </span>open-</div><div class="t m5 x28 h2b y54c ff7 fs1e fc2 sc0 ls0 ws0">source<span class="_ _13"> </span>movement<span class="_ _13"> </span>(commonly<span class="_ _13"> </span>associated<span class="_ _13"> </span>with<span class="_ _13"> </span>Linux)<span class="_ _13"> </span>owes<span class="_ _13"> </span>its<span class="_ _13"> </span>intellectual<span class="_ _13"> </span>origins<span class="_ _13"> </span>to<span class="_ _13"> </span>the<span class="_ _13"> </span>GNU<span class="_ _13"> </span>project’s</div><div class="t m5 x28 h2b y54d ff7 fs1e fc2 sc0 ls0 ws0">notion<span class="_ _10"> </span>of<span class="_ _11"> </span><span class="ffa">free<span class="_ _11"> </span>software<span class="_ _11"> </span></span>(“free”<span class="_ _11"> </span>as<span class="_ _10"> </span>in<span class="_ _11"> </span>“free<span class="_ _11"> </span>speech,<span class="_ _1"></span>”<span class="_ _11"> </span>not<span class="_ _11"> </span>“free<span class="_ _11"> </span>beer”).<span class="_ _10"> </span>Further,<span class="_ _11"> </span>Linux<span class="_ _11"> </span>owes<span class="_ _10"> </span>much<span class="_ _11"> </span>of<span class="_ _11"> </span>its</div><div class="t m5 x28 h2b y54e ff7 fs1e fc2 sc0 ls0 ws0">popularity<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>GNU<span class="_"> </span>tools<span class="_ _1"></span>,<span class="_"> </span>which<span class="_"> </span>provide<span class="_"> </span>the<span class="_"> </span>environment<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>Linux<span class="_"> </span>kernel.</div><div class="t m5 x75 h3d y54f ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y550 ffa fs19 fc1 sc0 ls0 ws0">Linking<span class="_ _6"> </span>phase<span class="_ _0"></span>.<span class="_ _2"></span><span class="ff7">Notice<span class="_ _6"> </span>that<span class="_ _6"> </span>our<span class="_ _6"> </span><span class="ffd">hello<span class="_ _6"> </span></span>program<span class="_ _6"> </span>calls<span class="_ _6"> </span>the<span class="_ _6"> </span><span class="ffd">printf<span class="_ _6"> </span></span>function,<span class="_ _13"> </span>which</span></div><div class="t m5 x29 h26 y551 ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _16"> </span>part<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span><span class="ffa">standard<span class="_ _16"> </span>C<span class="_ _11"> </span>library<span class="_ _16"> </span></span>provided<span class="_ _16"> </span>by<span class="_ _16"> </span>every<span class="_ _11"> </span>C<span class="_ _16"> </span>compiler.<span class="_ _16"> </span>T<span class="_ _1"></span>he<span class="_ _16"> </span><span class="ffd">printf</span></div><div class="t m5 x29 h26 y552 ff7 fs19 fc1 sc0 ls0 ws0">function<span class="_"> </span>resides<span class="_ _13"> </span>in<span class="_"> </span>a<span class="_"> </span>separate<span class="_"> </span>precompiled<span class="_ _13"> </span>object<span class="_"> </span>ﬁle<span class="_"> </span>called<span class="_"> </span><span class="ffd">printf.o</span>,<span class="_"> </span>which</div><div class="t m5 x29 h26 y553 ff7 fs19 fc1 sc0 ls0 ws0">must<span class="_ _13"> </span>somehow<span class="_ _6"> </span>be<span class="_ _13"> </span>merged<span class="_ _13"> </span>with<span class="_ _6"> </span>our<span class="_ _13"> </span><span class="ffd">hello.o<span class="_ _6"> </span></span>program.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>linker<span class="_ _13"> </span>(<span class="ffd">ld</span>)<span class="_ _6"> </span>handles</div><div class="t m5 x29 h26 y554 ff7 fs19 fc1 sc0 ls0 ws0">this<span class="_ _13"> </span>merging.<span class="_ _13"> </span>T<span class="_ _0"></span>he<span class="_ _13"> </span>result<span class="_"> </span>is<span class="_ _13"> </span>the<span class="_ _13"> </span><span class="ffd">hello<span class="_ _10"> </span></span>ﬁle<span class="_ _1"></span>,<span class="_"> </span>which<span class="_ _13"> </span>is<span class="_ _13"> </span>an<span class="_ _13"> </span>executable<span class="_"> </span>object<span class="_ _13"> </span>ﬁle<span class="_ _13"> </span>(or</div><div class="t m5 x29 h26 y555 ff7 fs19 fc1 sc0 ls0 ws0">simply<span class="_ _16"> </span><span class="ffa">executable</span>)<span class="_ _11"> </span>that<span class="_ _16"> </span>is<span class="_ _16"> </span>ready<span class="_ _16"> </span>to<span class="_ _16"> </span>be<span class="_ _16"> </span>loaded<span class="_ _16"> </span>into<span class="_ _16"> </span>memory<span class="_ _11"> </span>and<span class="_ _16"> </span>executed<span class="_ _16"> </span>by</div><div class="t m5 x29 h26 y556 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>system.</div><div class="t m5 x1d h3b y557 fff fs24 fc6 sc0 ls0 ws0">1.3<span class="_ _17"> </span><span class="ffe fs18">It<span class="_"> </span>Pays<span class="_"> </span>to<span class="_"> </span>Understand<span class="_"> </span>How<span class="_"> </span>Compilation<span class="_"> </span>Systems<span class="_"> </span>Work</span></div><div class="t m5 x1d h26 y558 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _11"> </span>simple<span class="_ _11"> </span>programs<span class="_ _16"> </span>such<span class="_"> </span>as<span class="_ _16"> </span><span class="ffd">hello.c</span>,<span class="_ _11"> </span>we<span class="_ _11"> </span>can<span class="_ _11"> </span>rely<span class="_ _16"> </span>on<span class="_ _11"> </span>the<span class="_ _11"> </span>compilation<span class="_ _11"> </span>system<span class="_ _11"> </span>to</div><div class="t m5 x1d h26 y559 ff7 fs19 fc1 sc0 ls0 ws0">produce<span class="_"> </span>correct<span class="_ _11"> </span>and<span class="_"> </span>efﬁcient<span class="_ _11"> </span>machine<span class="_"> </span>code.<span class="_"> </span>However<span class="_ _0"></span>,<span class="_"> </span>there<span class="_ _11"> </span>are<span class="_"> </span>some<span class="_ _11"> </span>important</div><div class="t m5 x1d h26 y55a ff7 fs19 fc1 sc0 ls0 ws0">reasons<span class="_"> </span>why<span class="_"> </span>programmers<span class="_"> </span>need<span class="_"> </span>to<span class="_"> </span>understand<span class="_"> </span>how<span class="_"> </span>compilation<span class="_"> </span>systems<span class="_"> </span>work:</div><div class="t m5 x75 h3d y55b ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y55c ffa fs19 fc1 sc0 ls0 ws0">Optimizing<span class="_"> </span>program<span class="_ _11"> </span>performance.<span class="_ _13"> </span><span class="ff7">Modern<span class="_"> </span>compilers<span class="_ _11"> </span>are<span class="_"> </span>sophisticated<span class="_ _11"> </span>tools</span></div><div class="t m5 x29 h26 y55d ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _16"> </span>usually<span class="_ _16"> </span>produce<span class="_ _16"> </span>good<span class="_ _16"> </span>code<span class="_ _1"></span>.<span class="_ _16"> </span>As<span class="_ _16"> </span>programmers<span class="_ _1"></span>,<span class="_ _14"> </span>we<span class="_ _16"> </span>do<span class="_ _16"> </span>not<span class="_ _16"> </span>need<span class="_ _16"> </span>to<span class="_ _16"> </span>know</div><div class="t m5 x29 h26 y55e ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>inner<span class="_"> </span>workings<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>compiler<span class="_ _13"> </span>in<span class="_"> </span>order<span class="_"> </span>to<span class="_"> </span>write<span class="_"> </span>efﬁcient<span class="_"> </span>code<span class="_ _1"></span>.<span class="_"> </span>However,</div><div class="t m5 x29 h26 y55f ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_ _14"> </span>order<span class="_ _15"> </span>to<span class="_ _15"> </span>make<span class="_ _15"> </span>good<span class="_ _15"> </span>coding<span class="_ _14"> </span>decisions<span class="_ _15"> </span>in<span class="_ _15"> </span>our<span class="_ _15"> </span>C<span class="_ _14"> </span>programs<span class="_ _0"></span>,<span class="_ _15"> </span>we<span class="_ _15"> </span>do<span class="_ _15"> </span>need<span class="_ _15"> </span>a</div><div class="t m5 x29 h26 y560 ff7 fs19 fc1 sc0 ls0 ws0">basic<span class="_ _16"> </span>understanding<span class="_ _11"> </span>of<span class="_ _16"> </span>machine-level<span class="_ _16"> </span>code<span class="_ _16"> </span>and<span class="_ _16"> </span>how<span class="_ _16"> </span>the<span class="_ _11"> </span>compiler<span class="_ _16"> </span>translates</div><div class="t m5 x29 h26 y561 ff7 fs19 fc1 sc0 ls0 ws0">different<span class="_ _13"> </span>C<span class="_ _13"> </span>statements<span class="_ _13"> </span>into<span class="_ _13"> </span>machine<span class="_ _13"> </span>code<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _1"></span>or<span class="_ _13"> </span>example,<span class="_ _13"> </span>is<span class="_ _13"> </span>a<span class="_ _13"> </span><span class="ffd">switch<span class="_ _13"> </span></span>statement</div><div class="t m5 x29 h26 y562 ff7 fs19 fc1 sc0 ls0 ws0">always<span class="_ _15"> </span>more<span class="_ _15"> </span>efﬁcient<span class="_ _21"> </span>than<span class="_ _15"> </span>a<span class="_ _21"> </span>sequence<span class="_ _15"> </span>of<span class="_ _15"> </span><span class="ffd">if</span>-<span class="ffd">else<span class="_ _21"> </span></span>statements?<span class="_ _15"> </span>How<span class="_ _21"> </span>much</div><div class="t m5 x29 h26 y563 ff7 fs19 fc1 sc0 ls0 ws0">overhead<span class="_ _11"> </span>is<span class="_ _16"> </span>incurred<span class="_ _11"> </span>by<span class="_ _16"> </span>a<span class="_ _16"> </span>function<span class="_ _11"> </span>call?<span class="_ _16"> </span>Is<span class="_ _11"> </span>a<span class="_ _16"> </span><span class="ffd">while<span class="_ _11"> </span></span>loop<span class="_ _16"> </span>more<span class="_ _11"> </span>efﬁcient<span class="_ _16"> </span>than</div><div class="t m5 x29 h26 y564 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _11"> </span><span class="ffd">for<span class="_ _16"> </span></span>loop?<span class="_ _11"> </span>Are<span class="_ _16"> </span>pointer<span class="_ _16"> </span>references<span class="_ _11"> </span>more<span class="_ _16"> </span>efﬁcient<span class="_ _11"> </span>than<span class="_ _16"> </span>array<span class="_ _11"> </span>indexes?<span class="_ _16"> </span>Why</div><div class="t m5 x29 h26 y565 ff7 fs19 fc1 sc0 ls0 ws0">does<span class="_"> </span>our<span class="_"> </span>loop<span class="_ _13"> </span>run<span class="_"> </span>so<span class="_"> </span>much<span class="_"> </span>faster<span class="_ _13"> </span>if<span class="_"> </span>we<span class="_"> </span>sum<span class="_"> </span>into<span class="_"> </span>a<span class="_ _13"> </span>local<span class="_"> </span>variable<span class="_"> </span>instead<span class="_"> </span>of<span class="_ _13"> </span>an</div><div class="t m5 x29 h26 y566 ff7 fs19 fc1 sc0 ls0 ws0">argument<span class="_ _13"> </span>that<span class="_ _13"> </span>is<span class="_ _13"> </span>passed<span class="_ _13"> </span>by<span class="_"> </span>reference?<span class="_ _13"> </span>How<span class="_ _13"> </span>can<span class="_ _13"> </span>a<span class="_ _13"> </span>function<span class="_ _13"> </span>run<span class="_ _13"> </span>faster<span class="_ _13"> </span>when<span class="_ _13"> </span>we</div><div class="t m5 x29 h26 y567 ff7 fs19 fc1 sc0 ls0 ws0">simply<span class="_"> </span>rearrange<span class="_"> </span>the<span class="_"> </span>parentheses<span class="_"> </span>in<span class="_"> </span>an<span class="_"> </span>arithmetic<span class="_"> </span>expression?</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
