<div id="pf1cd" class="pf w2 h11" data-page-no="1cd"><div class="pc pc1cd w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1cd.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">460<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 x10d h99 y3fb7 ff49 fs5d fc1 sc0 ls0 ws0">Stat</div><div class="t m5 x203 h9a y3fb8 ff49 fs5e fc1 sc0 ls0 ws0">Stat</div><div class="t m5 x51 h9a y3fb9 ff49 fs5e fc1 sc0 ls0 ws0">valA</div><div class="t m5 x10d h9a y3fba ff49 fs5e fc1 sc0 ls0 ws0">Stat</div><div class="t m5 x10d h9a y3fbb ff49 fs5e fc1 sc0 ls0 ws0">Stat</div><div class="t m5 xc5 h9a y3fbc ff21 fs5e fc1 sc0 ls0 ws0">Write</div><div class="t m5 xc5 h9a y3fbd ff21 fs5e fc1 sc0 ls0 ws0">back</div><div class="t m5 x140 h9a y3fbe ff49 fs5e fc0 sc0 ls0 ws0">W<span class="_ _57"> </span><span class="fc1">icode<span class="_ _165"> </span>valE<span class="_ _94"> </span>valM<span class="_ _2b"> </span>dstE<span class="_ _1f"> </span>dstM</span></div><div class="t m5 x15 h9b y3fbf ff49 fs5f fc1 sc0 ls0 ws0">ALU</div><div class="t m5 x24e h9b y3fc0 ff49 fs5f fc1 sc0 ls0 ws0">A</div><div class="t m5 x17a h9b y3fbf ff49 fs5f fc1 sc0 ls0 ws0">ALU</div><div class="t m5 x24 h9b y3fc0 ff49 fs5f fc1 sc0 ls0 ws0">B</div><div class="t m5 x6c h9b y3fc1 ff49 fs5f fc1 sc0 ls0 ws0">ALU</div><div class="t m5 x1f8 h9b y3fc2 ff49 fs5f fc1 sc0 ls0 ws0">fun.</div><div class="t m5 x1cb h9a y3fb9 ff49 fs5e fc0 sc0 ls0 ws0">M<span class="_ _68"> </span><span class="fc1">icode<span class="_ _72"> </span>Cnd<span class="_ _64"> </span>valE<span class="_ _d3"> </span>valA<span class="_ _f4"> </span>dstE<span class="_ _1f"> </span>dstM</span></div><div class="t m5 x4c h9a y3fc3 ff49 fs5e fc0 sc0 ls0 ws0">E<span class="_ _105"> </span><span class="fc1">icode<span class="_ _25"> </span>ifun<span class="_ _ba"> </span>valC<span class="_ _d3"> </span>valA<span class="_ _78"> </span>valB<span class="_ _6f"> </span>dstM<span class="_ _1f"> </span>srcA<span class="_ _1f"> </span>srcB<span class="_ _1bf"></span>dstE</span></div><div class="t m5 x4c h9a y3fc4 ff49 fs5e fc0 sc0 ls0 ws0">D<span class="_ _6c"> </span><span class="fc1">icode<span class="_ _1c0"></span>stat</span></div><div class="t m5 x10d h9a y3fc5 ff49 fs5e fc1 sc0 ls0 ws0">stat</div><div class="t m5 x10d h9a y3fc6 ff49 fs5e fc1 sc0 ls0 ws0">stat</div><div class="t m5 xf1 h9a y3fc7 ff49 fs5e fc1 sc0 ls0 ws0">ifun</div><div class="t m5 x187 h9a y3fc4 ff49 fs5e fc1 sc0 ls0 ws0">valC<span class="_ _bd"> </span>valP<span class="_ _1c1"></span>rB<span class="_ _146"></span>rA</div><div class="t m5 x4c h9a y3fc8 ff49 fs5e fc0 sc0 ls0 ws0">F<span class="_ _1c2"> </span><span class="fc1">predPC</span></div><div class="t m5 x19a h9c y3fc9 ff49 fs60 fc1 sc0 ls0 ws0">data out</div><div class="t m5 x19a h9c y3fca ff49 fs60 fc1 sc0 ls0 ws0">data in</div><div class="t m5 xf8 h9c y3fcb ff49 fs60 fc1 sc0 ls0 ws0">M_Cnd</div><div class="t m5 x47 h9c y3fcc ff49 fs60 fc1 sc0 ls0 ws0">e_Cnd</div><div class="t m5 xc5 h9a y3fcd ff21 fs5e fc1 sc0 ls0 ws0">Memory</div><div class="t m5 x20c h9a y3fce ff49 fs5e fc1 sc0 ls0 ws0">ALU</div><div class="t m5 xc5 h9a y3fcf ff21 fs5e fc1 sc0 ls0 ws0">Execute</div><div class="t m5 x18c h9a y3fd0 ff49 fs5e fc1 sc0 ls0 ws0">dstE<span class="_ _1f"> </span>dstM<span class="_ _22"> </span>srcA<span class="_ _22"> </span>srcB</div><div class="t m5 x23b h9a y3fd1 ff49 fs5e fc1 sc0 ls0 ws0">Select</div><div class="t m5 x40 h9a y3fd2 ff49 fs5e fc1 sc0 ls0 ws0">A</div><div class="t m5 x8d h9d y3fd3 ff49 fs61 fc1 sc0 ls0 ws0">Predict</div><div class="t m5 xb5 h9d y3fd4 ff49 fs61 fc1 sc0 ls0 ws0">PC</div><div class="t m5 x255 h9a y3fd5 ff49 fs5e fc1 sc0 ls0 ws0">Select</div><div class="t m5 x116 h9a y3fd6 ff49 fs5e fc1 sc0 ls0 ws0">PC</div><div class="t m5 x148 h9c y3fd7 ff49 fs60 fc1 sc0 ls0 ws0">d_srcA</div><div class="t m5 x205 h9c y3fd8 ff49 fs60 fc1 sc0 ls0 ws0">d_rvalA</div><div class="t m5 x256 h9c y3fd9 ff49 fs60 fc1 sc0 ls0 ws0">d_srcB</div><div class="t m5 x16b h9c y3fda ff49 fs60 fc1 sc0 ls0 ws0">W_valM</div><div class="t m5 x173 h9c y3fdb ff49 fs60 fc1 sc0 ls0 ws0">M_valA</div><div class="t m5 x16b h9c y3fdc ff49 fs60 fc1 sc0 ls0 ws0">W_valE</div><div class="t m5 x173 h9c y3fdd ff49 fs60 fc1 sc0 ls0 ws0">M_valA</div><div class="t m5 x89 h9c y3fde ff49 fs60 fc1 sc0 ls0 ws0">f_pc</div><div class="t m5 x1ee h9c y3fdf ff49 fs60 fc1 sc0 ls0 ws0">f_stat</div><div class="t m5 x10c h9c y3fe0 ff49 fs60 fc1 sc0 ls0 ws0">D_stat</div><div class="t m5 xce h9c y3fe1 ff49 fs60 fc1 sc0 ls0 ws0">E_stat</div><div class="t m5 x177 h9c y3fe2 ff49 fs60 fc1 sc0 ls0 ws0">M_stat</div><div class="t m5 xf6 h9c y3fe3 ff49 fs60 fc1 sc0 ls0 ws0">m_stat</div><div class="t m5 xa4 h9c y3fe4 ff49 fs60 fc1 sc0 ls0 ws0">W_stat</div><div class="t m5 x124 h9c y3fe5 ff49 fs60 fc1 sc0 ls0 ws0">imem_error</div><div class="t m5 x140 h9c y3fe6 ff49 fs60 fc1 sc0 ls0 ws0">instr_valid</div><div class="t m5 x16b h9c y3fe7 ff49 fs60 fc1 sc0 ls0 ws0">W_valM</div><div class="t m5 x157 h9a y3fe8 ff49 fs5e fc1 sc0 ls0 ws0">CC</div><div class="t m5 xcf h9a y3fe9 ff21 fs5e fc1 sc0 ls0 ws0">Decode</div><div class="t m5 xcf h9a y3fea ff21 fs5e fc1 sc0 ls0 ws0">Fetch</div><div class="t m5 x180 h9c y3feb ff49 fs60 fc1 sc0 ls0 ws0">read</div><div class="t m5 xac h9c y3fec ff49 fs60 fc1 sc0 ls0 ws0">dmem_error</div><div class="t m5 x1b1 h9c y3fed ff49 fs60 fc1 sc0 ls0 ws0">write</div><div class="t m5 x1ae h9a y3fee ff49 fs5e fc1 sc0 ls0 ws0">Addr</div><div class="t m5 xa8 h9b y3fef ff49 fs5f fc1 sc0 ls0 ws0">Mem.</div><div class="t m5 x13b h9b y3ff0 ff49 fs5f fc1 sc0 ls0 ws0">control</div><div class="t m5 x1c2 h9a y3ff1 ff49 fs5e fc1 sc0 ls0 ws0">Register</div><div class="t m5 x170 h9a y3ff2 ff49 fs5e fc1 sc0 ls0 ws0">file</div><div class="t m5 x42 h9c y3ff3 ff49 fs60 fc1 sc0 ls1c7 ws0">AB</div><div class="t m5 xda h9c y3ff4 ff49 fs60 fc1 sc0 ls0 ws0">E</div><div class="t m5 x1e8 h9c y3ff5 ff49 fs60 fc1 sc0 ls0 ws0">M</div><div class="t m5 x194 h9a y3ff6 ff49 fs5e fc1 sc0 ls0 ws0">PC</div><div class="t m5 x51 h9a y3ff7 ff49 fs5e fc1 sc0 ls0 ws0">increment</div><div class="t m5 xa5 h9a y3ff8 ff49 fs5e fc1 sc0 ls0 ws0">Instruction</div><div class="t m5 x22 h9a y3ff9 ff49 fs5e fc1 sc0 ls0 ws0">memory</div><div class="t m5 x18c h9a y3ffa ff49 fs5e fc1 sc0 ls0 ws0">dstE</div><div class="t m5 x82 h9a y3ffb ff49 fs5e fc1 sc0 ls0 ws0">Data</div><div class="t m5 x40 h9a y3ffc ff49 fs5e fc1 sc0 ls0 ws0">memory</div><div class="t m5 x10d h9a y3ffd ff49 fs5e fc1 sc0 ls0 ws0">stat</div><div class="t m5 x1d h35 y3ffe ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>4.41<span class="_ _c"> </span><span class="fc1">Hardware<span class="_ _11"> </span>structure<span class="_ _11"> </span>of<span class="_ _11"> </span>PIPE<span class="ff12">−</span>,<span class="_ _11"> </span>an<span class="_ _11"> </span>initial<span class="_ _11"> </span>pipelined<span class="_ _11"> </span>implementation.<span class="_ _11"> </span><span class="ff6">By</span></span></div><div class="t m5 x1d h34 y3fff ff6 fs16 fc1 sc0 ls0 ws0">inserting<span class="_ _13"> </span>pipeline<span class="_ _13"> </span>registers<span class="_ _10"> </span>into<span class="_ _13"> </span>SEQ+<span class="_ _13"> </span>(Figure<span class="_ _13"> </span>4.40),<span class="_ _10"> </span>we<span class="_ _13"> </span>create<span class="_ _13"> </span>a<span class="_ _10"> </span>ﬁve-stage<span class="_ _13"> </span>pipeline.<span class="_ _13"> </span>There</div><div class="t m5 x1d h34 y4000 ff6 fs16 fc1 sc0 ls0 ws0">are<span class="_ _10"> </span>several<span class="_ _11"> </span>shortcomings<span class="_ _10"> </span>of<span class="_ _10"> </span>this<span class="_ _11"> </span>version<span class="_ _10"> </span>that<span class="_ _11"> </span>we<span class="_ _10"> </span>will<span class="_ _11"> </span>deal<span class="_ _10"> </span>with<span class="_ _10"> </span>shortly<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
