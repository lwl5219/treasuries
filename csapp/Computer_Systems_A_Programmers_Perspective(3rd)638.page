<div id="pf27e" class="pf w2 h11" data-page-no="27e"><div class="pc pc27e w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg27e.png"/><div class="t m5 x195 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>6.1<span class="_ _60"> </span>Storage<span class="_ _10"> </span>T<span class="_ _1"></span>echnologies<span class="_ _3e"> </span><span class="ffe fs1e">637</span></div><div class="t m5 x1c h31 y390 ff7 fs21 fc2 sc0 ls0 ws0">Reads<span class="_ _1f8"> </span>Writes</div><div class="t m5 x17 h31 yc94 ff7 fs21 fc2 sc0 ls0 ws0">Sequential<span class="_"> </span>read<span class="_"> </span>throughput<span class="_ _147"> </span>550<span class="_"> </span>MB/s<span class="_ _64"> </span>Sequential<span class="_"> </span>write<span class="_"> </span>throughput<span class="_ _147"> </span>470<span class="_"> </span>MB/s</div><div class="t m5 x17 h31 yc96 ff7 fs21 fc2 sc0 ls0 ws0">Random<span class="_"> </span>read<span class="_"> </span>throughput<span class="_"> </span>(IOPS)<span class="_ _26"> </span>89,000<span class="_"> </span>IOPS<span class="_ _45"> </span>Random<span class="_"> </span>write<span class="_"> </span>throughput<span class="_"> </span>(IOPS)<span class="_ _26"> </span>74,000<span class="_"> </span>IOPS</div><div class="t m5 x17 h31 y5521 ff7 fs21 fc2 sc0 ls0 ws0">Random<span class="_"> </span>read<span class="_"> </span>throughput<span class="_"> </span>(MB/s)<span class="_ _95"> </span>365<span class="_"> </span>MB/s<span class="_ _ba"> </span>Random<span class="_"> </span>write<span class="_"> </span>throughput<span class="_"> </span>(MB/s)<span class="_ _95"> </span>303<span class="_"> </span>MB/s</div><div class="t m5 x17 h31 y5522 ff7 fs21 fc2 sc0 ls0 ws0">A<span class="_ _3"></span>vg.<span class="_"> </span>sequential<span class="_"> </span>read<span class="_"> </span>access<span class="_"> </span>time<span class="_ _75"> </span>50<span class="_"> </span><span class="ff11">μ</span>s<span class="_ _1d5"> </span>A<span class="_ _1"></span>vg.<span class="_"> </span>sequential<span class="_"> </span>write<span class="_"> </span>access<span class="_"> </span>time<span class="_ _ab"> </span>60<span class="_"> </span><span class="ff11">μ</span>s</div><div class="t m5 x17 h34 y1328 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.14<span class="_ _c"> </span><span class="fc1">Performance<span class="_"> </span>characteristics<span class="_"> </span>of<span class="_"> </span>a<span class="_ _11"> </span>commercial<span class="_"> </span>solid<span class="_"> </span>state<span class="_"> </span>disk.<span class="_"> </span><span class="ff6">Source:<span class="_ _10"> </span>Intel<span class="_ _10"> </span>SSD<span class="_ _11"> </span>730<span class="_ _10"> </span>product</span></span></div><div class="t m5 x17 h34 y1329 ff6 fs16 fc1 sc0 ls0 ws0">speciﬁcation<span class="_ _11"> </span>[53].<span class="_ _10"> </span><span class="ffb">IOPS<span class="_ _16"> </span></span>is<span class="_ _11"> </span>I/O<span class="_ _11"> </span>operations<span class="_ _11"> </span>per<span class="_ _11"> </span>second.<span class="_ _11"> </span>Throughput<span class="_ _10"> </span>numbers<span class="_ _11"> </span>are<span class="_ _11"> </span>based<span class="_ _11"> </span>on<span class="_ _11"> </span>reads<span class="_ _10"> </span>and<span class="_ _11"> </span>writes<span class="_ _11"> </span>of</div><div class="t m5 x17 h34 y15f8 ff6 fs16 fc1 sc0 ls0 ws0">4<span class="_ _10"> </span>KB<span class="_ _11"> </span>blocks.<span class="_ _10"> </span>(Intel<span class="_ _10"> </span>SSD<span class="_ _11"> </span>730<span class="_ _10"> </span>product<span class="_ _11"> </span>speciﬁcation.<span class="_ _10"> </span>Intel<span class="_ _11"> </span>Corporation.<span class="_ _10"> </span>52.)</div><div class="t m5 x17 h26 y5523 ff7 fs19 fc1 sc0 ls0 ws0">KB<span class="_"> </span>to<span class="_ _13"> </span>512<span class="_"> </span>KB<span class="_ _3"></span>.<span class="_"> </span>Data<span class="_"> </span>are<span class="_ _13"> </span>read<span class="_"> </span>and<span class="_"> </span>written<span class="_ _13"> </span>in<span class="_"> </span>units<span class="_"> </span>of<span class="_ _13"> </span>pages<span class="_ _1"></span>.<span class="_"> </span>A<span class="_"> </span>page<span class="_"> </span>can<span class="_ _13"> </span>be<span class="_"> </span>written</div><div class="t m5 x17 h26 y5524 ff7 fs19 fc1 sc0 ls0 ws0">only<span class="_ _6"> </span>after<span class="_ _6"> </span>the<span class="_ _13"> </span>entire<span class="_ _a"> </span>block<span class="_ _13"> </span>to<span class="_ _a"> </span>which<span class="_ _13"> </span>it<span class="_ _a"> </span>belongs<span class="_ _13"> </span>has<span class="_ _a"> </span>been<span class="_ _13"> </span><span class="ffa">erased<span class="_ _6"> </span></span>(typically<span class="_ _3"></span>,<span class="_ _13"> </span>this<span class="_ _6"> </span>means</div><div class="t m5 x17 h26 y5525 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_"> </span>all<span class="_"> </span>bits<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>block<span class="_"> </span>are<span class="_"> </span>set<span class="_"> </span>to<span class="_"> </span>1).<span class="_"> </span>However<span class="_ _0"></span>,<span class="_"> </span>once<span class="_"> </span>a<span class="_"> </span>block<span class="_"> </span>is<span class="_"> </span>erased,<span class="_"> </span>each<span class="_"> </span>page</div><div class="t m5 x17 h26 y5526 ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_"> </span>the<span class="_"> </span>block<span class="_"> </span>can<span class="_"> </span>be<span class="_ _11"> </span>written<span class="_"> </span>once<span class="_"> </span>with<span class="_"> </span>no<span class="_ _11"> </span>further<span class="_"> </span>erasing.<span class="_"> </span>A<span class="_"> </span>block<span class="_"> </span>wears<span class="_"> </span>out<span class="_"> </span>after</div><div class="t m5 x17 h26 y5527 ff7 fs19 fc1 sc0 ls0 ws0">roughly<span class="_ _13"> </span>100,000<span class="_ _13"> </span>repeated<span class="_ _13"> </span>writes<span class="_ _1"></span>.<span class="_ _13"> </span>Once<span class="_ _13"> </span>a<span class="_ _13"> </span>block<span class="_ _13"> </span>wears<span class="_"> </span>out,<span class="_ _13"> </span>it<span class="_ _13"> </span>can<span class="_ _13"> </span>no<span class="_ _13"> </span>longer<span class="_ _13"> </span>be<span class="_ _13"> </span>used.</div><div class="t m5 x26 h26 y5528 ff7 fs19 fc1 sc0 ls0 ws0">Random<span class="_ _21"> </span>writes<span class="_ _f"> </span>are<span class="_ _21"> </span>slower<span class="_ _f"> </span>for<span class="_ _f"> </span>two<span class="_ _21"> </span>reasons<span class="_ _1"></span>.<span class="_ _f"> </span>First,<span class="_ _f"> </span>erasing<span class="_ _f"> </span>a<span class="_ _21"> </span>block<span class="_ _f"> </span>takes<span class="_ _21"> </span>a</div><div class="t m5 x17 h26 y5529 ff7 fs19 fc1 sc0 ls0 ws0">relatively<span class="_ _6"> </span>long<span class="_ _6"> </span>time,<span class="_ _6"> </span>on<span class="_ _6"> </span>the<span class="_ _13"> </span>order<span class="_ _a"> </span>of<span class="_ _13"> </span>1<span class="_ _a"> </span>ms<span class="_ _1"></span>,<span class="_ _13"> </span>which<span class="_ _6"> </span>is<span class="_ _6"> </span>more<span class="_ _13"> </span>than<span class="_ _a"> </span>an<span class="_ _13"> </span>order<span class="_ _a"> </span>of<span class="_ _13"> </span>magnitude</div><div class="t m5 x17 h26 y552a ff7 fs19 fc1 sc0 ls0 ws0">longer<span class="_ _15"> </span>than<span class="_ _14"> </span>it<span class="_ _15"> </span>takes<span class="_ _15"> </span>to<span class="_ _15"> </span>access<span class="_ _15"> </span>a<span class="_ _15"> </span>page<span class="_ _0"></span>.<span class="_ _14"> </span>Second,<span class="_ _21"> </span>if<span class="_ _15"> </span>a<span class="_ _15"> </span>write<span class="_ _15"> </span>operation<span class="_ _15"> </span>attempts<span class="_ _15"> </span>to</div><div class="t m5 x17 h26 y552b ff7 fs19 fc1 sc0 ls0 ws0">modify<span class="_ _11"> </span>a<span class="_ _11"> </span>page<span class="_ _11"> </span><span class="ff11">p<span class="_"> </span></span>that<span class="_"> </span>contains<span class="_ _11"> </span>existing<span class="_ _11"> </span>data<span class="_ _11"> </span>(i.e.,<span class="_"> </span>not<span class="_ _11"> </span>all<span class="_ _11"> </span>ones),<span class="_ _11"> </span>then<span class="_ _16"> </span>any<span class="_"> </span>pages<span class="_ _11"> </span>in</div><div class="t m5 x17 h26 y552c ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _16"> </span>same<span class="_ _16"> </span>block<span class="_ _16"> </span>with<span class="_ _11"> </span>useful<span class="_ _16"> </span>data<span class="_ _16"> </span>must<span class="_ _16"> </span>be<span class="_ _16"> </span>copied<span class="_ _16"> </span>to<span class="_ _16"> </span>a<span class="_ _16"> </span>new<span class="_ _16"> </span>(erased)<span class="_ _16"> </span>block<span class="_ _11"> </span>before</div><div class="t m5 x17 h26 y552d ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>write<span class="_"> </span>to<span class="_"> </span>page<span class="_"> </span><span class="ff11">p<span class="_ _16"> </span></span>can<span class="_"> </span>occur.<span class="_"> </span>Manufacturers<span class="_"> </span>have<span class="_"> </span>developed<span class="_"> </span>sophisticated<span class="_"> </span>logic</div><div class="t m5 x17 h26 y552e ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_ _14"> </span>the<span class="_ _14"> </span>ﬂash<span class="_ _14"> </span>translation<span class="_ _14"> </span>layer<span class="_ _14"> </span>that<span class="_ _14"> </span>attempts<span class="_ _14"> </span>to<span class="_ _14"> </span>amortize<span class="_ _14"> </span>the<span class="_ _14"> </span>high<span class="_ _14"> </span>cost<span class="_ _15"> </span>of<span class="_ _14"> </span>erasing</div><div class="t m5 x17 h26 y552f ff7 fs19 fc1 sc0 ls0 ws0">blocks<span class="_"> </span>and<span class="_"> </span>to<span class="_"> </span>minimize<span class="_ _11"> </span>the<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>internal<span class="_ _11"> </span>copies<span class="_"> </span>on<span class="_"> </span>writes<span class="_ _1"></span>,<span class="_ _11"> </span>but<span class="_"> </span>it<span class="_"> </span>is<span class="_"> </span>unlikely</div><div class="t m5 x17 h26 y5530 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_"> </span>random<span class="_"> </span>writing<span class="_"> </span>will<span class="_"> </span>ever<span class="_"> </span>perform<span class="_"> </span>as<span class="_"> </span>well<span class="_"> </span>as<span class="_"> </span>reading.</div><div class="t m5 x26 h26 y5531 ff7 fs19 fc1 sc0 ls0 ws0">SSDs<span class="_ _15"> </span>have<span class="_ _21"> </span>a<span class="_ _21"> </span>number<span class="_ _21"> </span>of<span class="_ _21"> </span>advantages<span class="_ _21"> </span>over<span class="_ _21"> </span>rotating<span class="_ _21"> </span>disks<span class="_ _1"></span>.<span class="_ _21"> </span>T<span class="_ _0"></span>hey<span class="_ _15"> </span>are<span class="_ _21"> </span>built<span class="_ _21"> </span>of</div><div class="t m5 x17 h26 y5532 ff7 fs19 fc1 sc0 ls0 ws0">semiconductor<span class="_ _13"> </span>memory<span class="_ _3"></span>,<span class="_ _13"> </span>with<span class="_"> </span>no<span class="_ _13"> </span>moving<span class="_ _13"> </span>parts<span class="_ _1"></span>,<span class="_ _13"> </span>and<span class="_"> </span>thus<span class="_ _13"> </span>have<span class="_ _13"> </span>much<span class="_ _13"> </span>faster<span class="_ _13"> </span>random</div><div class="t m5 x17 h26 y5533 ff7 fs19 fc1 sc0 ls0 ws0">access<span class="_ _11"> </span>times<span class="_ _11"> </span>than<span class="_ _11"> </span>rotating<span class="_"> </span>disks<span class="_ _0"></span>,<span class="_ _11"> </span>use<span class="_ _11"> </span>less<span class="_ _11"> </span>power,<span class="_"> </span>and<span class="_ _11"> </span>are<span class="_ _11"> </span>more<span class="_ _11"> </span>rugged.<span class="_ _11"> </span>However,</div><div class="t m5 x17 h26 y5534 ff7 fs19 fc1 sc0 ls0 ws0">there<span class="_"> </span>are<span class="_"> </span>some<span class="_"> </span>disadvantages<span class="_ _3"></span>.<span class="_"> </span>First,<span class="_"> </span>because<span class="_"> </span>ﬂash<span class="_"> </span>blocks<span class="_ _13"> </span>wear<span class="_"> </span>out<span class="_"> </span>after<span class="_"> </span>repeated</div><div class="t m5 x17 h26 y5535 ff7 fs19 fc1 sc0 ls0 ws0">writes<span class="_ _1"></span>,<span class="_ _13"> </span>SSDs<span class="_ _13"> </span>have<span class="_ _13"> </span>the<span class="_"> </span>potential<span class="_ _13"> </span>to<span class="_ _13"> </span>wear<span class="_ _13"> </span>out<span class="_ _13"> </span>as<span class="_ _13"> </span>well.<span class="_ _13"> </span><span class="ffa">W<span class="_ _1"></span>ear<span class="_ _1"></span>-leveling<span class="_"> </span><span class="ff7">logic<span class="_ _13"> </span>in<span class="_ _13"> </span>the<span class="_ _13"> </span>ﬂash</span></span></div><div class="t m5 x17 h26 y5536 ff7 fs19 fc1 sc0 ls0 ws0">translation<span class="_ _14"> </span>layer<span class="_ _14"> </span>attempts<span class="_ _14"> </span>to<span class="_ _14"> </span>maximize<span class="_ _15"> </span>the<span class="_ _14"> </span>lifetime<span class="_ _14"> </span>of<span class="_ _14"> </span>each<span class="_ _14"> </span>block<span class="_ _14"> </span>by<span class="_ _15"> </span>spreading</div><div class="t m5 x17 h26 y5537 ff7 fs19 fc1 sc0 ls0 ws0">erasures<span class="_ _16"> </span>evenly<span class="_ _14"> </span>across<span class="_ _14"> </span>all<span class="_ _16"> </span>blocks<span class="_ _0"></span>.<span class="_ _16"> </span>In<span class="_ _14"> </span>practice<span class="_ _0"></span>,<span class="_ _14"> </span>the<span class="_ _14"> </span>wear<span class="_ _1"></span>-leveling<span class="_ _14"> </span>logic<span class="_ _16"> </span>is<span class="_ _14"> </span>so<span class="_ _14"> </span>good</div><div class="t m5 x17 h26 y5538 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_"> </span>it<span class="_ _13"> </span>takes<span class="_"> </span>many<span class="_ _13"> </span>years<span class="_"> </span>for<span class="_ _13"> </span>SSDs<span class="_"> </span>to<span class="_ _13"> </span>wear<span class="_"> </span>out<span class="_ _13"> </span>(see<span class="_"> </span>Practice<span class="_ _13"> </span>Problem<span class="_"> </span>6.5).<span class="_ _13"> </span>Second,</div><div class="t m5 x17 h26 y5539 ff7 fs19 fc1 sc0 ls0 ws0">SSDs<span class="_ _13"> </span>are<span class="_ _13"> </span>about<span class="_ _13"> </span>30<span class="_ _13"> </span>times<span class="_ _13"> </span>more<span class="_ _13"> </span>expensive<span class="_ _13"> </span>per<span class="_ _13"> </span>byte<span class="_ _6"> </span>than<span class="_ _13"> </span>rotating<span class="_ _13"> </span>disks<span class="_ _1"></span>,<span class="_"> </span>and<span class="_ _6"> </span>thus<span class="_ _13"> </span>the</div><div class="t m5 x17 h26 y553a ff7 fs19 fc1 sc0 ls0 ws0">typical<span class="_"> </span>storage<span class="_"> </span>capacities<span class="_"> </span>are<span class="_"> </span>signiﬁcantly<span class="_"> </span>less<span class="_"> </span>than<span class="_"> </span>rotating<span class="_"> </span>disks<span class="_ _3"></span>.<span class="_"> </span>However,<span class="_"> </span>SSD</div><div class="t m5 x17 h26 y553b ff7 fs19 fc1 sc0 ls0 ws0">prices<span class="_"> </span>are<span class="_"> </span>decreasing<span class="_ _13"> </span>rapidly<span class="_"> </span>as<span class="_"> </span>they<span class="_"> </span>become<span class="_"> </span>more<span class="_"> </span>popular<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>the<span class="_"> </span>gap<span class="_"> </span>between</div><div class="t m5 x17 h26 y553c ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>two<span class="_"> </span>is<span class="_"> </span>decreasing.</div><div class="t m5 x26 h26 y553d ff7 fs19 fc1 sc0 ls0 ws0">SSDs<span class="_"> </span>have<span class="_ _11"> </span>completely<span class="_ _11"> </span>replaced<span class="_ _11"> </span>rotating<span class="_ _11"> </span>disks<span class="_ _11"> </span>in<span class="_ _11"> </span>portable<span class="_ _11"> </span>music<span class="_ _11"> </span>devices<span class="_ _1"></span>,<span class="_ _11"> </span>are</div><div class="t m5 x17 h26 y553e ff7 fs19 fc1 sc0 ls0 ws0">popular<span class="_"> </span>as<span class="_"> </span>disk<span class="_"> </span>replacements<span class="_"> </span>in<span class="_"> </span>laptops<span class="_ _0"></span>,<span class="_"> </span>and<span class="_"> </span>have<span class="_"> </span>even<span class="_"> </span>begun<span class="_"> </span>to<span class="_ _11"> </span>appear<span class="_"> </span>in<span class="_"> </span>desk-</div><div class="t m5 x17 h26 y553f ff7 fs19 fc1 sc0 ls0 ws0">tops<span class="_"> </span>and<span class="_"> </span>servers<span class="_ _3"></span>.<span class="_"> </span>While<span class="_"> </span>rotating<span class="_"> </span>disks<span class="_"> </span>are<span class="_ _13"> </span>here<span class="_"> </span>to<span class="_"> </span>stay<span class="_ _3"></span>,<span class="_"> </span>it<span class="_"> </span>is<span class="_"> </span>clear<span class="_"> </span>that<span class="_"> </span>SSDs<span class="_ _13"> </span>are<span class="_"> </span>an</div><div class="t m5 x17 h26 y5540 ff7 fs19 fc1 sc0 ls0 ws0">important<span class="_"> </span>alternative<span class="_ _1"></span>.</div><div class="t m5 x17 h47 y5541 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>6.5<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>698)</span></div><div class="t m5 x17 h26 y15bf ff7 fs19 fc1 sc0 ls0 ws0">As<span class="_ _6"> </span>we<span class="_ _6"> </span>have<span class="_ _6"> </span>seen,<span class="_ _13"> </span>a<span class="_ _a"> </span>potential<span class="_ _13"> </span>drawback<span class="_ _a"> </span>of<span class="_ _6"> </span>SSDs<span class="_ _6"> </span>is<span class="_ _13"> </span>that<span class="_ _a"> </span>the<span class="_ _6"> </span>underlying<span class="_ _6"> </span>ﬂash<span class="_ _13"> </span>memory</div><div class="t m5 x17 h26 y15c0 ff7 fs19 fc1 sc0 ls0 ws0">can<span class="_ _14"> </span>wear<span class="_ _14"> </span>out.<span class="_ _14"> </span>F<span class="_ _1"></span>or<span class="_ _14"> </span>example,<span class="_ _14"> </span>for<span class="_ _14"> </span>the<span class="_ _14"> </span>SSD<span class="_ _14"> </span>in<span class="_ _15"> </span>F<span class="_ _1"></span>igure<span class="_ _14"> </span>6.14,<span class="_ _15"> </span>Intel<span class="_ _15"> </span>guarantees<span class="_ _14"> </span>about</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
