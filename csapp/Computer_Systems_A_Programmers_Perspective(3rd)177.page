<div id="pfb1" class="pf w2 h11" data-page-no="b1"><div class="pc pcb1 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bgb1.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">176<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x1d h26 y9c ff7 fs19 fc2 sc0 ls0 ws0">function<span class="_"> </span><span class="ffd">u2f<span class="_ _11"> </span></span>returns<span class="_"> </span>a<span class="_"> </span>ﬂoating-point<span class="_"> </span>value<span class="_ _11"> </span>having<span class="_"> </span>an<span class="_ _11"> </span>identical<span class="_"> </span>bit<span class="_"> </span>representation</div><div class="t m5 x1d h26 y409 ff7 fs19 fc2 sc0 ls0 ws0">as<span class="_"> </span>its<span class="_"> </span>unsigned<span class="_"> </span>argument.</div><div class="t m5 x1d h2d y1c13 ffd fs1e fc2 sc0 ls0 ws0">float<span class="_ _e"> </span>fpwr2(int<span class="_ _1f"> </span>x)</div><div class="t m5 x1d h2d y1c14 ffd fs1e fc2 sc0 ls0 ws0">{</div><div class="t m5 x10c h2d y1c15 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Result<span class="_ _1f"> </span>exponent<span class="_ _1f"> </span>and<span class="_ _e"> </span>fraction<span class="_ _1f"> </span>*/</div><div class="t m5 x10c h2d y1c16 ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>exp,<span class="_ _1f"> </span>frac;</div><div class="t m5 x10c h2d y1c17 ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>u;</div><div class="t m5 x10c h2d y1c18 ffd fs1e fc2 sc0 ls0 ws0">if<span class="_ _e"> </span>(x<span class="_ _1f"> </span>&lt;</div><div class="t m5 x90 h2d y1c19 ffd fs1e fc2 sc0 ls33 ws0">){</div><div class="t m5 x22b h2d y1c1a ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Too<span class="_ _1f"> </span>small.<span class="_ _1a"> </span>Return<span class="_ _1f"> </span>0.0<span class="_ _e"> </span>*/</div><div class="t m5 x22b h2d y1c1b ffd fs1e fc2 sc0 ls0 ws0">exp<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c1c ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x22b h2d y1c1d ffd fs1e fc2 sc0 ls0 ws0">frac<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c1e ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x10c h2d y1c1f ffd fs1e fc2 sc0 ls0 ws0">}<span class="_ _e"> </span>else<span class="_ _1f"> </span>if<span class="_ _1f"> </span>(x<span class="_ _e"> </span>&lt;</div><div class="t m5 x16 h2d y1c20 ffd fs1e fc2 sc0 ls33 ws0">){</div><div class="t m5 x22b h2d y1c21 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Denormalized<span class="_ _1f"> </span>result<span class="_ _1f"> </span>*/</div><div class="t m5 x22b h2d y1c22 ffd fs1e fc2 sc0 ls0 ws0">exp<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c23 ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x22b h2d y1c24 ffd fs1e fc2 sc0 ls0 ws0">frac<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c25 ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x10c h2d y1c26 ffd fs1e fc2 sc0 ls0 ws0">}<span class="_ _e"> </span>else<span class="_ _1f"> </span>if<span class="_ _1f"> </span>(x<span class="_ _e"> </span>&lt;</div><div class="t m5 x16 h2d y1c27 ffd fs1e fc2 sc0 ls33 ws0">){</div><div class="t m5 x22b h2d y1c28 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Normalized<span class="_ _1f"> </span>result.<span class="_ _1f"> </span>*/</div><div class="t m5 x22b h2d y1c29 ffd fs1e fc2 sc0 ls0 ws0">exp<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c2a ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x22b h2d y1c2b ffd fs1e fc2 sc0 ls0 ws0">frac<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c2c ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x10c h2d y1c2d ffd fs1e fc2 sc0 ls0 ws0">}<span class="_ _e"> </span>else<span class="_ _1f"> </span>{</div><div class="t m5 x22b h2d y1c2e ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Too<span class="_ _1f"> </span>big.<span class="_ _1a"> </span>Return<span class="_ _1f"> </span>+oo<span class="_ _e"> </span>*/</div><div class="t m5 x22b h2d y1c2f ffd fs1e fc2 sc0 ls0 ws0">exp<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c30 ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x22b h2d y1c31 ffd fs1e fc2 sc0 ls0 ws0">frac<span class="_ _e"> </span>=</div><div class="t m5 x1d1 h2d y1c32 ffd fs1e fc2 sc0 ls0 ws0">;</div><div class="t m5 x10c h2d y1c33 ffd fs1e fc2 sc0 ls0 ws0">}</div><div class="t m5 x10c h2d y1c34 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Pack<span class="_ _1f"> </span>exp<span class="_ _1f"> </span>and<span class="_ _e"> </span>frac<span class="_ _1f"> </span>into<span class="_ _e"> </span>32<span class="_ _1f"> </span>bits<span class="_ _1f"> </span>*/</div><div class="t m5 x10c h2d y1c35 ffd fs1e fc2 sc0 ls0 ws0">u<span class="_ _e"> </span>=<span class="_ _1f"> </span>exp<span class="_ _1f"> </span>&lt;&lt;<span class="_ _e"> </span>23<span class="_ _1f"> </span>|<span class="_ _e"> </span>frac;</div><div class="t m5 x10c h2d y1c36 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Return<span class="_ _1f"> </span>as<span class="_ _1f"> </span>float<span class="_ _e"> </span>*/</div><div class="t m5 x10c h2d y1c37 ffd fs1e fc2 sc0 ls0 ws0">return<span class="_ _e"> </span>u2f(u);</div><div class="t m5 x1d h2d y1c38 ffd fs1e fc2 sc0 ls0 ws0">}</div><div class="t m5 x1d h28 y1c39 ffe fs1e fc6 sc0 ls0 ws0">2.91</div><div class="t m5 xc4 h73 y1c3a ff10 fs19 fc6 sc0 ls0 ws0">◆</div><div class="t m5 x1d h26 y1c3b ff7 fs19 fc1 sc0 ls0 ws0">Around<span class="_ _6"> </span>250<span class="_ _6"> </span>B<span class="_ _1"></span>.C<span class="_ _0"></span>.,<span class="_ _13"> </span>the<span class="_ _a"> </span>Greek<span class="_ _6"> </span>mathematician<span class="_ _13"> </span>Archimedes<span class="_ _a"> </span>proved<span class="_ _6"> </span>that</div><div class="t m5 x202 h3c y1c3c ff7 fs25 fc1 sc0 ls0 ws0">223</div><div class="t m5 x148 h3c y1c3d ff7 fs25 fc1 sc0 ls0 ws0">71</div><div class="t m5 x20f h45 y1c3e ff11 fs19 fc1 sc0 ls11d ws0">&lt;π<span class="_ _be"></span>&lt;</div><div class="t m5 xbb h3c y1c3c ff7 fs25 fc1 sc0 ls0 ws0">22</div><div class="t m5 x14b h3c y1c3d ff7 fs25 fc1 sc0 ls0 ws0">7</div><div class="t m5 x12c h26 y1c3e ff7 fs19 fc1 sc0 ls0 ws0">.</div><div class="t m5 x1d h26 y1c3f ff7 fs19 fc1 sc0 ls0 ws0">Had<span class="_ _6"> </span>he<span class="_ _6"> </span>had<span class="_ _6"> </span>access<span class="_ _a"> </span>to<span class="_ _6"> </span>a<span class="_ _6"> </span>computer<span class="_ _6"> </span>and<span class="_ _6"> </span>the<span class="_ _6"> </span>standard<span class="_ _6"> </span>library<span class="_ _6"> </span><span class="ffd">&lt;math.h&gt;</span>,<span class="_ _13"> </span>he<span class="_ _a"> </span>would<span class="_ _6"> </span>have</div><div class="t m5 x1d h26 y1c40 ff7 fs19 fc1 sc0 ls0 ws0">been<span class="_"> </span>able<span class="_ _11"> </span>to<span class="_ _11"> </span>determine<span class="_ _11"> </span>that<span class="_ _11"> </span>the<span class="_ _11"> </span>single-precision<span class="_ _11"> </span>ﬂoating-point<span class="_ _11"> </span>approximation<span class="_"> </span>of</div><div class="t m5 x1d h26 y1c41 ff11 fs19 fc1 sc0 ls0 ws0">π<span class="_"> </span><span class="ff7">has<span class="_ _13"> </span>the<span class="_ _13"> </span>hexadecimal<span class="_"> </span>representation<span class="_ _13"> </span><span class="ffd">0x40490FDB</span>.<span class="_ _13"> </span>Of<span class="_"> </span>course<span class="_ _1"></span>,<span class="_"> </span>all<span class="_ _13"> </span>of<span class="_ _13"> </span>these<span class="_ _13"> </span>are<span class="_"> </span>just</span></div><div class="t m5 x1d h26 y1c42 ff7 fs19 fc1 sc0 ls0 ws0">approximations<span class="_ _1"></span>,<span class="_"> </span>since<span class="_"> </span><span class="ff11">π<span class="_"> </span></span>is<span class="_"> </span>not<span class="_"> </span>rational.</div><div class="t m5 x124 h26 y1c43 ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>fractional<span class="_"> </span>binary<span class="_ _13"> </span>number<span class="_"> </span>denoted<span class="_"> </span>by<span class="_"> </span>this<span class="_"> </span>ﬂoating-point<span class="_"> </span>value?</div><div class="t m5 x124 h26 y1c44 ff7 fs19 fc1 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>fractional<span class="_"> </span>binary<span class="_"> </span>representation<span class="_"> </span>of</div><div class="t m5 x53 h3c y1c45 ff7 fs25 fc1 sc0 ls0 ws0">22</div><div class="t m5 x107 h3c y1c46 ff7 fs25 fc1 sc0 ls0 ws0">7</div><div class="t m5 x1fa h26 y1c47 ff7 fs19 fc1 sc0 ls0 ws0">?<span class="_"> </span><span class="ffa">Hint:<span class="_"> </span></span>See<span class="_"> </span>Problem<span class="_"> </span>2.83.</div><div class="t m5 x124 h26 y1c48 ff7 fs19 fc1 sc0 ls0 ws0">C.<span class="_ _25"> </span>At<span class="_"> </span>what<span class="_"> </span>bit<span class="_"> </span>position<span class="_"> </span>(relative<span class="_"> </span>to<span class="_ _11"> </span>the<span class="_"> </span>binary<span class="_"> </span>point)<span class="_"> </span>do<span class="_"> </span>these<span class="_ _11"> </span>two<span class="_"> </span>approxima-</div><div class="t m5 x4f h26 y1c49 ff7 fs19 fc1 sc0 ls0 ws0">tions<span class="_"> </span>to<span class="_"> </span><span class="ff11">π<span class="_"> </span></span>diverge?</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
