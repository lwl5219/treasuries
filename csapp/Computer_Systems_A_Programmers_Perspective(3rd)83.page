<div id="pf53" class="pf w2 h11" data-page-no="53"><div class="pc pc53 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg53.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">82<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 xb4 h2c y27f ffa fs16 fc2 sc0 ls0 ws0">code/data/show-b<span class="_ _0"></span>ytes<span class="_ _1"></span>.c</div><div class="t m5 x1f h2e y280 ff6 fs20 fc6 sc0 ls0 ws0">1</div><div class="t m5 x4f h2d yad1 ffd fs1e fc2 sc0 ls0 ws0">void<span class="_ _e"> </span>test_show_bytes(int<span class="_ _1f"> </span>val)<span class="_ _1f"> </span>{</div><div class="t m5 x1f h2d y281 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _20"> </span><span class="ffd fs1e fc2">int<span class="_ _e"> </span>ival<span class="_ _1f"> </span>=<span class="_ _1f"> </span>val;</span></div><div class="t m5 x1f h2d yad2 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _20"> </span><span class="ffd fs1e fc2">float<span class="_ _e"> </span>fval<span class="_ _1f"> </span>=<span class="_ _1f"> </span>(float)<span class="_ _e"> </span>ival;</span></div><div class="t m5 x1f h2d yad3 ff6 fs20 fc6 sc0 ls0 ws0">4<span class="_ _20"> </span><span class="ffd fs1e fc2">int<span class="_ _e"> </span>*pval<span class="_ _1f"> </span>=<span class="_ _1f"> </span>&amp;ival;</span></div><div class="t m5 x1f h2d y285 ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _20"> </span><span class="ffd fs1e fc2">show_int(ival);</span></div><div class="t m5 x1f h2d yad4 ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _20"> </span><span class="ffd fs1e fc2">show_float(fval);</span></div><div class="t m5 x1f h2d yad5 ff6 fs20 fc6 sc0 ls0 ws0">7<span class="_ _20"> </span><span class="ffd fs1e fc2">show_pointer(pval);</span></div><div class="t m5 x1f h2d yad6 ff6 fs20 fc6 sc0 ls0 ws0">8<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 xb4 h2c yad7 ffa fs16 fc2 sc0 ls0 ws0">code/data/show-b<span class="_ _0"></span>ytes<span class="_ _1"></span>.c</div><div class="t m5 x1d h34 yad8 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _11"> </span>2.5<span class="_ _c"> </span><span class="fc1">Byte<span class="_ _11"> </span>representation<span class="_ _16"> </span>examples.<span class="_ _11"> </span><span class="ff6">This<span class="_ _11"> </span>code<span class="_ _16"> </span>prints<span class="_ _11"> </span>the<span class="_ _11"> </span>byte<span class="_ _16"> </span>representations</span></span></div><div class="t m5 x1d h34 yad9 ff6 fs16 fc1 sc0 ls0 ws0">of<span class="_ _10"> </span>sample<span class="_ _11"> </span>data<span class="_ _10"> </span>objects.</div><div class="t m5 x1d h31 yada ff7 fs21 fc2 sc0 ls0 ws0">Machine<span class="_ _58"> </span>V<span class="_ _3"></span>alue<span class="_ _72"> </span>T<span class="_ _7"></span>ype<span class="_ _73"> </span>Bytes<span class="_"> </span>(hex)</div><div class="t m5 x1d h31 yadb ff7 fs21 fc2 sc0 ls0 ws0">Linux<span class="_"> </span>32<span class="_ _74"> </span>12,345</div><div class="t m5 x13b h2d yadc ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _75"> </span>39<span class="_ _11"> </span>30<span class="_ _11"> </span>00<span class="_ _11"> </span>00</div><div class="t m5 x1d h31 yadd ff7 fs21 fc2 sc0 ls0 ws0">W<span class="_ _1"></span>indows<span class="_ _76"> </span>12,345</div><div class="t m5 x13b h2d yade ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _75"> </span>39<span class="_ _11"> </span>30<span class="_ _11"> </span>00<span class="_ _11"> </span>00</div><div class="t m5 x1d h31 yadf ff7 fs21 fc2 sc0 ls0 ws0">Sun<span class="_ _77"> </span>12,345<span class="_ _78"> </span><span class="ffd fs1e">int<span class="_ _75"> </span>00<span class="_ _11"> </span>00<span class="_ _11"> </span>30<span class="_ _11"> </span>39</span></div><div class="t m5 x1d h31 yae0 ff7 fs21 fc2 sc0 ls0 ws0">Linux<span class="_"> </span>64<span class="_ _74"> </span>12,345<span class="_ _78"> </span><span class="ffd fs1e">int<span class="_ _75"> </span>39<span class="_ _11"> </span>30<span class="_ _11"> </span>00<span class="_ _11"> </span>00</span></div><div class="t m5 x1d h31 yae1 ff7 fs21 fc2 sc0 ls0 ws0">Linux<span class="_"> </span>32<span class="_ _46"> </span>12,345.0<span class="_ _26"> </span><span class="ffd fs1e">float<span class="_ _26"> </span>00<span class="_ _11"> </span>e4<span class="_ _11"> </span>40<span class="_ _11"> </span>46</span></div><div class="t m5 x1d h31 yae2 ff7 fs21 fc2 sc0 ls0 ws0">W<span class="_ _1"></span>indows<span class="_ _26"> </span>12,345.0<span class="_ _26"> </span><span class="ffd fs1e">float<span class="_ _26"> </span>00<span class="_ _11"> </span>e4<span class="_ _16"> </span>40<span class="_ _10"> </span>46</span></div><div class="t m5 x1d h31 yae3 ff7 fs21 fc2 sc0 ls0 ws0">Sun<span class="_ _71"> </span>12,345.0</div><div class="t m5 xec h2d yae4 ffd fs1e fc2 sc0 ls0 ws0">float<span class="_ _26"> </span>46<span class="_ _11"> </span>40<span class="_ _11"> </span>e4<span class="_ _11"> </span>00</div><div class="t m5 x1d h31 yae5 ff7 fs21 fc2 sc0 ls0 ws0">Linux<span class="_"> </span>64<span class="_ _46"> </span>12,345.0<span class="_ _26"> </span><span class="ffd fs1e">float<span class="_ _26"> </span>00<span class="_ _11"> </span>e4<span class="_ _11"> </span>40<span class="_ _11"> </span>46</span></div><div class="t m5 x1d h31 yae6 ff7 fs21 fc2 sc0 ls0 ws0">Linux<span class="_"> </span>32<span class="_ _74"> </span><span class="ffd fs1e">&amp;ival<span class="_ _75"> </span>int<span class="_ _11"> </span>*<span class="_ _79"> </span>e4<span class="_ _11"> </span>f9<span class="_ _11"> </span>ff<span class="_ _11"> </span>bf</span></div><div class="t m5 x1d h31 yae7 ff7 fs21 fc2 sc0 ls0 ws0">W<span class="_ _1"></span>indows<span class="_ _76"> </span><span class="ffd fs1e">&amp;ival<span class="_ _75"> </span>int<span class="_ _11"> </span>*<span class="_ _79"> </span>b4<span class="_ _11"> </span>cc<span class="_ _11"> </span>22<span class="_ _11"> </span>00</span></div><div class="t m5 x1d h31 yae8 ff7 fs21 fc2 sc0 ls0 ws0">Sun<span class="_ _77"> </span><span class="ffd fs1e">&amp;ival<span class="_ _75"> </span>int<span class="_ _11"> </span>*<span class="_ _79"> </span>ef<span class="_ _11"> </span>ff<span class="_ _11"> </span>fa<span class="_ _11"> </span>0c</span></div><div class="t m5 x1d h31 yae9 ff7 fs21 fc2 sc0 ls0 ws0">Linux<span class="_"> </span>64<span class="_ _74"> </span><span class="ffd fs1e">&amp;ival<span class="_ _75"> </span>int<span class="_ _11"> </span>*<span class="_ _79"> </span>b8<span class="_ _11"> </span>11<span class="_ _11"> </span>e5<span class="_ _11"> </span>ff<span class="_ _11"> </span>ff<span class="_ _11"> </span>7f<span class="_ _11"> </span>00<span class="_ _11"> </span>00</span></div><div class="t m5 x1d h3a yaea ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>2.6<span class="_ _66"> </span><span class="fc1">Byte<span class="_"> </span>representations<span class="_"> </span>of<span class="_"> </span>different<span class="_"> </span>data<span class="_"> </span>values.<span class="_"> </span><span class="ff6">Results<span class="_ _10"> </span>for<span class="_ _10"> </span><span class="ffd fs19">int<span class="_ _10"> </span></span>and<span class="_ _10"> </span><span class="ffd fs19">float</span></span></span></div><div class="t m5 x1d h34 yaeb ff6 fs16 fc1 sc0 ls0 ws0">are<span class="_ _10"> </span>identical,<span class="_ _11"> </span>except<span class="_ _10"> </span>for<span class="_ _10"> </span>byte<span class="_ _11"> </span>ordering.<span class="_ _10"> </span>Pointer<span class="_ _11"> </span>values<span class="_ _10"> </span>are<span class="_ _11"> </span>machine<span class="_ _10"> </span>dependent.</div><div class="t m5 x1d h26 y7c1 ff7 fs19 fc1 sc0 ls0 ws0">Our<span class="_ _16"> </span>argument<span class="_ _16"> </span>12,345<span class="_ _14"> </span>has<span class="_ _16"> </span>hexadecimal<span class="_ _16"> </span>representation<span class="_ _16"> </span><span class="ffd">0x00003039</span>.<span class="_ _14"> </span>F<span class="_ _1"></span>or<span class="_ _16"> </span>the<span class="_ _16"> </span><span class="ffd">int</span></div><div class="t m5 x1d h26 y7c2 ff7 fs19 fc1 sc0 ls0 ws0">data,<span class="_ _15"> </span>we<span class="_ _14"> </span>get<span class="_ _15"> </span>identical<span class="_ _14"> </span>results<span class="_ _14"> </span>for<span class="_ _15"> </span>all<span class="_ _14"> </span>machines<span class="_ _1"></span>,<span class="_ _15"> </span>except<span class="_ _15"> </span>for<span class="_ _14"> </span>the<span class="_ _14"> </span>byte<span class="_ _15"> </span>ordering.<span class="_ _16"> </span>In</div><div class="t m5 x1d h26 y7c3 ff7 fs19 fc1 sc0 ls0 ws0">particular,<span class="_ _11"> </span>we<span class="_ _11"> </span>can<span class="_ _11"> </span>see<span class="_ _16"> </span>that<span class="_ _11"> </span>the<span class="_ _11"> </span>least<span class="_ _11"> </span>signiﬁcant<span class="_ _16"> </span>byte<span class="_ _11"> </span>value<span class="_ _11"> </span>of<span class="_ _11"> </span><span class="ffd">0x39<span class="_ _16"> </span></span>is<span class="_ _11"> </span>printed<span class="_ _11"> </span>ﬁrst</div><div class="t m5 x1d h26 y7c4 ff7 fs19 fc1 sc0 ls0 ws0">for<span class="_ _11"> </span>Linux<span class="_ _11"> </span>32,<span class="_ _16"> </span>W<span class="_ _1"></span>indows<span class="_ _1"></span>,<span class="_ _16"> </span>and<span class="_ _11"> </span>Linux<span class="_ _11"> </span>64,<span class="_ _16"> </span>indicating<span class="_"> </span>little-endian<span class="_ _16"> </span>machines<span class="_ _3"></span>,<span class="_ _16"> </span>and<span class="_ _11"> </span>last</div><div class="t m5 x1d h26 y7c5 ff7 fs19 fc1 sc0 ls0 ws0">for<span class="_ _16"> </span>Sun,<span class="_ _16"> </span>indicating<span class="_ _16"> </span>a<span class="_ _16"> </span>big-endian<span class="_ _16"> </span>machine.<span class="_ _11"> </span>Similarly<span class="_ _3"></span>,<span class="_ _14"> </span>the<span class="_ _16"> </span>bytes<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _16"> </span><span class="ffd">float<span class="_ _16"> </span></span>data</div><div class="t m5 x1d h26 y7c6 ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_"> </span>identical,<span class="_"> </span>except<span class="_"> </span>for<span class="_"> </span>the<span class="_"> </span>byte<span class="_"> </span>ordering.<span class="_"> </span>On<span class="_"> </span>the<span class="_"> </span>other<span class="_"> </span>hand,<span class="_"> </span>the<span class="_"> </span>pointer<span class="_"> </span>values</div><div class="t m5 x1d h26 y7c7 ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_"> </span>completely<span class="_ _11"> </span>different.<span class="_ _11"> </span>The<span class="_"> </span>different<span class="_ _11"> </span>machine/operating<span class="_"> </span>system<span class="_ _11"> </span>conﬁgurations</div><div class="t m5 x1d h26 y7c8 ff7 fs19 fc1 sc0 ls0 ws0">use<span class="_ _16"> </span>different<span class="_ _16"> </span>conventions<span class="_ _16"> </span>for<span class="_ _16"> </span>storage<span class="_ _16"> </span>allocation.<span class="_ _16"> </span>One<span class="_ _16"> </span>feature<span class="_ _16"> </span>to<span class="_ _16"> </span>note<span class="_ _16"> </span>is<span class="_ _16"> </span>that<span class="_ _16"> </span>the</div><div class="t m5 x1d h26 y7c9 ff7 fs19 fc1 sc0 ls0 ws0">Linux<span class="_ _11"> </span>32,<span class="_ _16"> </span>Windows<span class="_ _3"></span>,<span class="_ _16"> </span>and<span class="_ _16"> </span>Sun<span class="_ _11"> </span>machines<span class="_ _16"> </span>use<span class="_ _16"> </span>4-byte<span class="_ _11"> </span>addresses<span class="_ _1"></span>,<span class="_ _16"> </span>while<span class="_ _16"> </span>the<span class="_ _11"> </span>Linux<span class="_ _16"> </span>64</div><div class="t m5 x1d h26 y7ca ff7 fs19 fc1 sc0 ls0 ws0">machine<span class="_"> </span>uses<span class="_"> </span>8-byte<span class="_"> </span>addresses<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
