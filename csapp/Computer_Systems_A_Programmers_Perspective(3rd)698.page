<div id="pf2ba" class="pf w2 h11" data-page-no="2ba"><div class="pc pc2ba w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2ba.png"/><div class="t m5 x107 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Solutions<span class="_ _10"> </span>to<span class="_ _10"> </span>Practice<span class="_ _10"> </span>Problems<span class="_ _1b"> </span><span class="ffe fs1e">697</span></div><div class="t m5 x17 h28 y140c ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>6.2</div><div class="t m5 xc3 h2f ye7 ffe fs16 fc6 sc0 ls0 ws0">(page<span class="_"> </span>628)</div><div class="t m5 x17 h26 y1d16 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _6"> </span>point<span class="_ _6"> </span>of<span class="_ _6"> </span>this<span class="_ _6"> </span>little<span class="_ _6"> </span>drill<span class="_ _6"> </span>is<span class="_ _6"> </span>to<span class="_ _6"> </span>make<span class="_ _6"> </span>sure<span class="_ _6"> </span>you<span class="_ _6"> </span>understand<span class="_ _6"> </span>the<span class="_ _6"> </span>relationship<span class="_ _6"> </span>between</div><div class="t m5 x17 h26 y1d17 ff7 fs19 fc1 sc0 ls0 ws0">cylinders<span class="_"> </span>and<span class="_"> </span>tracks<span class="_ _3"></span>.<span class="_"> </span>Once<span class="_"> </span>you<span class="_"> </span>have<span class="_"> </span>that<span class="_"> </span>straight,<span class="_"> </span>just<span class="_"> </span>plug<span class="_"> </span>and<span class="_"> </span>chug:</div><div class="t m5 x17 h46 y5cd4 ff7 fs19 fc1 sc0 ls0 ws0">Disk<span class="_"> </span>capacity<span class="_ _13"> </span><span class="ff12">=</span></div><div class="t m5 x4c h26 y5cd5 ff7 fs19 fc1 sc0 ls0 ws0">1,024<span class="_"> </span>bytes</div><div class="t m5 x4f h26 y5cd6 ff7 fs19 fc1 sc0 ls0 ws0">sector</div><div class="t m5 x7c h46 y5cd7 ff12 fs19 fc1 sc0 ls0 ws0">×</div><div class="t m5 xe6 h26 y5cd8 ff7 fs19 fc1 sc0 ls0 ws0">500<span class="_"> </span>sectors</div><div class="t m5 x91 h26 y5cd6 ff7 fs19 fc1 sc0 ls0 ws0">track</div><div class="t m5 x186 h46 y5cd7 ff12 fs19 fc1 sc0 ls0 ws0">×</div><div class="t m5 x113 h26 y5cd8 ff7 fs19 fc1 sc0 ls0 ws0">15,000<span class="_"> </span>tracks</div><div class="t m5 x20c h26 y5cd6 ff7 fs19 fc1 sc0 ls0 ws0">surface</div><div class="t m5 x1fb h46 y5cd7 ff12 fs19 fc1 sc0 ls0 ws0">×</div><div class="t m5 x1df h26 y5cd8 ff7 fs19 fc1 sc0 ls0 ws0">2<span class="_"> </span>surfaces</div><div class="t m5 x85 h26 y5cd6 ff7 fs19 fc1 sc0 ls0 ws0">platter</div><div class="t m5 x1bd h46 y5cd7 ff12 fs19 fc1 sc0 ls0 ws0">×</div><div class="t m5 x5f h26 y5cd9 ff7 fs19 fc1 sc0 ls0 ws0">3<span class="_"> </span>platters</div><div class="t m5 x46 h26 y5cd6 ff7 fs19 fc1 sc0 ls0 ws0">disk</div><div class="t m5 x5a h46 y5cda ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">46,080,000,000<span class="_"> </span>bytes</span></div><div class="t m5 x5a h46 y5cdb ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">46.08<span class="_"> </span>GB</span></div><div class="t m5 x17 h28 y5cdc ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>6.3<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>631)</span></div><div class="t m5 x17 h26 y5cdd ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>solution<span class="_ _16"> </span>to<span class="_ _16"> </span>this<span class="_ _16"> </span>problem<span class="_ _16"> </span>is<span class="_ _16"> </span>a<span class="_ _16"> </span>straightforward<span class="_ _16"> </span>application<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _16"> </span>formula<span class="_ _16"> </span>for</div><div class="t m5 x17 h26 y5cde ff7 fs19 fc1 sc0 ls0 ws0">disk<span class="_"> </span>access<span class="_"> </span>time<span class="_ _1"></span>.<span class="_"> </span>The<span class="_"> </span>average<span class="_"> </span>rotational<span class="_"> </span>latenc<span class="_ _1"></span>y<span class="_"> </span>(in<span class="_"> </span>ms)<span class="_"> </span>is</div><div class="t m5 x1ef h45 y5cdf ff11 fs19 fc1 sc0 ls0 ws0">T</div><div class="t m5 x5c h3c y5ce0 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x65 h46 y5ce1 ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">1<span class="_ _0"></span><span class="ff11">/<span class="ff7">2<span class="_"> </span><span class="ff12">×<span class="_ _13"></span></span></span>T</span></span></div><div class="t m5 x238 h3c y5ce0 ff7 fs25 fc1 sc0 ls0 ws0">max<span class="_"> </span>rotation</div><div class="t m5 x65 h46 y5ce2 ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">1<span class="_ _0"></span><span class="ff11">/<span class="ff7">2<span class="_"> </span><span class="ff12">×<span class="_ _13"></span></span></span>(<span class="ff7">60<span class="_"> </span>secs</span>/<span class="ff7">12</span>,<span class="ff7">000<span class="_ _13"> </span>RPM</span>)<span class="_ _10"> </span><span class="ff12">×<span class="_ _13"></span><span class="ff7">1<span class="_ _1"></span><span class="ff11">,<span class="ff7">000<span class="_"> </span>ms/sec</span></span></span></span></span></span></div><div class="t m5 x65 h46 y5ce3 ff12 fs19 fc1 sc0 ls0 ws0">≈<span class="_ _13"> </span><span class="ff7">2<span class="_ _2"></span><span class="ff11">.</span><span class="ls271">5m<span class="_ _80"></span>s</span></span></div><div class="t m5 x17 h26 y5ce4 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>average<span class="_"> </span>transfer<span class="_"> </span>time<span class="_"> </span>is</div><div class="t m5 x26 h45 y5ce5 ff11 fs19 fc1 sc0 ls0 ws0">T</div><div class="t m5 x2e h3c y5ce6 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>transfer</div><div class="t m5 xcf h46 y5ce7 ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff11">(<span class="ff7">60<span class="_"> </span>secs</span>/<span class="ff7">12</span>,<span class="ff7">000<span class="_"> </span>RPM</span>)<span class="_ _13"> </span></span>×<span class="_ _10"> </span><span class="ff7">1<span class="_ _3"></span><span class="ff11">/<span class="ff7">300<span class="_"> </span>sectors/track<span class="_ _13"> </span><span class="ff12">×<span class="_ _10"> </span></span>1<span class="_ _1"></span><span class="ff11">,<span class="ff7">000<span class="_"> </span>ms/sec</span></span></span></span></span></div><div class="t m5 xcf h46 y5ce8 ff12 fs19 fc1 sc0 ls0 ws0">≈<span class="_ _13"> </span><span class="ff7">0.016<span class="_"> </span>ms</span></div><div class="t m5 x17 h26 y5ce9 ff7 fs19 fc1 sc0 ls0 ws0">Putting<span class="_"> </span>it<span class="_"> </span>all<span class="_"> </span>together,<span class="_"> </span>the<span class="_"> </span>total<span class="_"> </span>estimated<span class="_"> </span>access<span class="_"> </span>time<span class="_"> </span>is</div><div class="t m5 x23 h45 y5cea ff11 fs19 fc1 sc0 ls0 ws0">T</div><div class="t m5 x134 h3c y5ceb ff7 fs25 fc1 sc0 ls0 ws0">access</div><div class="t m5 xcc h46 y5cec ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff11">T</span></div><div class="t m5 x15c h3c y5ceb ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x9c h46 y5cec ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">T</span></div><div class="t m5 x16d h3c y5ceb ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x101 h46 y5cec ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">T</span></div><div class="t m5 x17a h3c y5ceb ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>transfer</div><div class="t m5 xcc h46 y5ced ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7 ls271">5m<span class="_ _8"></span>s<span class="_ _2"></span><span class="ff12 ls0">+<span class="_ _13"></span><span class="ff7">2<span class="ff11">.</span></span></span>5m<span class="_ _8"></span>s<span class="ff12 ls0">+<span class="_ _10"> </span><span class="ff7">0<span class="ff11">.</span>016<span class="_ _13"> </span>ms</span></span></span></div><div class="t m5 xcc h46 y5cee ff12 fs19 fc1 sc0 ls0 ws0">≈<span class="_ _13"> </span><span class="ff7">7<span class="ff11">.</span>516<span class="_"> </span>ms</span></div><div class="t m5 x17 h28 y5cef ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>6.4<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>631)</span></div><div class="t m5 x17 h26 y5cf0 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _11"> </span>is<span class="_ _11"> </span>a<span class="_ _11"> </span>good<span class="_ _11"> </span>check<span class="_ _11"> </span>of<span class="_ _11"> </span>your<span class="_ _11"> </span>understanding<span class="_ _11"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>factors<span class="_ _11"> </span>that<span class="_ _11"> </span>affect<span class="_ _11"> </span>disk<span class="_ _11"> </span>perfor<span class="_ _1"></span>-</div><div class="t m5 x17 h26 y5cf1 ff7 fs19 fc1 sc0 ls0 ws0">mance<span class="_ _1"></span>.<span class="_"> </span>First<span class="_"> </span>we<span class="_"> </span>need<span class="_"> </span>to<span class="_"> </span>determine<span class="_"> </span>a<span class="_"> </span>few<span class="_"> </span>basic<span class="_"> </span>properties<span class="_"> </span>of<span class="_ _11"> </span>the<span class="_"> </span>ﬁle<span class="_"> </span>and<span class="_"> </span>the<span class="_"> </span>disk.</div><div class="t m5 x17 h26 y5cf2 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>ﬁle<span class="_ _16"> </span>consists<span class="_ _16"> </span>of<span class="_ _16"> </span>10,000<span class="_ _11"> </span>512-byte<span class="_ _16"> </span>logical<span class="_ _16"> </span>blocks<span class="_ _1"></span>.<span class="_ _16"> </span>F<span class="_ _1"></span>or<span class="_ _16"> </span>the<span class="_ _16"> </span>disk,<span class="_ _16"> </span><span class="ff11">T</span></div><div class="t m5 xa9 h3c y5cf3 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x219 h26 y5cf4 ff7 fs19 fc1 sc0 ls0 ws0">=<span class="_ _16"> </span>6<span class="_ _1f"> </span>ms<span class="_ _3"></span>,</div><div class="t m5 x17 h45 y5cf5 ff11 fs19 fc1 sc0 ls0 ws0">T</div><div class="t m5 x52 h3c y5cf6 ff7 fs25 fc1 sc0 ls0 ws0">max<span class="_"> </span>rotation</div><div class="t m5 x242 h26 y5cf7 ff7 fs19 fc1 sc0 ls0 ws0">=<span class="_"> </span>4.61<span class="_ _f"> </span>ms<span class="_ _0"></span>,<span class="_"> </span>and<span class="_"> </span><span class="ff11">T</span></div><div class="t m5 x1d0 h3c y5cf8 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x90 h26 y5cf7 ff7 fs19 fc1 sc0 ls0 ws0">=<span class="_"> </span>2.30<span class="_ _13"> </span>ms<span class="_ _1"></span>.</div><div class="t m5 x34 h26 y5cf9 ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span><span class="ffa">Best<span class="_"> </span>case:<span class="_"> </span></span>In<span class="_"> </span>the<span class="_"> </span>optimal<span class="_"> </span>case<span class="_ _1"></span>,<span class="_"> </span>the<span class="_"> </span>blocks<span class="_"> </span>are<span class="_"> </span>mapped<span class="_"> </span>to<span class="_"> </span>contiguous<span class="_"> </span>sectors<span class="_ _3"></span>,</div><div class="t m5 x2d h26 y5cfa ff7 fs19 fc1 sc0 ls0 ws0">on<span class="_ _11"> </span>the<span class="_ _16"> </span>same<span class="_ _11"> </span>cylinder<span class="_ _0"></span>,<span class="_ _11"> </span>that<span class="_ _16"> </span>can<span class="_ _11"> </span>be<span class="_ _16"> </span>read<span class="_ _11"> </span>one<span class="_ _11"> </span>after<span class="_ _16"> </span>the<span class="_ _11"> </span>other<span class="_ _11"> </span>without<span class="_ _16"> </span>moving</div><div class="t m5 x2d h26 y5cfb ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>head.<span class="_ _11"> </span>Once<span class="_ _16"> </span>the<span class="_ _11"> </span>head<span class="_ _11"> </span>is<span class="_ _16"> </span>positioned<span class="_ _11"> </span>over<span class="_ _11"> </span>the<span class="_ _16"> </span>ﬁrst<span class="_ _11"> </span>sector<span class="_ _11"> </span>it<span class="_ _11"> </span>takes<span class="_ _16"> </span>two<span class="_ _11"> </span>full</div><div class="t m5 x2d h26 y5cfc ff7 fs19 fc1 sc0 ls0 ws0">rotations<span class="_ _16"> </span>(5,000<span class="_ _16"> </span>sectors<span class="_ _16"> </span>per<span class="_ _14"> </span>rotation)<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _16"> </span>disk<span class="_ _14"> </span>to<span class="_ _16"> </span>read<span class="_ _16"> </span>all<span class="_ _16"> </span>10,000<span class="_ _16"> </span>blocks<span class="_ _0"></span>.</div><div class="t m5 x2d h26 y5cfd ff7 fs19 fc1 sc0 ls0 ws0">So<span class="_"> </span>the<span class="_ _13"> </span>total<span class="_"> </span>time<span class="_ _13"> </span>to<span class="_"> </span>read<span class="_ _13"> </span>the<span class="_"> </span>ﬁle<span class="_ _13"> </span>is<span class="_"> </span><span class="ff11">T</span></div><div class="t m5 x228 h3c y5cfe ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x121 h46 y5cff ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _13"></span><span class="ff11">T</span></div><div class="t m5 x1ab h3c y5cfe ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x18b h46 y5cff ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _13"></span><span class="ff7">2<span class="_"> </span></span>×<span class="_ _13"></span><span class="ff11">T</span></div><div class="t m5 x1fa h3c y5cfe ff7 fs25 fc1 sc0 ls0 ws0">max<span class="_"> </span>rotation</div><div class="t m5 x4e h46 y5cff ff12 fs19 fc1 sc0 ls0 ws0">=</div><div class="t m5 x2d h46 y5d00 ff7 fs19 fc1 sc0 ls0 ws0">6<span class="_ _13"> </span><span class="ff12">+<span class="_ _10"> </span></span>2<span class="ff11">.</span>30<span class="_"> </span><span class="ff12">+<span class="_ _13"></span></span>9<span class="ff11">.</span>22<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>17<span class="ff11">.</span>52<span class="_ _13"> </span>ms.</div><div class="t m5 x34 h26 y5d01 ff7 fs19 fc1 sc0 ls2a ws0">B.<span class="_ _66"> </span><span class="ffa ls0">Random<span class="_ _16"> </span>case:<span class="_ _16"> </span><span class="ff7">In<span class="_ _16"> </span>this<span class="_ _16"> </span>case,<span class="_ _16"> </span>where<span class="_ _16"> </span>blocks<span class="_ _16"> </span>are<span class="_ _16"> </span>mapped<span class="_ _16"> </span>randomly<span class="_ _16"> </span>to<span class="_ _16"> </span>sectors<span class="_ _1"></span>,</span></span></div><div class="t m5 x2d h26 y5d02 ff7 fs19 fc1 sc0 ls0 ws0">reading<span class="_ _11"> </span>each<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>10,000<span class="_ _11"> </span>blocks<span class="_ _16"> </span>requires<span class="_ _11"> </span><span class="ff11">T</span></div><div class="t m5 x179 h3c y5d03 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x12d h46 y5d04 ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _10"> </span><span class="ff11">T</span></div><div class="t m5 xb0 h3c y5d03 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x1dd h26 y5d04 ff7 fs19 fc1 sc0 ls0 ws0">ms,<span class="_ _16"> </span>so<span class="_ _11"> </span>the</div><div class="t m5 x2d h26 y5d05 ff7 fs19 fc1 sc0 ls0 ws0">total<span class="_ _15"> </span>time<span class="_ _21"> </span>to<span class="_ _21"> </span>read<span class="_ _21"> </span>the<span class="_ _21"> </span>ﬁle<span class="_ _21"> </span>is<span class="_ _21"> </span>(<span class="ff11">T</span></div><div class="t m5 x90 h3c y5d06 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>seek</div><div class="t m5 x23d h46 y5d07 ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _10"> </span><span class="ff11">T</span></div><div class="t m5 xd5 h3c y5d06 ff7 fs25 fc1 sc0 ls0 ws0">avg<span class="_"> </span>rotation</div><div class="t m5 x1c2 h46 y5d07 ff11 fs19 fc1 sc0 ls0 ws0">)<span class="_ _10"> </span><span class="ff12">×<span class="_ _10"> </span><span class="ff7">10</span></span>,<span class="ff7">000<span class="_"> </span><span class="ff12">=<span class="_ _10"> </span></span>83<span class="_ _1"></span><span class="ff11">,<span class="ff7">000<span class="_"> </span>ms</span></span></span></div><div class="t m5 x2d h26 y5d08 ff7 fs19 fc1 sc0 ls0 ws0">(83<span class="_"> </span>seconds!).</div><div class="t m5 x17 h26 y5d09 ff7 fs19 fc1 sc0 ls0 ws0">Y<span class="_ _3"></span>ou<span class="_"> </span>can<span class="_"> </span>see<span class="_"> </span>now<span class="_"> </span>why<span class="_"> </span>it’s<span class="_"> </span>often<span class="_"> </span>a<span class="_"> </span>good<span class="_"> </span>idea<span class="_"> </span>to<span class="_"> </span>defragment<span class="_"> </span>your<span class="_"> </span>disk<span class="_"> </span>drive!</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
