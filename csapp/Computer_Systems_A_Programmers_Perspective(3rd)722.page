<div id="pf2d2" class="pf w2 h11" data-page-no="2d2"><div class="pc pc2d2 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2d2.png"/><div class="t m5 x84 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>7.6<span class="_ _60"> </span>Symbol<span class="_ _10"> </span>Resolution<span class="_ _3e"> </span><span class="ffe fs1e">721</span></div><div class="t m5 x17 h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_ _21"> </span>every<span class="_ _21"> </span>C<span class="_ _21"> </span>program<span class="_ _21"> </span>in<span class="_ _f"> </span>the<span class="_ _21"> </span><span class="ffd">libc.a<span class="_ _21"> </span></span>library<span class="_ _3"></span>.<span class="_ _21"> </span>ISO<span class="_ _21"> </span>C99<span class="_ _21"> </span>also<span class="_ _f"> </span>deﬁnes<span class="_ _21"> </span>an<span class="_ _21"> </span>extensive</div><div class="t m5 x17 h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">collection<span class="_ _6"> </span>of<span class="_ _6"> </span>ﬂoating-point<span class="_ _6"> </span>math<span class="_ _6"> </span>functions<span class="_ _6"> </span>such<span class="_ _6"> </span>as<span class="_ _6"> </span><span class="ffd">sin</span>,<span class="_ _6"> </span><span class="ffd">cos</span>,<span class="_ _13"> </span>and<span class="_ _a"> </span><span class="ffd">sqrt<span class="_ _6"> </span></span>in<span class="_ _6"> </span>the<span class="_ _6"> </span><span class="ffd">libm.a</span></div><div class="t m5 x17 h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">library<span class="_ _3"></span>.</div><div class="t m5 x26 h26 y2f7 ff7 fs19 fc2 sc0 ls0 ws0">Consider<span class="_ _13"> </span>the<span class="_ _13"> </span>different<span class="_ _13"> </span>approaches<span class="_ _13"> </span>that<span class="_ _13"> </span>compiler<span class="_ _13"> </span>developers<span class="_ _13"> </span>might<span class="_ _13"> </span>use<span class="_ _13"> </span>to<span class="_ _13"> </span>pro-</div><div class="t m5 x17 h26 y2f8 ff7 fs19 fc2 sc0 ls0 ws0">vide<span class="_"> </span>these<span class="_"> </span>functions<span class="_"> </span>to<span class="_"> </span>users<span class="_"> </span>without<span class="_"> </span>the<span class="_"> </span>beneﬁt<span class="_"> </span>of<span class="_"> </span>static<span class="_"> </span>libraries<span class="_ _3"></span>.<span class="_"> </span>One<span class="_"> </span>approach</div><div class="t m5 x17 h26 y2f9 ff7 fs19 fc2 sc0 ls0 ws0">would<span class="_ _16"> </span>be<span class="_ _14"> </span>to<span class="_ _16"> </span>have<span class="_ _14"> </span>the<span class="_ _16"> </span>compiler<span class="_ _14"> </span>recognize<span class="_ _16"> </span>calls<span class="_ _14"> </span>to<span class="_ _16"> </span>the<span class="_ _14"> </span>standard<span class="_ _16"> </span>functions<span class="_ _14"> </span>and<span class="_ _16"> </span>to</div><div class="t m5 x17 h26 y2fa ff7 fs19 fc2 sc0 ls0 ws0">generate<span class="_"> </span>the<span class="_ _13"> </span>appropriate<span class="_"> </span>code<span class="_ _13"> </span>directly<span class="_ _3"></span>.<span class="_"> </span>Pascal,<span class="_"> </span>which<span class="_ _13"> </span>provides<span class="_"> </span>a<span class="_"> </span>small<span class="_ _13"> </span>set<span class="_"> </span>of<span class="_ _13"> </span>stan-</div><div class="t m5 x17 h26 y2fb ff7 fs19 fc2 sc0 ls0 ws0">dard<span class="_ _13"> </span>functions<span class="_ _3"></span>,<span class="_ _13"> </span>takes<span class="_ _13"> </span>this<span class="_ _13"> </span>approach,<span class="_ _13"> </span>but<span class="_ _13"> </span>it<span class="_ _6"> </span>is<span class="_ _13"> </span>not<span class="_ _13"> </span>feasible<span class="_ _13"> </span>for<span class="_ _6"> </span>C,<span class="_ _13"> </span>because<span class="_ _6"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>large</div><div class="t m5 x17 h26 y2fc ff7 fs19 fc2 sc0 ls0 ws0">number<span class="_"> </span>of<span class="_"> </span>standard<span class="_"> </span>functions<span class="_"> </span>deﬁned<span class="_ _13"> </span>by<span class="_"> </span>the<span class="_"> </span>C<span class="_"> </span>standard.<span class="_"> </span>It<span class="_"> </span>would<span class="_"> </span>add<span class="_"> </span>signiﬁcant</div><div class="t m5 x17 h26 y2fd ff7 fs19 fc2 sc0 ls0 ws0">complexity<span class="_ _13"> </span>to<span class="_ _13"> </span>the<span class="_"> </span>compiler<span class="_ _13"> </span>and<span class="_ _13"> </span>would<span class="_ _13"> </span>require<span class="_"> </span>a<span class="_ _13"> </span>new<span class="_ _13"> </span>compiler<span class="_ _13"> </span>version<span class="_ _13"> </span>each<span class="_"> </span>time<span class="_ _13"> </span>a</div><div class="t m5 x17 h26 y2fe ff7 fs19 fc2 sc0 ls0 ws0">function<span class="_"> </span>was<span class="_"> </span>added,<span class="_"> </span>deleted,<span class="_"> </span>or<span class="_"> </span>modiﬁed.<span class="_"> </span>T<span class="_ _7"></span>o<span class="_"> </span>application<span class="_"> </span>programmers<span class="_ _3"></span>,<span class="_"> </span>however,</div><div class="t m5 x17 h26 y2ff ff7 fs19 fc2 sc0 ls0 ws0">this<span class="_ _16"> </span>approach<span class="_ _16"> </span>would<span class="_ _16"> </span>be<span class="_ _16"> </span>quite<span class="_ _16"> </span>convenient<span class="_ _16"> </span>because<span class="_ _16"> </span>the<span class="_ _16"> </span>standard<span class="_ _14"> </span>functions<span class="_ _16"> </span>would</div><div class="t m5 x17 h26 y300 ff7 fs19 fc2 sc0 ls0 ws0">always<span class="_"> </span>be<span class="_"> </span>available<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y21a ff7 fs19 fc2 sc0 ls0 ws0">Another<span class="_"> </span>approach<span class="_"> </span>would<span class="_"> </span>be<span class="_"> </span>to<span class="_"> </span>put<span class="_"> </span>all<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>standard<span class="_"> </span>C<span class="_"> </span>functions<span class="_"> </span>in<span class="_"> </span>a<span class="_"> </span>single</div><div class="t m5 x17 h26 y450 ff7 fs19 fc2 sc0 ls0 ws0">relocatable<span class="_"> </span>object<span class="_ _11"> </span>module<span class="_ _0"></span>,<span class="_"> </span>say<span class="_ _3"></span>,<span class="_ _11"> </span><span class="ffd">libc.o</span>,<span class="_ _11"> </span>that<span class="_"> </span>application<span class="_ _11"> </span>programmers<span class="_ _11"> </span>could<span class="_"> </span>link</div><div class="t m5 x17 h26 y451 ff7 fs19 fc2 sc0 ls0 ws0">into<span class="_"> </span>their<span class="_"> </span>executables:</div><div class="t m5 x17 h2d y5f91 ffd fs1e fc2 sc0 ls0 ws0">linux&gt;<span class="_ _e"> </span><span class="ff13">gcc<span class="_ _1f"> </span>main.c<span class="_ _1f"> </span>/usr/lib/libc.o</span></div><div class="t m5 x17 h26 y1ad8 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _13"> </span>approach<span class="_ _6"> </span>has<span class="_ _13"> </span>the<span class="_ _6"> </span>advantage<span class="_ _13"> </span>that<span class="_ _6"> </span>it<span class="_ _13"> </span>would<span class="_ _6"> </span>decouple<span class="_ _13"> </span>the<span class="_ _6"> </span>implementation<span class="_ _13"> </span>of<span class="_ _13"> </span>the</div><div class="t m5 x17 h26 y1ad9 ff7 fs19 fc2 sc0 ls0 ws0">standard<span class="_ _16"> </span>functions<span class="_ _11"> </span>from<span class="_ _16"> </span>the<span class="_ _16"> </span>implementation<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _11"> </span>compiler,<span class="_ _16"> </span>and<span class="_ _16"> </span>would<span class="_ _16"> </span>still<span class="_ _11"> </span>be</div><div class="t m5 x17 h26 y5f92 ff7 fs19 fc2 sc0 ls0 ws0">reasonably<span class="_"> </span>convenient<span class="_"> </span>for<span class="_"> </span>programmers<span class="_ _1"></span>.<span class="_"> </span>However,<span class="_"> </span>a<span class="_"> </span>big<span class="_"> </span>disadvantage<span class="_"> </span>is<span class="_"> </span>that<span class="_"> </span>ev-</div><div class="t m5 x17 h26 y5f93 ff7 fs19 fc2 sc0 ls0 ws0">ery<span class="_ _6"> </span>executable<span class="_ _13"> </span>ﬁle<span class="_ _6"> </span>in<span class="_ _6"> </span>a<span class="_ _13"> </span>system<span class="_ _6"> </span>would<span class="_ _6"> </span>now<span class="_ _13"> </span>contain<span class="_ _6"> </span>a<span class="_ _6"> </span>complete<span class="_ _13"> </span>copy<span class="_ _6"> </span>of<span class="_ _13"> </span>the<span class="_ _a"> </span>collection</div><div class="t m5 x17 h26 y5f94 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>standard<span class="_ _11"> </span>functions<span class="_ _1"></span>,<span class="_"> </span>which<span class="_ _11"> </span>would<span class="_"> </span>be<span class="_ _11"> </span>extremely<span class="_"> </span>wasteful<span class="_ _11"> </span>of<span class="_"> </span>disk<span class="_ _11"> </span>space<span class="_ _0"></span>.<span class="_"> </span>(On<span class="_"> </span>our</div><div class="t m5 x17 h26 y5f95 ff7 fs19 fc2 sc0 ls0 ws0">system,<span class="_ _11"> </span><span class="ffd">libc.a<span class="_ _16"> </span></span>is<span class="_ _11"> </span>about<span class="_ _16"> </span>5<span class="_ _11"> </span>MB<span class="_ _11"> </span>and<span class="_ _16"> </span><span class="ffd">libm.a<span class="_ _11"> </span></span>is<span class="_ _16"> </span>about<span class="_ _11"> </span>2<span class="_ _11"> </span>MB<span class="_ _1"></span>.)<span class="_ _11"> </span>W<span class="_ _1"></span>orse<span class="_ _1"></span>,<span class="_ _16"> </span>each<span class="_ _11"> </span>running</div><div class="t m5 x17 h26 y5f96 ff7 fs19 fc2 sc0 ls0 ws0">program<span class="_ _14"> </span>would<span class="_ _14"> </span>now<span class="_ _16"> </span>contain<span class="_ _14"> </span>its<span class="_ _14"> </span>own<span class="_ _14"> </span>copy<span class="_ _14"> </span>of<span class="_ _14"> </span>these<span class="_ _14"> </span>functions<span class="_ _14"> </span>in<span class="_ _14"> </span>memory<span class="_ _3"></span>,<span class="_ _14"> </span>which</div><div class="t m5 x17 h26 y5f97 ff7 fs19 fc2 sc0 ls0 ws0">would<span class="_ _14"> </span>be<span class="_ _14"> </span>extremely<span class="_ _14"> </span>wasteful<span class="_ _14"> </span>of<span class="_ _14"> </span>memory<span class="_ _3"></span>.<span class="_ _16"> </span>Another<span class="_ _15"> </span>big<span class="_ _14"> </span>disadvantage<span class="_ _14"> </span>is<span class="_ _14"> </span>that<span class="_ _14"> </span>any</div><div class="t m5 x17 h26 y5f98 ff7 fs19 fc2 sc0 ls0 ws0">change<span class="_"> </span>to<span class="_ _11"> </span>any<span class="_"> </span>standard<span class="_ _11"> </span>function,<span class="_"> </span>no<span class="_ _11"> </span>matter<span class="_"> </span>how<span class="_ _11"> </span>small,<span class="_ _11"> </span>would<span class="_"> </span>require<span class="_ _11"> </span>the<span class="_"> </span>library</div><div class="t m5 x17 h26 y5f99 ff7 fs19 fc2 sc0 ls0 ws0">developer<span class="_ _14"> </span>to<span class="_ _14"> </span>recompile<span class="_ _14"> </span>the<span class="_ _14"> </span>entire<span class="_ _15"> </span>source<span class="_ _14"> </span>ﬁle<span class="_ _1"></span>,<span class="_ _15"> </span>a<span class="_ _15"> </span>time-consuming<span class="_ _14"> </span>operation<span class="_ _14"> </span>that</div><div class="t m5 x17 h26 y5f9a ff7 fs19 fc2 sc0 ls0 ws0">would<span class="_"> </span>complicate<span class="_"> </span>the<span class="_"> </span>development<span class="_"> </span>and<span class="_"> </span>maintenance<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>standard<span class="_"> </span>functions<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y5f9b ff7 fs19 fc2 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_"> </span>could<span class="_ _11"> </span>address<span class="_"> </span>some<span class="_"> </span>of<span class="_ _11"> </span>these<span class="_"> </span>problems<span class="_"> </span>by<span class="_ _11"> </span>creating<span class="_"> </span>a<span class="_"> </span>separate<span class="_ _11"> </span>relocatable</div><div class="t m5 x17 h26 y5f9c ff7 fs19 fc2 sc0 ls0 ws0">ﬁle<span class="_"> </span>for<span class="_"> </span>each<span class="_"> </span>standard<span class="_"> </span>function<span class="_"> </span>and<span class="_"> </span>storing<span class="_"> </span>them<span class="_"> </span>in<span class="_"> </span>a<span class="_"> </span>well-known<span class="_"> </span>directory<span class="_ _3"></span>.<span class="_"> </span>How-</div><div class="t m5 x17 h26 y5f9d ff7 fs19 fc2 sc0 ls0 ws0">ever,<span class="_"> </span>this<span class="_"> </span>approach<span class="_ _11"> </span>would<span class="_ _11"> </span>require<span class="_"> </span>application<span class="_ _11"> </span>programmers<span class="_ _11"> </span>to<span class="_"> </span>explicitly<span class="_ _11"> </span>link<span class="_"> </span>the</div><div class="t m5 x17 h26 y5f9e ff7 fs19 fc2 sc0 ls0 ws0">appropriate<span class="_"> </span>object<span class="_ _11"> </span>modules<span class="_"> </span>into<span class="_ _11"> </span>their<span class="_ _11"> </span>executables<span class="_ _1"></span>,<span class="_"> </span>a<span class="_ _11"> </span>process<span class="_ _11"> </span>that<span class="_"> </span>would<span class="_ _11"> </span>be<span class="_"> </span>error</div><div class="t m5 x17 h26 y5f9f ff7 fs19 fc2 sc0 ls0 ws0">prone<span class="_"> </span>and<span class="_"> </span>time<span class="_"> </span>consuming:</div><div class="t m5 x17 h53 y5fa0 ffd fs1e fc2 sc0 ls0 ws0">linux&gt;<span class="_ _e"> </span><span class="ff13">gcc<span class="_ _1f"> </span>main.c<span class="_ _1f"> </span>/usr/lib/printf.o<span class="_ _e"> </span>/usr/lib/scanf.o<span class="_ _60"> </span><span class="ffa ls30">...</span></span></div><div class="t m5 x26 h26 y5fa1 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>notion<span class="_ _11"> </span>of<span class="_ _11"> </span>a<span class="_ _16"> </span>static<span class="_ _11"> </span>library<span class="_ _11"> </span>was<span class="_ _16"> </span>developed<span class="_ _11"> </span>to<span class="_ _11"> </span>resolve<span class="_ _16"> </span>the<span class="_ _11"> </span>disadvantages<span class="_ _16"> </span>of</div><div class="t m5 x17 h26 y5fa2 ff7 fs19 fc2 sc0 ls0 ws0">these<span class="_ _13"> </span>various<span class="_"> </span>approaches<span class="_ _3"></span>.<span class="_"> </span>Related<span class="_ _13"> </span>functions<span class="_ _13"> </span>can<span class="_ _13"> </span>be<span class="_"> </span>compiled<span class="_ _13"> </span>into<span class="_ _13"> </span>separate<span class="_"> </span>object</div><div class="t m5 x17 h26 y5fa3 ff7 fs19 fc2 sc0 ls0 ws0">modules<span class="_ _16"> </span>and<span class="_ _14"> </span>then<span class="_ _16"> </span>packaged<span class="_ _14"> </span>in<span class="_ _16"> </span>a<span class="_ _14"> </span>single<span class="_ _16"> </span>static<span class="_ _14"> </span>library<span class="_ _16"> </span>ﬁle.<span class="_ _16"> </span>Application<span class="_ _16"> </span>programs</div><div class="t m5 x17 h26 y5fa4 ff7 fs19 fc2 sc0 ls0 ws0">can<span class="_ _15"> </span>then<span class="_ _15"> </span>use<span class="_ _15"> </span>any<span class="_ _21"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>functions<span class="_ _21"> </span>deﬁned<span class="_ _15"> </span>in<span class="_ _15"> </span>the<span class="_ _15"> </span>library<span class="_ _21"> </span>by<span class="_ _15"> </span>specifying<span class="_ _15"> </span>a<span class="_ _21"> </span>single</div><div class="t m5 x17 h26 y5fa5 ff7 fs19 fc2 sc0 ls0 ws0">ﬁlename<span class="_"> </span>on<span class="_ _11"> </span>the<span class="_"> </span>command<span class="_ _11"> </span>line<span class="_ _0"></span>.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_ _11"> </span>example<span class="_ _0"></span>,<span class="_"> </span>a<span class="_ _11"> </span>program<span class="_ _11"> </span>that<span class="_"> </span>uses<span class="_ _11"> </span>functions<span class="_"> </span>from</div><div class="t m5 x17 h26 y5fa6 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>C<span class="_ _11"> </span>standard<span class="_"> </span>library<span class="_ _11"> </span>and<span class="_ _11"> </span>the<span class="_"> </span>math<span class="_ _11"> </span>library<span class="_ _11"> </span>could<span class="_"> </span>be<span class="_ _11"> </span>compiled<span class="_ _11"> </span>and<span class="_"> </span>linked<span class="_ _11"> </span>with<span class="_ _11"> </span>a</div><div class="t m5 x17 h26 y5fa7 ff7 fs19 fc2 sc0 ls0 ws0">command<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>form</div><div class="t m5 x17 h2d ye95 ffd fs1e fc2 sc0 ls0 ws0">linux&gt;<span class="_ _e"> </span><span class="ff13">gcc<span class="_ _1f"> </span>main.c<span class="_ _1f"> </span>/usr/lib/libm.a<span class="_ _e"> </span>/usr/lib/libc.a</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
