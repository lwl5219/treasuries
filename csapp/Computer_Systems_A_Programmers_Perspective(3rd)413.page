<div id="pf19d" class="pf w2 h11" data-page-no="19d"><div class="pc pc19d w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg19d.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">412<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 x155 h3f y3931 ff3c fs27 fc1 sc0 ls0 ws0">(a) Bit-level implementation</div><div class="t m5 xa3 h3f y3932 ff3c fs27 fc1 sc0 ls0 ws0">Bit equal</div><div class="t m5 xa3 h3f y3933 ff3c fs27 fc1 sc0 ls0 ws0">Bit equal</div><div class="t m5 xa3 h3f y3934 ff3c fs27 fc1 sc0 ls0 ws0">Bit equal</div><div class="t m5 xa3 h3f y3935 ff3c fs27 fc1 sc0 ls0 ws0">Bit equal</div><div class="t m5 x1d h3f y3936 ff3c fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 x1f6 h65 y3937 ff3c fs38 fc1 sc0 ls0 ws0">63</div><div class="t m5 x1d h3f y3938 ff3c fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x1f6 h65 y3939 ff3c fs38 fc1 sc0 ls0 ws0">63</div><div class="t m5 x1d h3f y393a ff3c fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 x1f6 h65 y393b ff3c fs38 fc1 sc0 ls0 ws0">62</div><div class="t m5 x1d h3f y393c ff3c fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x1f6 h65 y393d ff3c fs38 fc1 sc0 ls0 ws0">62</div><div class="t m5 x1f h3f y393e ff3c fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 x126 h65 y393f ff3c fs38 fc1 sc0 ls0 ws0">1</div><div class="t m5 x1f h3f y3940 ff3c fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x126 h65 y3941 ff3c fs38 fc1 sc0 ls0 ws0">1</div><div class="t m5 x1f h3f y3942 ff3c fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 x126 h65 y3943 ff3c fs38 fc1 sc0 ls0 ws0">0</div><div class="t m5 x1f h3f y3944 ff3c fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x126 h65 y3945 ff3c fs38 fc1 sc0 ls0 ws0">0</div><div class="t m5 x8f h3f y3946 ff3c fs27 fc1 sc0 ls0 ws0">eq</div><div class="t m5 x183 h65 y3947 ff3c fs38 fc1 sc0 ls0 ws0">63</div><div class="t m5 x8f h3f y3948 ff3c fs27 fc1 sc0 ls0 ws0">eq</div><div class="t m5 x183 h65 y3949 ff3c fs38 fc1 sc0 ls0 ws0">1</div><div class="t m5 x8f h3f y394a ff3c fs27 fc1 sc0 ls0 ws0">eq</div><div class="t m5 x238 h65 y394b ff3c fs38 fc1 sc0 ls0 ws0">0</div><div class="t m5 x8f h3f y394c ff3c fs27 fc1 sc0 ls0 ws0">eq</div><div class="t m5 x183 h65 y394d ff3c fs38 fc1 sc0 ls0 ws0">62</div><div class="t m5 x131 h3f y394e ff3c fs27 fc1 sc0 ls0 ws0">Eq</div><div class="t m8 x154 h3f y394f ff3c fs27 fc1 sc0 ls0 ws0">. . .</div><div class="t m8 xed h3f y394f ff3c fs27 fc1 sc0 ls0 ws0">. . .</div><div class="t m5 x12d h3f y3950 ff3c fs27 fc1 sc0 ls0 ws0">(b) Word-level abstraction</div><div class="t m5 x1c2 h3f y3951 ff3c fs27 fc1 sc0 ls0 ws0">A</div><div class="t m5 xfb h3f y3952 ff3c fs27 fc1 sc0 ls0 ws0">B</div><div class="t m5 x81 h3f y3953 ff3c fs27 fc1 sc0 ls0 ws0">A<span class="_ _1"></span> == B</div><div class="t m5 x22f h8a y3954 ff3c fs50 fc1 sc0 ls0 ws0">=</div><div class="t m5 x1d h34 y3955 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _11"> </span>4.12<span class="_ _c"> </span><span class="fc1">Word-level<span class="_"> </span>equality<span class="_ _16"> </span>test<span class="_ _11"> </span>circuit.<span class="_ _11"> </span><span class="ff6">The<span class="_ _16"> </span>output<span class="_ _11"> </span>will<span class="_ _16"> </span>equal<span class="_ _16"> </span>1<span class="_ _11"> </span>when<span class="_ _16"> </span>each<span class="_ _11"> </span>bit</span></span></div><div class="t m5 x1d h34 y3956 ff6 fs16 fc1 sc0 ls0 ws0">from<span class="_ _14"> </span>word<span class="_ _15"> </span>A<span class="_ _15"> </span>equals<span class="_ _14"> </span>its<span class="_ _15"> </span>counterpart<span class="_ _15"> </span>from<span class="_ _15"> </span>word<span class="_ _14"> </span>B.<span class="_ _15"> </span>W<span class="_ _0"></span>ord-level<span class="_ _14"> </span>equality<span class="_ _15"> </span>is<span class="_ _15"> </span>one<span class="_ _14"> </span>of<span class="_ _15"> </span>the</div><div class="t m5 x1d h34 y3957 ff6 fs16 fc1 sc0 ls0 ws0">operations<span class="_ _10"> </span>in<span class="_ _11"> </span>HCL.</div><div class="t m5 x1d h41 y3958 ffe fs29 fc1 sc0 ls0 ws0">4.2.3<span class="_ _48"> </span><span class="fs19">W<span class="_ _1"></span>ord-Level<span class="_"> </span>Combinational<span class="_"> </span>Circuits<span class="_"> </span>and<span class="_"> </span>HCL<span class="_"> </span>Integer<span class="_"> </span>Expressions</span></div><div class="t m5 x1d h26 y3959 ff7 fs19 fc1 sc0 ls0 ws0">By<span class="_ _f"> </span>assembling<span class="_ _f"> </span>large<span class="_ _f"> </span>networks<span class="_ _f"> </span>of<span class="_ _f"> </span>logic<span class="_ _f"> </span>gates<span class="_ _1"></span>,<span class="_ _e"> </span>we<span class="_ _f"> </span>can<span class="_ _f"> </span>construct<span class="_ _e"> </span>combinational</div><div class="t m5 x1d h26 y395a ff7 fs19 fc1 sc0 ls0 ws0">circuits<span class="_"> </span>that<span class="_"> </span>compute<span class="_"> </span>much<span class="_"> </span>more<span class="_"> </span>complex<span class="_"> </span>functions<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _7"></span>ypically<span class="_ _3"></span>,<span class="_"> </span>we<span class="_"> </span>design<span class="_"> </span>circuits</div><div class="t m5 x1d h26 y395b ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _13"> </span>operate<span class="_"> </span>on<span class="_ _13"> </span>data<span class="_ _13"> </span><span class="ffa">words</span>.<span class="_ _13"> </span>T<span class="_ _1"></span>hese<span class="_"> </span>are<span class="_ _13"> </span>groups<span class="_ _13"> </span>of<span class="_ _13"> </span>bit-level<span class="_"> </span>signals<span class="_ _13"> </span>that<span class="_ _13"> </span>represent<span class="_ _13"> </span>an</div><div class="t m5 x1d h26 y395c ff7 fs19 fc1 sc0 ls0 ws0">integer<span class="_"> </span>or<span class="_ _11"> </span>some<span class="_ _11"> </span>control<span class="_ _11"> </span>pattern.<span class="_ _11"> </span>F<span class="_ _1"></span>or<span class="_ _11"> </span>example<span class="_ _1"></span>,<span class="_ _11"> </span>our<span class="_ _11"> </span>processor<span class="_ _11"> </span>designs<span class="_ _11"> </span>will<span class="_ _11"> </span>contain</div><div class="t m5 x1d h26 y395d ff7 fs19 fc1 sc0 ls0 ws0">numerous<span class="_ _15"> </span>words<span class="_ _1"></span>,<span class="_ _f"> </span>with<span class="_ _15"> </span>word<span class="_ _15"> </span>sizes<span class="_ _21"> </span>ranging<span class="_ _15"> </span>between<span class="_ _21"> </span>4<span class="_ _15"> </span>and<span class="_ _15"> </span>64<span class="_ _21"> </span>bits<span class="_ _1"></span>,<span class="_ _f"> </span>representing</div><div class="t m5 x1d h26 y395e ff7 fs19 fc1 sc0 ls0 ws0">integers<span class="_ _1"></span>,<span class="_"> </span>addresses<span class="_ _1"></span>,<span class="_"> </span>instruction<span class="_"> </span>codes<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>register<span class="_"> </span>identiﬁers<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y395f ff7 fs19 fc1 sc0 ls0 ws0">Combinational<span class="_ _6"> </span>circuits<span class="_ _13"> </span>that<span class="_ _a"> </span>perform<span class="_ _13"> </span>word-level<span class="_ _6"> </span>computations<span class="_ _6"> </span>are<span class="_ _13"> </span>constructed</div><div class="t m5 x1d h26 y3960 ff7 fs19 fc1 sc0 ls0 ws0">using<span class="_"> </span>logic<span class="_"> </span>gates<span class="_ _11"> </span>to<span class="_"> </span>compute<span class="_ _11"> </span>the<span class="_"> </span>individual<span class="_"> </span>bits<span class="_ _11"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>output<span class="_"> </span>word,<span class="_ _11"> </span>based<span class="_"> </span>on<span class="_"> </span>the</div><div class="t m5 x1d h26 y3961 ff7 fs19 fc1 sc0 ls0 ws0">individual<span class="_ _13"> </span>bits<span class="_ _13"> </span>of<span class="_ _6"> </span>the<span class="_ _13"> </span>input<span class="_ _13"> </span>words<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _3"></span>or<span class="_ _13"> </span>example<span class="_ _0"></span>,<span class="_ _13"> </span>F<span class="_ _1"></span>igure<span class="_ _13"> </span>4.12<span class="_ _13"> </span>shows<span class="_ _13"> </span>a<span class="_ _13"> </span>combinational</div><div class="t m5 x1d h26 y3962 ff7 fs19 fc1 sc0 ls0 ws0">circuit<span class="_ _11"> </span>that<span class="_ _11"> </span>tests<span class="_ _11"> </span>whether<span class="_"> </span>two<span class="_ _11"> </span>64-bit<span class="_ _11"> </span>words<span class="_ _11"> </span><span class="ff6">A<span class="_ _11"> </span></span>and<span class="_ _11"> </span><span class="ff6">B<span class="_ _11"> </span></span>are<span class="_ _11"> </span>equal.<span class="_ _11"> </span>That<span class="_"> </span>is<span class="_ _1"></span>,<span class="_ _11"> </span>the<span class="_ _11"> </span>output</div><div class="t m5 x1d h26 y3963 ff7 fs19 fc1 sc0 ls0 ws0">will<span class="_ _14"> </span>equal<span class="_ _14"> </span>1<span class="_ _16"> </span>if<span class="_ _14"> </span>and<span class="_ _14"> </span>only<span class="_ _14"> </span>if<span class="_ _14"> </span>each<span class="_ _14"> </span>bit<span class="_ _14"> </span>of<span class="_ _14"> </span><span class="ff6">A<span class="_ _14"> </span></span>equals<span class="_ _14"> </span>the<span class="_ _14"> </span>corresponding<span class="_ _14"> </span>bit<span class="_ _14"> </span>of<span class="_ _14"> </span><span class="ff6">B</span>.<span class="_ _14"> </span>T<span class="_ _1"></span>his</div><div class="t m5 x1b0 h26 y3964 ff7 fs19 fc1 sc0 ls0 ws0">circuit<span class="_"> </span>is<span class="_"> </span>implemented<span class="_ _11"> </span>using<span class="_"> </span>64<span class="_"> </span>of<span class="_ _11"> </span>the<span class="_"> </span>single-bit<span class="_"> </span>equality<span class="_ _11"> </span>circuits<span class="_"> </span>shown<span class="_"> </span>in<span class="_ _11"> </span>F<span class="_ _1"></span>igure</div><div class="t m5 x1b0 h26 y3965 ff7 fs19 fc1 sc0 ls0 ws0">4.10.<span class="_ _14"> </span>T<span class="_ _1"></span>he<span class="_ _14"> </span>outputs<span class="_ _14"> </span>of<span class="_ _14"> </span>these<span class="_ _14"> </span>single-bit<span class="_ _14"> </span>circuits<span class="_ _14"> </span>are<span class="_ _16"> </span>combined<span class="_ _14"> </span>with<span class="_ _14"> </span>an<span class="_ _14"> </span><span class="ff9">and<span class="_ _14"> </span></span>gate<span class="_ _14"> </span>to</div><div class="t m5 x1b0 h26 y3966 ff7 fs19 fc1 sc0 ls0 ws0">form<span class="_"> </span>the<span class="_"> </span>circuit<span class="_"> </span>output.</div><div class="t m5 x29 h26 y3967 ff7 fs19 fc1 sc0 ls0 ws0">In<span class="_ _11"> </span>HCL,<span class="_ _16"> </span>we<span class="_ _11"> </span>will<span class="_ _16"> </span>declare<span class="_ _11"> </span>any<span class="_ _16"> </span>word-level<span class="_ _11"> </span>signal<span class="_ _11"> </span>as<span class="_ _16"> </span>an<span class="_ _11"> </span><span class="ffd">int</span>,<span class="_ _16"> </span>without<span class="_ _11"> </span>specifying</div><div class="t m5 x1b0 h26 y3968 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>word<span class="_ _11"> </span>size.<span class="_"> </span>T<span class="_ _1"></span>his<span class="_ _11"> </span>is<span class="_ _11"> </span>done<span class="_"> </span>for<span class="_ _11"> </span>simplicity<span class="_ _3"></span>.<span class="_ _11"> </span>In<span class="_"> </span>a<span class="_ _11"> </span>full-featured<span class="_ _11"> </span>hardware<span class="_ _11"> </span>description</div><div class="t m5 x1b0 h26 y3969 ff7 fs19 fc1 sc0 ls0 ws0">language<span class="_ _1"></span>,<span class="_ _13"> </span>every<span class="_ _6"> </span>word<span class="_ _6"> </span>can<span class="_ _6"> </span>be<span class="_ _6"> </span>declared<span class="_ _13"> </span>to<span class="_ _a"> </span>have<span class="_ _6"> </span>a<span class="_ _13"> </span>speciﬁc<span class="_ _a"> </span>number<span class="_ _6"> </span>of<span class="_ _6"> </span>bits<span class="_ _0"></span>.<span class="_ _6"> </span>HCL<span class="_ _6"> </span>allows</div><div class="t m5 x1b0 h26 y396a ff7 fs19 fc1 sc0 ls0 ws0">words<span class="_ _11"> </span>to<span class="_ _11"> </span>be<span class="_ _16"> </span>compared<span class="_ _11"> </span>for<span class="_ _11"> </span>equality<span class="_ _3"></span>,<span class="_ _16"> </span>and<span class="_ _11"> </span>so<span class="_ _11"> </span>the<span class="_ _11"> </span>functionality<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>circuit<span class="_ _16"> </span>shown</div><div class="t m5 x1b0 h26 y396b ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_"> </span>F<span class="_ _1"></span>igure<span class="_"> </span>4.12<span class="_"> </span>can<span class="_"> </span>be<span class="_"> </span>expressed<span class="_"> </span>at<span class="_"> </span>the<span class="_"> </span>word<span class="_"> </span>level<span class="_"> </span>as</div><div class="t m5 x1d h2d y396c ffd fs1e fc2 sc0 ls0 ws0">bool<span class="_ _e"> </span>Eq<span class="_ _1f"> </span>=<span class="_ _1f"> </span>(A<span class="_ _e"> </span>==<span class="_ _1f"> </span>B);</div><div class="t m5 x1d h26 y77e ff7 fs19 fc2 sc0 ls0 ws0">where<span class="_ _15"> </span>arguments<span class="_ _21"> </span><span class="ff6">A<span class="_ _15"> </span></span>and<span class="_ _21"> </span><span class="ff6">B<span class="_ _21"> </span></span>are<span class="_ _15"> </span>of<span class="_ _21"> </span>type<span class="_ _15"> </span><span class="ffd">int</span>.<span class="_ _21"> </span>Note<span class="_ _15"> </span>that<span class="_ _21"> </span>we<span class="_ _21"> </span>use<span class="_ _15"> </span>the<span class="_ _21"> </span>same<span class="_ _15"> </span>syntax</div><div class="t m5 x1d h26 y77f ff7 fs19 fc2 sc0 ls0 ws0">conventions<span class="_ _11"> </span>as<span class="_ _11"> </span>in<span class="_ _16"> </span>C<span class="_ _1"></span>,<span class="_ _16"> </span>where<span class="_ _11"> </span>‘<span class="ffd">=</span>’<span class="_ _11"> </span>denotes<span class="_ _16"> </span>assignment<span class="_ _11"> </span>and<span class="_ _11"> </span>‘<span class="ffd">==</span>’<span class="_ _11"> </span>denotes<span class="_ _16"> </span>the<span class="_ _11"> </span>equality</div><div class="t m5 x1d h26 y2c86 ff7 fs19 fc2 sc0 ls0 ws0">operator.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
