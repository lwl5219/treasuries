<div id="pf1a2" class="pf w2 h11" data-page-no="1a2"><div class="pc pc1a2 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1a2.png"/><div class="t m5 x10e h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>4.2<span class="_ _60"> </span>Logic<span class="_ _10"> </span>Design<span class="_ _10"> </span>and<span class="_ _10"> </span>the<span class="_ _10"> </span>Hardware<span class="_ _10"> </span>Control<span class="_ _10"> </span>Language<span class="_ _10"> </span>HCL<span class="_ _3e"> </span><span class="ffe fs1e">417</span></div><div class="t m5 x17 h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">In<span class="_ _16"> </span>this<span class="_ _11"> </span>circuit,<span class="_ _14"> </span>the<span class="_ _16"> </span>2-bit<span class="_ _11"> </span>signal<span class="_ _16"> </span><span class="ff6">code<span class="_ _16"> </span></span>would<span class="_ _16"> </span>then<span class="_ _11"> </span>control<span class="_ _16"> </span>the<span class="_ _16"> </span>selection<span class="_ _16"> </span>among<span class="_ _16"> </span>the</div><div class="t m5 x17 h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">four<span class="_ _13"> </span>data<span class="_"> </span>words<span class="_ _13"> </span><span class="ff6">A</span>,<span class="_"> </span><span class="ff6">B</span>,<span class="_ _13"> </span><span class="ff6">C</span>,<span class="_"> </span>and<span class="_ _13"> </span><span class="ff6">D</span>.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_"> </span>can<span class="_ _13"> </span>express<span class="_"> </span>the<span class="_ _13"> </span>generation<span class="_ _13"> </span>of<span class="_"> </span>signals<span class="_ _13"> </span><span class="ff6">s1<span class="_ _13"> </span></span>and<span class="_"> </span><span class="ff6">s0</span></div><div class="t m5 x17 h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">using<span class="_"> </span>equality<span class="_"> </span>tests<span class="_"> </span>based<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>possible<span class="_"> </span>values<span class="_"> </span>of<span class="_"> </span><span class="ff6">code</span>:</div><div class="t m5 x17 h2d y3a23 ffd fs1e fc2 sc0 ls0 ws0">bool<span class="_ _e"> </span>s1<span class="_ _1f"> </span>=<span class="_ _1f"> </span>code<span class="_ _e"> </span>==<span class="_ _1f"> </span>2<span class="_ _e"> </span>||<span class="_ _1f"> </span>code<span class="_ _1f"> </span>==<span class="_ _e"> </span>3;</div><div class="t m5 x17 h2d y3a24 ffd fs1e fc2 sc0 ls0 ws0">bool<span class="_ _e"> </span>s0<span class="_ _1f"> </span>=<span class="_ _1f"> </span>code<span class="_ _e"> </span>==<span class="_ _1f"> </span>1<span class="_ _e"> </span>||<span class="_ _1f"> </span>code<span class="_ _1f"> </span>==<span class="_ _e"> </span>3;</div><div class="t m5 x26 h26 y3a25 ff7 fs19 fc2 sc0 ls0 ws0">A<span class="_"> </span>more<span class="_ _13"> </span>concise<span class="_"> </span>expression<span class="_ _13"> </span>can<span class="_"> </span>be<span class="_ _13"> </span>written<span class="_"> </span>that<span class="_"> </span>expresses<span class="_ _13"> </span>the<span class="_"> </span>property<span class="_ _13"> </span>that<span class="_"> </span><span class="ff6">s1</span></div><div class="t m5 x17 h46 y3a26 ff7 fs19 fc2 sc0 ls0 ws0">is<span class="_"> </span>1<span class="_"> </span>when<span class="_"> </span><span class="ff6">code<span class="_ _10"> </span></span>is<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>set<span class="_"> </span><span class="ff12">{</span>2<span class="ff11">,<span class="_ _10"> </span></span>3<span class="_ _1"></span><span class="ff12">}<span class="ff7">,<span class="_"> </span>and<span class="_"> </span><span class="ff6">s0<span class="_ _11"> </span></span>is<span class="_"> </span>1<span class="_"> </span>when<span class="_"> </span><span class="ff6">code<span class="_ _10"> </span></span>is<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>set<span class="_"> </span></span>{<span class="ff7">1<span class="_ _1"></span><span class="ff11">,<span class="_ _10"> </span><span class="ff7">3<span class="_ _1"></span><span class="ff12">}<span class="ff7">:</span></span></span></span></span></span></div><div class="t m5 x17 h2d y3a27 ffd fs1e fc2 sc0 ls0 ws0">bool<span class="_ _e"> </span>s1<span class="_ _1f"> </span>=<span class="_ _1f"> </span>code<span class="_ _e"> </span>in<span class="_ _1f"> </span>{<span class="_ _e"> </span>2,<span class="_ _1f"> </span>3<span class="_ _1f"> </span>};</div><div class="t m5 x17 h2d y3a28 ffd fs1e fc2 sc0 ls0 ws0">bool<span class="_ _e"> </span>s0<span class="_ _1f"> </span>=<span class="_ _1f"> </span>code<span class="_ _e"> </span>in<span class="_ _1f"> </span>{<span class="_ _e"> </span>1,<span class="_ _1f"> </span>3<span class="_ _1f"> </span>};</div><div class="t m5 x26 h26 y3a29 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>general<span class="_"> </span>form<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>set<span class="_"> </span>membership<span class="_"> </span>test<span class="_"> </span>is</div><div class="t m5 x17 h53 y3a2a ffa fs1e fc2 sc0 ls0 ws0">iexpr<span class="_ _1f"> </span><span class="ffd">in<span class="_ _1f"> </span>{</span>iexpr</div><div class="t m5 x124 h48 y3a2b ff7 fs2c fc2 sc0 ls0 ws0">1</div><div class="t m5 x161 h53 y3a2a ffd fs1e fc2 sc0 ls0 ws0">,<span class="_ _e"> </span><span class="ffa">iexpr</span></div><div class="t m5 x66 h48 y3a2b ff7 fs2c fc2 sc0 ls0 ws0">2</div><div class="t m5 x154 h53 y3a2a ffd fs1e fc2 sc0 ls0 ws0">,<span class="_ _c"> </span><span class="ffa ls30">...</span>,<span class="_ _1f"> </span><span class="ffa">iexpr</span></div><div class="t m5 xe5 h54 y3a2b ff11 fs2c fc2 sc0 ls0 ws0">k</div><div class="t m5 x13b h2d y3a2a ffd fs1e fc2 sc0 ls0 ws0">}</div><div class="t m5 x17 h26 y3a2c ff7 fs19 fc2 sc0 ls0 ws0">where<span class="_ _11"> </span>the<span class="_ _16"> </span>value<span class="_ _11"> </span>being<span class="_ _16"> </span>tested<span class="_ _11"> </span>(<span class="ffa">iexpr<span class="_ _2"></span></span>)<span class="_ _16"> </span>and<span class="_ _11"> </span>the<span class="_ _16"> </span>candidate<span class="_ _11"> </span>matches<span class="_ _16"> </span>(<span class="ffa">iexpr</span></div><div class="t m5 x1fd h3c y3a2d ff7 fs25 fc2 sc0 ls0 ws0">1</div><div class="t m5 x1bd h26 y3a2c ff7 fs19 fc2 sc0 ls0 ws0">through</div><div class="t m5 x17 h30 y3a2e ffa fs19 fc2 sc0 ls0 ws0">iexpr</div><div class="t m5 x73 h50 y3a2f ff11 fs25 fc2 sc0 ls0 ws0">k</div><div class="t m5 x35 h26 y3a30 ff7 fs19 fc2 sc0 ls0 ws0">)<span class="_"> </span>are<span class="_"> </span>all<span class="_"> </span>integer<span class="_"> </span>expressions<span class="_ _1"></span>.</div><div class="t m5 x17 h41 y3a31 ffe fs29 fc2 sc0 ls0 ws0">4.2.5<span class="_ _48"> </span><span class="fs19">Memory<span class="_"> </span>and<span class="_"> </span>Clocking</span></div><div class="t m5 x17 h26 y3a32 ff7 fs19 fc2 sc0 ls0 ws0">Combinational<span class="_ _6"> </span>circuits<span class="_ _1"></span>,<span class="_ _13"> </span>by<span class="_ _a"> </span>their<span class="_ _13"> </span>very<span class="_ _a"> </span>nature,<span class="_ _6"> </span>do<span class="_ _6"> </span>not<span class="_ _6"> </span>store<span class="_ _6"> </span>any<span class="_ _13"> </span>information.<span class="_ _a"> </span>Instead,</div><div class="t m5 x17 h26 y3a33 ff7 fs19 fc2 sc0 ls0 ws0">they<span class="_"> </span>simply<span class="_ _11"> </span>react<span class="_ _11"> </span>to<span class="_ _11"> </span>the<span class="_ _11"> </span>signals<span class="_ _11"> </span>at<span class="_"> </span>their<span class="_ _11"> </span>inputs<span class="_ _1"></span>,<span class="_ _11"> </span>generating<span class="_ _11"> </span>outputs<span class="_ _11"> </span>equal<span class="_ _11"> </span>to<span class="_ _11"> </span>some</div><div class="t m5 x17 h26 y3a34 ff7 fs19 fc2 sc0 ls0 ws0">function<span class="_ _13"> </span>of<span class="_ _6"> </span>the<span class="_ _13"> </span>inputs<span class="_ _3"></span>.<span class="_ _13"> </span>T<span class="_ _7"></span>o<span class="_ _13"> </span>create<span class="_ _13"> </span><span class="ffa">sequential<span class="_ _6"> </span>circuits</span>—that<span class="_ _13"> </span>is<span class="_ _3"></span>,<span class="_ _13"> </span>systems<span class="_ _13"> </span>that<span class="_ _13"> </span>have<span class="_ _6"> </span>state</div><div class="t m5 x17 h26 y3a35 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_ _16"> </span>perform<span class="_ _14"> </span>computations<span class="_ _16"> </span>on<span class="_ _14"> </span>that<span class="_ _16"> </span>state—we<span class="_ _14"> </span>must<span class="_ _16"> </span>introduce<span class="_ _14"> </span>devices<span class="_ _16"> </span>that<span class="_ _14"> </span>store</div><div class="t m5 x17 h26 y3a36 ff7 fs19 fc2 sc0 ls0 ws0">information<span class="_"> </span>represented<span class="_ _13"> </span>as<span class="_"> </span>bits<span class="_ _3"></span>.<span class="_"> </span>Our<span class="_"> </span>storage<span class="_ _13"> </span>devices<span class="_"> </span>are<span class="_ _13"> </span>all<span class="_"> </span>controlled<span class="_"> </span>by<span class="_ _13"> </span>a<span class="_"> </span>single</div><div class="t m5 x17 h26 y3a37 ffa fs19 fc2 sc0 ls0 ws0">clock<span class="ff7">,<span class="_"> </span>a<span class="_ _13"> </span>periodic<span class="_ _13"> </span>signal<span class="_ _13"> </span>that<span class="_ _13"> </span>determines<span class="_ _13"> </span>when<span class="_"> </span>new<span class="_ _13"> </span>values<span class="_ _13"> </span>are<span class="_ _13"> </span>to<span class="_ _13"> </span>be<span class="_ _13"> </span>loaded<span class="_"> </span>into<span class="_ _13"> </span>the</span></div><div class="t m5 x17 h26 y3a38 ff7 fs19 fc2 sc0 ls0 ws0">devices<span class="_ _1"></span>.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_"> </span>consider<span class="_"> </span>two<span class="_"> </span>classes<span class="_"> </span>of<span class="_"> </span>memory<span class="_"> </span>devices:</div><div class="t m5 x62 h26 y3a39 ffa fs19 fc2 sc0 ls0 ws0">Clocked<span class="_"> </span>registers<span class="_ _e"> </span><span class="ff7">(or<span class="_"> </span>simply<span class="_"> </span></span>registers<span class="ff7">)<span class="_"> </span>store<span class="_"> </span>individual<span class="_ _13"> </span>bits<span class="_"> </span>or<span class="_"> </span>words<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span>clock</span></div><div class="t m5 x30 h26 y3a3a ff7 fs19 fc2 sc0 ls0 ws0">signal<span class="_"> </span>controls<span class="_"> </span>the<span class="_"> </span>loading<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>register<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>value<span class="_"> </span>at<span class="_"> </span>its<span class="_"> </span>input.</div><div class="t m5 x62 h26 y3a3b ffa fs19 fc2 sc0 ls0 ws0">Random<span class="_ _15"> </span>access<span class="_ _21"> </span>memories<span class="_ _1f"> </span><span class="ff7">(or<span class="_ _21"> </span>simply<span class="_ _15"> </span></span>memories<span class="_ _2"></span><span class="ff7">)<span class="_ _15"> </span>store<span class="_ _21"> </span>multiple<span class="_ _21"> </span>words<span class="_ _1"></span>,<span class="_ _f"> </span>using</span></div><div class="t m5 x30 h26 y3a3c ff7 fs19 fc2 sc0 ls0 ws0">an<span class="_ _15"> </span>address<span class="_ _21"> </span>to<span class="_ _15"> </span>select<span class="_ _21"> </span>which<span class="_ _15"> </span>word<span class="_ _21"> </span>should<span class="_ _21"> </span>be<span class="_ _15"> </span>read<span class="_ _21"> </span>or<span class="_ _15"> </span>written.<span class="_ _21"> </span>Examples</div><div class="t m5 x30 h26 y3a3d ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _15"> </span>random<span class="_ _15"> </span>access<span class="_ _21"> </span>memories<span class="_ _15"> </span>include<span class="_ _21"> </span>(1)<span class="_ _15"> </span>the<span class="_ _21"> </span>virtual<span class="_ _15"> </span>memory<span class="_ _21"> </span>system<span class="_ _15"> </span>of</div><div class="t m5 x30 h26 y3a3e ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _f"> </span>processor,<span class="_ _e"> </span>where<span class="_ _f"> </span>a<span class="_ _f"> </span>combination<span class="_ _e"> </span>of<span class="_ _21"> </span>hardware<span class="_ _f"> </span>and<span class="_ _e"> </span>operating<span class="_ _21"> </span>system</div><div class="t m5 x30 h26 y3a3f ff7 fs19 fc2 sc0 ls0 ws0">software<span class="_ _13"> </span>make<span class="_"> </span>it<span class="_ _13"> </span>appear<span class="_"> </span>to<span class="_ _13"> </span>a<span class="_"> </span>processor<span class="_ _13"> </span>that<span class="_"> </span>it<span class="_ _13"> </span>can<span class="_"> </span>access<span class="_ _13"> </span>any<span class="_"> </span>word<span class="_ _13"> </span>within</div><div class="t m5 x30 h26 y3a40 ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _11"> </span>large<span class="_ _16"> </span>address<span class="_ _11"> </span>space;<span class="_ _16"> </span>and<span class="_ _11"> </span>(2)<span class="_ _16"> </span>the<span class="_ _11"> </span>register<span class="_ _11"> </span>ﬁle,<span class="_ _11"> </span>where<span class="_ _11"> </span>register<span class="_ _16"> </span>identiﬁers</div><div class="t m5 x30 h26 y3a41 ff7 fs19 fc2 sc0 ls0 ws0">serve<span class="_ _11"> </span>as<span class="_ _16"> </span>the<span class="_ _16"> </span>addresses<span class="_ _3"></span>.<span class="_ _16"> </span>In<span class="_ _16"> </span>a<span class="_ _11"> </span>Y86-64<span class="_ _16"> </span>processor,<span class="_ _11"> </span>the<span class="_ _16"> </span>register<span class="_ _11"> </span>ﬁle<span class="_ _16"> </span>holds<span class="_ _16"> </span>the</div><div class="t m5 x30 h26 y3a42 ff7 fs19 fc2 sc0 ls0 ws0">15<span class="_"> </span>program<span class="_"> </span>registers<span class="_"> </span>(<span class="ffd">%rax<span class="_ _10"> </span></span>through<span class="_"> </span><span class="ffd">%r14</span>).</div><div class="t m5 x26 h26 y3a43 ff7 fs19 fc2 sc0 ls0 ws0">As<span class="_ _11"> </span>we<span class="_ _11"> </span>can<span class="_ _11"> </span>see<span class="_ _1"></span>,<span class="_ _16"> </span>the<span class="_"> </span>word<span class="_ _11"> </span>“register”<span class="_ _11"> </span>means<span class="_ _11"> </span>two<span class="_ _11"> </span>slightly<span class="_ _11"> </span>different<span class="_ _11"> </span>things<span class="_ _11"> </span>when</div><div class="t m5 x17 h26 y3a44 ff7 fs19 fc2 sc0 ls0 ws0">speaking<span class="_ _f"> </span>of<span class="_ _f"> </span>hardware<span class="_ _f"> </span>versus<span class="_ _f"> </span>machine-language<span class="_ _f"> </span>programming.<span class="_ _21"> </span>In<span class="_ _f"> </span>hardware,<span class="_ _e"> </span>a</div><div class="t m5 x17 h26 y3a45 ff7 fs19 fc2 sc0 ls0 ws0">register<span class="_ _15"> </span>is<span class="_ _15"> </span>directly<span class="_ _21"> </span>connected<span class="_ _15"> </span>to<span class="_ _21"> </span>the<span class="_ _15"> </span>rest<span class="_ _21"> </span>of<span class="_ _15"> </span>the<span class="_ _21"> </span>circuit<span class="_ _15"> </span>by<span class="_ _21"> </span>its<span class="_ _15"> </span>input<span class="_ _15"> </span>and<span class="_ _21"> </span>output</div><div class="t m5 x17 h26 y3a46 ff7 fs19 fc2 sc0 ls0 ws0">wires<span class="_ _1"></span>.<span class="_ _16"> </span>In<span class="_ _14"> </span>machine-level<span class="_ _14"> </span>programming,<span class="_ _14"> </span>the<span class="_ _16"> </span>registers<span class="_ _14"> </span>represent<span class="_ _14"> </span>a<span class="_ _16"> </span>small<span class="_ _14"> </span>collection</div><div class="t m5 x17 h26 y3a47 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _15"> </span>addressable<span class="_ _14"> </span>words<span class="_ _15"> </span>in<span class="_ _15"> </span>the<span class="_ _15"> </span>CPU<span class="_ _3"></span>,<span class="_ _21"> </span>where<span class="_ _15"> </span>the<span class="_ _15"> </span>addresses<span class="_ _15"> </span>consist<span class="_ _15"> </span>of<span class="_ _15"> </span>register<span class="_ _15"> </span>IDs<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y3a48 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>hese<span class="_"> </span>words<span class="_"> </span>are<span class="_"> </span>generally<span class="_ _13"> </span>stored<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>register<span class="_"> </span>ﬁle<span class="_ _1"></span>,<span class="_"> </span>although<span class="_"> </span>we<span class="_ _13"> </span>will<span class="_"> </span>see<span class="_"> </span>that<span class="_"> </span>the</div><div class="t m5 x17 h26 y3a49 ff7 fs19 fc2 sc0 ls0 ws0">hardware<span class="_"> </span>can<span class="_ _11"> </span>sometimes<span class="_"> </span>pass<span class="_ _11"> </span>a<span class="_"> </span>word<span class="_ _11"> </span>directly<span class="_ _11"> </span>from<span class="_"> </span>one<span class="_ _11"> </span>instruction<span class="_"> </span>to<span class="_ _11"> </span>another<span class="_"> </span>to</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
