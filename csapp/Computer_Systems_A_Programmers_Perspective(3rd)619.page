<div id="pf26b" class="pf w2 h11" data-page-no="26b"><div class="pc pc26b w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg26b.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">618<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x26 h31 y390 ff7 fs21 fc2 sc0 ls0 ws0">T<span class="_ _7"></span>ransistors<span class="_ _19"> </span>Relative<span class="_ _1f4"> </span>Relative</div><div class="t m5 x1fe h31 y5244 ff7 fs21 fc2 sc0 ls0 ws0">per<span class="_"> </span>bit<span class="_ _61"> </span>access<span class="_"> </span>time<span class="_ _17"> </span>Persistent?<span class="_ _17"> </span>Sensitive?<span class="_ _73"> </span>cost<span class="_ _8b"> </span>Applications</div><div class="t m5 x14 h32 ye1a ff7 fs21 fc2 sc0 ls0 ws0">SRAM<span class="_ _88"> </span>6<span class="_ _65"> </span>1<span class="ff12">×<span class="_ _30"> </span></span>Y<span class="_ _3"></span>es<span class="_ _ed"> </span>No<span class="_ _b9"> </span>1,000<span class="ff12">×<span class="_ _b2"> </span></span>Cache<span class="_"> </span>memory</div><div class="t m5 x14 h32 y5245 ff7 fs21 fc2 sc0 ls0 ws0">DRAM<span class="_ _2c"> </span>1<span class="_ _55"> </span>10<span class="ff12">×<span class="_ _6d"> </span></span>No<span class="_ _ed"> </span>Y<span class="_ _3"></span>es<span class="_ _87"> </span>1<span class="ff12">×<span class="_ _b2"> </span></span>Main<span class="_"> </span>memory<span class="_ _3"></span>,<span class="_"> </span>frame<span class="_"> </span>buffers</div><div class="t m5 x14 h2f y5246 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.2<span class="_ _66"> </span><span class="fc1">Characteristics<span class="_"> </span>of<span class="_"> </span>DRAM<span class="_"> </span>and<span class="_"> </span>SRAM<span class="_"> </span>memor<span class="_ _2"></span>y<span class="_ _3"></span>.</span></div><div class="t m5 x1d h42 y5247 ff6 fs29 fc6 sc0 ls0 ws0">Dynamic<span class="_ _11"> </span>RAM</div><div class="t m5 x1d h26 y5248 ff7 fs19 fc1 sc0 ls0 ws0">DRAM<span class="_ _16"> </span>stores<span class="_ _14"> </span>each<span class="_ _14"> </span>bit<span class="_ _14"> </span>as<span class="_ _16"> </span>charge<span class="_ _14"> </span>on<span class="_ _14"> </span>a<span class="_ _14"> </span>capacitor.<span class="_ _16"> </span>T<span class="_ _1"></span>his<span class="_ _14"> </span>capacitor<span class="_ _14"> </span>is<span class="_ _16"> </span>very<span class="_ _14"> </span>small—</div><div class="t m5 x1d h46 y5249 ff7 fs19 fc1 sc0 ls0 ws0">typically<span class="_"> </span>around<span class="_ _13"> </span>30<span class="_"> </span>femtofarads—that<span class="_ _13"> </span>is<span class="_ _1"></span>,<span class="_"> </span>30<span class="_"> </span><span class="ff12">×<span class="_ _13"></span></span>10</div><div class="t m5 x1aa h4b y524a ff12 fs25 fc1 sc0 ls0 ws0">−<span class="ff7">15</span></div><div class="t m5 x1a1 h26 y524b ff7 fs19 fc1 sc0 ls0 ws0">farads<span class="_ _1"></span>.<span class="_"> </span>Recall,<span class="_ _13"> </span>however,<span class="_"> </span>that</div><div class="t m5 x1d h26 y524c ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>farad<span class="_ _13"> </span>is<span class="_"> </span>a<span class="_ _13"> </span>very<span class="_"> </span>large<span class="_ _13"> </span>unit<span class="_"> </span>of<span class="_ _13"> </span>measure.<span class="_ _13"> </span>DRAM<span class="_"> </span>storage<span class="_ _13"> </span>can<span class="_"> </span>be<span class="_ _13"> </span>made<span class="_"> </span>very<span class="_ _13"> </span>dense—</div><div class="t m5 x1d h26 y524d ff7 fs19 fc1 sc0 ls0 ws0">each<span class="_ _15"> </span>cell<span class="_ _15"> </span>consists<span class="_ _15"> </span>of<span class="_ _21"> </span>a<span class="_ _15"> </span>capacitor<span class="_ _15"> </span>and<span class="_ _21"> </span>a<span class="_ _15"> </span>single<span class="_ _15"> </span>access<span class="_ _15"> </span>transistor.<span class="_ _15"> </span>Unlike<span class="_ _15"> </span>SRAM,</div><div class="t m5 x1d h26 y524e ff7 fs19 fc1 sc0 ls0 ws0">however,<span class="_ _16"> </span>a<span class="_ _16"> </span>DRAM<span class="_ _16"> </span>memory<span class="_ _16"> </span>cell<span class="_ _16"> </span>is<span class="_ _14"> </span>very<span class="_ _16"> </span>sensitive<span class="_ _16"> </span>to<span class="_ _16"> </span>any<span class="_ _16"> </span>disturbance.<span class="_ _16"> </span>W<span class="_ _0"></span>hen<span class="_ _16"> </span>the</div><div class="t m5 x1d h26 y524f ff7 fs19 fc1 sc0 ls0 ws0">capacitor<span class="_ _14"> </span>voltage<span class="_ _14"> </span>is<span class="_ _16"> </span>disturbed,<span class="_ _15"> </span>it<span class="_ _14"> </span>will<span class="_ _14"> </span>never<span class="_ _14"> </span>recover.<span class="_ _16"> </span>Exposure<span class="_ _14"> </span>to<span class="_ _14"> </span>light<span class="_ _14"> </span>rays<span class="_ _14"> </span>will</div><div class="t m5 x1d h26 y5250 ff7 fs19 fc1 sc0 ls0 ws0">cause<span class="_"> </span>the<span class="_"> </span>capacitor<span class="_"> </span>voltages<span class="_"> </span>to<span class="_"> </span>change<span class="_ _1"></span>.<span class="_"> </span>In<span class="_"> </span>fact,<span class="_"> </span>the<span class="_"> </span>sensors<span class="_"> </span>in<span class="_"> </span>digital<span class="_"> </span>cameras<span class="_"> </span>and</div><div class="t m5 x1d h26 y5251 ff7 fs19 fc1 sc0 ls0 ws0">camcorders<span class="_"> </span>are<span class="_"> </span>essentially<span class="_"> </span>arrays<span class="_"> </span>of<span class="_"> </span>DRAM<span class="_"> </span>cells<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y5252 ff7 fs19 fc1 sc0 ls0 ws0">V<span class="_ _7"></span>arious<span class="_ _21"> </span>sources<span class="_ _21"> </span>of<span class="_ _21"> </span>leakage<span class="_ _15"> </span>current<span class="_ _21"> </span>cause<span class="_ _21"> </span>a<span class="_ _21"> </span>DRAM<span class="_ _21"> </span>cell<span class="_ _21"> </span>to<span class="_ _21"> </span>lose<span class="_ _21"> </span>its<span class="_ _21"> </span>charge</div><div class="t m5 x1d h26 y5253 ff7 fs19 fc1 sc0 ls0 ws0">within<span class="_"> </span>a<span class="_ _13"> </span>time<span class="_"> </span>period<span class="_"> </span>of<span class="_"> </span>around<span class="_ _13"> </span>10<span class="_"> </span>to<span class="_"> </span>100<span class="_ _13"> </span>milliseconds<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>ortunately<span class="_ _3"></span>,<span class="_"> </span>for<span class="_ _13"> </span>computers</div><div class="t m5 x1d h26 y5254 ff7 fs19 fc1 sc0 ls0 ws0">operating<span class="_"> </span>with<span class="_ _11"> </span>clock<span class="_ _11"> </span>cycle<span class="_"> </span>times<span class="_ _11"> </span>measured<span class="_ _11"> </span>in<span class="_ _11"> </span>nanoseconds<span class="_ _1"></span>,<span class="_ _11"> </span>this<span class="_ _11"> </span>retention<span class="_ _11"> </span>time<span class="_ _11"> </span>is</div><div class="t m5 x1d h26 y5255 ff7 fs19 fc1 sc0 ls0 ws0">quite<span class="_"> </span>long<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _0"></span>he<span class="_"> </span>memory<span class="_ _13"> </span>system<span class="_"> </span>must<span class="_"> </span>periodically<span class="_ _13"> </span>refresh<span class="_"> </span>every<span class="_"> </span>bit<span class="_"> </span>of<span class="_ _13"> </span>memory<span class="_"> </span>by</div><div class="t m5 x1d h26 y5256 ff7 fs19 fc1 sc0 ls0 ws0">reading<span class="_ _13"> </span>it<span class="_"> </span>out<span class="_ _13"> </span>and<span class="_"> </span>then<span class="_ _13"> </span>rewriting<span class="_ _13"> </span>it.<span class="_"> </span>Some<span class="_ _13"> </span>systems<span class="_ _13"> </span>also<span class="_"> </span>use<span class="_ _13"> </span>error<span class="_ _1"></span>-correcting<span class="_"> </span>codes<span class="_ _3"></span>,</div><div class="t m5 x1d h26 y5257 ff7 fs19 fc1 sc0 ls0 ws0">where<span class="_"> </span>the<span class="_"> </span>computer<span class="_"> </span>words<span class="_"> </span>are<span class="_"> </span>encoded<span class="_ _13"> </span>using<span class="_"> </span>a<span class="_"> </span>few<span class="_"> </span>more<span class="_"> </span>bits<span class="_"> </span>(e<span class="_ _1"></span>.g.,<span class="_"> </span>a<span class="_"> </span>64-bit<span class="_"> </span>word</div><div class="t m5 x1d h26 y5258 ff7 fs19 fc1 sc0 ls0 ws0">might<span class="_ _16"> </span>be<span class="_ _14"> </span>encoded<span class="_ _14"> </span>using<span class="_ _14"> </span>72<span class="_ _14"> </span>bits),<span class="_ _14"> </span>such<span class="_ _14"> </span>that<span class="_ _14"> </span>circuitry<span class="_ _14"> </span>can<span class="_ _16"> </span>detect<span class="_ _14"> </span>and<span class="_ _14"> </span>correct<span class="_ _14"> </span>any</div><div class="t m5 x1d h26 y5259 ff7 fs19 fc1 sc0 ls0 ws0">single<span class="_"> </span>erroneous<span class="_"> </span>bit<span class="_"> </span>within<span class="_"> </span>a<span class="_"> </span>word.</div><div class="t m5 x29 h26 y525a ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _21"> </span>6.2<span class="_ _21"> </span>summarizes<span class="_ _15"> </span>the<span class="_ _21"> </span>characteristics<span class="_ _15"> </span>of<span class="_ _21"> </span>SRAM<span class="_ _21"> </span>and<span class="_ _15"> </span>DRAM<span class="_ _21"> </span>memory<span class="_ _3"></span>.</div><div class="t m5 x1d h26 y525b ff7 fs19 fc1 sc0 ls0 ws0">SRAM<span class="_ _14"> </span>is<span class="_ _15"> </span>persistent<span class="_ _15"> </span>as<span class="_ _15"> </span>long<span class="_ _14"> </span>as<span class="_ _15"> </span>power<span class="_ _15"> </span>is<span class="_ _14"> </span>applied.<span class="_ _15"> </span>Unlike<span class="_ _15"> </span>DRAM,<span class="_ _15"> </span>no<span class="_ _15"> </span>refresh<span class="_ _15"> </span>is</div><div class="t m5 x1d h26 y525c ff7 fs19 fc1 sc0 ls0 ws0">necessary<span class="_ _3"></span>.<span class="_"> </span>SRAM<span class="_ _11"> </span>can<span class="_"> </span>be<span class="_ _11"> </span>accessed<span class="_ _11"> </span>faster<span class="_"> </span>than<span class="_ _11"> </span>DRAM.<span class="_ _11"> </span>SRAM<span class="_"> </span>is<span class="_ _11"> </span>not<span class="_"> </span>sensitive<span class="_ _11"> </span>to</div><div class="t m5 x1d h26 y525d ff7 fs19 fc1 sc0 ls0 ws0">disturbances<span class="_ _11"> </span>such<span class="_ _16"> </span>as<span class="_ _16"> </span>light<span class="_ _11"> </span>and<span class="_ _16"> </span>electrical<span class="_ _16"> </span>noise<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _1"></span>he<span class="_ _16"> </span>trade-off<span class="_ _16"> </span>is<span class="_ _11"> </span>that<span class="_ _16"> </span>SRAM<span class="_ _16"> </span>cells</div><div class="t m5 x1d h26 y525e ff7 fs19 fc1 sc0 ls0 ws0">use<span class="_ _16"> </span>more<span class="_ _16"> </span>transistors<span class="_ _16"> </span>than<span class="_ _16"> </span>DRAM<span class="_ _11"> </span>cells<span class="_ _16"> </span>and<span class="_ _16"> </span>thus<span class="_ _16"> </span>have<span class="_ _16"> </span>lower<span class="_ _16"> </span>densities<span class="_ _1"></span>,<span class="_ _16"> </span>are<span class="_ _16"> </span>more</div><div class="t m5 x1d h26 y525f ff7 fs19 fc1 sc0 ls0 ws0">expensive<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>consume<span class="_"> </span>more<span class="_"> </span>power.</div><div class="t m5 x1d h42 y4f4a ff6 fs29 fc6 sc0 ls0 ws0">Conventional<span class="_ _11"> </span>DRAMs</div><div class="t m5 x1d h26 y2972 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>cells<span class="_"> </span>(bits)<span class="_"> </span>in<span class="_ _13"> </span>a<span class="_"> </span>DRAM<span class="_"> </span>chip<span class="_"> </span>are<span class="_"> </span>partitioned<span class="_ _13"> </span>into<span class="_"> </span><span class="ff11">d<span class="_"> </span><span class="ffa">supercells</span></span>,<span class="_"> </span>each<span class="_ _13"> </span>consisting</div><div class="t m5 x1d h46 y4f80 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span><span class="ff11">w<span class="_"> </span></span>DRAM<span class="_"> </span>cells<span class="_ _1"></span>.<span class="_ _11"> </span>A<span class="_"> </span><span class="ff11">d<span class="_"> </span><span class="ff12">×<span class="_ _13"></span></span>w<span class="_"> </span></span>DRAM<span class="_"> </span>stores<span class="_"> </span>a<span class="_ _11"> </span>total<span class="_ _11"> </span>of<span class="_"> </span><span class="ff11 ls190">dw<span class="_ _10"> </span></span>bits<span class="_"> </span>of<span class="_ _11"> </span>information.<span class="_ _11"> </span>T<span class="_ _1"></span>he</div><div class="t m5 x1d h26 y4f81 ff7 fs19 fc1 sc0 ls0 ws0">supercells<span class="_"> </span>are<span class="_"> </span>organized<span class="_"> </span>as<span class="_"> </span>a<span class="_"> </span>rectangular<span class="_"> </span>array<span class="_"> </span>with<span class="_"> </span><span class="ff11">r<span class="_"> </span></span>rows<span class="_"> </span>and<span class="_"> </span><span class="ff11">c<span class="_ _11"> </span></span>columns<span class="_ _1"></span>,<span class="_"> </span>where</div><div class="t m5 x1d h46 y4f82 ff11 fs19 fc1 sc0 ls228 ws0">rc<span class="_ _6"> </span><span class="ff12 ls0">=<span class="_ _10"> </span><span class="ff11">d<span class="_ _5"></span><span class="ff7">.<span class="_"> </span>Each<span class="_"> </span>supercell<span class="_ _11"> </span>has<span class="_"> </span>an<span class="_"> </span>address<span class="_ _11"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>form<span class="_"> </span></span><span class="ls24">(i,<span class="_ _10"> </span>j<span class="_ _be"></span>)</span><span class="ff7">,<span class="_"> </span>where<span class="_ _11"> </span></span>i<span class="_"> </span><span class="ff7">denotes<span class="_"> </span>the<span class="_"> </span>row</span></span></span></div><div class="t m5 x1d h26 y4f83 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span><span class="ff11">j<span class="_ _14"> </span></span>denotes<span class="_"> </span>the<span class="_"> </span>column.</div><div class="t m5 x29 h46 y2878 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_"> </span>F<span class="_ _0"></span>igure<span class="_"> </span>6.3<span class="_"> </span>shows<span class="_"> </span>the<span class="_ _13"> </span>organization<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>16<span class="_ _13"> </span><span class="ff12">×<span class="_ _10"> </span></span>8<span class="_ _13"> </span>DRAM<span class="_"> </span>chip<span class="_"> </span>with</div><div class="t m5 x1d h46 y2879 ff11 fs19 fc1 sc0 ls0 ws0">d<span class="_"> </span><span class="ff12">=<span class="_ _13"></span><span class="ff7">16<span class="_ _15"> </span>supercells<span class="_ _1"></span>,<span class="_ _15"> </span><span class="ff11">w<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>8<span class="_ _14"> </span>bits<span class="_ _14"> </span>per<span class="_ _15"> </span>supercell,<span class="_ _21"> </span><span class="ff11">r<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span></span>4<span class="_ _15"> </span>rows<span class="_ _1"></span>,<span class="_ _21"> </span>and<span class="_ _14"> </span><span class="ff11">c<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>4<span class="_ _14"> </span>columns<span class="_ _1"></span>.<span class="_ _15"> </span>T<span class="_ _1"></span>he</span></span></div><div class="t m5 x1d h26 y287a ff7 fs19 fc1 sc0 ls0 ws0">shaded<span class="_ _11"> </span>box<span class="_ _11"> </span>denotes<span class="_ _16"> </span>the<span class="_ _11"> </span>supercell<span class="_ _11"> </span>at<span class="_ _16"> </span>address<span class="_"> </span><span class="ff11">(</span>2<span class="_ _2"></span><span class="ff11">,<span class="_ _13"> </span></span>1<span class="_ _0"></span><span class="ff11">)<span class="ff7">.<span class="_ _11"> </span>Information<span class="_ _11"> </span>ﬂows<span class="_ _16"> </span>in<span class="_ _11"> </span>and<span class="_ _11"> </span>out</span></span></div><div class="t m5 x1d h26 y287b ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _14"> </span>the<span class="_ _15"> </span>chip<span class="_ _15"> </span>via<span class="_ _15"> </span>external<span class="_ _15"> </span>connectors<span class="_ _15"> </span>called<span class="_ _14"> </span><span class="ffa">pins</span>.<span class="_ _15"> </span>Each<span class="_ _15"> </span>pin<span class="_ _15"> </span>carries<span class="_ _15"> </span>a<span class="_ _14"> </span>1-bit<span class="_ _15"> </span>signal.</div><div class="t m5 x1d h26 y287c ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_"> </span>6.3<span class="_"> </span>shows<span class="_"> </span>two<span class="_ _13"> </span>of<span class="_"> </span>these<span class="_"> </span>sets<span class="_"> </span>of<span class="_ _13"> </span>pins:<span class="_"> </span>eight<span class="_"> </span><span class="ffd">data<span class="_ _10"> </span></span>pins<span class="_ _13"> </span>that<span class="_"> </span>can<span class="_"> </span>transfer<span class="_"> </span>1<span class="_ _13"> </span>byte</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
