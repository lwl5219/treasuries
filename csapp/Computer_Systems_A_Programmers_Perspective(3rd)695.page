<div id="pf2b7" class="pf w2 h11" data-page-no="2b7"><div class="pc pc2b7 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2b7.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">694<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x124 h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">A.<span class="_ _1f"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>total<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>writes?</div><div class="t m5 x124 h26 y10aa ff7 fs19 fc2 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>total<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>writes<span class="_"> </span>that<span class="_"> </span>hit<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>cache?</div><div class="t m5 x124 h26 ybbf ff7 fs19 fc2 sc0 ls0 ws0">C.<span class="_ _25"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>hit<span class="_"> </span>rate?</div><div class="t m5 x1d h73 y284 ffe fs1e fc6 sc0 ls0 ws0">6.40<span class="_ _23"> </span><span class="ff10 fs19">◆</span></div><div class="t m5 x1d h26 y5c79 ff7 fs19 fc1 sc0 ls0 ws0">Given<span class="_"> </span>the<span class="_"> </span>assumptions<span class="_"> </span>in<span class="_"> </span>Problem<span class="_"> </span>6.38,<span class="_"> </span>determine<span class="_"> </span>the<span class="_"> </span>cache<span class="_"> </span>performance<span class="_"> </span>of<span class="_"> </span>the</div><div class="t m5 x1d h26 y5c7a ff7 fs19 fc1 sc0 ls0 ws0">following<span class="_"> </span>code:</div><div class="t m5 x1f h2d y1a10 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _20"> </span><span class="ffd fs1e fc2">for<span class="_ _e"> </span>(i<span class="_ _1f"> </span>=<span class="_ _1f"> </span>15;<span class="_ _e"> </span>i<span class="_ _1f"> </span>&gt;=<span class="_ _e"> </span>0;<span class="_ _1f"> </span>i--)<span class="_ _1f"> </span>{</span></div><div class="t m5 x1f h2d yed3 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _70"> </span><span class="ffd fs1e fc2">for<span class="_ _e"> </span>(j<span class="_ _1f"> </span>=<span class="_ _1f"> </span>15;<span class="_ _e"> </span>j<span class="_ _1f"> </span>&gt;=<span class="_ _e"> </span>0;<span class="_ _1f"> </span>j--)<span class="_ _1f"> </span>{</span></div><div class="t m5 x1f h2d yed4 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _d1"> </span><span class="ffd fs1e fc2">square[i][j].y<span class="_ _1f"> </span>=<span class="_ _e"> </span>1;</span></div><div class="t m5 x1f h2e y462 ff6 fs20 fc6 sc0 ls0 ws0">4</div><div class="t m5 xf7 h2d y1ab0 ffd fs1e fc2 sc0 ls0 ws0">}</div><div class="t m5 x1f h2d y26dd ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _20"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x1f h2d y2651 ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _20"> </span><span class="ffd fs1e fc2">for<span class="_ _e"> </span>(i<span class="_ _1f"> </span>=<span class="_ _1f"> </span>15;<span class="_ _e"> </span>i<span class="_ _1f"> </span>&gt;=<span class="_ _e"> </span>0;<span class="_ _1f"> </span>i--)<span class="_ _1f"> </span>{</span></div><div class="t m5 x1f h2d yeab ff6 fs20 fc6 sc0 ls0 ws0">7<span class="_ _70"> </span><span class="ffd fs1e fc2">for<span class="_ _e"> </span>(j<span class="_ _1f"> </span>=<span class="_ _1f"> </span>15;<span class="_ _e"> </span>j<span class="_ _1f"> </span>&gt;=<span class="_ _e"> </span>0;<span class="_ _1f"> </span>j--)<span class="_ _1f"> </span>{</span></div><div class="t m5 x1f h2d y19a5 ff6 fs20 fc6 sc0 ls0 ws0">8<span class="_ _d1"> </span><span class="ffd fs1e fc2">square[i][j].c<span class="_ _1f"> </span>=<span class="_ _e"> </span>0;</span></div><div class="t m5 x1f h2e y682 ff6 fs20 fc6 sc0 ls0 ws0">9</div><div class="t m5 xb2 h2d y4b5d ffd fs1e fc2 sc0 ls0 ws0">square[i][j].m<span class="_ _e"> </span>=<span class="_ _1f"> </span>0;</div><div class="t m5 x1b0 h2d y19a9 ff6 fs20 fc6 sc0 ls0 ws0">10<span class="_ _d1"> </span><span class="ffd fs1e fc2">square[i][j].k<span class="_ _1f"> </span>=<span class="_ _e"> </span>0;</span></div><div class="t m5 x1b0 h2d y418 ff6 fs20 fc6 sc0 ls0 ws0">11<span class="_ _70"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x1b0 h2d y5c7b ff6 fs20 fc6 sc0 ls0 ws0">12<span class="_ _20"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x124 h26 y3239 ff7 fs19 fc2 sc0 ls0 ws0">A.<span class="_ _1f"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>total<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>writes?</div><div class="t m5 x124 h26 y5c7c ff7 fs19 fc2 sc0 ls0 ws0">B<span class="_ _3"></span>.<span class="_ _1d"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>total<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>writes<span class="_"> </span>that<span class="_"> </span>hit<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>cache?</div><div class="t m5 x124 h26 y5c7d ff7 fs19 fc2 sc0 ls0 ws0">C.<span class="_ _25"> </span>What<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>hit<span class="_"> </span>rate?</div><div class="t m5 x1d h73 y5c7e ffe fs1e fc6 sc0 ls0 ws0">6.41<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x1d h26 y5c7f ff7 fs19 fc1 sc0 ls0 ws0">Y<span class="_ _3"></span>ou<span class="_ _13"> </span>are<span class="_ _6"> </span>writing<span class="_ _13"> </span>a<span class="_ _13"> </span>new<span class="_ _13"> </span>3D<span class="_ _6"> </span>game<span class="_ _13"> </span>that<span class="_ _13"> </span>you<span class="_ _13"> </span>hope<span class="_ _6"> </span>will<span class="_ _13"> </span>earn<span class="_ _13"> </span>you<span class="_ _6"> </span>fame<span class="_ _13"> </span>and<span class="_ _13"> </span>fortune<span class="_ _1"></span>.<span class="_ _13"> </span>Y<span class="_ _3"></span>ou</div><div class="t m5 x1d h26 y5c80 ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_ _13"> </span>currently<span class="_"> </span>working<span class="_ _13"> </span>on<span class="_ _13"> </span>a<span class="_"> </span>function<span class="_ _13"> </span>to<span class="_ _13"> </span>blank<span class="_ _13"> </span>the<span class="_"> </span>screen<span class="_ _13"> </span>buffer<span class="_ _13"> </span>before<span class="_"> </span>drawing<span class="_ _13"> </span>the</div><div class="t m5 x1d h46 y5c81 ff7 fs19 fc1 sc0 ls0 ws0">next<span class="_ _16"> </span>frame<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _1"></span>he<span class="_ _16"> </span>screen<span class="_ _16"> </span>you<span class="_ _16"> </span>are<span class="_ _11"> </span>working<span class="_ _16"> </span>with<span class="_ _16"> </span>is<span class="_ _16"> </span>a<span class="_ _11"> </span>640<span class="_"> </span><span class="ff12">×<span class="_ _10"> </span></span>480<span class="_ _11"> </span>array<span class="_ _16"> </span>of<span class="_ _16"> </span>pixels<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _1"></span>he</div><div class="t m5 x1d h26 y5c82 ff7 fs19 fc1 sc0 ls0 ws0">machine<span class="_"> </span>you<span class="_ _11"> </span>are<span class="_"> </span>working<span class="_ _11"> </span>on<span class="_"> </span>has<span class="_ _11"> </span>a<span class="_"> </span>32<span class="_ _11"> </span>KB<span class="_"> </span>direct-mapped<span class="_ _11"> </span>cache<span class="_"> </span>with<span class="_ _11"> </span>8-byte<span class="_"> </span>lines<span class="_ _0"></span>.</div><div class="t m5 x1d h26 y40fb ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>C<span class="_"> </span>structures<span class="_"> </span>you<span class="_"> </span>are<span class="_"> </span>using<span class="_"> </span>are<span class="_"> </span>as<span class="_"> </span>follows:</div><div class="t m5 x1f h2e y1ac0 ff6 fs20 fc6 sc0 ls0 ws0">1</div><div class="t m5 x4f h2d y3242 ffd fs1e fc2 sc0 ls0 ws0">struct<span class="_ _e"> </span>pixel<span class="_ _1f"> </span>{</div><div class="t m5 x1f h2d y1ac1 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _20"> </span><span class="ffd fs1e fc2">char<span class="_ _e"> </span>r;</span></div><div class="t m5 x1f h2d y1ac3 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _20"> </span><span class="ffd fs1e fc2">char<span class="_ _e"> </span>g;</span></div><div class="t m5 x1f h2d y93b ff6 fs20 fc6 sc0 ls0 ws0">4<span class="_ _20"> </span><span class="ffd fs1e fc2">char<span class="_ _e"> </span>b;</span></div><div class="t m5 x1f h2d y3244 ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _20"> </span><span class="ffd fs1e fc2">char<span class="_ _e"> </span>a;</span></div><div class="t m5 x1f h2d y1ac5 ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _1c"> </span><span class="ffd fs1e fc2">};</span></div><div class="t m5 x1f h2e y4b6d ff6 fs20 fc6 sc0 ls0 ws0">7</div><div class="t m5 x1f h2e y5c83 ff6 fs20 fc6 sc0 ls0 ws0">8</div><div class="t m5 x4f h2d y4b6f ffd fs1e fc2 sc0 ls0 ws0">struct<span class="_ _e"> </span>pixel<span class="_ _1f"> </span>buffer[480][640];</div><div class="t m5 x1f h2e y1aca ff6 fs20 fc6 sc0 ls0 ws0">9</div><div class="t m5 x4f h2d y4b70 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>i,<span class="_ _1f"> </span>j;</div><div class="t m5 x1b0 h2d y35a0 ff6 fs20 fc6 sc0 ls0 ws0">10<span class="_ _1c"> </span><span class="ffd fs1e fc2">char<span class="_ _1f"> </span>*cptr;</span></div><div class="t m5 x1b0 h2d y55d1 ff6 fs20 fc6 sc0 ls0 ws0">11<span class="_ _1c"> </span><span class="ffd fs1e fc2">int<span class="_ _1f"> </span>*iptr;</span></div><div class="t m5 x29 h26 y144c ff7 fs19 fc2 sc0 ls0 ws0">Assume<span class="_"> </span>the<span class="_"> </span>following:</div><div class="t m5 x75 h3d y5c84 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h46 y1db4 ffd fs19 fc1 sc0 ls0 ws0">sizeof<span class="_ _1"></span><span class="ff11">(<span class="ffd">char</span>)<span class="_ _13"> </span><span class="ff12">=<span class="_ _10"> </span><span class="ff7">1<span class="_ _13"> </span>and<span class="_"> </span><span class="ffd">sizeof<span class="_ _3"></span><span class="ff11">(<span class="ffd">int</span>)<span class="_ _13"> </span><span class="ff12">=<span class="_ _13"> </span><span class="ff7 lsb1">4.</span></span></span></span></span></span></span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
