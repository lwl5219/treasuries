<div id="pf18" class="pf w2 h11" data-page-no="18"><div class="pc pc18 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg18.png"/><div class="t m5 x2a h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Preface<span class="_ _1b"> </span><span class="ffe fs1e">23</span></div><div class="t m5 x34 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">What<span class="_ _11"> </span>is<span class="_ _11"> </span>an<span class="_ _11"> </span>aside?</span></div><div class="t m5 x34 h2b y2d0 ff7 fs1e fc2 sc0 ls0 ws0">Y<span class="_ _3"></span>ou<span class="_"> </span>will<span class="_"> </span>encounter<span class="_ _13"> </span>asides<span class="_"> </span>of<span class="_"> </span>this<span class="_ _13"> </span>form<span class="_"> </span>throughout<span class="_"> </span>the<span class="_ _13"> </span>text.<span class="_"> </span>Asides<span class="_"> </span>are<span class="_"> </span>parenthetical<span class="_ _13"> </span>remarks<span class="_"> </span>that<span class="_"> </span>give</div><div class="t m5 x34 h2b y2d1 ff7 fs1e fc2 sc0 ls0 ws0">you<span class="_"> </span>some<span class="_"> </span>additional<span class="_"> </span>insight<span class="_"> </span>into<span class="_"> </span>the<span class="_"> </span>current<span class="_"> </span>topic.<span class="_"> </span>Asides<span class="_"> </span>serve<span class="_"> </span>a<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>purposes<span class="_ _1"></span>.<span class="_"> </span>Some<span class="_"> </span>are<span class="_"> </span>little</div><div class="t m5 x34 h2b y2d2 ff7 fs1e fc2 sc0 ls0 ws0">history<span class="_ _13"> </span>lessons<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _3"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_"> </span>where<span class="_ _13"> </span>did<span class="_ _13"> </span>C,<span class="_ _13"> </span>Linux,<span class="_ _13"> </span>and<span class="_ _13"> </span>the<span class="_"> </span>Internet<span class="_ _13"> </span>come<span class="_ _13"> </span>from?<span class="_ _13"> </span>Other<span class="_ _13"> </span>asides<span class="_"> </span>are<span class="_ _13"> </span>meant</div><div class="t m5 x34 h2b y2d3 ff7 fs1e fc2 sc0 ls0 ws0">to<span class="_"> </span>clarify<span class="_ _13"> </span>ideas<span class="_"> </span>that<span class="_ _13"> </span>students<span class="_"> </span>often<span class="_"> </span>ﬁnd<span class="_ _13"> </span>confusing.<span class="_ _13"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_"> </span>what<span class="_"> </span>is<span class="_ _13"> </span>the<span class="_"> </span>difference<span class="_"> </span>between<span class="_ _13"> </span>a<span class="_"> </span>cache</div><div class="t m5 x34 h2b y2d4 ff7 fs1e fc2 sc0 ls0 ws0">line<span class="_ _1"></span>,<span class="_"> </span>set,<span class="_"> </span>and<span class="_"> </span>block?<span class="_"> </span>Other<span class="_"> </span>asides<span class="_"> </span>give<span class="_ _13"> </span>real-world<span class="_"> </span>examples<span class="_ _1"></span>,<span class="_"> </span>such<span class="_"> </span>as<span class="_"> </span>how<span class="_ _13"> </span>a<span class="_"> </span>ﬂoating-point<span class="_"> </span>error<span class="_"> </span>crashed</div><div class="t m5 x34 h2b y2d5 ff7 fs1e fc2 sc0 ls0 ws0">a<span class="_ _13"> </span>F<span class="_ _0"></span>rench<span class="_ _13"> </span>rocket<span class="_ _13"> </span>or<span class="_"> </span>the<span class="_ _13"> </span>geometric<span class="_ _13"> </span>and<span class="_ _13"> </span>operational<span class="_ _13"> </span>parameters<span class="_ _13"> </span>of<span class="_"> </span>a<span class="_ _13"> </span>commercial<span class="_ _13"> </span>disk<span class="_ _13"> </span>drive<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>inally<span class="_ _3"></span>,<span class="_"> </span>some</div><div class="t m5 x34 h2b y2d6 ff7 fs1e fc2 sc0 ls0 ws0">asides<span class="_"> </span>are<span class="_"> </span>just<span class="_"> </span>fun<span class="_"> </span>stuff<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example,<span class="_"> </span>what<span class="_"> </span>is<span class="_"> </span>a<span class="_"> </span>“hoinky”?</div><div class="t m5 x35 h26 y2d7 ff7 fs19 fc2 sc0 ls0 ws0">grammer,<span class="_"> </span>the<span class="_"> </span>compiler,<span class="_ _11"> </span>and<span class="_"> </span>the<span class="_ _11"> </span>operating<span class="_ _11"> </span>system<span class="_"> </span>can<span class="_ _11"> </span>take<span class="_ _11"> </span>to<span class="_"> </span>reduce<span class="_ _11"> </span>these</div><div class="t m5 x35 h26 y2d8 ff7 fs19 fc2 sc0 ls0 ws0">threats<span class="_ _1"></span>.<span class="_ _14"> </span>Learning<span class="_ _14"> </span>the<span class="_ _14"> </span>concepts<span class="_ _14"> </span>in<span class="_ _14"> </span>this<span class="_ _14"> </span>chapter<span class="_ _14"> </span>helps<span class="_ _15"> </span>you<span class="_ _14"> </span>become<span class="_ _14"> </span>a<span class="_ _14"> </span>better</div><div class="t m5 x35 h26 y2d9 ff7 fs19 fc2 sc0 ls0 ws0">programmer,<span class="_ _16"> </span>because<span class="_ _16"> </span>you<span class="_ _16"> </span>will<span class="_ _16"> </span>understand<span class="_ _11"> </span>how<span class="_ _16"> </span>programs<span class="_ _16"> </span>are<span class="_ _16"> </span>represented</div><div class="t m5 x35 h26 y2da ff7 fs19 fc2 sc0 ls0 ws0">on<span class="_ _11"> </span>a<span class="_ _11"> </span>machine.<span class="_"> </span>One<span class="_ _11"> </span>certain<span class="_ _16"> </span>beneﬁt<span class="_ _11"> </span>is<span class="_ _11"> </span>that<span class="_ _11"> </span>you<span class="_ _16"> </span>will<span class="_"> </span>develop<span class="_ _16"> </span>a<span class="_ _11"> </span>thorough<span class="_ _11"> </span>and</div><div class="t m5 x35 h26 y2db ff7 fs19 fc2 sc0 ls0 ws0">concrete<span class="_"> </span>understanding<span class="_"> </span>of<span class="_"> </span>pointers<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y2dc ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _16"> </span>4:<span class="_ _16"> </span>Processor<span class="_ _16"> </span>Architecture.<span class="_ _15"> </span><span class="ff7">This<span class="_ _11"> </span>chapter<span class="_ _14"> </span>covers<span class="_ _16"> </span>basic<span class="_ _16"> </span>combinational<span class="_ _16"> </span>and</span></div><div class="t m5 x35 h26 y2dd ff7 fs19 fc2 sc0 ls0 ws0">sequential<span class="_"> </span>logic<span class="_"> </span>elements<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>then<span class="_"> </span>shows<span class="_"> </span>how<span class="_"> </span>these<span class="_"> </span>elements<span class="_"> </span>can<span class="_ _13"> </span>be<span class="_"> </span>com-</div><div class="t m5 x35 h26 y2de ff7 fs19 fc2 sc0 ls0 ws0">bined<span class="_ _6"> </span>in<span class="_ _6"> </span>a<span class="_ _13"> </span>datapath<span class="_ _a"> </span>that<span class="_ _6"> </span>executes<span class="_ _13"> </span>a<span class="_ _a"> </span>simpliﬁed<span class="_ _13"> </span>subset<span class="_ _a"> </span>of<span class="_ _13"> </span>the<span class="_ _a"> </span>x86-64<span class="_ _6"> </span>instruction</div><div class="t m5 x35 h26 y2df ff7 fs19 fc2 sc0 ls0 ws0">set<span class="_ _14"> </span>called<span class="_ _14"> </span>“Y86-64.<span class="_ _1"></span>”<span class="_ _14"> </span>W<span class="_ _3"></span>e<span class="_ _14"> </span>begin<span class="_ _14"> </span>with<span class="_ _14"> </span>the<span class="_ _14"> </span>design<span class="_ _14"> </span>of<span class="_ _14"> </span>a<span class="_ _14"> </span>single-cycle<span class="_ _16"> </span>datapath.</div><div class="t m5 x35 h26 y2e0 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _16"> </span>design<span class="_ _16"> </span>is<span class="_ _16"> </span>conceptually<span class="_ _16"> </span>very<span class="_ _16"> </span>simple,<span class="_ _16"> </span>but<span class="_ _16"> </span>it<span class="_ _16"> </span>would<span class="_ _16"> </span>not<span class="_ _16"> </span>be<span class="_ _16"> </span>very<span class="_ _16"> </span>fast.<span class="_ _16"> </span>W<span class="_ _3"></span>e</div><div class="t m5 x35 h26 y2e1 ff7 fs19 fc2 sc0 ls0 ws0">then<span class="_"> </span>introduce<span class="_ _11"> </span><span class="ffa">pipelining<span class="_ _2"></span></span>,<span class="_"> </span>where<span class="_"> </span>the<span class="_ _11"> </span>different<span class="_"> </span>steps<span class="_ _11"> </span>required<span class="_"> </span>to<span class="_ _11"> </span>process<span class="_"> </span>an</div><div class="t m5 x35 h26 y2e2 ff7 fs19 fc2 sc0 ls0 ws0">instruction<span class="_ _15"> </span>are<span class="_ _15"> </span>implemented<span class="_ _15"> </span>as<span class="_ _f"> </span>separate<span class="_ _14"> </span>stages<span class="_ _1"></span>.<span class="_ _15"> </span>At<span class="_ _f"> </span>any<span class="_ _14"> </span>given<span class="_ _15"> </span>time,<span class="_ _15"> </span>each</div><div class="t m5 x35 h26 y2e3 ff7 fs19 fc2 sc0 ls0 ws0">stage<span class="_ _6"> </span>can<span class="_ _6"> </span>work<span class="_ _6"> </span>on<span class="_ _6"> </span>a<span class="_ _13"> </span>different<span class="_ _a"> </span>instruction.<span class="_ _6"> </span>Our<span class="_ _6"> </span>ﬁve-stage<span class="_ _13"> </span>processor<span class="_ _a"> </span>pipeline<span class="_ _6"> </span>is</div><div class="t m5 x35 h26 y2e4 ff7 fs19 fc2 sc0 ls0 ws0">much<span class="_ _13"> </span>more<span class="_ _13"> </span>realistic.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>control<span class="_ _13"> </span>logic<span class="_ _13"> </span>for<span class="_ _13"> </span>the<span class="_ _13"> </span>processor<span class="_ _13"> </span>designs<span class="_ _13"> </span>is<span class="_ _13"> </span>described</div><div class="t m5 x35 h26 y2e5 ff7 fs19 fc2 sc0 ls0 ws0">using<span class="_ _16"> </span>a<span class="_ _16"> </span>simple<span class="_ _14"> </span>hardware<span class="_ _16"> </span>description<span class="_ _14"> </span>language<span class="_ _16"> </span>called<span class="_ _16"> </span>HCL.<span class="_ _14"> </span>Hardware<span class="_ _16"> </span>de-</div><div class="t m5 x35 h26 y2e6 ff7 fs19 fc2 sc0 ls0 ws0">signs<span class="_"> </span>written<span class="_ _11"> </span>in<span class="_"> </span>HCL<span class="_ _11"> </span>can<span class="_"> </span>be<span class="_ _11"> </span>compiled<span class="_ _11"> </span>and<span class="_"> </span>linked<span class="_ _11"> </span>into<span class="_"> </span>simulators<span class="_ _11"> </span>provided</div><div class="t m5 x35 h26 y2e7 ff7 fs19 fc2 sc0 ls0 ws0">with<span class="_ _16"> </span>the<span class="_ _14"> </span>textbook,<span class="_ _14"> </span>and<span class="_ _16"> </span>they<span class="_ _14"> </span>can<span class="_ _16"> </span>be<span class="_ _14"> </span>used<span class="_ _16"> </span>to<span class="_ _14"> </span>generate<span class="_ _16"> </span>V<span class="_ _3"></span>erilog<span class="_ _16"> </span>descriptions</div><div class="t m5 x35 h26 y2e8 ff7 fs19 fc2 sc0 ls0 ws0">suitable<span class="_"> </span>for<span class="_"> </span>synthesis<span class="_"> </span>into<span class="_"> </span>working<span class="_"> </span>hardware<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y2e9 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_"> </span>5:<span class="_ _11"> </span>Optimizing<span class="_ _11"> </span>Program<span class="_ _11"> </span>P<span class="_ _1"></span>erformance.<span class="_ _15"> </span><span class="ff7">This<span class="_"> </span>chapter<span class="_"> </span>introduces<span class="_ _11"> </span>a<span class="_ _11"> </span>number</span></div><div class="t m5 x35 h26 y2ea ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _13"> </span>techniques<span class="_ _6"> </span>for<span class="_ _13"> </span>improving<span class="_ _13"> </span>code<span class="_ _6"> </span>performance,<span class="_ _13"> </span>with<span class="_ _6"> </span>the<span class="_ _13"> </span>idea<span class="_ _13"> </span>being<span class="_ _6"> </span>that<span class="_ _13"> </span>pro-</div><div class="t m5 x35 h26 y2eb ff7 fs19 fc2 sc0 ls0 ws0">grammers<span class="_ _13"> </span>learn<span class="_"> </span>to<span class="_ _13"> </span>write<span class="_ _13"> </span>their<span class="_ _13"> </span>C<span class="_"> </span>code<span class="_ _13"> </span>in<span class="_ _13"> </span>such<span class="_ _13"> </span>a<span class="_"> </span>way<span class="_ _13"> </span>that<span class="_ _13"> </span>a<span class="_ _13"> </span>compiler<span class="_"> </span>can<span class="_ _13"> </span>then</div><div class="t m5 x35 h26 y2ec ff7 fs19 fc2 sc0 ls0 ws0">generate<span class="_"> </span>efﬁcient<span class="_"> </span>machine<span class="_ _13"> </span>code.<span class="_"> </span>W<span class="_ _7"></span>e<span class="_"> </span>start<span class="_"> </span>with<span class="_"> </span>transformations<span class="_"> </span>that<span class="_"> </span>reduce</div><div class="t m5 x35 h26 y2ed ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _11"> </span>work<span class="_ _16"> </span>to<span class="_ _11"> </span>be<span class="_ _16"> </span>done<span class="_ _16"> </span>by<span class="_ _11"> </span>a<span class="_ _16"> </span>program<span class="_ _11"> </span>and<span class="_ _16"> </span>hence<span class="_ _11"> </span>should<span class="_ _16"> </span>be<span class="_ _11"> </span>standard<span class="_ _16"> </span>practice</div><div class="t m5 x35 h26 y2ee ff7 fs19 fc2 sc0 ls0 ws0">when<span class="_ _15"> </span>writing<span class="_ _f"> </span>any<span class="_ _15"> </span>program<span class="_ _f"> </span>for<span class="_ _15"> </span>any<span class="_ _f"> </span>machine<span class="_ _1"></span>.<span class="_ _f"> </span>W<span class="_ _3"></span>e<span class="_ _f"> </span>then<span class="_ _15"> </span>progress<span class="_ _f"> </span>to<span class="_ _15"> </span>trans-</div><div class="t m5 x35 h26 y2ef ff7 fs19 fc2 sc0 ls0 ws0">formations<span class="_ _16"> </span>that<span class="_ _16"> </span>enhance<span class="_ _16"> </span>the<span class="_ _16"> </span>degree<span class="_ _16"> </span>of<span class="_ _16"> </span>instruction-level<span class="_ _16"> </span>parallelism<span class="_ _16"> </span>in<span class="_ _14"> </span>the</div><div class="t m5 x35 h26 y2f0 ff7 fs19 fc2 sc0 ls0 ws0">generated<span class="_"> </span>machine<span class="_"> </span>code<span class="_ _0"></span>,<span class="_"> </span>thereby<span class="_"> </span>improving<span class="_"> </span>their<span class="_"> </span>performance<span class="_"> </span>on<span class="_"> </span>modern</div><div class="t m5 x35 h26 y2f1 ff7 fs19 fc2 sc0 ls0 ws0">“superscalar”<span class="_"> </span>processors<span class="_ _1"></span>.<span class="_ _11"> </span>T<span class="_ _3"></span>o<span class="_"> </span>motivate<span class="_"> </span>these<span class="_ _11"> </span>transformations<span class="_ _1"></span>,<span class="_ _11"> </span>we<span class="_"> </span>introduce</div><div class="t m5 x35 h26 y2f2 ff7 fs19 fc2 sc0 ls0 ws0">a<span class="_ _11"> </span>simple<span class="_ _16"> </span>operational<span class="_ _11"> </span>model<span class="_ _11"> </span>of<span class="_ _16"> </span>how<span class="_ _11"> </span>modern<span class="_ _11"> </span>out-of-order<span class="_ _16"> </span>processors<span class="_ _11"> </span>work,</div><div class="t m5 x35 h26 y2f3 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_"> </span>show<span class="_ _13"> </span>how<span class="_"> </span>to<span class="_ _13"> </span>measure<span class="_"> </span>the<span class="_ _13"> </span>potential<span class="_"> </span>performance<span class="_"> </span>of<span class="_ _13"> </span>a<span class="_"> </span>program<span class="_ _13"> </span>in<span class="_"> </span>terms</div><div class="t m5 x35 h26 y2f4 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _11"> </span>the<span class="_ _16"> </span>critical<span class="_ _11"> </span>paths<span class="_ _11"> </span>through<span class="_ _16"> </span>a<span class="_ _11"> </span>graphical<span class="_ _16"> </span>representation<span class="_ _11"> </span>of<span class="_ _11"> </span>a<span class="_ _16"> </span>program.<span class="_ _11"> </span>Y<span class="_ _3"></span>ou</div><div class="t m5 x35 h26 y2f5 ff7 fs19 fc2 sc0 ls0 ws0">will<span class="_ _13"> </span>be<span class="_"> </span>surprised<span class="_ _13"> </span>how<span class="_ _13"> </span>much<span class="_"> </span>you<span class="_ _13"> </span>can<span class="_ _13"> </span>speed<span class="_ _13"> </span>up<span class="_"> </span>a<span class="_ _13"> </span>program<span class="_ _13"> </span>by<span class="_"> </span>simple<span class="_ _13"> </span>transfor<span class="_ _1"></span>-</div><div class="t m5 x35 h26 y2f6 ff7 fs19 fc2 sc0 ls0 ws0">mations<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>C<span class="_"> </span>code<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
