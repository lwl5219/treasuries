<div id="pfbe" class="pf w2 h11" data-page-no="be"><div class="pc pcbe w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bgbe.png"/><div class="t m5 x107 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Solutions<span class="_ _10"> </span>to<span class="_ _10"> </span>Practice<span class="_ _10"> </span>Problems<span class="_ _1b"> </span><span class="ffe fs1e">189</span></div><div class="t m5 x17 h28 y140c ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>2.30</div><div class="t m5 x112 h2f y9c ffe fs16 fc6 sc0 ls0 ws0">(page<span class="_"> </span>130)</div><div class="t m5 x17 h26 y1d16 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _11"> </span>function<span class="_"> </span>is<span class="_ _11"> </span>a<span class="_"> </span>direct<span class="_ _11"> </span>implementation<span class="_"> </span>of<span class="_ _11"> </span>the<span class="_"> </span>rules<span class="_ _11"> </span>given<span class="_ _11"> </span>to<span class="_"> </span>determine<span class="_ _11"> </span>whether</div><div class="t m5 x17 h26 y1d17 ff7 fs19 fc1 sc0 ls0 ws0">or<span class="_"> </span>not<span class="_"> </span>a<span class="_"> </span>two’s-complement<span class="_"> </span>addition<span class="_"> </span>overﬂows<span class="_ _3"></span>.</div><div class="t m5 x17 h2d y1e2b ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Determine<span class="_ _1f"> </span>whether<span class="_ _1f"> </span>arguments<span class="_ _e"> </span>can<span class="_ _1f"> </span>be<span class="_ _e"> </span>added<span class="_ _1f"> </span>without<span class="_ _1f"> </span>overflow<span class="_ _e"> </span>*/</div><div class="t m5 x17 h2d y1e2c ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>tadd_ok(int<span class="_ _1f"> </span>x,<span class="_ _1f"> </span>int<span class="_ _e"> </span>y)<span class="_ _1f"> </span>{</div><div class="t m5 x1b6 h2d y1e2d ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>sum<span class="_ _1f"> </span>=<span class="_ _1f"> </span>x+y;</div><div class="t m5 x1b6 h2d y1e2e ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>neg_ove<span class="ls33">r=x&lt;<span class="_"> </span>0&amp;<span class="_ _41"></span>&amp;y&lt;<span class="_"> </span>0&amp;<span class="_ _41"></span>&amp;s<span class="_ _41"></span>u<span class="_ _41"></span>m&gt;<span class="_ _41"></span>=0<span class="_ _41"></span>;</span></div><div class="t m5 x1b6 h2d y1e2f ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>pos_ove<span class="ls33">r=x&gt;<span class="_ _41"></span>=0&amp;<span class="_ _41"></span>&amp;y&gt;<span class="_ _41"></span>=0&amp;<span class="_ _41"></span>&amp;s<span class="_ _41"></span>u<span class="_ _41"></span>m&lt;<span class="_"> </span>0<span class="_ _41"></span>;</span></div><div class="t m5 x1b6 h2d y1e30 ffd fs1e fc2 sc0 ls0 ws0">return<span class="_ _e"> </span>!neg_over<span class="_ _1f"> </span>&amp;&amp;<span class="_ _1f"> </span>!pos_over;</div><div class="t m5 x17 h2d y1e31 ffd fs1e fc2 sc0 ls0 ws0">}</div><div class="t m5 x17 h28 y1e32 ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>2.31</div><div class="t m5 x112 h2f y1e33 ffe fs16 fc6 sc0 ls0 ws0">(page<span class="_"> </span>130)</div><div class="t m5 x17 h26 y1e34 ff7 fs19 fc1 sc0 ls0 ws0">Y<span class="_ _3"></span>our<span class="_ _23"> </span>coworker<span class="_ _22"> </span>could<span class="_ _23"> </span>have<span class="_ _23"> </span>learned,<span class="_ _24"> </span>by<span class="_ _23"> </span>studying<span class="_ _23"> </span>Section<span class="_ _23"> </span>2.3.2,<span class="_ _24"> </span>that<span class="_ _23"> </span>two’s-</div><div class="t m5 x17 h26 y1e35 ff7 fs19 fc1 sc0 ls0 ws0">complement<span class="_ _21"> </span>addition<span class="_ _21"> </span>forms<span class="_ _21"> </span>an<span class="_ _21"> </span>abelian<span class="_ _21"> </span>group,<span class="_ _21"> </span>and<span class="_ _21"> </span>so<span class="_ _21"> </span>the<span class="_ _f"> </span>expression<span class="_ _21"> </span><span class="ffd">(x+y)-x</span></div><div class="t m5 x17 h26 y1e36 ff7 fs19 fc1 sc0 ls0 ws0">will<span class="_ _16"> </span>evaluate<span class="_ _16"> </span>to<span class="_ _14"> </span><span class="ffd">y<span class="_ _16"> </span></span>regardless<span class="_ _16"> </span>of<span class="_ _14"> </span>whether<span class="_ _16"> </span>or<span class="_ _16"> </span>not<span class="_ _14"> </span>the<span class="_ _16"> </span>addition<span class="_ _16"> </span>overﬂows<span class="_ _1"></span>,<span class="_ _14"> </span>and<span class="_ _14"> </span>that</div><div class="t m5 x17 h26 y1e37 ffd fs19 fc1 sc0 ls0 ws0">(x+y)-y<span class="_ _10"> </span><span class="ff7">will<span class="_"> </span>always<span class="_"> </span>evaluate<span class="_"> </span>to<span class="_"> </span></span>x<span class="ff7">.</span></div><div class="t m5 x17 h28 y1e38 ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>2.32<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>130)</span></div><div class="t m5 x17 h26 y1e39 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _15"> </span>function<span class="_ _15"> </span>will<span class="_ _15"> </span>give<span class="_ _14"> </span>correct<span class="_ _15"> </span>values<span class="_ _1"></span>,<span class="_ _21"> </span>except<span class="_ _15"> </span>when<span class="_ _15"> </span><span class="ffd">y<span class="_ _15"> </span></span>is<span class="_ _15"> </span><span class="ffa">TMin</span>.<span class="_ _14"> </span>In<span class="_ _15"> </span>this<span class="_ _15"> </span>case<span class="_ _1"></span>,<span class="_ _21"> </span>we</div><div class="t m5 x17 h26 y1e3a ff7 fs19 fc1 sc0 ls0 ws0">will<span class="_"> </span>have<span class="_"> </span><span class="ffd">-y<span class="_ _10"> </span></span>also<span class="_"> </span>equal<span class="_ _11"> </span>to<span class="_"> </span><span class="ffa">TMin</span>,<span class="_"> </span>and<span class="_"> </span>so<span class="_"> </span>the<span class="_"> </span>call<span class="_"> </span>to<span class="_ _11"> </span>function<span class="_"> </span><span class="ffd">tadd_ok<span class="_ _10"> </span></span>will<span class="_"> </span>indicate</div><div class="t m5 x17 h26 y1e3b ff7 fs19 fc1 sc0 ls0 ws0">overﬂow<span class="_ _11"> </span>when<span class="_ _16"> </span><span class="ffd">x<span class="_ _11"> </span></span>is<span class="_ _11"> </span>negative<span class="_ _11"> </span>and<span class="_ _16"> </span>no<span class="_ _11"> </span>overﬂow<span class="_ _11"> </span>when<span class="_ _16"> </span><span class="ffd">x<span class="_ _11"> </span></span>is<span class="_ _11"> </span>nonnegative.<span class="_ _11"> </span>In<span class="_ _11"> </span>fact,<span class="_ _16"> </span>the</div><div class="t m5 x17 h26 y1e3c ff7 fs19 fc1 sc0 ls0 ws0">opposite<span class="_ _13"> </span>is<span class="_ _13"> </span>true:<span class="_"> </span><span class="ffd">tsub_ok(x,<span class="_ _11"> </span><span class="ffa">TMin</span>)<span class="_ _13"> </span></span>should<span class="_ _13"> </span>yield<span class="_ _13"> </span>0<span class="_"> </span>when<span class="_ _13"> </span><span class="ffd">x<span class="_ _13"> </span></span>is<span class="_ _13"> </span>negative<span class="_ _13"> </span>and<span class="_"> </span>1<span class="_ _13"> </span>when</div><div class="t m5 x17 h26 y1e3d ff7 fs19 fc1 sc0 ls0 ws0">it<span class="_"> </span>is<span class="_"> </span>nonnegative<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y1e3e ff7 fs19 fc1 sc0 ls0 ws0">One<span class="_"> </span>lesson<span class="_ _11"> </span>to<span class="_ _11"> </span>be<span class="_ _11"> </span>learned<span class="_ _11"> </span>from<span class="_ _11"> </span>this<span class="_ _11"> </span>exercise<span class="_ _11"> </span>is<span class="_ _11"> </span>that<span class="_"> </span><span class="ffa">TMin<span class="_ _11"> </span></span>should<span class="_ _11"> </span>be<span class="_ _11"> </span>included</div><div class="t m5 x17 h26 y1e3f ff7 fs19 fc1 sc0 ls0 ws0">as<span class="_"> </span>one<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>cases<span class="_"> </span>in<span class="_"> </span>any<span class="_"> </span>test<span class="_"> </span>procedure<span class="_"> </span>for<span class="_"> </span>a<span class="_"> </span>function.</div><div class="t m5 x17 h28 y1e40 ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>2.33<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>131)</span></div><div class="t m5 x17 h26 y1e41 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _13"> </span>problem<span class="_ _13"> </span>helps<span class="_ _6"> </span>you<span class="_ _13"> </span>understand<span class="_ _6"> </span>two’s-complement<span class="_ _6"> </span>negation<span class="_ _13"> </span>using<span class="_ _13"> </span>a<span class="_ _6"> </span>very<span class="_ _13"> </span>small</div><div class="t m5 x17 h26 y1e42 ff7 fs19 fc1 sc0 ls0 ws0">word<span class="_"> </span>size<span class="_ _1"></span>.</div><div class="t m5 x26 h46 y1e43 ff7 fs19 fc1 sc0 ls73 ws0">Fo<span class="_ _2"></span>r<span class="_ _10"> </span><span class="ff11 ls0">w<span class="_ _10"> </span><span class="ff12">=<span class="_ _13"> </span></span></span><span class="lsaa">4,<span class="_"> </span>we<span class="_ _6"> </span>have<span class="_ _13"> </span><span class="ffa ls0">TMin</span></span></div><div class="t m5 x1a5 h3c y1e44 ff7 fs25 fc1 sc0 ls0 ws0">4</div><div class="t m5 xb3 h46 y1e45 ff12 fs19 fc1 sc0 ls139 ws0">=−<span class="_ _80"></span><span class="ff7 ls10f">8.<span class="_ _13"> </span>So<span class="_ _13"> </span><span class="ff12 ls0">−<span class="ff7">8<span class="_ _13"> </span>is<span class="_ _13"> </span>its<span class="_ _13"> </span>own<span class="_ _13"> </span>additive<span class="_ _13"> </span>inverse<span class="_ _1"></span>,<span class="_ _13"> </span>while<span class="_ _13"> </span>other</span></span></span></div><div class="t m5 x17 h26 y1e46 ff7 fs19 fc1 sc0 ls0 ws0">values<span class="_"> </span>are<span class="_"> </span>negated<span class="_"> </span>by<span class="_"> </span>integer<span class="_"> </span>negation.</div><div class="t m5 x77 h55 y1e47 ff11 fs21 fc2 sc0 ls0 ws0">x</div><div class="t m5 xb3 h2d y1e48 ffd fs1e fc2 sc0 ls0 ws0">-</div><div class="t m5 xf0 h57 y1e49 ff7 fs31 fc2 sc0 ls0 ws0">t</div><div class="t m5 xf0 h33 y1e4a ff7 fs20 fc2 sc0 ls0 ws0">4</div><div class="t m5 x48 h55 y1e48 ff11 fs21 fc2 sc0 ls0 ws0">x</div><div class="t m5 x17 h31 y1e4b ff7 fs21 fc2 sc0 ls0 ws0">Hex<span class="_ _26"> </span>Decimal<span class="_ _20"> </span>Decimal<span class="_ _26"> </span>Hex</div><div class="t m5 x1cd h32 y1e4c ffd fs1e fc2 sc0 ls0 ws0">2<span class="_ _53"> </span><span class="ff7 fs21">2<span class="_ _126"> </span><span class="ff12">−</span>2<span class="_ _118"> </span></span>E</div><div class="t m5 x1cd h2d y1e4d ffd fs1e fc2 sc0 ls0 ws0">3</div><div class="t m5 x1b9 h32 y1e4e ff7 fs21 fc2 sc0 ls0 ws0">3<span class="_ _126"> </span><span class="ff12">−</span>3<span class="_ _118"> </span><span class="ffd fs1e">D</span></div><div class="t m5 x1cd h2d y1e4f ffd fs1e fc2 sc0 ls0 ws0">9</div><div class="t m5 x1d3 h32 y1e50 ff12 fs21 fc2 sc0 ls0 ws0">−<span class="ff7">9<span class="_ _126"> </span></span>−<span class="ff7">9<span class="_ _118"> </span><span class="ffd fs1e">7</span></span></div><div class="t m5 x1cd h2d y1e51 ffd fs1e fc2 sc0 ls0 ws0">B</div><div class="t m5 x1d3 h32 y1e52 ff12 fs21 fc2 sc0 ls0 ws0">−<span class="ff7 ls135">55<span class="_ _e1"></span><span class="ffd fs1e ls0">5</span></span></div><div class="t m5 x1cd h2d y1e53 ffd fs1e fc2 sc0 ls0 ws0">C</div><div class="t m5 x1d3 h32 y1e54 ff12 fs21 fc2 sc0 ls0 ws0">−<span class="ff7 ls135">44<span class="_ _e1"></span><span class="ffd fs1e ls0">4</span></span></div><div class="t m5 x26 h26 y1e55 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>bit<span class="_"> </span>patterns<span class="_"> </span>are<span class="_"> </span>the<span class="_"> </span>same<span class="_"> </span>as<span class="_"> </span>for<span class="_"> </span>unsigned<span class="_"> </span>negation.</div><div class="t m5 x17 h28 y1e56 ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>2.34<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>134)</span></div><div class="t m5 x17 h26 yeef ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _e"> </span>problem<span class="_ _f"> </span>is<span class="_ _e"> </span>an<span class="_ _f"> </span>exercise<span class="_ _f"> </span>to<span class="_ _e"> </span>make<span class="_ _f"> </span>sure<span class="_ _e"> </span>you<span class="_ _f"> </span>understand<span class="_ _e"> </span>two’<span class="_ _1"></span>s-complement</div><div class="t m5 x17 h26 yf74 ff7 fs19 fc1 sc0 ls0 ws0">multiplication.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
