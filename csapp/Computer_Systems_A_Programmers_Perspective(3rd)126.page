<div id="pf7e" class="pf w2 h11" data-page-no="7e"><div class="pc pc7e w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg7e.png"/><div class="t m5 xa9 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>2.3<span class="_ _60"> </span>Integer<span class="_ _10"> </span>Arithmetic<span class="_ _3e"> </span><span class="ffe fs1e">125</span></div><div class="t m5 x17 h5b y9c ff1b fs14 fc6 sc0 ls0 ws0">derivation:<span class="_ _e"> </span><span class="ff7 fs19 fc1">Detecting<span class="_"> </span>overﬂow<span class="_"> </span>of<span class="_"> </span>unsigned<span class="_"> </span>addition</span></div><div class="t m5 x17 h46 y12a4 ff7 fs19 fc1 sc0 ls0 ws0">Observe<span class="_"> </span>that<span class="_ _13"> </span><span class="ff11">x<span class="_ _11"> </span><span class="ff12">+<span class="_ _13"> </span></span>y<span class="_ _11"> </span><span class="ff12">≥<span class="_ _10"> </span></span>x<span class="_ _2"></span></span>,<span class="_"> </span>and<span class="_ _13"> </span>hence<span class="_"> </span>if<span class="_"> </span><span class="ff11">s<span class="_ _10"> </span></span>did<span class="_"> </span>not<span class="_ _13"> </span>overﬂow<span class="_ _3"></span>,<span class="_"> </span>we<span class="_"> </span>will<span class="_ _13"> </span>surely<span class="_"> </span>have<span class="_ _13"> </span><span class="ff11">s<span class="_ _11"> </span><span class="ff12">≥<span class="_ _10"> </span></span>x<span class="_ _2"></span></span>.</div><div class="t m5 x17 h46 y12a5 ff7 fs19 fc1 sc0 ls0 ws0">On<span class="_"> </span>the<span class="_ _11"> </span>other<span class="_"> </span>hand,<span class="_ _11"> </span>if<span class="_ _11"> </span><span class="ff11">s<span class="_"> </span></span>did<span class="_"> </span>overﬂow<span class="_ _3"></span>,<span class="_ _11"> </span>we<span class="_"> </span>have<span class="_ _11"> </span><span class="ff11">s<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span>x<span class="_ _11"> </span><span class="ff12">+<span class="_ _13"> </span></span>y<span class="_"> </span><span class="ff12">−<span class="_ _13"></span></span></span>2</div><div class="t m5 x1fb h50 y12a6 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xb0 h26 y281 ff7 fs19 fc1 sc0 ls0 ws0">.<span class="_"> </span>Given<span class="_ _11"> </span>that<span class="_"> </span><span class="ff11 ls9f">y&lt;<span class="_ _1"></span><span class="ff7 ls0">2</span></span></div><div class="t m5 x1cf h50 y12a6 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x173 h26 y281 ff7 fs19 fc1 sc0 ls0 ws0">,</div><div class="t m5 x17 h46 y12a7 ff7 fs19 fc1 sc0 ls0 ws0">we<span class="_"> </span>have<span class="_"> </span><span class="ff11">y<span class="_ _11"> </span><span class="ff12">−<span class="_ _10"> </span></span></span>2</div><div class="t m5 x5a h50 y12a8 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1d5 h46 yad2 ff11 fs19 fc1 sc0 ls0 ws0">&lt;<span class="_ _13"> </span><span class="ff7 lsa0">0,<span class="_"> </span>and<span class="_"> </span>hence<span class="_"> </span></span>s<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span>x<span class="_ _11"> </span><span class="ff12">+<span class="_ _13"> </span></span>(y<span class="_ _16"> </span><span class="ff12">−<span class="_ _13"></span><span class="ff7">2</span></span></div><div class="t m5 x113 h50 y12a8 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x119 h26 yad2 ff11 fs19 fc1 sc0 ls42 ws0">)&lt;x<span class="_ _8"></span><span class="ff7 ls0">.</span></div><div class="t m5 x17 h47 y12a9 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>2.27<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>188)</span></div><div class="t m5 x17 h26 y12aa ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_"> </span>a<span class="_"> </span>function<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>prototype:</div><div class="t m5 x17 h2d y12ab ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Determine<span class="_ _1f"> </span>whether<span class="_ _1f"> </span>arguments<span class="_ _e"> </span>can<span class="_ _1f"> </span>be<span class="_ _e"> </span>added<span class="_ _1f"> </span>without<span class="_ _1f"> </span>overflow<span class="_ _e"> </span>*/</div><div class="t m5 x17 h2d y12ac ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>uadd_ok(unsigned<span class="_ _1f"> </span>x,<span class="_ _1f"> </span>unsigned<span class="_ _e"> </span>y);</div><div class="t m5 x26 h26 y12ad ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _21"> </span>function<span class="_ _15"> </span>should<span class="_ _21"> </span>return<span class="_ _15"> </span>1<span class="_ _21"> </span>if<span class="_ _15"> </span>arguments<span class="_ _21"> </span><span class="ffd">x<span class="_ _15"> </span></span>and<span class="_ _21"> </span><span class="ffd">y<span class="_ _15"> </span></span>can<span class="_ _21"> </span>be<span class="_ _15"> </span>added<span class="_ _21"> </span>without</div><div class="t m5 x17 h26 y12ae ff7 fs19 fc2 sc0 ls0 ws0">causing<span class="_"> </span>overﬂow<span class="_ _3"></span>.</div><div class="t m5 x26 h26 y12af ff7 fs19 fc1 sc0 ls0 ws0">Modular<span class="_ _13"> </span>addition<span class="_ _13"> </span>forms<span class="_ _13"> </span>a<span class="_ _13"> </span>mathematical<span class="_"> </span>structure<span class="_ _13"> </span>known<span class="_ _13"> </span>as<span class="_ _13"> </span>an<span class="_ _13"> </span><span class="ffa">abelian<span class="_ _13"> </span>group<span class="_ _0"></span><span class="ff7">,</span></span></div><div class="t m5 x17 h26 y12b0 ff7 fs19 fc1 sc0 ls0 ws0">named<span class="_"> </span>after<span class="_ _13"> </span>the<span class="_"> </span>Norwegian<span class="_"> </span>mathematician<span class="_"> </span>Niels<span class="_ _13"> </span>Henrik<span class="_"> </span>Abel<span class="_"> </span>(1802–1829).<span class="_"> </span>T<span class="_ _1"></span>hat</div><div class="t m5 x17 h26 y12b1 ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _1"></span>,<span class="_ _16"> </span>it<span class="_ _16"> </span>is<span class="_ _16"> </span>commutative<span class="_ _16"> </span>(that’s<span class="_ _11"> </span>where<span class="_ _16"> </span>the<span class="_ _16"> </span>“abelian”<span class="_ _16"> </span>part<span class="_ _16"> </span>comes<span class="_ _16"> </span>in)<span class="_ _16"> </span>and<span class="_ _16"> </span>associative;</div><div class="t m5 x17 h26 y12b2 ff7 fs19 fc1 sc0 ls0 ws0">it<span class="_ _14"> </span>has<span class="_ _14"> </span>an<span class="_ _16"> </span>identity<span class="_ _14"> </span>element<span class="_ _14"> </span>0,<span class="_ _15"> </span>and<span class="_ _14"> </span>every<span class="_ _14"> </span>element<span class="_ _14"> </span>has<span class="_ _14"> </span>an<span class="_ _14"> </span>additive<span class="_ _14"> </span>inverse<span class="_ _1"></span>.<span class="_ _14"> </span>Let<span class="_ _14"> </span>us</div><div class="t m5 x17 h26 y12b3 ff7 fs19 fc1 sc0 ls0 ws0">consider<span class="_"> </span>the<span class="_ _13"> </span>set<span class="_"> </span>of<span class="_ _13"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_ _13"> </span>unsigned<span class="_"> </span>numbers<span class="_ _13"> </span>with<span class="_"> </span>addition<span class="_ _13"> </span>operation<span class="_"> </span><span class="ffd">+</span></div><div class="t m5 x1fa h69 y12b4 ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 x1fa h50 y12b5 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x11f h26 y12b6 ff7 fs19 fc1 sc0 ls0 ws0">.<span class="_"> </span>F<span class="_ _3"></span>or<span class="_"> </span>every</div><div class="t m5 x17 h26 y12b7 ff7 fs19 fc1 sc0 ls0 ws0">value<span class="_ _15"> </span><span class="ff11">x<span class="_ _5"></span></span>,<span class="_ _21"> </span>there<span class="_ _15"> </span>must<span class="_ _15"> </span>be<span class="_ _15"> </span>some<span class="_ _15"> </span>value<span class="_ _21"> </span><span class="ffd">-</span></div><div class="t m5 xec h69 y12b8 ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 xec h50 y12b9 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x49 h26 y12ba ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_ _f"> </span><span class="ff7">such<span class="_ _15"> </span>that<span class="_ _15"> </span><span class="ffd">-</span></span></div><div class="t m5 x40 h69 y12b8 ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 x40 h50 y12b9 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x7e h3a y12ba ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_ _11"> </span><span class="ffd">+</span></div><div class="t m5 x1fc h69 y12b8 ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 x1fc h50 y12bb ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xf9 h46 y12ba ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span><span class="ff7 ls6c">0.<span class="_ _15"> </span>T<span class="_ _0"></span>his<span class="_ _15"> </span>additive</span></span></div><div class="t m5 x17 h26 y12bc ff7 fs19 fc1 sc0 ls0 ws0">inverse<span class="_"> </span>operation<span class="_"> </span>can<span class="_"> </span>be<span class="_"> </span>characterized<span class="_"> </span>as<span class="_"> </span>follows:</div><div class="t m5 x17 h5b y12bd ff1b fs14 fc6 sc0 ls0 ws0">principle:<span class="_ _e"> </span><span class="ff7 fs19 fc1">Unsigned<span class="_"> </span>negation</span></div><div class="t m5 x17 h46 y12be ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>any<span class="_ _11"> </span>number<span class="_"> </span><span class="ff11">x<span class="_"> </span></span>such<span class="_"> </span>that<span class="_ _11"> </span>0<span class="_"> </span><span class="ff12">≤<span class="_ _13"></span><span class="ff11 lsa1">x&lt;<span class="_ _1"></span><span class="ff7 ls0">2</span></span></span></div><div class="t m5 xe2 h50 y12bf ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xbe h26 y12c0 ff7 fs19 fc1 sc0 ls0 ws0">,<span class="_"> </span>its<span class="_ _11"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_"> </span>unsigned<span class="_"> </span>negation<span class="_ _11"> </span><span class="ffd">-</span></div><div class="t m5 xf3 h69 y12bf ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 xf3 h50 y12c1 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1fd h26 y12c0 ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_"> </span><span class="ff7">is<span class="_"> </span>given</span></div><div class="t m5 x17 h26 y12c2 ff7 fs19 fc1 sc0 ls0 ws0">by<span class="_"> </span>the<span class="_"> </span>following:</div><div class="t m5 x20 h3a y12c3 ffd fs19 fc1 sc0 ls0 ws0">-</div><div class="t m5 x1ba h69 y12c4 ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 x1ba h50 y12c5 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xe6 h46 y12c6 ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_ _11"> </span><span class="ff12">=</span></div><div class="t m5 xdc h5c y12c7 ff1e fs19 fc1 sc0 ls0 ws0"></div><div class="t m5 x110 h46 y12c8 ff11 fs19 fc1 sc0 ls57 ws0">x,<span class="_ _6c"> </span>x<span class="_ _10"> </span><span class="ff12 ls0">=<span class="_ _13"></span><span class="ff7">0</span></span></div><div class="t m5 x110 h26 y12c9 ff7 fs19 fc1 sc0 ls0 ws0">2</div><div class="t m5 xe5 h50 y12ca ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x143 h46 y12cb ff12 fs19 fc1 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff11 ls57">x,<span class="_ _3b"> </span>x<span class="_ _13"> </span>&gt;<span class="_ _13"> </span></span><span class="ff7">0</span></div><div class="t m5 x1f0 h26 y12cc ff7 fs19 fc1 sc0 ls0 ws0">(2.12)</div><div class="t m5 x26 h26 y12cd ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span>result<span class="_"> </span>can<span class="_"> </span>readily<span class="_"> </span>be<span class="_"> </span>derived<span class="_"> </span>by<span class="_"> </span>case<span class="_"> </span>analysis:</div><div class="t m5 x17 h5b y12ce ff1b fs14 fc6 sc0 ls0 ws0">derivation:<span class="_ _e"> </span><span class="ff7 fs19 fc1">Unsigned<span class="_"> </span>negation</span></div><div class="t m5 x17 h46 y12cf ff7 fs19 fc1 sc0 ls0 ws0">When<span class="_ _13"> </span><span class="ff11">x<span class="_ _11"> </span><span class="ff12">=<span class="_ _13"></span></span></span><span class="lsa2">0,<span class="_"> </span>the<span class="_ _13"> </span>additive<span class="_ _13"> </span>inverse<span class="_"> </span>is<span class="_ _13"> </span>clearly<span class="_ _13"> </span>0.<span class="_"> </span>F<span class="_ _3"></span>or<span class="_ _13"> </span><span class="ff11 lsa3">x&gt;<span class="_ _1"></span><span class="ff7 lsa2">0,<span class="_"> </span>consider<span class="_ _13"> </span>the<span class="_ _13"> </span>value<span class="_"> </span>2</span></span></span></div><div class="t m5 x132 h50 y12d0 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x172 h46 y12d1 ff12 fs19 fc1 sc0 ls0 ws0">−<span class="_ _13"></span><span class="ff11">x<span class="_ _5"></span><span class="ff7">.</span></span></div><div class="t m5 x17 h26 y12d2 ff7 fs19 fc1 sc0 ls0 ws0">Observe<span class="_ _16"> </span>that<span class="_ _16"> </span>this<span class="_ _16"> </span>number<span class="_ _16"> </span>is<span class="_ _16"> </span>in<span class="_ _16"> </span>the<span class="_ _16"> </span>range<span class="_ _16"> </span>0<span class="_"> </span><span class="ff11">&lt;<span class="_ _10"> </span></span>2</div><div class="t m5 xfc h50 y12d3 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x130 h46 y12d4 ff12 fs19 fc1 sc0 ls0 ws0">−<span class="_ _10"> </span><span class="ff11 lsa4">x&lt;<span class="_ _3"></span><span class="ff7 ls0">2</span></span></div><div class="t m5 x1c7 h50 y12d3 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1bb h26 y12d4 ff7 fs19 fc1 sc0 ls0 ws0">.<span class="_ _16"> </span>W<span class="_ _3"></span>e<span class="_ _16"> </span>can<span class="_ _16"> </span>also<span class="_ _16"> </span>see<span class="_ _16"> </span>that</div><div class="t m5 x17 h46 y12d5 ff11 fs19 fc1 sc0 ls0 ws0">(x<span class="_ _11"> </span><span class="ff12">+<span class="_ _10"> </span><span class="ff7">2</span></span></div><div class="t m5 x1fe h50 y12d6 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x182 h46 y12d7 ff12 fs19 fc1 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff11 ls57">x)<span class="_ _13"> </span></span><span class="ff7">mod<span class="_ _13"> </span>2</span></div><div class="t m5 xc4 h50 y12d6 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x15a h46 y12d7 ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">2</span></div><div class="t m5 xe0 h50 y12d6 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x59 h26 y12d7 ff7 fs19 fc1 sc0 ls0 ws0">mod<span class="_"> </span>2</div><div class="t m5 x183 h50 y12d6 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x18d h46 y12d7 ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7 lsa5">0.<span class="_"> </span>Hence<span class="_"> </span>it<span class="_"> </span>is<span class="_"> </span>the<span class="_"> </span>inverse<span class="_"> </span>of<span class="_"> </span></span><span class="ff11">x<span class="_"> </span><span class="ff7">under<span class="_"> </span><span class="ffd">+</span></span></span></div><div class="t m5 x83 h69 y12d6 ff7 fs39 fc1 sc0 ls0 ws0">u</div><div class="t m5 x83 h50 y12d8 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x44 h26 y12d7 ff7 fs19 fc1 sc0 ls0 ws0">.</div><div class="t m5 x17 h47 y12d9 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>2.28<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>188)</span></div><div class="t m5 x17 h46 y543 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_ _15"> </span>can<span class="_ _15"> </span>represent<span class="_ _15"> </span>a<span class="_ _15"> </span>bit<span class="_ _15"> </span>pattern<span class="_ _15"> </span>of<span class="_ _15"> </span>length<span class="_ _15"> </span><span class="ff11">w<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>4<span class="_ _14"> </span>with<span class="_ _15"> </span>a<span class="_ _15"> </span>single<span class="_ _15"> </span>hex<span class="_ _15"> </span>digit.<span class="_ _15"> </span>F<span class="_ _1"></span>or<span class="_ _15"> </span>an</div><div class="t m5 x17 h26 y544 ff7 fs19 fc1 sc0 ls0 ws0">unsigned<span class="_ _11"> </span>interpretation<span class="_ _16"> </span>of<span class="_ _16"> </span>these<span class="_ _11"> </span>digits<span class="_ _1"></span>,<span class="_ _16"> </span>use<span class="_ _16"> </span>Equation<span class="_ _16"> </span>2.12<span class="_ _11"> </span>to<span class="_ _16"> </span>ﬁll<span class="_ _16"> </span>in<span class="_ _11"> </span>the<span class="_ _16"> </span>following</div><div class="t m5 x17 h26 y545 ff7 fs19 fc1 sc0 ls0 ws0">table<span class="_ _6"> </span>giving<span class="_ _13"> </span>the<span class="_ _6"> </span>values<span class="_ _6"> </span>and<span class="_ _13"> </span>the<span class="_ _6"> </span>bit<span class="_ _6"> </span>representations<span class="_ _13"> </span>(in<span class="_ _6"> </span>hex)<span class="_ _6"> </span>of<span class="_ _13"> </span>the<span class="_ _6"> </span>unsigned<span class="_ _13"> </span>additive</div><div class="t m5 x17 h26 y546 ff7 fs19 fc1 sc0 ls0 ws0">inverses<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>digits<span class="_"> </span>shown.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
