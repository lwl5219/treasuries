<div id="pf195" class="pf w2 h11" data-page-no="195"><div class="pc pc195 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg195.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">404<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 x15e h2d y3829 ffd fs1e fc2 sc0 ls0 ws0">|<span class="_ _e"> </span>#<span class="_ _1f"> </span>Execution<span class="_ _1f"> </span>begins<span class="_ _e"> </span>at<span class="_ _1f"> </span>address<span class="_ _e"> </span>0</div><div class="t m5 x14 h2d y382a ffd fs1e fc2 sc0 ls0 ws0">0x000:<span class="_ _129"> </span>|<span class="_ _3f"> </span>.pos<span class="_ _e"> </span>0</div><div class="t m5 x14 h2d y382b ffd fs1e fc2 sc0 ls0 ws0">0x000:<span class="_ _e"> </span>30f40002000000000000<span class="_ _1f"> </span>|<span class="_ _3f"> </span>irmovq<span class="_ _1f"> </span>stack,<span class="_ _e"> </span>%rsp<span class="_ _b9"> </span>#<span class="_ _e"> </span>Set<span class="_ _1f"> </span>up<span class="_ _e"> </span>stack<span class="_ _1f"> </span>pointer</div><div class="t m5 x14 h2d y382c ffd fs1e fc2 sc0 ls0 ws0">0x00a:<span class="_ _e"> </span>803800000000000000<span class="_ _3f"> </span>|<span class="_ _3f"> </span>call<span class="_ _1f"> </span>main<span class="_ _d4"> </span>#<span class="_ _1f"> </span>Execute<span class="_ _e"> </span>main<span class="_ _1f"> </span>program</div><div class="t m5 x14 h2d y382d ffd fs1e fc2 sc0 ls0 ws0">0x013:<span class="_ _e"> </span>00<span class="_ _104"> </span>|<span class="_ _3f"> </span>halt<span class="_ _d8"> </span>#<span class="_ _1f"> </span>Terminate<span class="_ _e"> </span>program</div><div class="t m5 x15e h2d y382e ffd fs1e fc2 sc0 ls0 ws0">|</div><div class="t m5 x15e h2d y382f ffd fs1e fc2 sc0 ls0 ws0">|<span class="_ _e"> </span>#<span class="_ _1f"> </span>Array<span class="_ _1f"> </span>of<span class="_ _e"> </span>4<span class="_ _1f"> </span>elements</div><div class="t m5 x14 h2d y3830 ffd fs1e fc2 sc0 ls0 ws0">0x018:<span class="_ _129"> </span>|<span class="_ _3f"> </span>.align<span class="_ _e"> </span>8</div><div class="t m5 x14 h2d y3831 ffd fs1e fc2 sc0 ls0 ws0">0x018:<span class="_ _129"> </span>|<span class="_ _e"> </span>array:</div><div class="t m5 x14 h2d y3832 ffd fs1e fc2 sc0 ls0 ws0">0x018:<span class="_ _e"> </span>0d000d000d000000<span class="_ _8c"> </span>|<span class="_ _3f"> </span>.quad<span class="_ _1f"> </span>0x000d000d000d</div><div class="t m5 x14 h2d y3833 ffd fs1e fc2 sc0 ls0 ws0">0x020:<span class="_ _e"> </span>c000c000c0000000<span class="_ _8c"> </span>|<span class="_ _3f"> </span>.quad<span class="_ _1f"> </span>0x00c000c000c0</div><div class="t m5 x14 h2d y3834 ffd fs1e fc2 sc0 ls0 ws0">0x028:<span class="_ _e"> </span>000b000b000b0000<span class="_ _8c"> </span>|<span class="_ _3f"> </span>.quad<span class="_ _1f"> </span>0x0b000b000b00</div><div class="t m5 x14 h2d y3835 ffd fs1e fc2 sc0 ls0 ws0">0x030:<span class="_ _e"> </span>00a000a000a00000<span class="_ _8c"> </span>|<span class="_ _3f"> </span>.quad<span class="_ _1f"> </span>0xa000a000a000</div><div class="t m5 x15e h2d y3836 ffd fs1e fc2 sc0 ls0 ws0">|</div><div class="t m5 x14 h2d y3837 ffd fs1e fc2 sc0 ls0 ws0">0x038:<span class="_ _129"> </span>|<span class="_ _e"> </span>main:</div><div class="t m5 x14 h2d y3838 ffd fs1e fc2 sc0 ls0 ws0">0x038:<span class="_ _e"> </span>30f71800000000000000<span class="_ _1f"> </span>|<span class="_ _3f"> </span>irmovq<span class="_ _1f"> </span>array,%rdi</div><div class="t m5 x14 h2d y3839 ffd fs1e fc2 sc0 ls0 ws0">0x042:<span class="_ _e"> </span>30f60400000000000000<span class="_ _1f"> </span>|<span class="_ _3f"> </span>irmovq<span class="_ _1f"> </span>$4,%rsi</div><div class="t m5 x14 h2d y383a ffd fs1e fc2 sc0 ls0 ws0">0x04c:<span class="_ _e"> </span>805600000000000000<span class="_ _3f"> </span>|<span class="_ _3f"> </span>call<span class="_ _1f"> </span>sum<span class="_ _12a"> </span>#<span class="_ _e"> </span>sum(array,<span class="_ _1f"> </span>4)</div><div class="t m5 x14 h2d y383b ffd fs1e fc2 sc0 ls0 ws0">0x055:<span class="_ _e"> </span>90<span class="_ _104"> </span>|<span class="_ _3f"> </span>ret</div><div class="t m5 x15e h2d y383c ffd fs1e fc2 sc0 ls0 ws0">|</div><div class="t m5 x15e h2d y383d ffd fs1e fc2 sc0 ls0 ws0">|<span class="_ _e"> </span>#<span class="_ _1f"> </span>long<span class="_ _1f"> </span>sum(long<span class="_ _e"> </span>*start,<span class="_ _1f"> </span>long<span class="_ _e"> </span>count)</div><div class="t m5 x15e h2d y383e ffd fs1e fc2 sc0 ls0 ws0">|<span class="_ _e"> </span>#<span class="_ _1f"> </span>start<span class="_ _1f"> </span>in<span class="_ _e"> </span>%rdi,<span class="_ _1f"> </span>count<span class="_ _e"> </span>in<span class="_ _1f"> </span>%rsi</div><div class="t m5 x14 h2d y383f ffd fs1e fc2 sc0 ls0 ws0">0x056:<span class="_ _129"> </span>|<span class="_ _e"> </span>sum:</div><div class="t m5 x14 h2d y3840 ffd fs1e fc2 sc0 ls0 ws0">0x056:<span class="_ _e"> </span>30f80800000000000000<span class="_ _1f"> </span>|<span class="_ _3f"> </span>irmovq<span class="_ _1f"> </span>$8,%r8<span class="_ _71"> </span>#<span class="_ _1f"> </span>Constant<span class="_ _e"> </span>8</div><div class="t m5 x14 h2d y3841 ffd fs1e fc2 sc0 ls0 ws0">0x060:<span class="_ _e"> </span>30f90100000000000000<span class="_ _1f"> </span>|<span class="_ _3f"> </span>irmovq<span class="_ _1f"> </span>$1,%r9<span class="_ _71"> </span>#<span class="_ _1f"> </span>Constant<span class="_ _e"> </span>1</div><div class="t m5 x14 h2d y3842 ffd fs1e fc2 sc0 ls0 ws0">0x06a:<span class="_ _e"> </span>6300<span class="_ _15a"> </span>|<span class="_ _3f"> </span>xorq<span class="_ _1f"> </span>%rax,%rax<span class="_ _6f"> </span>#<span class="_ _1f"> </span>sum<span class="_ _e"> </span>=<span class="_ _1f"> </span>0</div><div class="t m5 x14 h2d y3843 ffd fs1e fc2 sc0 ls0 ws0">0x06c:<span class="_ _e"> </span>6266<span class="_ _15a"> </span>|<span class="_ _3f"> </span>andq<span class="_ _1f"> </span>%rsi,%rsi<span class="_ _6f"> </span>#<span class="_ _1f"> </span>Set<span class="_ _e"> </span>CC</div><div class="t m5 x14 h2d y3844 ffd fs1e fc2 sc0 ls0 ws0">0x06e:<span class="_ _e"> </span>708700000000000000<span class="_ _3f"> </span>|<span class="_ _3f"> </span>jmp<span class="_ _8c"> </span>test<span class="_ _87"> </span>#<span class="_ _e"> </span>Goto<span class="_ _1f"> </span>test</div><div class="t m5 x14 h2d y3845 ffd fs1e fc2 sc0 ls0 ws0">0x077:<span class="_ _129"> </span>|<span class="_ _e"> </span>loop:</div><div class="t m5 x14 h2d y3846 ffd fs1e fc2 sc0 ls0 ws0">0x077:<span class="_ _e"> </span>50a70000000000000000<span class="_ _1f"> </span>|<span class="_ _3f"> </span>mrmovq<span class="_ _1f"> </span>(%rdi),%r10<span class="_ _3f"> </span>#<span class="_ _e"> </span>Get<span class="_ _1f"> </span>*start</div><div class="t m5 x14 h2d y3847 ffd fs1e fc2 sc0 ls0 ws0">0x081:<span class="_ _e"> </span>60a0<span class="_ _15a"> </span>|<span class="_ _3f"> </span>addq<span class="_ _1f"> </span>%r10,%rax<span class="_ _6f"> </span>#<span class="_ _1f"> </span>Add<span class="_ _e"> </span>to<span class="_ _1f"> </span>sum</div><div class="t m5 x14 h2d y3848 ffd fs1e fc2 sc0 ls0 ws0">0x083:<span class="_ _e"> </span>6087<span class="_ _15a"> </span>|<span class="_ _3f"> </span>addq<span class="_ _1f"> </span>%r8,%rdi<span class="_ _71"> </span>#<span class="_ _1f"> </span>start++</div><div class="t m5 x14 h2d y3849 ffd fs1e fc2 sc0 ls0 ws0">0x085:<span class="_ _e"> </span>6196<span class="_ _15a"> </span>|<span class="_ _3f"> </span>subq<span class="_ _1f"> </span>%r9,%rsi<span class="_ _71"> </span>#<span class="_ _1f"> </span>count--.<span class="_ _1a"> </span>Set<span class="_ _e"> </span>CC</div><div class="t m5 x14 h2d y384a ffd fs1e fc2 sc0 ls0 ws0">0x087:<span class="_ _129"> </span>|<span class="_ _e"> </span>test:</div><div class="t m5 x14 h2d y384b ffd fs1e fc2 sc0 ls0 ws0">0x087:<span class="_ _e"> </span>747700000000000000<span class="_ _3f"> </span>|<span class="_ _3f"> </span>jne<span class="_ _46"> </span>loop<span class="_ _86"> </span>#<span class="_ _1f"> </span>Stop<span class="_ _1f"> </span>when<span class="_ _e"> </span>0</div><div class="t m5 x14 h2d y384c ffd fs1e fc2 sc0 ls0 ws0">0x090:<span class="_ _e"> </span>90<span class="_ _104"> </span>|<span class="_ _3f"> </span>ret<span class="_ _137"> </span>#<span class="_ _1f"> </span>Return</div><div class="t m5 x15e h2d y384d ffd fs1e fc2 sc0 ls0 ws0">|</div><div class="t m5 x15e h2d y384e ffd fs1e fc2 sc0 ls0 ws0">|<span class="_ _e"> </span>#<span class="_ _1f"> </span>Stack<span class="_ _1f"> </span>starts<span class="_ _e"> </span>here<span class="_ _1f"> </span>and<span class="_ _e"> </span>grows<span class="_ _1f"> </span>to<span class="_ _1f"> </span>lower<span class="_ _e"> </span>addresses</div><div class="t m5 x14 h2d y384f ffd fs1e fc2 sc0 ls0 ws0">0x200:<span class="_ _129"> </span>|<span class="_ _3f"> </span>.pos<span class="_ _e"> </span>0x200</div><div class="t m5 x14 h2d y3850 ffd fs1e fc2 sc0 ls0 ws0">0x200:<span class="_ _129"> </span>|<span class="_ _e"> </span>stack:</div><div class="t m5 x14 h34 y3851 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>4.8<span class="_ _66"> </span><span class="fc1">Output<span class="_"> </span>of<span class="_ _13"> </span><span class="ff1b ls1ad">ya<span class="_ _2"></span>s<span class="_ _11"> </span></span>assembler<span class="_ _3"></span>.<span class="_"> </span><span class="ff6">Each<span class="_ _10"> </span>line<span class="_ _10"> </span>includes<span class="_ _13"> </span>a<span class="_ _10"> </span>hexadecimal<span class="_ _10"> </span>address<span class="_ _10"> </span>and<span class="_ _10"> </span>between<span class="_ _10"> </span>1<span class="_ _13"> </span>and<span class="_ _10"> </span>10<span class="_ _10"> </span>bytes</span></span></div><div class="t m5 x14 h34 y3852 ff6 fs16 fc1 sc0 ls0 ws0">of<span class="_ _10"> </span>object<span class="_ _11"> </span>code.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
