<div id="pfa3" class="pf w2 h11" data-page-no="a3"><div class="pc pca3 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bga3.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">162<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x124 h26 ye7 ff7 fs19 fc2 sc0 lsec ws0">F.<span class="_ _3b"> </span><span class="ffd ls0">1.0/2<span class="_ _11"> </span>==<span class="_ _16"> </span>1/2.0</span></div><div class="t m5 x124 h26 y10aa ff7 fs19 fc2 sc0 ls2a ws0">G.<span class="_ _24"> </span><span class="ffd ls0">d*d<span class="_ _11"> </span>&gt;=<span class="_ _16"> </span>0.0</span></div><div class="t m5 x124 h26 ybbf ff7 fs19 fc2 sc0 ls0 ws0">H.<span class="_ _1f"> </span><span class="ffd">(f+d)-f<span class="_ _16"> </span>==<span class="_ _11"> </span>d</span></div><div class="t m5 x1d h3b yad4 fff fs24 fc6 sc0 ls0 ws0">2.5<span class="_ _17"> </span><span class="ffe fs18">Summar<span class="_ _2"></span>y</span></div><div class="t m5 x1d h26 y1a10 ff7 fs19 fc1 sc0 ls0 ws0">Computers<span class="_ _13"> </span>encode<span class="_ _13"> </span>information<span class="_"> </span>as<span class="_ _13"> </span>bits<span class="_ _1"></span>,<span class="_ _13"> </span>generally<span class="_"> </span>organized<span class="_ _13"> </span>as<span class="_ _13"> </span>sequences<span class="_ _13"> </span>of<span class="_"> </span>bytes<span class="_ _3"></span>.</div><div class="t m5 x1d h26 y1a11 ff7 fs19 fc1 sc0 ls0 ws0">Different<span class="_ _13"> </span>encodings<span class="_"> </span>are<span class="_ _13"> </span>used<span class="_"> </span>for<span class="_ _13"> </span>representing<span class="_"> </span>integers<span class="_ _3"></span>,<span class="_"> </span>real<span class="_ _13"> </span>numbers<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>charac-</div><div class="t m5 x1d h26 y1a12 ff7 fs19 fc1 sc0 ls0 ws0">ter<span class="_"> </span>strings<span class="_ _3"></span>.<span class="_"> </span>Different<span class="_ _13"> </span>models<span class="_"> </span>of<span class="_ _13"> </span>computers<span class="_"> </span>use<span class="_ _13"> </span>different<span class="_"> </span>conventions<span class="_"> </span>for<span class="_ _13"> </span>encoding</div><div class="t m5 x1d h26 y1a13 ff7 fs19 fc1 sc0 ls0 ws0">numbers<span class="_"> </span>and<span class="_"> </span>for<span class="_"> </span>ordering<span class="_"> </span>the<span class="_"> </span>bytes<span class="_"> </span>within<span class="_"> </span>multi-byte<span class="_"> </span>data.</div><div class="t m5 x29 h26 y1a14 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_"> </span>C<span class="_"> </span>language<span class="_ _13"> </span>is<span class="_"> </span>designed<span class="_"> </span>to<span class="_ _13"> </span>accommodate<span class="_"> </span>a<span class="_"> </span>wide<span class="_ _13"> </span>range<span class="_"> </span>of<span class="_"> </span>different<span class="_"> </span>imple-</div><div class="t m5 x1d h26 y1a15 ff7 fs19 fc1 sc0 ls0 ws0">mentations<span class="_ _16"> </span>in<span class="_ _11"> </span>terms<span class="_ _16"> </span>of<span class="_ _16"> </span>word<span class="_ _11"> </span>sizes<span class="_ _16"> </span>and<span class="_ _11"> </span>numeric<span class="_ _16"> </span>encodings<span class="_ _1"></span>.<span class="_ _16"> </span>Machines<span class="_ _16"> </span>with<span class="_ _11"> </span>64-bit</div><div class="t m5 x1d h26 y1a16 ff7 fs19 fc1 sc0 ls0 ws0">word<span class="_"> </span>sizes<span class="_ _13"> </span>have<span class="_"> </span>become<span class="_ _13"> </span>increasingly<span class="_"> </span>common,<span class="_ _13"> </span>replacing<span class="_"> </span>the<span class="_ _13"> </span>32-bit<span class="_"> </span>machines<span class="_ _13"> </span>that</div><div class="t m5 x1d h26 y1a17 ff7 fs19 fc1 sc0 ls0 ws0">dominated<span class="_"> </span>the<span class="_"> </span>market<span class="_ _13"> </span>for<span class="_"> </span>around<span class="_"> </span>30<span class="_"> </span>years<span class="_ _3"></span>.<span class="_"> </span>Because<span class="_"> </span>64-bit<span class="_"> </span>machines<span class="_"> </span>can<span class="_ _13"> </span>also<span class="_"> </span>run</div><div class="t m5 x1d h26 y1a18 ff7 fs19 fc1 sc0 ls0 ws0">programs<span class="_ _16"> </span>compiled<span class="_ _16"> </span>for<span class="_ _14"> </span>32-bit<span class="_ _16"> </span>machines<span class="_ _1"></span>,<span class="_ _14"> </span>we<span class="_ _16"> </span>have<span class="_ _14"> </span>focused<span class="_ _16"> </span>on<span class="_ _16"> </span>the<span class="_ _14"> </span>distinction<span class="_ _16"> </span>be-</div><div class="t m5 x1d h26 y1a19 ff7 fs19 fc1 sc0 ls0 ws0">tween<span class="_ _13"> </span>32-<span class="_ _6"> </span>and<span class="_ _13"> </span>64-bit<span class="_ _13"> </span>programs<span class="_ _3"></span>,<span class="_ _13"> </span>rather<span class="_ _13"> </span>than<span class="_ _13"> </span>machines<span class="_ _3"></span>.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>advantage<span class="_ _13"> </span>of<span class="_ _6"> </span>64-bit<span class="_ _13"> </span>pro-</div><div class="t m5 x1d h26 y1a1a ff7 fs19 fc1 sc0 ls0 ws0">grams<span class="_"> </span>is<span class="_"> </span>that<span class="_"> </span>they<span class="_"> </span>can<span class="_"> </span>go<span class="_"> </span>beyond<span class="_"> </span>the<span class="_"> </span>4<span class="_"> </span>GB<span class="_"> </span>address<span class="_"> </span>limitation<span class="_"> </span>of<span class="_"> </span>32-bit<span class="_"> </span>programs<span class="_ _3"></span>.</div><div class="t m5 x29 h26 y1a1b ff7 fs19 fc1 sc0 ls0 ws0">Most<span class="_ _6"> </span>machines<span class="_ _13"> </span>encode<span class="_ _6"> </span>signed<span class="_ _6"> </span>numbers<span class="_ _13"> </span>using<span class="_ _6"> </span>a<span class="_ _6"> </span>two’s-complement<span class="_ _6"> </span>representa-</div><div class="t m5 x1d h26 y1a1c ff7 fs19 fc1 sc0 ls0 ws0">tion<span class="_ _13"> </span>and<span class="_ _6"> </span>encode<span class="_ _13"> </span>ﬂoating-point<span class="_ _13"> </span>numbers<span class="_ _6"> </span>using<span class="_ _13"> </span>IEEE<span class="_ _13"> </span>Standard<span class="_ _6"> </span>754.<span class="_ _13"> </span>Understanding</div><div class="t m5 x1d h26 y1a1d ff7 fs19 fc1 sc0 ls0 ws0">these<span class="_"> </span>encodings<span class="_ _11"> </span>at<span class="_ _11"> </span>the<span class="_ _11"> </span>bit<span class="_ _11"> </span>level,<span class="_ _11"> </span>as<span class="_ _11"> </span>well<span class="_"> </span>as<span class="_ _11"> </span>understanding<span class="_ _11"> </span>the<span class="_ _11"> </span>mathematical<span class="_ _11"> </span>char<span class="_ _1"></span>-</div><div class="t m5 x1d h26 y1a1e ff7 fs19 fc1 sc0 ls0 ws0">acteristics<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>arithmetic<span class="_ _15"> </span>operations<span class="_ _1"></span>,<span class="_ _f"> </span>is<span class="_ _15"> </span>important<span class="_ _15"> </span>for<span class="_ _15"> </span>writing<span class="_ _21"> </span>programs<span class="_ _15"> </span>that</div><div class="t m5 x1d h26 y1a1f ff7 fs19 fc1 sc0 ls0 ws0">operate<span class="_"> </span>correctly<span class="_"> </span>over<span class="_"> </span>the<span class="_"> </span>full<span class="_"> </span>range<span class="_"> </span>of<span class="_"> </span>numeric<span class="_"> </span>values<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y1a20 ff7 fs19 fc1 sc0 ls0 ws0">When<span class="_ _16"> </span>casting<span class="_ _16"> </span>between<span class="_ _16"> </span>signed<span class="_ _16"> </span>and<span class="_ _16"> </span>unsigned<span class="_ _14"> </span>integers<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _16"> </span>same<span class="_ _14"> </span>size<span class="_ _1"></span>,<span class="_ _14"> </span>most</div><div class="t m5 x1d h26 y1a21 ff7 fs19 fc1 sc0 ls0 ws0">C<span class="_ _15"> </span>implementations<span class="_ _15"> </span>follow<span class="_ _15"> </span>the<span class="_ _15"> </span>convention<span class="_ _15"> </span>that<span class="_ _15"> </span>the<span class="_ _15"> </span>underlying<span class="_ _15"> </span>bit<span class="_ _15"> </span>pattern<span class="_ _15"> </span>does</div><div class="t m5 x1d h26 y1a22 ff7 fs19 fc1 sc0 ls0 ws0">not<span class="_ _16"> </span>change.<span class="_ _16"> </span>On<span class="_ _14"> </span>a<span class="_ _16"> </span>two’s-complement<span class="_ _16"> </span>machine,<span class="_ _14"> </span>this<span class="_ _16"> </span>behavior<span class="_ _14"> </span>is<span class="_ _14"> </span>characterized<span class="_ _14"> </span>by</div><div class="t m5 x1d h26 y1a23 ff7 fs19 fc1 sc0 ls0 ws0">functions<span class="_ _13"> </span><span class="ffa">T2U</span></div><div class="t m5 x20 h50 y1a24 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x137 h26 y1a25 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_ _13"> </span><span class="ffa">U2T</span></div><div class="t m5 xba h50 y1a24 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x49 h26 y1a25 ff7 fs19 fc1 sc0 ls0 ws0">,<span class="_ _13"> </span>for<span class="_ _6"> </span>a<span class="_ _13"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_ _6"> </span>value.<span class="_ _6"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>implicit<span class="_ _13"> </span>casting<span class="_ _6"> </span>of<span class="_ _13"> </span>C<span class="_ _6"> </span>gives<span class="_ _13"> </span>results</div><div class="t m5 x1d h26 y1a26 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_"> </span>many<span class="_"> </span>programmers<span class="_"> </span>do<span class="_"> </span>not<span class="_"> </span>anticipate<span class="_ _1"></span>,<span class="_"> </span>often<span class="_"> </span>leading<span class="_"> </span>to<span class="_"> </span>program<span class="_"> </span>bugs<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y1a27 ff7 fs19 fc1 sc0 ls0 ws0">Due<span class="_ _13"> </span>to<span class="_ _13"> </span>the<span class="_ _13"> </span>ﬁnite<span class="_ _13"> </span>lengths<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>encodings<span class="_ _3"></span>,<span class="_"> </span>computer<span class="_ _6"> </span>arithmetic<span class="_ _13"> </span>has<span class="_ _13"> </span>properties</div><div class="t m5 x1d h26 y1a28 ff7 fs19 fc1 sc0 ls0 ws0">quite<span class="_ _13"> </span>different<span class="_ _6"> </span>from<span class="_ _13"> </span>conventional<span class="_ _6"> </span>integer<span class="_ _13"> </span>and<span class="_ _6"> </span>real<span class="_ _13"> </span>arithmetic<span class="_ _1"></span>.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>ﬁnite<span class="_ _6"> </span>length<span class="_ _13"> </span>can</div><div class="t m5 x1d h26 y1a29 ff7 fs19 fc1 sc0 ls0 ws0">cause<span class="_ _14"> </span>numbers<span class="_ _14"> </span>to<span class="_ _14"> </span>overﬂow<span class="_ _3"></span>,<span class="_ _15"> </span>when<span class="_ _14"> </span>they<span class="_ _15"> </span>exceed<span class="_ _14"> </span>the<span class="_ _14"> </span>range<span class="_ _14"> </span>of<span class="_ _14"> </span>the<span class="_ _15"> </span>representation.</div><div class="t m5 x1d h26 y719 ff7 fs19 fc1 sc0 ls0 ws0">Floating-point<span class="_"> </span>values<span class="_ _11"> </span>can<span class="_ _11"> </span>also<span class="_ _11"> </span>underﬂow<span class="_ _3"></span>,<span class="_ _11"> </span>when<span class="_ _11"> </span>they<span class="_ _11"> </span>are<span class="_ _11"> </span>so<span class="_ _11"> </span>close<span class="_ _11"> </span>to<span class="_ _11"> </span>0<span class="ff11">.</span>0<span class="_ _11"> </span>that<span class="_ _11"> </span>they</div><div class="t m5 x1d h26 y71a ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_"> </span>changed<span class="_"> </span>to<span class="_"> </span>zero<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y71b ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _14"> </span>ﬁnite<span class="_ _14"> </span>integer<span class="_ _16"> </span>arithmetic<span class="_ _14"> </span>implemented<span class="_ _16"> </span>by<span class="_ _14"> </span>C,<span class="_ _14"> </span>as<span class="_ _16"> </span>well<span class="_ _14"> </span>as<span class="_ _16"> </span>most<span class="_ _14"> </span>other<span class="_ _14"> </span>pro-</div><div class="t m5 x1d h26 y71c ff7 fs19 fc1 sc0 ls0 ws0">gramming<span class="_ _13"> </span>languages<span class="_ _3"></span>,<span class="_ _13"> </span>has<span class="_ _13"> </span>some<span class="_ _6"> </span>peculiar<span class="_ _13"> </span>properties<span class="_ _13"> </span>compared<span class="_ _6"> </span>to<span class="_ _13"> </span>true<span class="_ _6"> </span>integer<span class="_ _13"> </span>arith-</div><div class="t m5 x1d h26 y71d ff7 fs19 fc1 sc0 ls0 ws0">metic.<span class="_ _16"> </span>F<span class="_ _1"></span>or<span class="_ _16"> </span>example,<span class="_ _16"> </span>the<span class="_ _14"> </span>expression<span class="_ _16"> </span><span class="ffd">x*x<span class="_ _14"> </span></span>can<span class="_ _16"> </span>evaluate<span class="_ _14"> </span>to<span class="_ _16"> </span>a<span class="_ _14"> </span>negative<span class="_ _14"> </span>number<span class="_ _16"> </span>due</div><div class="t m5 x1d h26 y71e ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _13"> </span>overﬂow<span class="_ _1"></span>.<span class="_"> </span>Nonetheless<span class="_ _3"></span>,<span class="_"> </span>both<span class="_ _13"> </span>unsigned<span class="_"> </span>and<span class="_ _13"> </span>two’s-complement<span class="_ _13"> </span>arithmetic<span class="_ _13"> </span>satisfy</div><div class="t m5 x1d h26 y71f ff7 fs19 fc1 sc0 ls0 ws0">many<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _11"> </span>other<span class="_ _16"> </span>properties<span class="_ _16"> </span>of<span class="_ _16"> </span>integer<span class="_ _16"> </span>arithmetic,<span class="_ _16"> </span>including<span class="_ _16"> </span>associativity<span class="_ _7"></span>,<span class="_ _14"> </span>com-</div><div class="t m5 x1d h26 y720 ff7 fs19 fc1 sc0 ls0 ws0">mutativity<span class="_ _3"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>distributivity<span class="_ _3"></span>.<span class="_"> </span>T<span class="_ _3"></span>his<span class="_"> </span>allows<span class="_ _13"> </span>compilers<span class="_ _13"> </span>to<span class="_ _13"> </span>do<span class="_ _13"> </span>many<span class="_"> </span>optimizations<span class="_ _3"></span>.<span class="_ _13"> </span>F<span class="_ _1"></span>or</div><div class="t m5 x1d h26 y721 ff7 fs19 fc1 sc0 ls0 ws0">example<span class="_ _1"></span>,<span class="_ _15"> </span>in<span class="_ _14"> </span>replacing<span class="_ _14"> </span>the<span class="_ _16"> </span>expression<span class="_ _14"> </span><span class="ffd">7*x<span class="_ _14"> </span></span>by<span class="_ _14"> </span><span class="ffd">(x&lt;&lt;3)-x</span>,<span class="_ _14"> </span>we<span class="_ _14"> </span>make<span class="_ _14"> </span>use<span class="_ _14"> </span>of<span class="_ _16"> </span>the<span class="_ _14"> </span>as-</div><div class="t m5 x1d h26 y722 ff7 fs19 fc1 sc0 ls0 ws0">sociative<span class="_ _1"></span>,<span class="_ _15"> </span>commutative,<span class="_ _14"> </span>and<span class="_ _15"> </span>distributive<span class="_ _14"> </span>properties<span class="_ _1"></span>,<span class="_ _15"> </span>along<span class="_ _14"> </span>with<span class="_ _15"> </span>the<span class="_ _14"> </span>relationship</div><div class="t m5 x1d h26 y723 ff7 fs19 fc1 sc0 ls0 ws0">between<span class="_"> </span>shifting<span class="_"> </span>and<span class="_"> </span>multiplying<span class="_"> </span>by<span class="_"> </span>powers<span class="_"> </span>of<span class="_"> </span>2.</div><div class="t m5 x29 h26 y724 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_"> </span>have<span class="_"> </span>seen<span class="_"> </span>several<span class="_ _11"> </span>clever<span class="_"> </span>ways<span class="_"> </span>to<span class="_"> </span>exploit<span class="_"> </span>combinations<span class="_"> </span>of<span class="_ _11"> </span>bit-level<span class="_"> </span>opera-</div><div class="t m5 x1d h26 y725 ff7 fs19 fc1 sc0 ls0 ws0">tions<span class="_ _13"> </span>and<span class="_ _13"> </span>arithmetic<span class="_ _13"> </span>operations<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _1"></span>or<span class="_ _13"> </span>example<span class="_ _0"></span>,<span class="_ _13"> </span>we<span class="_ _13"> </span>saw<span class="_ _13"> </span>that<span class="_ _13"> </span>with<span class="_ _13"> </span>two’s-complement</div><div class="t m5 x1d h26 y726 ff7 fs19 fc1 sc0 ls0 ws0">arithmetic,<span class="_"> </span><span class="ffd">~x+1<span class="_ _11"> </span></span>is<span class="_ _11"> </span>equivalent<span class="_ _11"> </span>to<span class="_ _11"> </span><span class="ffd">-x</span>.<span class="_ _11"> </span>As<span class="_ _11"> </span>another<span class="_ _11"> </span>example,<span class="_"> </span>suppose<span class="_ _11"> </span>we<span class="_ _11"> </span>want<span class="_ _11"> </span>a<span class="_ _11"> </span>bit</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
