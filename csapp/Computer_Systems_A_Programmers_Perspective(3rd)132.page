<div id="pf84" class="pf w2 h11" data-page-no="84"><div class="pc pc84 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg84.png"/><div class="t m5 xa9 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>2.3<span class="_ _60"> </span>Integer<span class="_ _10"> </span>Arithmetic<span class="_ _3e"> </span><span class="ffe fs1e">131</span></div><div class="t m5 x1b6 h2d y140c ffd fs1e fc2 sc0 ls0 ws0">return<span class="_ _e"> </span>tadd_ok(x,<span class="_ _1f"> </span>-y);</div><div class="t m5 x17 h2d y140d ffd fs1e fc2 sc0 ls0 ws0">}</div><div class="t m5 x26 h26 y140e ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>what<span class="_"> </span>values<span class="_"> </span>of<span class="_"> </span><span class="ffd">x<span class="_ _11"> </span></span>and<span class="_"> </span><span class="ffd">y<span class="_ _10"> </span></span>will<span class="_"> </span>this<span class="_"> </span>function<span class="_"> </span>give<span class="_ _11"> </span>incorrect<span class="_"> </span>results?<span class="_"> </span>Writing<span class="_"> </span>a</div><div class="t m5 x17 h26 y140f ff7 fs19 fc2 sc0 ls0 ws0">correct<span class="_"> </span>version<span class="_"> </span>of<span class="_"> </span>this<span class="_"> </span>function<span class="_"> </span>is<span class="_"> </span>left<span class="_"> </span>as<span class="_"> </span>an<span class="_"> </span>exercise<span class="_"> </span>(Problem<span class="_"> </span>2.74).</div><div class="t m5 x17 h41 y1410 ffe fs29 fc1 sc0 ls0 ws0">2.3.3<span class="_ _48"> </span><span class="fs19">T<span class="_ _1"></span>wo’<span class="_ _1"></span>s-Complement<span class="_"> </span>Negation</span></div><div class="t m5 x17 h26 y1411 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_ _13"> </span>can<span class="_ _13"> </span>see<span class="_ _13"> </span>that<span class="_ _13"> </span>every<span class="_ _13"> </span>number<span class="_ _13"> </span><span class="ff11">x<span class="_ _11"> </span></span>in<span class="_ _13"> </span>the<span class="_ _13"> </span>range<span class="_ _13"> </span><span class="ffa">TMin</span></div><div class="t m5 xfd h50 y1412 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x191 h46 y1413 ff12 fs19 fc1 sc0 ls0 ws0">≤<span class="_ _13"></span><span class="ff11">x<span class="_ _11"> </span></span>≤<span class="_ _13"></span><span class="ffa">TMax</span></div><div class="t m5 xdf h50 y1412 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1a1 h26 y1413 ff7 fs19 fc1 sc0 ls0 ws0">has<span class="_ _13"> </span>an<span class="_ _13"> </span>additive</div><div class="t m5 x17 h26 y1414 ff7 fs19 fc1 sc0 ls0 ws0">inverse<span class="_"> </span>under<span class="_"> </span><span class="ffd">+</span></div><div class="t m5 x124 h69 y1415 ff7 fs39 fc1 sc0 ls0 ws0">t</div><div class="t m5 x124 h50 y1416 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1ee h26 y1417 ff7 fs19 fc1 sc0 ls0 ws0">,<span class="_"> </span>which<span class="_"> </span>we<span class="_"> </span>denote<span class="_"> </span><span class="ffd">-</span></div><div class="t m5 x116 h69 y1415 ff7 fs39 fc1 sc0 ls0 ws0">t</div><div class="t m5 x116 h50 y1416 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xba h26 y1417 ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_"> </span><span class="ff7">as<span class="_"> </span>follows:</span></div><div class="t m5 x17 h5b y1418 ff1b fs14 fc6 sc0 ls0 ws0">principle:<span class="_ _e"> </span><span class="ff7 fs19 fc1">T<span class="_ _3"></span>wo’s-complement<span class="_"> </span>negation</span></div><div class="t m5 x17 h26 y1419 ff7 fs19 fc1 sc0 ls73 ws0">Fo<span class="_ _2"></span>r<span class="_ _15"> </span><span class="ff11 ls0">x<span class="_ _21"> </span><span class="ff7">in<span class="_ _16"> </span>the<span class="_ _16"> </span>range<span class="_ _16"> </span><span class="ffa">TMin</span></span></span></div><div class="t m5 x4d h50 y141a ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x112 h46 y141b ff12 fs19 fc1 sc0 ls0 ws0">≤<span class="_ _10"> </span><span class="ff11">x<span class="_ _11"> </span></span>≤<span class="_ _10"> </span><span class="ffa">TMax</span></div><div class="t m5 x13b h50 y141a ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xdd h26 y141b ff7 fs19 fc1 sc0 ls0 ws0">,<span class="_ _16"> </span>its<span class="_ _14"> </span>two’s-complement<span class="_ _16"> </span>negation<span class="_ _16"> </span><span class="ffd">-</span></div><div class="t m5 x1dc h69 y141c ff7 fs39 fc1 sc0 ls0 ws0">t</div><div class="t m5 x1dc h50 y141d ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1e9 h26 y141b ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_ _15"> </span><span class="ff7">is</span></div><div class="t m5 x17 h26 y141e ff7 fs19 fc1 sc0 ls0 ws0">given<span class="_"> </span>by<span class="_"> </span>the<span class="_"> </span>formula</div><div class="t m5 x4d h3a y141f ffd fs19 fc1 sc0 ls0 ws0">-</div><div class="t m5 x129 h69 y1420 ff7 fs39 fc1 sc0 ls0 ws0">t</div><div class="t m5 x129 h50 y1421 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1d0 h46 y1422 ff11 fs19 fc1 sc0 ls0 ws0">x<span class="_ _11"> </span><span class="ff12">=</span></div><div class="t m5 xd h5c y1423 ff1e fs19 fc1 sc0 ls0 ws0"></div><div class="t m5 x91 h30 y1424 ffa fs19 fc1 sc0 ls0 ws0">TMin</div><div class="t m5 xa8 h50 y1425 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xa0 h46 y1426 ff11 fs19 fc1 sc0 ls5a ws0">,x<span class="_ _32"></span><span class="ff12 ls0">=<span class="_ _13"></span><span class="ffa">TMin</span></span></div><div class="t m5 x199 h50 y1425 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x91 h46 y1427 ff12 fs19 fc1 sc0 ls0 ws0">−<span class="ff11 ls57">x,<span class="_ _78"> </span>x<span class="_ _13"> </span>&gt;<span class="_ _6"> </span></span><span class="ffa">TMin</span></div><div class="t m5 x199 h50 y1428 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x1f0 h26 y1422 ff7 fs19 fc1 sc0 ls0 ws0">(2.15)</div><div class="t m5 x26 h26 y1429 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>hat<span class="_ _16"> </span>is<span class="_ _1"></span>,<span class="_ _14"> </span>for<span class="_ _16"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_ _16"> </span>two’s-complement<span class="_ _16"> </span>addition,<span class="_ _16"> </span><span class="ffa">TMin</span></div><div class="t m5 x1c9 h50 y142a ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xbd h26 y142b ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _16"> </span>its<span class="_ _16"> </span>own<span class="_ _16"> </span>additive<span class="_ _16"> </span>in-</div><div class="t m5 x17 h46 y142c ff7 fs19 fc1 sc0 ls0 ws0">verse<span class="_ _1"></span>,<span class="_"> </span>while<span class="_"> </span>any<span class="_"> </span>other<span class="_"> </span>value<span class="_"> </span><span class="ff11">x<span class="_"> </span></span>has<span class="_"> </span><span class="ff12">−<span class="ff11">x<span class="_"> </span></span></span>as<span class="_"> </span>its<span class="_"> </span>additive<span class="_"> </span>inverse<span class="_ _3"></span>.</div><div class="t m5 x17 h5b y142d ff1b fs14 fc6 sc0 ls0 ws0">derivation:<span class="_ _e"> </span><span class="ff7 fs19 fc1">T<span class="_ _7"></span>wo’s-complement<span class="_"> </span>negation</span></div><div class="t m5 x17 h26 y142e ff7 fs19 fc1 sc0 ls0 ws0">Observe<span class="_"> </span>that<span class="_ _13"> </span><span class="ffa">TMin</span></div><div class="t m5 x4f h50 y142f ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x203 h46 y1430 ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ffa">TMin</span></div><div class="t m5 x1a5 h50 y1431 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xf8 h46 y1430 ff12 fs19 fc1 sc0 lsbd ws0">=−<span class="_ _80"></span><span class="ff7 ls0">2</span></div><div class="t m5 x1eb h4b y1432 ff11 fs25 fc1 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 x143 h46 y1433 ff12 fs19 fc1 sc0 lsbd ws0">+−<span class="_ _80"></span><span class="ff7 ls0">2</span></div><div class="t m5 x113 h4b y1434 ff11 fs25 fc1 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 xd2 h46 y1433 ff12 fs19 fc1 sc0 lsbd ws0">=−<span class="_ _80"></span><span class="ff7 ls0">2</span></div><div class="t m5 x19d h50 y1434 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x19b h26 y1433 ff7 fs19 fc1 sc0 ls0 ws0">.<span class="_"> </span>T<span class="_ _1"></span>his<span class="_"> </span>would<span class="_"> </span>cause<span class="_ _13"> </span>nega-</div><div class="t m5 x17 h26 y1435 ff7 fs19 fc1 sc0 ls0 ws0">tive<span class="_"> </span>overﬂow<span class="_ _3"></span>,<span class="_ _11"> </span>and<span class="_"> </span>hence<span class="_ _11"> </span><span class="ffa">TMin</span></div><div class="t m5 x8f h50 y1436 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xb7 h3a y1437 ffd fs19 fc1 sc0 ls0 ws0">+</div><div class="t m5 xac h69 y1438 ff7 fs39 fc1 sc0 ls0 ws0">t</div><div class="t m5 xac h50 y1439 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x167 h30 y1437 ffa fs19 fc1 sc0 ls0 ws0">TMin</div><div class="t m5 x1d1 h50 y1436 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x176 h46 y1437 ff12 fs19 fc1 sc0 ls2f ws0">=−<span class="_ _80"></span><span class="ff7 ls0">2</span></div><div class="t m5 x20c h50 y1438 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x99 h46 y1437 ff12 fs19 fc1 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff7">2</span></div><div class="t m5 x3f h50 y1438 ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 xf4 h46 y1437 ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7 lsa0">0.<span class="_ _11"> </span>F<span class="_ _1"></span>or<span class="_ _11"> </span>values<span class="_"> </span>of<span class="_ _11"> </span><span class="ff11 ls0">x<span class="_"> </span><span class="ff7">such</span></span></span></div><div class="t m5 x17 h26 y143a ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _6"> </span><span class="ff11 lsbe">x&gt;<span class="_ _1"></span><span class="ffa ls0">TMin</span></span></div><div class="t m5 x5a h50 y143b ff11 fs25 fc1 sc0 ls0 ws0">w</div><div class="t m5 x126 h46 y143c ff7 fs19 fc1 sc0 ls0 ws0">,<span class="_ _13"> </span>the<span class="_ _a"> </span>value<span class="_ _6"> </span><span class="ff12">−<span class="ff11">x<span class="_ _10"> </span></span></span>can<span class="_ _6"> </span>also<span class="_ _6"> </span>be<span class="_ _6"> </span>represented<span class="_ _6"> </span>as<span class="_ _13"> </span>a<span class="_ _a"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_ _6"> </span>two’s-complement</div><div class="t m5 x17 h46 y143d ff7 fs19 fc1 sc0 ls0 ws0">number,<span class="_"> </span>and<span class="_"> </span>their<span class="_"> </span>sum<span class="_"> </span>will<span class="_"> </span>be<span class="_"> </span><span class="ff12">−<span class="ff11">x<span class="_ _10"> </span></span>+<span class="_ _10"> </span><span class="ff11">x<span class="_ _11"> </span></span>=<span class="_ _13"> </span></span><span class="ls93">0.</span></div><div class="t m5 x17 h47 y143e ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>2.33<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>189)</span></div><div class="t m5 x17 h46 y143f ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_"> </span>can<span class="_ _13"> </span>represent<span class="_"> </span>a<span class="_ _13"> </span>bit<span class="_"> </span>pattern<span class="_ _13"> </span>of<span class="_"> </span>length<span class="_ _13"> </span><span class="ff11">w<span class="_ _10"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>4<span class="_ _13"> </span>with<span class="_"> </span>a<span class="_ _13"> </span>single<span class="_"> </span>hex<span class="_ _13"> </span>digit.<span class="_"> </span>F<span class="_ _3"></span>or<span class="_"> </span>a<span class="_ _13"> </span>two’s-</div><div class="t m5 x17 h26 y1440 ff7 fs19 fc1 sc0 ls0 ws0">complement<span class="_"> </span>interpretation<span class="_"> </span>of<span class="_"> </span>these<span class="_"> </span>digits<span class="_ _1"></span>,<span class="_"> </span>ﬁll<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>table<span class="_"> </span>to<span class="_"> </span>determine</div><div class="t m5 x17 h26 y1441 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>additive<span class="_"> </span>inverses<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>digits<span class="_"> </span>shown:</div><div class="t m5 xd1 h55 y1442 ff11 fs21 fc2 sc0 ls0 ws0">x</div><div class="t m5 x137 h2d y1443 ffd fs1e fc2 sc0 ls0 ws0">-</div><div class="t m5 x8f h57 y1444 ff7 fs31 fc2 sc0 ls0 ws0">t</div><div class="t m5 x8f h33 y1445 ff7 fs20 fc2 sc0 ls0 ws0">4</div><div class="t m5 xd h55 y1443 ff11 fs21 fc2 sc0 ls0 ws0">x</div><div class="t m5 x17 h31 y1446 ff7 fs21 fc2 sc0 ls0 ws0">Hex<span class="_ _7b"> </span>Decimal<span class="_ _73"> </span>Decimal<span class="_ _28"> </span>Hex</div><div class="t m5 x1cd h2d y1447 ffd fs1e fc2 sc0 ls0 ws0">2</div><div class="t m5 x1cd h2d y1448 ffd fs1e fc1 sc0 ls0 ws0">3</div><div class="t m5 x1cd h2d y1449 ffd fs1e fc1 sc0 ls0 ws0">9</div><div class="t m5 x1cd h2d y144a ffd fs1e fc1 sc0 ls0 ws0">B</div><div class="t m5 x1cd h2d y144b ffd fs1e fc1 sc0 ls0 ws0">C</div><div class="t m5 x26 h26 y144c ff7 fs19 fc1 sc0 ls0 ws0">What<span class="_"> </span>do<span class="_"> </span>you<span class="_"> </span>observe<span class="_"> </span>about<span class="_"> </span>the<span class="_"> </span>bit<span class="_"> </span>patterns<span class="_"> </span>generated<span class="_"> </span>by<span class="_"> </span>two’s-complement</div><div class="t m5 x17 h26 y144d ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span>unsigned<span class="_"> </span>(Problem<span class="_"> </span>2.28)<span class="_"> </span>negation?</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
