<div id="pf27c" class="pf w2 h11" data-page-no="27c"><div class="pc pc27c w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg27c.png"/><div class="t m5 x17 h2f y36 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.12</div><div class="t m5 x17 h2f y54de ffe fs16 fc1 sc0 ls0 ws0">Reading<span class="_"> </span>a<span class="_"> </span>disk<span class="_"> </span>sector<span class="_ _3"></span>.</div><div class="t m5 xfa he0 y54df ff7a fs91 fc1 sc0 ls0 ws0">Keyboard<span class="_ _1f7"></span>Mouse</div><div class="t m5 x115 he1 y54e0 ff7a fs92 fc1 sc0 ls0 ws0">USB</div><div class="t m5 xe7 he1 y54e1 ff7a fs92 fc1 sc0 ls0 ws0">controller</div><div class="t m5 xb3 he1 y54e2 ff7a fs92 fc1 sc0 ls0 ws0">CPU chip</div><div class="t m5 xb3 he1 y54e3 ff7a fs92 fc1 sc0 ls0 ws0">(a) The CPU initiates a disk read by writing a command, logical block number<span class="_ _1"></span>, and</div><div class="t m5 xb3 he1 y54e4 ff7a fs92 fc1 sc0 ls0 ws0">destination memory address to the memory-mapped address associated with the disk.</div><div class="t m5 xed he1 y54e5 ff7a fs92 fc1 sc0 ls0 ws0">Register file</div><div class="t m5 x1a1 he1 y54e6 ff7a fs92 fc1 sc0 ls0 ws0">I/O bus</div><div class="t m5 x185 he0 y54e7 ff7a fs91 fc1 sc0 ls0 ws0">Monitor</div><div class="t m5 x1df he1 y54e8 ff7a fs92 fc1 sc0 ls0 ws0">Disk</div><div class="t m5 x166 he1 y54e9 ff7a fs92 fc1 sc0 ls0 ws0">Main</div><div class="t m5 x1c3 he1 y54ea ff7a fs92 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x183 he1 y54eb ff7a fs92 fc1 sc0 ls0 ws0">Bus interface</div><div class="t m5 xa7 he1 y54ec ff7a fs92 fc1 sc0 ls0 ws0">Graphics</div><div class="t m5 x198 he1 y54ed ff7a fs92 fc1 sc0 ls0 ws0">adapter</div><div class="t m5 x1df he1 y54ec ff7a fs92 fc1 sc0 ls0 ws0">Disk</div><div class="t m5 x19a he1 y54ed ff7a fs92 fc1 sc0 ls0 ws0">controller</div><div class="t m5 xb8 he1 y54ee ff7a fs92 fc1 sc0 ls0 ws0">ALU</div><div class="t m5 xbe he0 y54ef ff7a fs91 fc1 sc0 ls0 ws0">Keyboard<span class="_ _1f7"></span>Mouse</div><div class="t m5 x157 he1 y54f0 ff7a fs92 fc1 sc0 ls0 ws0">USB</div><div class="t m5 x10f he1 y54f1 ff7a fs92 fc1 sc0 ls0 ws0">controller</div><div class="t m5 x8f he1 y54f2 ff7a fs92 fc1 sc0 ls0 ws0">CPU chip</div><div class="t m5 x1eb he1 y54f3 ff7a fs92 fc1 sc0 ls0 ws0">Register file</div><div class="t m5 xde he1 y54f4 ff7a fs92 fc1 sc0 ls0 ws0">I/O bus</div><div class="t m5 x119 he0 y54f5 ff7a fs91 fc1 sc0 ls0 ws0">Monitor</div><div class="t m5 x1aa he1 y54f6 ff7a fs92 fc1 sc0 ls0 ws0">Disk</div><div class="t m5 x1fd he1 y54f7 ff7a fs92 fc1 sc0 ls0 ws0">Main</div><div class="t m5 x196 he1 y54f8 ff7a fs92 fc1 sc0 ls0 ws0">memory</div><div class="t m5 xb2 he1 y54f9 ff7a fs92 fc1 sc0 ls0 ws0">Bus interface</div><div class="t m5 xb8 he1 y54fa ff7a fs92 fc1 sc0 ls0 ws0">Graphics</div><div class="t m5 x1b1 he1 y54fb ff7a fs92 fc1 sc0 ls0 ws0">adapter</div><div class="t m5 x1aa he1 y54fa ff7a fs92 fc1 sc0 ls0 ws0">Disk</div><div class="t m5 xf9 he1 y54fb ff7a fs92 fc1 sc0 ls0 ws0">controller</div><div class="t m5 x16 he1 y54fc ff7a fs92 fc1 sc0 ls0 ws0">ALU</div><div class="t m5 xb3 he1 y54fd ff7a fs92 fc1 sc0 ls0 ws0">(b) The disk controller reads the sector and performs a DMA<span class="_ _1"></span> transfer into main memory<span class="_ _1"></span>.</div><div class="t m5 xfa he0 y54fe ff7a fs91 fc1 sc0 ls0 ws0">Keyboard<span class="_ _1f7"></span>Mouse</div><div class="t m5 x115 he1 y54ff ff7a fs92 fc1 sc0 ls0 ws0">USB</div><div class="t m5 xe7 he1 y5500 ff7a fs92 fc1 sc0 ls0 ws0">controller</div><div class="t m5 xb3 he1 y5501 ff7a fs92 fc1 sc0 ls0 ws0">CPU chip</div><div class="t m5 xed he1 y5502 ff7a fs92 fc1 sc0 ls0 ws0">Register file</div><div class="t m5 x23b he1 y5503 ff7a fs92 fc1 sc0 ls0 ws0">Interrupt</div><div class="t m5 x1a1 he1 y5504 ff7a fs92 fc1 sc0 ls0 ws0">I/O bus</div><div class="t m5 x185 he0 y5505 ff7a fs91 fc1 sc0 ls0 ws0">Monitor</div><div class="t m5 x1df he1 y5506 ff7a fs92 fc1 sc0 ls0 ws0">Disk</div><div class="t m5 x166 he1 y5507 ff7a fs92 fc1 sc0 ls0 ws0">Main</div><div class="t m5 x1c3 he1 y5508 ff7a fs92 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x183 he1 y5509 ff7a fs92 fc1 sc0 ls0 ws0">Bus interface</div><div class="t m5 xa7 he1 y550a ff7a fs92 fc1 sc0 ls0 ws0">Graphics</div><div class="t m5 x198 he1 y550b ff7a fs92 fc1 sc0 ls0 ws0">adapter</div><div class="t m5 x1df he1 y550a ff7a fs92 fc1 sc0 ls0 ws0">Disk</div><div class="t m5 x19a he1 y550b ff7a fs92 fc1 sc0 ls0 ws0">controller</div><div class="t m5 xb8 he1 y550c ff7a fs92 fc1 sc0 ls0 ws0">ALU</div><div class="t m5 xb3 he1 y550d ff7a fs92 fc1 sc0 ls0 ws0">(c) When the DMA<span class="_ _1"></span> transfer is complete, the disk controller notiÔ¨Åes the CPU with an interrupt.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
