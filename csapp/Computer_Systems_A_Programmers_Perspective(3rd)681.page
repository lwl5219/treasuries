<div id="pf2a9" class="pf w2 h11" data-page-no="2a9"><div class="pc pc2a9 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2a9.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">680<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x1d h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">where</div><div class="t m5 x69 h45 y5aaa ff11 fs19 fc2 sc0 ls0 ws0">c</div><div class="t m5 x88 h3c y5aab ff7 fs25 fc2 sc0 ls0 ws0">11</div><div class="t m5 x119 h46 y5aac ff12 fs19 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 x92 h3c y5aab ff7 fs25 fc2 sc0 ls0 ws0">11</div><div class="t m5 xb1 h45 y5aac ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1db h3c y5aab ff7 fs25 fc2 sc0 ls0 ws0">11</div><div class="t m5 x13c h46 y5aac ff12 fs19 fc2 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 x41 h3c y5aab ff7 fs25 fc2 sc0 ls0 ws0">12</div><div class="t m5 x18b h45 y5aac ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1aa h3c y5aab ff7 fs25 fc2 sc0 ls0 ws0">21</div><div class="t m5 x69 h45 y5aad ff11 fs19 fc2 sc0 ls0 ws0">c</div><div class="t m5 x23d h3c y5aae ff7 fs25 fc2 sc0 ls0 ws0">12</div><div class="t m5 x119 h46 y5aad ff12 fs19 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 x92 h3c y5aae ff7 fs25 fc2 sc0 ls0 ws0">11</div><div class="t m5 xb1 h45 y5aad ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1db h3c y5aae ff7 fs25 fc2 sc0 ls0 ws0">12</div><div class="t m5 xf4 h46 y5aad ff12 fs19 fc2 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 xfe h3c y5aae ff7 fs25 fc2 sc0 ls0 ws0">12</div><div class="t m5 x94 h45 y5aad ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1aa h3c y5aae ff7 fs25 fc2 sc0 ls0 ws0">22</div><div class="t m5 x69 h45 y5aaf ff11 fs19 fc2 sc0 ls0 ws0">c</div><div class="t m5 x88 h3c y5ab0 ff7 fs25 fc2 sc0 ls0 ws0">21</div><div class="t m5 x119 h46 y5aaf ff12 fs19 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 x92 h3c y5ab0 ff7 fs25 fc2 sc0 ls0 ws0">21</div><div class="t m5 xb1 h45 y5aaf ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1db h3c y5ab0 ff7 fs25 fc2 sc0 ls0 ws0">11</div><div class="t m5 x13c h46 y5aaf ff12 fs19 fc2 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 x41 h3c y5ab0 ff7 fs25 fc2 sc0 ls0 ws0">22</div><div class="t m5 x18b h45 y5aaf ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1aa h3c y5ab0 ff7 fs25 fc2 sc0 ls0 ws0">21</div><div class="t m5 x69 h45 y5ab1 ff11 fs19 fc2 sc0 ls0 ws0">c</div><div class="t m5 x23d h3c y5ab2 ff7 fs25 fc2 sc0 ls0 ws0">22</div><div class="t m5 x119 h46 y5ab1 ff12 fs19 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 x92 h3c y5ab2 ff7 fs25 fc2 sc0 ls0 ws0">21</div><div class="t m5 xb1 h45 y5ab1 ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1db h3c y5ab2 ff7 fs25 fc2 sc0 ls0 ws0">12</div><div class="t m5 xf4 h46 y5ab1 ff12 fs19 fc2 sc0 ls0 ws0">+<span class="_ _13"> </span><span class="ff11">a</span></div><div class="t m5 xfe h3c y5ab2 ff7 fs25 fc2 sc0 ls0 ws0">22</div><div class="t m5 x94 h45 y5ab1 ff11 fs19 fc2 sc0 ls0 ws0">b</div><div class="t m5 x1aa h3c y5ab2 ff7 fs25 fc2 sc0 ls0 ws0">22</div><div class="t m5 x1d h26 y5ab3 ff7 fs19 fc2 sc0 ls0 ws0">A<span class="_ _13"> </span>matrix<span class="_ _6"> </span>multiply<span class="_ _13"> </span>function<span class="_ _6"> </span>is<span class="_ _13"> </span>usually<span class="_ _6"> </span>implemented<span class="_ _13"> </span>using<span class="_ _13"> </span>three<span class="_ _6"> </span>nested<span class="_ _13"> </span>loops<span class="_ _3"></span>,<span class="_ _13"> </span>which</div><div class="t m5 x1d h26 y5ab4 ff7 fs19 fc2 sc0 ls0 ws0">are<span class="_"> </span>identiﬁed<span class="_ _13"> </span>by<span class="_"> </span>their<span class="_"> </span>indices<span class="_"> </span><span class="ff11">i<span class="_ _2"></span></span>,<span class="_"> </span><span class="ff11">j<span class="_ _be"></span></span>,<span class="_"> </span>and<span class="_"> </span><span class="ff11">k<span class="_ _2"></span></span>.<span class="_"> </span>If<span class="_ _13"> </span>we<span class="_"> </span>permute<span class="_"> </span>the<span class="_ _13"> </span>loops<span class="_"> </span>and<span class="_"> </span>make<span class="_"> </span>some</div><div class="t m5 x1d h26 y5ab5 ff7 fs19 fc2 sc0 ls0 ws0">other<span class="_"> </span>minor<span class="_ _11"> </span>code<span class="_"> </span>changes<span class="_ _1"></span>,<span class="_ _11"> </span>we<span class="_ _11"> </span>can<span class="_"> </span>create<span class="_ _11"> </span>the<span class="_ _11"> </span>six<span class="_"> </span>functionally<span class="_ _11"> </span>equivalent<span class="_"> </span>versions</div><div class="t m5 x1d h26 y5ab6 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _13"> </span>matrix<span class="_ _13"> </span>multiply<span class="_ _13"> </span>shown<span class="_ _13"> </span>in<span class="_"> </span>F<span class="_ _3"></span>igure<span class="_"> </span>6.44.<span class="_ _13"> </span>Each<span class="_ _13"> </span>version<span class="_ _13"> </span>is<span class="_ _13"> </span>uniquely<span class="_ _13"> </span>identiﬁed<span class="_ _13"> </span>by<span class="_ _13"> </span>the</div><div class="t m5 x1d h26 y5ab7 ff7 fs19 fc2 sc0 ls0 ws0">ordering<span class="_"> </span>of<span class="_"> </span>its<span class="_"> </span>loops<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y5ab8 ff7 fs19 fc2 sc0 ls0 ws0">At<span class="_ _16"> </span>a<span class="_ _14"> </span>high<span class="_ _16"> </span>level,<span class="_ _15"> </span>the<span class="_ _16"> </span>six<span class="_ _14"> </span>versions<span class="_ _14"> </span>are<span class="_ _16"> </span>quite<span class="_ _14"> </span>similar.<span class="_ _16"> </span>If<span class="_ _16"> </span>addition<span class="_ _14"> </span>is<span class="_ _14"> </span>associative<span class="_ _1"></span>,</div><div class="t m5 x1d h26 y5ab9 ff7 fs19 fc2 sc0 ls0 ws0">then<span class="_ _6"> </span>each<span class="_ _13"> </span>version<span class="_ _6"> </span>computes<span class="_ _6"> </span>an<span class="_ _13"> </span>identical<span class="_ _6"> </span>result.</div><div class="t m5 xfe h3c y5aba ff7 fs25 fc2 sc0 ls0 ws0">1</div><div class="t m5 xf9 h26 y5abb ff7 fs19 fc2 sc0 ls0 ws0">Each<span class="_ _6"> </span>version<span class="_ _13"> </span>performs<span class="_ _6"> </span><span class="ff11 ls12">O(<span class="_ _3"></span>n</span></div><div class="t m5 x201 h3c y5abc ff7 fs25 fc2 sc0 ls0 ws0">3</div><div class="t m5 x233 h26 y5abb ff11 fs19 fc2 sc0 ls0 ws0">)<span class="_ _6"> </span><span class="ff7">total</span></div><div class="t m5 x1d h26 y5abd ff7 fs19 fc2 sc0 ls0 ws0">operations<span class="_ _6"> </span>and<span class="_ _6"> </span>an<span class="_ _13"> </span>identical<span class="_ _a"> </span>number<span class="_ _13"> </span>of<span class="_ _a"> </span>adds<span class="_ _13"> </span>and<span class="_ _a"> </span>multiplies<span class="_ _1"></span>.<span class="_ _13"> </span>Each<span class="_ _a"> </span>of<span class="_ _13"> </span>the<span class="_ _a"> </span><span class="ff11">n</span></div><div class="t m5 x6e h3c y5abe ff7 fs25 fc2 sc0 ls0 ws0">2</div><div class="t m5 x71 h26 y5abf ff7 fs19 fc2 sc0 ls0 ws0">elements</div><div class="t m5 x1d h26 y5ac0 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span><span class="ff11">A<span class="_ _13"> </span></span>and<span class="_"> </span><span class="ff11">B<span class="_ _11"> </span></span>is<span class="_"> </span>read<span class="_"> </span><span class="ff11">n<span class="_ _13"> </span></span>times<span class="_ _1"></span>.<span class="_"> </span>Each<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_"> </span><span class="ff11">n</span></div><div class="t m5 x40 h3c y5ac1 ff7 fs25 fc2 sc0 ls0 ws0">2</div><div class="t m5 x82 h26 y5ac2 ff7 fs19 fc2 sc0 ls0 ws0">elements<span class="_"> </span>of<span class="_ _13"> </span><span class="ff11">C<span class="_ _16"> </span></span>is<span class="_ _13"> </span>computed<span class="_"> </span>by<span class="_"> </span>summing</div><div class="t m5 x1d h26 y5ac3 ff11 fs19 fc2 sc0 ls0 ws0">n<span class="_ _13"> </span><span class="ff7">values<span class="_ _1"></span>.<span class="_ _13"> </span>However,<span class="_ _13"> </span>if<span class="_ _13"> </span>we<span class="_ _13"> </span>analyze<span class="_ _13"> </span>the<span class="_ _13"> </span>behavior<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>innermost<span class="_ _13"> </span>loop<span class="_ _13"> </span>iterations<span class="_ _1"></span>,<span class="_ _13"> </span>we</span></div><div class="t m5 x1d h26 y5ac4 ff7 fs19 fc2 sc0 ls0 ws0">ﬁnd<span class="_"> </span>that<span class="_ _11"> </span>there<span class="_"> </span>are<span class="_ _11"> </span>differences<span class="_"> </span>in<span class="_ _11"> </span>the<span class="_"> </span>number<span class="_ _11"> </span>of<span class="_"> </span>accesses<span class="_ _11"> </span>and<span class="_"> </span>the<span class="_ _11"> </span>locality<span class="_ _3"></span>.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_ _11"> </span>the</div><div class="t m5 x1d h26 y5ac5 ff7 fs19 fc2 sc0 ls0 ws0">purposes<span class="_"> </span>of<span class="_"> </span>this<span class="_"> </span>analysis<span class="_ _1"></span>,<span class="_"> </span>we<span class="_"> </span>make<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>assumptions:</div><div class="t m5 x75 h3d y5ac6 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h46 y5ac7 ff7 fs19 fc1 sc0 ls0 ws0">Each<span class="_"> </span>array<span class="_"> </span>is<span class="_"> </span>an<span class="_"> </span><span class="ff11">n<span class="_ _13"> </span><span class="ff12">×<span class="_ _10"> </span></span>n<span class="_ _10"> </span></span>array<span class="_"> </span>of<span class="_"> </span><span class="ffd">double</span>,<span class="_"> </span>with<span class="_"> </span><span class="ffd">sizeof<span class="_ _1"></span><span class="ff11">(<span class="ffd">double<span class="_ _0"></span><span class="ff11">)<span class="_ _13"> </span><span class="ff12">=<span class="_ _10"> </span><span class="ff7 ls63">8.</span></span></span></span></span></span></div><div class="t m5 x75 h3d y5ac8 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h46 y5ac9 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>here<span class="_"> </span>is<span class="_"> </span>a<span class="_"> </span>single<span class="_"> </span>cache<span class="_"> </span>with<span class="_"> </span>a<span class="_"> </span>32-byte<span class="_"> </span>block<span class="_"> </span>size<span class="_"> </span>(<span class="ff11">B<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span></span>32).</div><div class="t m5 x75 h3d y5aca ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y5acb ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>array<span class="_ _13"> </span>size<span class="_ _13"> </span><span class="ff11">n<span class="_ _13"> </span></span>is<span class="_ _13"> </span>so<span class="_ _13"> </span>large<span class="_ _13"> </span>that<span class="_ _6"> </span>a<span class="_ _13"> </span>single<span class="_ _13"> </span>matrix<span class="_ _13"> </span>row<span class="_ _13"> </span>does<span class="_ _13"> </span>not<span class="_ _13"> </span>ﬁt<span class="_ _13"> </span>in<span class="_ _6"> </span>the<span class="_ _13"> </span>L1<span class="_ _13"> </span>cache<span class="_ _0"></span>.</div><div class="t m5 x75 h3d y5acc ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y5acd ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>compiler<span class="_ _16"> </span>stores<span class="_ _16"> </span>local<span class="_ _11"> </span>variables<span class="_ _16"> </span>in<span class="_ _16"> </span>registers<span class="_ _1"></span>,<span class="_ _16"> </span>and<span class="_ _16"> </span>thus<span class="_ _16"> </span>references<span class="_ _16"> </span>to<span class="_ _16"> </span>local</div><div class="t m5 x29 h26 y5ace ff7 fs19 fc1 sc0 ls0 ws0">variables<span class="_"> </span>inside<span class="_"> </span>loops<span class="_"> </span>do<span class="_"> </span>not<span class="_"> </span>require<span class="_"> </span>any<span class="_"> </span>load<span class="_"> </span>or<span class="_"> </span>store<span class="_"> </span>instructions<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y5acf ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_"> </span>6.45<span class="_"> </span>summarizes<span class="_"> </span>the<span class="_"> </span>results<span class="_ _13"> </span>of<span class="_"> </span>our<span class="_"> </span>inner<span class="_ _1"></span>-loop<span class="_"> </span>analysis<span class="_ _1"></span>.<span class="_"> </span>Notice<span class="_"> </span>that<span class="_ _13"> </span>the</div><div class="t m5 x1d h26 y5ad0 ff7 fs19 fc1 sc0 ls0 ws0">six<span class="_"> </span>versions<span class="_ _13"> </span>pair<span class="_"> </span>up<span class="_ _13"> </span>into<span class="_"> </span>three<span class="_ _13"> </span>equivalence<span class="_"> </span>classes<span class="_ _3"></span>,<span class="_"> </span>which<span class="_ _13"> </span>we<span class="_"> </span>denote<span class="_ _13"> </span>by<span class="_"> </span>the<span class="_ _13"> </span>pair<span class="_"> </span>of</div><div class="t m5 x1d h26 y5ad1 ff7 fs19 fc1 sc0 ls0 ws0">matrices<span class="_ _13"> </span>that<span class="_ _13"> </span>are<span class="_"> </span>accessed<span class="_ _13"> </span>in<span class="_ _13"> </span>the<span class="_ _13"> </span>inner<span class="_"> </span>loop<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_ _13"> </span>versions<span class="_"> </span><span class="ff11 lsd">ij<span class="_ _a"> </span>k<span class="_"> </span></span>and<span class="_ _13"> </span><span class="ff11 ls174">ji<span class="_ _0"></span>k<span class="_ _a"> </span><span class="ff7 ls0">are</span></span></div><div class="t m5 x1d h26 y5ad2 ff7 fs19 fc1 sc0 ls0 ws0">members<span class="_"> </span>of<span class="_"> </span>class<span class="_ _11"> </span><span class="ff11">AB<span class="_"> </span></span>because<span class="_"> </span>they<span class="_ _11"> </span>reference<span class="_"> </span>arrays<span class="_"> </span><span class="ff11">A<span class="_ _11"> </span></span>and<span class="_"> </span><span class="ff11">B<span class="_"> </span></span>(but<span class="_ _11"> </span>not<span class="_"> </span><span class="ff11">C<span class="_ _5"></span></span>)<span class="_"> </span>in<span class="_ _11"> </span>their</div><div class="t m5 x1d h26 y5ad3 ff7 fs19 fc1 sc0 ls0 ws0">innermost<span class="_"> </span>loop<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_"> </span>each<span class="_"> </span>class<span class="_ _3"></span>,<span class="_"> </span>we<span class="_"> </span>have<span class="_"> </span>counted<span class="_ _13"> </span>the<span class="_"> </span>number<span class="_"> </span>of<span class="_"> </span>loads<span class="_ _13"> </span>(reads)<span class="_"> </span>and</div><div class="t m5 x1d h26 y5ad4 ff7 fs19 fc1 sc0 ls0 ws0">stores<span class="_ _13"> </span>(writes)<span class="_"> </span>in<span class="_ _13"> </span>each<span class="_"> </span>inner<span class="_ _3"></span>-loop<span class="_"> </span>iteration,<span class="_ _13"> </span>the<span class="_"> </span>number<span class="_ _13"> </span>of<span class="_"> </span>references<span class="_ _13"> </span>to<span class="_ _13"> </span><span class="ff11">A</span>,<span class="_"> </span><span class="ff11">B<span class="_ _5"></span></span>,<span class="_"> </span>and</div><div class="t m5 x1d h26 y5ad5 ff11 fs19 fc1 sc0 ls0 ws0">C<span class="_ _11"> </span><span class="ff7">that<span class="_"> </span>will<span class="_"> </span>miss<span class="_ _13"> </span>in<span class="_"> </span>the<span class="_"> </span>cache<span class="_ _13"> </span>in<span class="_"> </span>each<span class="_"> </span>loop<span class="_ _13"> </span>iteration,<span class="_"> </span>and<span class="_"> </span>the<span class="_ _13"> </span>total<span class="_"> </span>number<span class="_"> </span>of<span class="_ _13"> </span>cache</span></div><div class="t m5 x1d h26 y5ad6 ff7 fs19 fc1 sc0 ls0 ws0">misses<span class="_"> </span>per<span class="_"> </span>iteration.</div><div class="t m5 x29 h26 y5ad7 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _11"> </span>inner<span class="_ _11"> </span>loops<span class="_ _11"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>class<span class="_ _11"> </span><span class="ff11">AB<span class="_"> </span></span>routines<span class="_ _11"> </span>(F<span class="_ _0"></span>igure<span class="_"> </span>6.44(a)<span class="_ _11"> </span>and<span class="_ _11"> </span>(b))<span class="_ _11"> </span>scan<span class="_"> </span>a<span class="_ _11"> </span>row</div><div class="t m5 x1b0 h26 y5ad8 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_"> </span>array<span class="_"> </span><span class="ff11">A<span class="_ _11"> </span></span>with<span class="_"> </span>a<span class="_ _11"> </span>stride<span class="_"> </span>of<span class="_"> </span>1.<span class="_ _11"> </span>Since<span class="_"> </span>each<span class="_ _11"> </span>cache<span class="_"> </span>block<span class="_ _11"> </span>holds<span class="_"> </span>four<span class="_"> </span>8-byte<span class="_ _11"> </span>words<span class="_ _1"></span>,<span class="_"> </span>the</div><div class="t m5 x1d h26 y5ad9 ff7 fs19 fc1 sc0 ls0 ws0">miss<span class="_ _13"> </span>rate<span class="_ _13"> </span>for<span class="_ _13"> </span><span class="ff11">A<span class="_ _13"> </span></span>is<span class="_ _13"> </span>0.25<span class="_ _13"> </span>misses<span class="_ _6"> </span>per<span class="_ _13"> </span>iteration.<span class="_ _13"> </span>On<span class="_ _13"> </span>the<span class="_ _13"> </span>other<span class="_ _13"> </span>hand,<span class="_ _13"> </span>the<span class="_ _13"> </span>inner<span class="_ _13"> </span>loop<span class="_ _13"> </span>scans</div><div class="t m5 x1d h26 y5ada ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>column<span class="_"> </span>of<span class="_"> </span><span class="ff11">B<span class="_"> </span></span>with<span class="_"> </span>a<span class="_"> </span>stride<span class="_"> </span>of<span class="_"> </span><span class="ff11">n</span>.<span class="_"> </span>Since<span class="_"> </span><span class="ff11">n<span class="_ _10"> </span></span>is<span class="_"> </span>large<span class="_ _1"></span>,<span class="_"> </span>each<span class="_"> </span>access<span class="_"> </span>of<span class="_"> </span>array<span class="_"> </span><span class="ff11">B<span class="_"> </span></span>results<span class="_"> </span>in</div><div class="t m5 x1d h26 y5adb ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>miss<span class="_ _1"></span>,<span class="_"> </span>for<span class="_"> </span>a<span class="_"> </span>total<span class="_"> </span>of<span class="_"> </span>1<span class="_ _1"></span><span class="ff11">.<span class="ff7">25<span class="_"> </span>misses<span class="_"> </span>per<span class="_"> </span>iteration.</span></span></div><div class="t m5 x29 h26 y5adc ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _11"> </span>inner<span class="_ _11"> </span>loops<span class="_ _11"> </span>in<span class="_ _11"> </span>the<span class="_ _16"> </span>class<span class="_"> </span><span class="ff11">AC<span class="_"> </span></span>routines<span class="_ _11"> </span>(Figure<span class="_"> </span>6.44(c)<span class="_ _11"> </span>and<span class="_ _11"> </span>(d))<span class="_ _11"> </span>have<span class="_ _11"> </span>some</div><div class="t m5 x1d h26 y5add ff7 fs19 fc1 sc0 ls0 ws0">problems<span class="_ _1"></span>.<span class="_ _f"> </span>Each<span class="_ _e"> </span>iteration<span class="_ _21"> </span>performs<span class="_ _e"> </span>two<span class="_ _21"> </span>loads<span class="_ _e"> </span>and<span class="_ _f"> </span>a<span class="_ _f"> </span>store<span class="_ _e"> </span>(as<span class="_ _21"> </span>opposed<span class="_ _e"> </span>to<span class="_ _21"> </span>the</div><div class="t m5 x1d h1d y28e1 ff7 fs17 fc2 sc0 ls0 ws0">1.<span class="_"> </span>As<span class="_ _10"> </span>we<span class="_"> </span>learned<span class="_"> </span>in<span class="_"> </span>Chapter<span class="_ _10"> </span>2,<span class="_"> </span>ﬂoating-point<span class="_"> </span>addition<span class="_ _10"> </span>is<span class="_"> </span>commutative<span class="_ _0"></span>,<span class="_"> </span>but<span class="_ _10"> </span>in<span class="_"> </span>general<span class="_"> </span>not<span class="_"> </span>associative.</div><div class="t m5 x1d h1d y5ade ff7 fs17 fc2 sc0 ls0 ws0">In<span class="_ _10"> </span>practice<span class="_ _0"></span>,<span class="_ _10"> </span>if<span class="_ _10"> </span>the<span class="_ _11"> </span>matrices<span class="_ _10"> </span>do<span class="_ _10"> </span>not<span class="_ _10"> </span>mix<span class="_ _10"> </span>extremely<span class="_ _10"> </span>large<span class="_ _10"> </span>values<span class="_ _10"> </span>with<span class="_ _11"> </span>extremely<span class="_ _10"> </span>small<span class="_ _10"> </span>ones<span class="_ _1"></span>,<span class="_ _11"> </span>as<span class="_ _10"> </span>often<span class="_ _10"> </span>is</div><div class="t m5 x1d h1d y5adf ff7 fs17 fc2 sc0 ls0 ws0">true<span class="_"> </span>when<span class="_"> </span>the<span class="_"> </span>matrices<span class="_"> </span>store<span class="_"> </span>physical<span class="_"> </span>properties<span class="_ _1"></span>,<span class="_"> </span>then<span class="_"> </span>the<span class="_"> </span>assumption<span class="_"> </span>of<span class="_"> </span>associativity<span class="_"> </span>is<span class="_"> </span>reasonable.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
