<div id="pf282" class="pf w2 h11" data-page-no="282"><div class="pc pc282 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg282.png"/><div class="t m5 x261 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>6.2<span class="_ _60"> </span>Locality<span class="_ _3e"> </span><span class="ffe fs1e">641</span></div><div class="t m5 x34 h2a y548 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">When<span class="_ _11"> </span>cycle<span class="_ _11"> </span>time<span class="_ _11"> </span>stood<span class="_ _16"> </span>still:<span class="_ _11"> </span>The<span class="_ _11"> </span>advent<span class="_ _11"> </span>of<span class="_ _16"> </span>multi-core<span class="_ _11"> </span>processors</span></div><div class="t m5 x34 h2b y2d0 ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _15"> </span>history<span class="_ _14"> </span>of<span class="_ _15"> </span>computers<span class="_ _15"> </span>is<span class="_ _14"> </span>marked<span class="_ _15"> </span>by<span class="_ _14"> </span>some<span class="_ _15"> </span>singular<span class="_ _15"> </span>events<span class="_ _14"> </span>that<span class="_ _15"> </span>caused<span class="_ _14"> </span>profound<span class="_ _15"> </span>changes<span class="_ _14"> </span>in<span class="_ _15"> </span>the</div><div class="t m5 x34 h2b y2d1 ff7 fs1e fc2 sc0 ls0 ws0">industry<span class="_"> </span>and<span class="_"> </span>the<span class="_ _10"> </span>world.<span class="_ _10"> </span>Interestingly<span class="_ _3"></span>,<span class="_ _11"> </span>these<span class="_"> </span>inﬂection<span class="_"> </span>points<span class="_"> </span>tend<span class="_ _11"> </span>to<span class="_"> </span>occur<span class="_"> </span>about<span class="_"> </span>once<span class="_ _10"> </span>per<span class="_ _11"> </span>decade:<span class="_"> </span>the</div><div class="t m5 x34 h2b y2d2 ff7 fs1e fc2 sc0 ls0 ws0">development<span class="_"> </span>of<span class="_ _11"> </span>F<span class="_ _1"></span>ortran<span class="_ _11"> </span>in<span class="_"> </span>the<span class="_ _11"> </span>1950s<span class="_ _1"></span>,<span class="_ _11"> </span>the<span class="_"> </span>introduction<span class="_ _11"> </span>of<span class="_ _10"> </span>the<span class="_ _11"> </span>IBM<span class="_ _10"> </span>360<span class="_ _11"> </span>in<span class="_ _10"> </span>the<span class="_ _11"> </span>early<span class="_ _10"> </span>1960s<span class="_ _1"></span>,<span class="_ _11"> </span>the<span class="_ _11"> </span>dawn<span class="_"> </span>of</div><div class="t m5 x34 h2b y2d3 ff7 fs1e fc2 sc0 ls0 ws0">the<span class="_"> </span>Internet<span class="_ _11"> </span>(then<span class="_"> </span>called<span class="_ _11"> </span>ARP<span class="_ _3"></span>ANET)<span class="_"> </span>in<span class="_ _11"> </span>the<span class="_"> </span>early<span class="_ _11"> </span>1970s<span class="_ _1"></span>,<span class="_ _10"> </span>the<span class="_ _11"> </span>introduction<span class="_ _10"> </span>of<span class="_ _11"> </span>the<span class="_"> </span>IBM<span class="_ _11"> </span>PC<span class="_"> </span>in<span class="_ _11"> </span>the<span class="_ _10"> </span>early</div><div class="t m5 x34 h2b y2d4 ff7 fs1e fc2 sc0 ls0 ws0">1980s<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>the<span class="_"> </span>creation<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>W<span class="_ _3"></span>orld<span class="_"> </span>Wide<span class="_"> </span>W<span class="_ _3"></span>eb<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>early<span class="_"> </span>1990s<span class="_ _1"></span>.</div><div class="t m5 x35 h2b y2d5 ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _15"> </span>most<span class="_ _14"> </span>recent<span class="_ _14"> </span>such<span class="_ _15"> </span>event<span class="_ _14"> </span>occurred<span class="_ _14"> </span>early<span class="_ _15"> </span>in<span class="_ _14"> </span>the<span class="_ _14"> </span>21st<span class="_ _15"> </span>century<span class="_ _3"></span>,<span class="_ _15"> </span>when<span class="_ _14"> </span>computer<span class="_ _14"> </span>manufacturers</div><div class="t m5 x34 h2b y2d6 ff7 fs1e fc2 sc0 ls0 ws0">ran<span class="_"> </span>headlong<span class="_"> </span>into<span class="_"> </span>the<span class="_"> </span>so-called<span class="_"> </span>power<span class="_"> </span>wall,<span class="_ _10"> </span>discovering<span class="_"> </span>that<span class="_ _10"> </span>they<span class="_"> </span>could<span class="_ _10"> </span>no<span class="_"> </span>longer<span class="_ _10"> </span>increase<span class="_"> </span>CPU<span class="_ _10"> </span>clock</div><div class="t m5 x34 h2b y549 ff7 fs1e fc2 sc0 ls0 ws0">frequencies<span class="_ _11"> </span>as<span class="_ _16"> </span>quickly<span class="_ _16"> </span>because<span class="_ _11"> </span>the<span class="_ _16"> </span>chips<span class="_ _16"> </span>would<span class="_ _11"> </span>then<span class="_ _16"> </span>consume<span class="_ _16"> </span>too<span class="_ _11"> </span>much<span class="_ _16"> </span>power.<span class="_ _11"> </span>T<span class="_ _0"></span>he<span class="_ _16"> </span>solution<span class="_ _11"> </span>was<span class="_ _16"> </span>to</div><div class="t m5 x34 h2b y54a ff7 fs1e fc2 sc0 ls0 ws0">improve<span class="_"> </span>performance<span class="_ _13"> </span>by<span class="_ _13"> </span>replacing<span class="_"> </span>a<span class="_ _13"> </span>single<span class="_ _13"> </span>large<span class="_"> </span>processor<span class="_ _13"> </span>with<span class="_ _13"> </span>multiple<span class="_"> </span>smaller<span class="_ _13"> </span>processor<span class="_ _13"> </span><span class="ffa">cores</span>,<span class="_"> </span>each</div><div class="t m5 x34 h2b y54b ff7 fs1e fc2 sc0 ls0 ws0">a<span class="_ _6"> </span>complete<span class="_ _13"> </span>processor<span class="_ _13"> </span>capable<span class="_ _6"> </span>of<span class="_ _13"> </span>executing<span class="_ _6"> </span>programs<span class="_ _13"> </span>independently<span class="_ _6"> </span>and<span class="_ _13"> </span>in<span class="_ _6"> </span>parallel<span class="_ _13"> </span>with<span class="_ _6"> </span>the<span class="_ _13"> </span>other<span class="_ _6"> </span>cores<span class="_ _1"></span>.</div><div class="t m5 x34 h2b y54c ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span><span class="ffa">multi-core<span class="_"> </span></span>approach<span class="_"> </span>works<span class="_ _13"> </span>in<span class="_"> </span>part<span class="_"> </span>because<span class="_ _13"> </span>the<span class="_"> </span>power<span class="_"> </span>consumed<span class="_ _13"> </span>by<span class="_"> </span>a<span class="_"> </span>processor<span class="_ _13"> </span>is<span class="_"> </span>proportional<span class="_"> </span>to</div><div class="t m5 x34 h4a y54d ff11 fs1e fc2 sc0 ls0 ws0">P<span class="_ _14"> </span><span class="ff12">=<span class="_ _13"> </span></span><span class="ls234">fC<span class="_ _3"></span>V</span></div><div class="t m5 xd0 h48 y557b ff7 fs2c fc2 sc0 ls0 ws0">2</div><div class="t m5 x74 h2b y557c ff7 fs1e fc2 sc0 ls0 ws0">,<span class="_"> </span>where<span class="_"> </span><span class="ff11">f<span class="_ _14"> </span></span>is<span class="_"> </span>the<span class="_"> </span>clock<span class="_"> </span>frequenc<span class="_ _0"></span>y<span class="_ _3"></span>,<span class="_"> </span><span class="ff11">C<span class="_ _11"> </span></span>is<span class="_"> </span>the<span class="_ _13"> </span>capacitance,<span class="_ _13"> </span>and<span class="_"> </span><span class="ff11">V<span class="_ _15"> </span></span>is<span class="_"> </span>the<span class="_"> </span>voltage<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span>capacitance</div><div class="t m5 x34 h2b yb88 ff11 fs1e fc2 sc0 ls0 ws0">C<span class="_ _10"> </span><span class="ff7">is<span class="_ _6"> </span>roughly<span class="_ _13"> </span>proportional<span class="_ _6"> </span>to<span class="_ _13"> </span>the<span class="_ _6"> </span>area,<span class="_ _13"> </span>so<span class="_ _6"> </span>the<span class="_ _13"> </span>power<span class="_ _6"> </span>drawn<span class="_ _13"> </span>by<span class="_ _6"> </span>multiple<span class="_ _13"> </span>cores<span class="_ _6"> </span>can<span class="_ _13"> </span>be<span class="_ _6"> </span>held<span class="_ _6"> </span>constant<span class="_ _13"> </span>as<span class="_ _6"> </span>long</span></div><div class="t m5 x34 h2b yb89 ff7 fs1e fc2 sc0 ls0 ws0">as<span class="_"> </span>the<span class="_"> </span>total<span class="_"> </span>area<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>cores<span class="_"> </span>is<span class="_"> </span>constant.<span class="_"> </span>As<span class="_"> </span>long<span class="_ _13"> </span>as<span class="_"> </span>feature<span class="_"> </span>sizes<span class="_"> </span>continue<span class="_"> </span>to<span class="_"> </span>shrink<span class="_"> </span>at<span class="_ _13"> </span>the<span class="_"> </span>exponential</div><div class="t m5 x34 h2b yb8a ff7 fs1e fc2 sc0 ls0 ws0">Moore’s<span class="_ _16"> </span>Law<span class="_ _15"> </span>rate<span class="_ _0"></span>,<span class="_ _15"> </span>the<span class="_ _14"> </span>number<span class="_ _15"> </span>of<span class="_ _14"> </span>cores<span class="_ _14"> </span>in<span class="_ _15"> </span>each<span class="_ _14"> </span>processor,<span class="_ _15"> </span>and<span class="_ _14"> </span>thus<span class="_ _15"> </span>its<span class="_ _14"> </span>effective<span class="_ _14"> </span>performance,<span class="_ _14"> </span>will</div><div class="t m5 x34 h2b yb8b ff7 fs1e fc2 sc0 ls0 ws0">continue<span class="_"> </span>to<span class="_"> </span>increase<span class="_ _1"></span>.</div><div class="t m5 x35 h2b y557d ff7 fs1e fc2 sc0 ls0 ws0">F<span class="_ _1"></span>rom<span class="_ _11"> </span>this<span class="_ _10"> </span>point<span class="_ _11"> </span>forward,<span class="_ _11"> </span>computers<span class="_"> </span>will<span class="_ _11"> </span>get<span class="_ _11"> </span>faster<span class="_"> </span>not<span class="_ _11"> </span>because<span class="_ _10"> </span>the<span class="_ _11"> </span>clock<span class="_ _10"> </span>frequency<span class="_ _10"> </span>increases<span class="_ _11"> </span>but</div><div class="t m5 x34 h2b y557e ff7 fs1e fc2 sc0 ls0 ws0">because<span class="_ _6"> </span>the<span class="_ _6"> </span>number<span class="_ _6"> </span>of<span class="_ _6"> </span>cores<span class="_ _6"> </span>in<span class="_ _6"> </span>each<span class="_ _6"> </span>processor<span class="_ _6"> </span>increases<span class="_ _1"></span>,<span class="_ _13"> </span>and<span class="_ _a"> </span>because<span class="_ _6"> </span>architectural<span class="_ _6"> </span>innovations<span class="_ _6"> </span>increase</div><div class="t m5 x34 h2b y557f ff7 fs1e fc2 sc0 ls0 ws0">the<span class="_ _11"> </span>efﬁciency<span class="_ _11"> </span>of<span class="_ _11"> </span>programs<span class="_ _11"> </span>running<span class="_ _16"> </span>on<span class="_ _11"> </span>those<span class="_ _11"> </span>cores<span class="_ _1"></span>.<span class="_ _11"> </span>W<span class="_ _1"></span>e<span class="_ _11"> </span>can<span class="_ _11"> </span>see<span class="_ _16"> </span>this<span class="_ _11"> </span>trend<span class="_ _11"> </span>clearly<span class="_ _11"> </span>in<span class="_ _16"> </span>F<span class="_ _1"></span>igure<span class="_ _11"> </span>6.16.<span class="_ _16"> </span>CPU</div><div class="t m5 x34 h2b y5580 ff7 fs1e fc2 sc0 ls0 ws0">cycle<span class="_ _16"> </span>time<span class="_ _16"> </span>reached<span class="_ _14"> </span>its<span class="_ _16"> </span>lowest<span class="_ _14"> </span>point<span class="_ _16"> </span>in<span class="_ _14"> </span>2003<span class="_ _16"> </span>and<span class="_ _14"> </span>then<span class="_ _16"> </span>actually<span class="_ _14"> </span>started<span class="_ _16"> </span>to<span class="_ _14"> </span>rise<span class="_ _16"> </span>before<span class="_ _14"> </span>leveling<span class="_ _16"> </span>off<span class="_ _14"> </span>and</div><div class="t m5 x34 h2b y5581 ff7 fs1e fc2 sc0 ls0 ws0">starting<span class="_ _11"> </span>to<span class="_ _16"> </span>decline<span class="_ _11"> </span>again<span class="_ _16"> </span>at<span class="_ _11"> </span>a<span class="_ _16"> </span>slower<span class="_ _11"> </span>rate<span class="_ _16"> </span>than<span class="_ _16"> </span>before<span class="_ _1"></span>.<span class="_ _16"> </span>However<span class="_ _0"></span>,<span class="_ _16"> </span>because<span class="_ _11"> </span>of<span class="_ _16"> </span>the<span class="_ _11"> </span>advent<span class="_ _16"> </span>of<span class="_ _11"> </span>multi-core</div><div class="t m5 x34 h2b y5582 ff7 fs1e fc2 sc0 ls0 ws0">processors<span class="_"> </span>(dual-core<span class="_"> </span>in<span class="_ _13"> </span>2004<span class="_"> </span>and<span class="_"> </span>quad-core<span class="_ _13"> </span>in<span class="_"> </span>2007),<span class="_"> </span>the<span class="_ _13"> </span>effective<span class="_"> </span>c<span class="_ _0"></span>ycle<span class="_"> </span>time<span class="_"> </span>continues<span class="_ _13"> </span>to<span class="_"> </span>decrease<span class="_"> </span>at</div><div class="t m5 x34 h2b y5583 ff7 fs1e fc2 sc0 ls0 ws0">close<span class="_"> </span>to<span class="_"> </span>its<span class="_"> </span>previous<span class="_"> </span>rate<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y2468 ff7 fs19 fc2 sc0 ls0 ws0">once<span class="_ _1"></span>,<span class="_ _13"> </span>then<span class="_ _13"> </span>the<span class="_ _13"> </span>program<span class="_ _13"> </span>is<span class="_ _6"> </span>likely<span class="_ _13"> </span>to<span class="_ _13"> </span>reference<span class="_ _13"> </span>a<span class="_ _6"> </span>nearby<span class="_ _13"> </span>memory<span class="_ _13"> </span>location<span class="_ _13"> </span>in<span class="_ _6"> </span>the<span class="_ _13"> </span>near</div><div class="t m5 x17 h26 y2469 ff7 fs19 fc2 sc0 ls0 ws0">future<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y246a ff7 fs19 fc2 sc0 ls0 ws0">Programmers<span class="_"> </span>should<span class="_ _13"> </span>understand<span class="_"> </span>the<span class="_ _13"> </span>principle<span class="_"> </span>of<span class="_"> </span>locality<span class="_ _13"> </span>because,<span class="_ _13"> </span>in<span class="_"> </span>general,</div><div class="t m5 x17 h26 y246b ffa fs19 fc2 sc0 ls0 ws0">programs<span class="_ _13"> </span>with<span class="_"> </span>good<span class="_ _13"> </span>locality<span class="_"> </span>run<span class="_ _13"> </span>faster<span class="_"> </span>than<span class="_ _13"> </span>programs<span class="_ _13"> </span>with<span class="_"> </span>poor<span class="_ _13"> </span>locality<span class="ff7">.<span class="_"> </span>All<span class="_ _13"> </span>levels</span></div><div class="t m5 x17 h26 y246c ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _15"> </span>modern<span class="_ _21"> </span>computer<span class="_ _21"> </span>systems<span class="_ _1"></span>,<span class="_ _e"> </span>from<span class="_ _15"> </span>the<span class="_ _15"> </span>hardware,<span class="_ _21"> </span>to<span class="_ _21"> </span>the<span class="_ _21"> </span>operating<span class="_ _21"> </span>system,<span class="_ _f"> </span>to</div><div class="t m5 x17 h26 y246d ff7 fs19 fc2 sc0 ls0 ws0">application<span class="_"> </span>programs<span class="_ _1"></span>,<span class="_"> </span>are<span class="_ _11"> </span>designed<span class="_"> </span>to<span class="_"> </span>exploit<span class="_ _11"> </span>locality<span class="_ _3"></span>.<span class="_"> </span>At<span class="_"> </span>the<span class="_ _11"> </span>hardware<span class="_"> </span>level,<span class="_"> </span>the</div><div class="t m5 x17 h26 y246e ff7 fs19 fc2 sc0 ls0 ws0">principle<span class="_ _13"> </span>of<span class="_ _13"> </span>locality<span class="_ _13"> </span>allows<span class="_ _6"> </span>computer<span class="_ _13"> </span>designers<span class="_ _13"> </span>to<span class="_ _13"> </span>speed<span class="_ _13"> </span>up<span class="_ _13"> </span>main<span class="_ _13"> </span>memory<span class="_ _6"> </span>accesses</div><div class="t m5 x17 h26 y246f ff7 fs19 fc2 sc0 ls0 ws0">by<span class="_"> </span>introducing<span class="_"> </span>small<span class="_"> </span>fast<span class="_ _13"> </span>memories<span class="_"> </span>known<span class="_"> </span>as<span class="_"> </span><span class="ffa">cache<span class="_"> </span>memories<span class="_"> </span></span>that<span class="_ _13"> </span>hold<span class="_"> </span>blocks<span class="_"> </span>of</div><div class="t m5 x17 h26 y2470 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _13"> </span>most<span class="_"> </span>recently<span class="_ _13"> </span>referenced<span class="_ _13"> </span>instructions<span class="_"> </span>and<span class="_ _13"> </span>data<span class="_ _13"> </span>items<span class="_ _1"></span>.<span class="_"> </span>At<span class="_ _13"> </span>the<span class="_ _13"> </span>operating<span class="_"> </span>system</div><div class="t m5 x17 h26 y2471 ff7 fs19 fc2 sc0 ls0 ws0">level,<span class="_ _13"> </span>the<span class="_ _13"> </span>principle<span class="_ _6"> </span>of<span class="_ _13"> </span>locality<span class="_ _13"> </span>allows<span class="_ _13"> </span>the<span class="_ _6"> </span>system<span class="_ _13"> </span>to<span class="_ _13"> </span>use<span class="_ _13"> </span>the<span class="_ _6"> </span>main<span class="_ _13"> </span>memory<span class="_ _13"> </span>as<span class="_ _13"> </span>a<span class="_ _6"> </span>cache</div><div class="t m5 x17 h26 y2472 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>the<span class="_ _13"> </span>most<span class="_"> </span>recently<span class="_ _13"> </span>referenced<span class="_"> </span>chunks<span class="_ _13"> </span>of<span class="_"> </span>the<span class="_"> </span>virtual<span class="_ _13"> </span>address<span class="_"> </span>space<span class="_ _1"></span>.<span class="_"> </span>Similarly<span class="_ _7"></span>,<span class="_"> </span>the</div><div class="t m5 x17 h26 y2473 ff7 fs19 fc2 sc0 ls0 ws0">operating<span class="_ _13"> </span>system<span class="_ _6"> </span>uses<span class="_ _13"> </span>main<span class="_ _6"> </span>memory<span class="_ _13"> </span>to<span class="_ _13"> </span>cache<span class="_ _6"> </span>the<span class="_ _13"> </span>most<span class="_ _13"> </span>recently<span class="_ _6"> </span>used<span class="_ _13"> </span>disk<span class="_ _6"> </span>blocks<span class="_ _13"> </span>in</div><div class="t m5 x17 h26 y2474 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>disk<span class="_ _13"> </span>ﬁle<span class="_"> </span>system.<span class="_ _13"> </span>The<span class="_ _13"> </span>principle<span class="_"> </span>of<span class="_"> </span>locality<span class="_ _13"> </span>also<span class="_"> </span>plays<span class="_ _13"> </span>a<span class="_"> </span>crucial<span class="_"> </span>role<span class="_ _13"> </span>in<span class="_"> </span>the<span class="_"> </span>design</div><div class="t m5 x17 h26 y2475 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>application<span class="_ _13"> </span>programs<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_"> </span>W<span class="_ _3"></span>eb<span class="_"> </span>browsers<span class="_"> </span>exploit<span class="_ _13"> </span>temporal<span class="_"> </span>locality<span class="_"> </span>by</div><div class="t m5 x17 h26 y2476 ff7 fs19 fc2 sc0 ls0 ws0">caching<span class="_ _13"> </span>recently<span class="_"> </span>referenced<span class="_ _13"> </span>documents<span class="_ _13"> </span>on<span class="_"> </span>a<span class="_ _13"> </span>local<span class="_ _13"> </span>disk.<span class="_"> </span>High-volume<span class="_ _13"> </span>W<span class="_ _3"></span>eb<span class="_"> </span>servers</div><div class="t m5 x17 h26 y2477 ff7 fs19 fc2 sc0 ls0 ws0">hold<span class="_"> </span>recently<span class="_ _11"> </span>requested<span class="_ _11"> </span>documents<span class="_ _11"> </span>in<span class="_ _11"> </span>front-end<span class="_ _11"> </span>disk<span class="_ _11"> </span>caches<span class="_ _11"> </span>that<span class="_ _11"> </span>satisfy<span class="_ _11"> </span>requests</div><div class="t m5 x17 h26 y2478 ff7 fs19 fc2 sc0 ls0 ws0">for<span class="_"> </span>these<span class="_"> </span>documents<span class="_"> </span>without<span class="_"> </span>requiring<span class="_"> </span>any<span class="_"> </span>intervention<span class="_"> </span>from<span class="_"> </span>the<span class="_"> </span>server.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
