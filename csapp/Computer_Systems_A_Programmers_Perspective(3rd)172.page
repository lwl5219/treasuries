<div id="pfac" class="pf w2 h11" data-page-no="ac"><div class="pc pcac w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bgac.png"/><div class="t m5 x5f h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Homework<span class="_ _10"> </span>Problems<span class="_ _1b"> </span><span class="ffe fs1e">171</span></div><div class="t m5 x72 h2d y140c ffd fs1e fc2 sc0 ls0 ws0">void<span class="_ _e"> </span>*malloc(size_t<span class="_ _1f"> </span>size);</div><div class="t m5 x72 h2d y140d ffd fs1e fc2 sc0 ls0 ws0">void<span class="_ _e"> </span>*memset(void<span class="_ _1f"> </span>*s,<span class="_ _1f"> </span>int<span class="_ _e"> </span>c,<span class="_ _1f"> </span>size_t<span class="_ _e"> </span>n);</div><div class="t m5 x17 h28 y1b3b ffe fs1e fc6 sc0 ls0 ws0">2.77</div><div class="t m5 x153 h73 y1b3c ff10 fs19 fc6 sc0 ls0 ws0">◆◆</div><div class="t m5 x17 h26 y1b3d ff7 fs19 fc1 sc0 ls0 ws0">Suppose<span class="_ _11"> </span>we<span class="_ _16"> </span>are<span class="_ _16"> </span>given<span class="_ _11"> </span>the<span class="_ _16"> </span>task<span class="_ _11"> </span>of<span class="_ _16"> </span>generating<span class="_ _11"> </span>code<span class="_ _16"> </span>to<span class="_ _11"> </span>multiply<span class="_ _16"> </span>integer<span class="_ _16"> </span>variable<span class="_ _11"> </span><span class="ffd">x</span></div><div class="t m5 x17 h26 y1b3e ff7 fs19 fc1 sc0 ls0 ws0">by<span class="_ _11"> </span>various<span class="_ _16"> </span>different<span class="_ _16"> </span>constant<span class="_ _11"> </span>factors<span class="_ _16"> </span><span class="ff11">K<span class="_ _5"></span></span>.<span class="_ _16"> </span>T<span class="_ _7"></span>o<span class="_ _16"> </span>be<span class="_ _11"> </span>efﬁcient,<span class="_ _16"> </span>we<span class="_ _16"> </span>want<span class="_ _16"> </span>to<span class="_ _11"> </span>use<span class="_ _16"> </span>only<span class="_ _11"> </span>the</div><div class="t m5 x17 h26 y1b3f ff7 fs19 fc1 sc0 ls0 ws0">operations<span class="_ _14"> </span><span class="ffd">+</span>,<span class="_ _21"> </span><span class="ffd">-</span>,<span class="_ _21"> </span>and<span class="_ _15"> </span><span class="ffd">&lt;&lt;</span>.<span class="_ _14"> </span>F<span class="_ _0"></span>or<span class="_ _14"> </span>the<span class="_ _15"> </span>following<span class="_ _15"> </span>values<span class="_ _14"> </span>of<span class="_ _15"> </span><span class="ff11">K<span class="_ _be"></span></span>,<span class="_ _15"> </span>write<span class="_ _15"> </span>C<span class="_ _15"> </span>expressions<span class="_ _15"> </span>to</div><div class="t m5 x17 h26 y1b40 ff7 fs19 fc1 sc0 ls0 ws0">perform<span class="_"> </span>the<span class="_"> </span>multiplication<span class="_"> </span>using<span class="_"> </span>at<span class="_"> </span>most<span class="_"> </span>three<span class="_"> </span>operations<span class="_"> </span>per<span class="_"> </span>expression.</div><div class="t m5 x34 h46 y1b41 ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span><span class="ff11">K<span class="_ _11"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>17</div><div class="t m5 x34 h46 y1b42 ff7 fs19 fc1 sc0 ls2a ws0">B.<span class="_ _66"> </span><span class="ff11 ls0">K<span class="_ _16"> </span><span class="ff12 ls42">=−<span class="_ _4a"></span><span class="ff7 ls0">7</span></span></span></div><div class="t m5 x34 h46 y1b43 ff7 fs19 fc1 sc0 ls22 ws0">C.<span class="_ _24"> </span><span class="ff11 ls0">K<span class="_"> </span><span class="ff12">=<span class="_ _13"></span><span class="ff7">60</span></span></span></div><div class="t m5 x34 h46 y1b44 ff7 fs19 fc1 sc0 ls2a ws0">D.<span class="_ _24"> </span><span class="ff11 ls0">K<span class="_ _11"> </span><span class="ff12 ls42">=−<span class="_ _80"></span><span class="ff7 ls0">112</span></span></span></div><div class="t m5 x17 h73 y1b45 ffe fs1e fc6 sc0 ls0 ws0">2.78<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x17 h26 y1b46 ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_"> </span>code<span class="_"> </span>for<span class="_"> </span>a<span class="_"> </span>function<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>prototype:</div><div class="t m5 x17 h2d y1b47 ffd fs1e fc2 sc0 ls0 ws0">/*<span class="_ _e"> </span>Divide<span class="_ _1f"> </span>by<span class="_ _1f"> </span>power<span class="_ _e"> </span>of<span class="_ _1f"> </span>2.<span class="_ _e"> </span>Assume<span class="_ _1f"> </span>0<span class="_ _1f"> </span>&lt;=<span class="_ _e"> </span>k<span class="_ _1f"> </span>&lt;<span class="_ _e"> </span>w-1<span class="_ _1f"> </span>*/</div><div class="t m5 x17 h2d y1b48 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>divide_power2(int<span class="_ _1f"> </span>x,<span class="_ _1f"> </span>int<span class="_ _e"> </span>k);</div><div class="t m5 x26 h26 y1b49 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>function<span class="_ _13"> </span>should<span class="_ _13"> </span>compute<span class="_ _13"> </span><span class="ff11 ls57">x/<span class="_ _3"></span><span class="ff7 ls0">2</span></span></div><div class="t m5 x110 h50 y1b4a ff11 fs25 fc2 sc0 ls0 ws0">k</div><div class="t m5 xba h26 y1b4b ff7 fs19 fc2 sc0 ls0 ws0">with<span class="_ _13"> </span>correct<span class="_ _13"> </span>rounding<span class="_ _0"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>it<span class="_ _13"> </span>should<span class="_ _13"> </span>follow</div><div class="t m5 x17 h26 y1b4c ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>bit-level<span class="_"> </span>integer<span class="_"> </span>coding<span class="_"> </span>rules<span class="_"> </span>(page<span class="_"> </span>164).</div><div class="t m5 x17 h73 y1b4d ffe fs1e fc6 sc0 ls0 ws0">2.79<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x17 h46 y1b4e ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_ _16"> </span>code<span class="_ _14"> </span>for<span class="_ _16"> </span>a<span class="_ _14"> </span>function<span class="_ _16"> </span><span class="ffd">mul3div4<span class="_ _14"> </span></span>that,<span class="_ _14"> </span>for<span class="_ _14"> </span>integer<span class="_ _16"> </span>argument<span class="_ _14"> </span><span class="ffd">x</span>,<span class="_ _14"> </span>computes<span class="_ _16"> </span>3<span class="_"> </span><span class="ff12">∗</span></div><div class="t m5 x17 h26 y1b4f ffd fs19 fc1 sc0 ls0 ws0">x<span class="ff11">/<span class="ff7">4<span class="_ _16"> </span>but<span class="_ _14"> </span>follows<span class="_ _14"> </span>the<span class="_ _16"> </span>bit-level<span class="_ _14"> </span>integer<span class="_ _14"> </span>coding<span class="_ _16"> </span>rules<span class="_ _14"> </span>(page<span class="_ _14"> </span>164).<span class="_ _16"> </span>Y<span class="_ _3"></span>our<span class="_ _14"> </span>code<span class="_ _14"> </span>should</span></span></div><div class="t m5 x17 h26 y1b50 ff7 fs19 fc1 sc0 ls0 ws0">replicate<span class="_"> </span>the<span class="_"> </span>fact<span class="_"> </span>that<span class="_"> </span>the<span class="_"> </span>computation<span class="_"> </span><span class="ffd">3*x<span class="_ _10"> </span></span>can<span class="_"> </span>cause<span class="_"> </span>overﬂow<span class="_ _3"></span>.</div><div class="t m5 x17 h73 y1b51 ffe fs1e fc6 sc0 ls0 ws0">2.80<span class="_ _23"> </span><span class="ff10 fs19">◆◆◆</span></div><div class="t m5 x17 h26 y1b52 ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_ _11"> </span>code<span class="_ _11"> </span>for<span class="_ _11"> </span>a<span class="_ _16"> </span>function<span class="_"> </span><span class="ffd">threefourths<span class="_ _16"> </span></span>that,<span class="_ _11"> </span>for<span class="_ _11"> </span>integer<span class="_ _11"> </span>argument<span class="_ _16"> </span><span class="ffd">x</span>,<span class="_ _11"> </span>computes</div><div class="t m5 x17 h26 y1b53 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _6"> </span>value<span class="_ _13"> </span>of</div><div class="t m5 x1a7 h3c y1b54 ff7 fs25 fc1 sc0 ls0 ws0">3</div><div class="t m5 x1a7 h3c y1b55 ff7 fs25 fc1 sc0 ls0 ws0">4</div><div class="t m5 x5c h26 y1b56 ffd fs19 fc1 sc0 ls0 ws0">x<span class="ff7">,<span class="_ _13"> </span>rounded<span class="_ _6"> </span>toward<span class="_ _13"> </span>zero<span class="_ _1"></span>.<span class="_ _13"> </span>It<span class="_ _6"> </span>should<span class="_ _6"> </span>not<span class="_ _13"> </span>overﬂow<span class="_ _3"></span>.<span class="_ _13"> </span>Y<span class="_ _7"></span>our<span class="_ _13"> </span>function<span class="_ _6"> </span>should</span></div><div class="t m5 x17 h26 y1b57 ff7 fs19 fc1 sc0 ls0 ws0">follow<span class="_"> </span>the<span class="_"> </span>bit-level<span class="_"> </span>integer<span class="_"> </span>coding<span class="_"> </span>rules<span class="_"> </span>(page<span class="_"> </span>164).</div><div class="t m5 x17 h73 y1b58 ffe fs1e fc6 sc0 ls0 ws0">2.81<span class="_ _23"> </span><span class="ff10 fs19">◆◆</span></div><div class="t m5 x17 h26 y1b59 ff7 fs19 fc1 sc0 ls0 ws0">Write<span class="_"> </span>C<span class="_"> </span>expressions<span class="_"> </span>to<span class="_"> </span>generate<span class="_ _11"> </span>the<span class="_"> </span>bit<span class="_"> </span>patterns<span class="_"> </span>that<span class="_ _11"> </span>follow<span class="_ _3"></span>,<span class="_"> </span>where<span class="_"> </span><span class="ff11">a</span></div><div class="t m5 x11c h50 y1b5a ff11 fs25 fc1 sc0 ls0 ws0">k</div><div class="t m5 x8d h26 y1b5b ff7 fs19 fc1 sc0 ls0 ws0">represents</div><div class="t m5 x17 h26 y1b5c ff11 fs19 fc1 sc0 ls0 ws0">k<span class="_ _f"> </span><span class="ff7">repetitions<span class="_ _f"> </span>of<span class="_ _21"> </span>symbol<span class="_ _21"> </span></span>a<span class="_ _2"></span><span class="ff7">.<span class="_ _21"> </span>Assume<span class="_ _f"> </span>a<span class="_ _21"> </span></span>w<span class="_ _2"></span><span class="ff7">-bit<span class="_ _21"> </span>data<span class="_ _21"> </span>type.<span class="_ _15"> </span>Y<span class="_ _3"></span>our<span class="_ _21"> </span>code<span class="_ _21"> </span>may<span class="_ _21"> </span>contain</span></div><div class="t m5 x17 h26 y1b5d ff7 fs19 fc1 sc0 ls0 ws0">references<span class="_ _16"> </span>to<span class="_ _16"> </span>parameters<span class="_ _16"> </span><span class="ffd">j<span class="_ _14"> </span></span>and<span class="_ _16"> </span><span class="ffd">k</span>,<span class="_ _14"> </span>representing<span class="_ _16"> </span>the<span class="_ _16"> </span>values<span class="_ _16"> </span>of<span class="_ _14"> </span><span class="ff11">j<span class="_ _f"> </span></span>and<span class="_ _16"> </span><span class="ff11">k<span class="_ _2"></span></span>,<span class="_ _14"> </span>but<span class="_ _16"> </span>not<span class="_ _16"> </span>a</div><div class="t m5 x17 h26 y1b5e ff7 fs19 fc1 sc0 ls0 ws0">parameter<span class="_"> </span>representing<span class="_"> </span><span class="ff11">w<span class="_ _2"></span></span>.</div><div class="t m5 x34 h26 y1b5f ff7 fs19 fc1 sc0 ls0 ws0">A.<span class="_ _1f"> </span>1</div><div class="t m5 x239 h4b y1b60 ff11 fs25 fc1 sc0 ls0 ws0">w<span class="ff12">−</span>k</div><div class="t m5 x142 h26 y1b61 ff7 fs19 fc1 sc0 ls0 ws0">0</div><div class="t m5 x1d6 h50 y1b60 ff11 fs25 fc1 sc0 ls0 ws0">k</div><div class="t m5 x34 h26 y1b62 ff7 fs19 fc1 sc0 ls2a ws0">B.<span class="_ _66"> </span>0</div><div class="t m5 xe h4b y1b63 ff11 fs25 fc1 sc0 ls0 ws0">w<span class="ff12">−</span>k<span class="_ _2"></span><span class="ff12">−</span>j</div><div class="t m5 x20a h26 y1b64 ff7 fs19 fc1 sc0 ls0 ws0">1</div><div class="t m5 xa2 h50 y1b63 ff11 fs25 fc1 sc0 ls0 ws0">k</div><div class="t m5 x1f6 h26 y1b64 ff7 fs19 fc1 sc0 ls0 ws0">0</div><div class="t m5 x75 h50 y1b63 ff11 fs25 fc1 sc0 ls0 ws0">j</div><div class="t m5 x17 h73 y1b65 ffe fs1e fc6 sc0 ls0 ws0">2.82<span class="_ _23"> </span><span class="ff10 fs19">◆</span></div><div class="t m5 x17 h26 y1b66 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_ _16"> </span>are<span class="_ _16"> </span>running<span class="_ _16"> </span>programs<span class="_ _16"> </span>where<span class="_ _16"> </span>values<span class="_ _16"> </span>of<span class="_ _11"> </span>type<span class="_ _16"> </span><span class="ffd">int<span class="_ _16"> </span></span>are<span class="_ _16"> </span>32<span class="_ _16"> </span>bits<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _0"></span>hey<span class="_ _16"> </span>are<span class="_ _16"> </span>repre-</div><div class="t m5 x17 h26 y1b67 ff7 fs19 fc1 sc0 ls0 ws0">sented<span class="_ _16"> </span>in<span class="_ _11"> </span>two’s<span class="_ _16"> </span>complement,<span class="_ _16"> </span>and<span class="_ _16"> </span>they<span class="_ _16"> </span>are<span class="_ _16"> </span>right<span class="_ _11"> </span>shifted<span class="_ _16"> </span>arithmetically<span class="_ _3"></span>.<span class="_ _16"> </span>V<span class="_ _7"></span>alues<span class="_ _16"> </span>of</div><div class="t m5 x17 h26 y1b68 ff7 fs19 fc1 sc0 ls0 ws0">type<span class="_"> </span><span class="ffd">unsigned<span class="_ _10"> </span></span>are<span class="_"> </span>also<span class="_"> </span>32<span class="_"> </span>bits<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
