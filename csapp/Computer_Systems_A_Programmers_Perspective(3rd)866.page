<div id="pf362" class="pf w2 h11" data-page-no="362"><div class="pc pc362 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg362.png"/><div class="t m5 x3b h91 y7034 ffb6 fs57 fc1 sc0 ls0 ws0">VPO </div><div class="t m5 x7e h91 y7035 ffb6 fs57 fc1 sc0 ls0 ws0">L4 PT</div><div class="t m5 xf4 h91 y7036 ffb7 fs57 fc1 sc0 ls0 ws0">P<span class="_ _0"></span>age</div><div class="t m5 xf4 h91 y7037 ffb7 fs57 fc1 sc0 ls0 ws0">table</div><div class="t m5 xf4 h91 y7038 ffb7 fs57 fc1 sc0 ls0 ws0">4 KB</div><div class="t m5 x7e h91 y7039 ffb7 fs57 fc1 sc0 ls0 ws0">region</div><div class="t m5 x5e h91 y703a ffb7 fs57 fc1 sc0 ls0 ws0">per entry</div><div class="t m5 xe4 h91 y7038 ffb7 fs57 fc1 sc0 ls0 ws0">2 MB</div><div class="t m5 x67 h91 y7039 ffb7 fs57 fc1 sc0 ls0 ws0">region</div><div class="t m5 x228 h91 y703a ffb7 fs57 fc1 sc0 ls0 ws0">per entry</div><div class="t m5 x1a5 h91 y7038 ffb7 fs57 fc1 sc0 ls0 ws0">1 GB</div><div class="t m5 x7c h91 y7039 ffb7 fs57 fc1 sc0 ls0 ws0">region</div><div class="t m5 x1a h91 y703a ffb7 fs57 fc1 sc0 ls0 ws0">per entry</div><div class="t m5 x1f6 h91 y7038 ffb7 fs57 fc1 sc0 ls0 ws0">512 GB</div><div class="t m5 x10b h91 y7039 ffb7 fs57 fc1 sc0 ls0 ws0">region</div><div class="t m5 x5a h91 y703a ffb7 fs57 fc1 sc0 ls0 ws0">per entry</div><div class="t m5 xd9 h91 y7035 ffb6 fs57 fc1 sc0 ls0 ws0">L3 PT</div><div class="t m5 x16d h91 y7036 ffb7 fs57 fc1 sc0 ls0 ws0">P<span class="_ _0"></span>age middle</div><div class="t m5 x136 h91 y7037 ffb7 fs57 fc1 sc0 ls0 ws0">directory</div><div class="t m5 x7c h91 y7035 ffb6 fs57 fc1 sc0 ls0 ws0">L2 PT</div><div class="t m5 x15e h91 y7036 ffb7 fs57 fc1 sc0 ls0 ws0">P<span class="_ _0"></span>age upper</div><div class="t m5 x1a h91 y7037 ffb7 fs57 fc1 sc0 ls0 ws0">directory</div><div class="t m5 x126 h91 y7035 ffb6 fs57 fc1 sc0 ls0 ws0">L1 PT</div><div class="t m5 x8e h91 y7036 ffb7 fs57 fc1 sc0 ls0 ws0">P<span class="_ _0"></span>age global</div><div class="t m5 x5a h91 y7037 ffb7 fs57 fc1 sc0 ls0 ws0">directory</div><div class="t m5 x17 h91 y703b ffb7 fs57 fc1 sc0 ls0 ws0">Physical</div><div class="t m5 x57 h91 y703c ffb7 fs57 fc1 sc0 ls0 ws0">address</div><div class="t m5 x17 h91 y703d ffb7 fs57 fc1 sc0 ls0 ws0">of L1 PT</div><div class="t m5 x12f h91 y703e ffb7 fs57 fc1 sc0 ls0 ws0">Physical</div><div class="t m5 x247 h91 y703f ffb7 fs57 fc1 sc0 ls0 ws0">address</div><div class="t m5 x2b h91 y7040 ffb7 fs57 fc1 sc0 ls0 ws0">of page</div><div class="t m5 xef h91 y7041 ffb6 fs57 fc1 sc0 ls0 ws0">CR3</div><div class="t m5 x212 h91 y7042 ffb6 fs57 fc1 sc0 ls0 ws0">Physical address</div><div class="t m5 x212 h91 y7043 ffb6 fs57 fc1 sc0 ls0 ws0">Virtual address</div><div class="t m5 xed h91 y7044 ffb6 fs57 fc1 sc0 ls0 ws0">PPN</div><div class="t m5 x4e h91 y7045 ffb7 fs57 fc1 sc0 ls0 ws0">Offset into</div><div class="t m5 x4e h91 y7046 ffb7 fs57 fc1 sc0 ls0 ws0">physical and</div><div class="t m5 x4e h91 y7047 ffb7 fs57 fc1 sc0 ls0 ws0">vir<span class="_ _2"></span>tual page</div><div class="t m5 x120 h91 y7048 ffb6 fs57 fc1 sc0 ls0 ws0">L4 PTE</div><div class="t m5 x24c he3 y7049 ffb6 fs94 fc1 sc0 ls0 ws0">40</div><div class="t m5 x133 he3 y704a ffb6 fs94 fc1 sc0 ls0 ws0">12</div><div class="t m5 x171 he3 y704b ffb6 fs94 fc1 sc0 ls0 ws0">12</div><div class="t m5 x3b h91 y704c ffb6 fs57 fc1 sc0 ls0 ws0">PPO </div><div class="t m5 x171 he3 y704d ffb6 fs94 fc1 sc0 ls0 ws0">12</div><div class="t m5 x191 he3 y704e ffb6 fs94 fc1 sc0 ls0 ws0">40</div><div class="t m5 x19d he3 y704f ffb6 fs94 fc1 sc0 ls0 ws0">40</div><div class="t m5 x1ae he3 y7050 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 x1d1 h91 y7051 ffb6 fs57 fc1 sc0 ls0 ws0">L3 PTE</div><div class="t m5 xe5 he3 y7052 ffb6 fs94 fc1 sc0 ls0 ws0">40</div><div class="t m5 xfa he3 y7053 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 x20 h91 y7051 ffb6 fs57 fc1 sc0 ls0 ws0">L2 PTE</div><div class="t m5 x4d he3 y7052 ffb6 fs94 fc1 sc0 ls0 ws0">40</div><div class="t m5 xcc he3 y7053 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 x1f6 h91 y7051 ffb6 fs57 fc1 sc0 ls0 ws0">L1 PTE</div><div class="t m5 x242 he3 y7052 ffb6 fs94 fc1 sc0 ls0 ws0">40</div><div class="t m5 x1ef he3 y7053 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 xb1 h91 y7034 ffb6 fs57 fc1 sc0 ls0 ws0">VPN 4 </div><div class="t m5 x1d9 he3 y7054 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 xfa h91 y7034 ffb6 fs57 fc1 sc0 ls0 ws0">VPN 3 </div><div class="t m5 xa0 he3 y7054 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 x129 h91 y7034 ffb6 fs57 fc1 sc0 ls0 ws0">VPN 2 </div><div class="t m5 xf7 he3 y7054 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 x156 h91 y7034 ffb6 fs57 fc1 sc0 ls0 ws0">VPN 1 </div><div class="t m5 x10b he3 y7054 ffb6 fs94 fc1 sc0 ls0 ws0">9</div><div class="t m5 x17 h34 y7055 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _13"> </span>9.25<span class="_ _66"> </span><span class="fc1">Core<span class="_ _13"> </span>i7<span class="_ _6"> </span>page<span class="_ _13"> </span>table<span class="_ _13"> </span>translation.<span class="_ _6"> </span><span class="ff6">PT<span class="_ _1"></span>:<span class="_ _13"> </span>page<span class="_ _13"> </span>table;<span class="_ _13"> </span>PTE:<span class="_ _6"> </span>page<span class="_ _13"> </span>table<span class="_ _13"> </span>entry;<span class="_ _13"> </span>VPN:<span class="_ _13"> </span>virtual<span class="_ _13"> </span>page<span class="_ _6"> </span>number;</span></span></div><div class="t m5 x17 h34 y7056 ff6 fs16 fc1 sc0 ls0 ws0">VPO:<span class="_ _10"> </span>virtual<span class="_ _10"> </span>page<span class="_ _10"> </span>offset;<span class="_ _10"> </span>PPN:<span class="_ _10"> </span>physical<span class="_ _10"> </span>page<span class="_ _10"> </span>number;<span class="_ _10"> </span>PPO:<span class="_ _10"> </span>physical<span class="_ _10"> </span>page<span class="_ _13"> </span>offset.<span class="_ _10"> </span>The<span class="_ _10"> </span>Linux<span class="_ _10"> </span>names<span class="_ _10"> </span>for<span class="_ _10"> </span>the<span class="_ _10"> </span>four</div><div class="t m5 x17 h34 y7057 ff6 fs16 fc1 sc0 ls0 ws0">levels<span class="_ _10"> </span>of<span class="_ _11"> </span>page<span class="_ _10"> </span>tables<span class="_ _10"> </span>are<span class="_ _11"> </span>also<span class="_ _10"> </span>shown.</div><div class="t m5 x17 h2f y7058 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>9.26</div><div class="t m5 x17 h2f y7059 ffe fs16 fc1 sc0 ls0 ws0">The<span class="_ _11"> </span>virtual<span class="_ _11"> </span>memory<span class="_ _16"> </span>of<span class="_"> </span>a</div><div class="t m5 x17 h2f y705a ffe fs16 fc1 sc0 ls0 ws0">Linux<span class="_"> </span>process.</div><div class="t m5 x5d hfb y705b ffb5 fs99 fc1 sc0 ls0 ws0">0x400000</div><div class="t m5 x197 hfb y705c ffb5 fs99 fc1 sc0 ls0 ws0">0</div><div class="t m5 x17c h91 y705d ffb9 fs57 fc1 sc0 ls0 ws0">Process-specific data</div><div class="t m5 x191 h91 y705e ffb9 fs57 fc1 sc0 ls0 ws0">structures</div><div class="t m5 x20c h91 y705f ffb9 fs57 fc1 sc0 ls0 ws0">(e.g., page tables,</div><div class="t m5 x17c h91 y7060 ffb9 fs57 fc1 sc0 ls0 ws0">task and mm structs, </div><div class="t m5 x215 h91 y7061 ffb9 fs57 fc1 sc0 ls0 ws0">kernel stack)</div><div class="t m5 x138 h91 y7062 ffb9 fs57 fc1 sc0 ls0 ws0">Physical memory</div><div class="t m5 x17c h91 y7063 ffb9 fs57 fc1 sc0 ls0 ws0">Kernel code and data</div><div class="t m5 x198 h91 y7064 ffb9 fs57 fc1 sc0 ls0 ws0">Memory-mapped region</div><div class="t m5 xd5 h91 y7065 ffb9 fs57 fc1 sc0 ls0 ws0">for shared libraries</div><div class="t m5 x7b h91 y7066 ffb9 fs57 fc1 sc0 ls0 ws0">Run-time heap (via </div><div class="t m5 x175 hfb y7067 ffb5 fs99 fc1 sc0 ls0 ws0">malloc<span class="ffb9 fs57">)</span></div><div class="t m5 x16 h91 y7068 ffb9 fs57 fc1 sc0 ls0 ws0">Uninitialized data (</div><div class="t m5 xb0 hfb y7069 ffb5 fs99 fc1 sc0 ls0 ws0">.bss<span class="ffb9 fs57">)</span></div><div class="t m5 xd4 h91 y706a ffb9 fs57 fc1 sc0 ls0 ws0">Initialized data (</div><div class="t m5 x41 hfb y706b ffb5 fs99 fc1 sc0 ls0 ws0">.data<span class="ffb9 fs57">)</span></div><div class="t m5 x179 h91 y706c ffb9 fs57 fc1 sc0 ls0 ws0">Code (</div><div class="t m5 x13c hfb y706d ffb5 fs99 fc1 sc0 ls0 ws0">.text<span class="ffb9 fs57">)</span></div><div class="t m5 x13d h91 y706e ffb9 fs57 fc1 sc0 ls0 ws0">User stack</div><div class="t m5 x89 h91 y706f ffba fs57 fc1 sc0 ls0 ws0">Different f<span class="_ _1"></span>or</div><div class="t m5 xb3 h91 y7070 ffba fs57 fc1 sc0 ls0 ws0">each process</div><div class="t m5 x89 h91 y7071 ffba fs57 fc1 sc0 ls0 ws0">Identical for</div><div class="t m5 xb3 h91 y7072 ffba fs57 fc1 sc0 ls0 ws0">each process</div><div class="t m5 x196 h91 y7073 ffba fs57 fc1 sc0 ls0 ws0">Process</div><div class="t m5 x196 h91 y7074 ffba fs57 fc1 sc0 ls0 ws0">vir<span class="_ _2"></span>tual</div><div class="t m5 x196 h91 y7075 ffba fs57 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x196 h91 y7076 ffba fs57 fc1 sc0 ls0 ws0">K<span class="_ _0"></span>ernel</div><div class="t m5 x196 h91 y7077 ffba fs57 fc1 sc0 ls0 ws0">vir<span class="_ _2"></span>tual</div><div class="t m5 x196 h91 y7078 ffba fs57 fc1 sc0 ls0 ws0">memory</div><div class="t m5 x110 hfb y7079 ffb5 fs99 fc1 sc0 ls0 ws0">%rsp</div><div class="t m5 x9b hfb y707a ffb5 fs99 fc1 sc0 ls0 ws0">brk</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
