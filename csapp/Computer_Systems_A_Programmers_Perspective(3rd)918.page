<div id="pf396" class="pf w2 h11" data-page-no="396"><div class="pc pc396 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg396.png"/><div class="t m5 x107 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Solutions<span class="_ _10"> </span>to<span class="_ _10"> </span>Practice<span class="_ _10"> </span>Problems<span class="_ _1b"> </span><span class="ffe fs1e">917</span></div><div class="t m5 xee h31 ye7 ff7 fs21 fc2 sc0 ls0 ws0">Number<span class="_"> </span>of<span class="_ _54"> </span>Number<span class="_"> </span>of</div><div class="t m5 x17 h31 y739b ff7 fs21 fc2 sc0 ls0 ws0">address<span class="_"> </span>bits<span class="_"> </span>(<span class="ff11">n</span>)<span class="_ _26"> </span>virtual<span class="_"> </span>addresses<span class="_"> </span>(<span class="ff11">N<span class="_ _be"></span></span>)<span class="_ _26"> </span>Largest<span class="_"> </span>possible<span class="_"> </span>virtual<span class="_"> </span>address</div><div class="t m5 x1d2 h31 y739c ff7 fs21 fc2 sc0 ls2ca ws0">42</div><div class="t m5 x162 h33 y7660 ff7 fs20 fc2 sc0 ls0 ws0">4</div><div class="t m5 x58 h32 y739c ff12 fs21 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">16<span class="_ _1c2"> </span>2</span></div><div class="t m5 x176 h33 y7660 ff7 fs20 fc2 sc0 ls0 ws0">4</div><div class="t m5 x7b h32 y739c ff12 fs21 fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _6"> </span></span>=<span class="_ _13"> </span><span class="ff7">15</span></div><div class="t m5 x1fe h31 y7661 ff7 fs21 fc2 sc0 ls0 ws0">14<span class="_ _5d"> </span>2</div><div class="t m5 x162 h33 y7662 ff7 fs20 fc2 sc0 ls0 ws0">14</div><div class="t m5 x8c h32 y1983 ff12 fs21 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">16<span class="_"> </span>K<span class="_ _115"> </span>2</span></div><div class="t m5 x176 h33 y7662 ff7 fs20 fc2 sc0 ls0 ws0">14</div><div class="t m5 x24e h32 y1983 ff12 fs21 fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _6"> </span></span>=<span class="_ _13"> </span><span class="ff7">16<span class="_"> </span>K<span class="_ _13"> </span></span>−<span class="_ _13"> </span><span class="ff7">1</span></div><div class="t m5 x1fe h31 y7663 ff7 fs21 fc2 sc0 ls0 ws0">24<span class="_ _5d"> </span>2</div><div class="t m5 x162 h33 y7664 ff7 fs20 fc2 sc0 ls0 ws0">24</div><div class="t m5 x8c h32 y739d ff12 fs21 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">16<span class="_"> </span>M<span class="_ _8f"> </span>2</span></div><div class="t m5 x176 h33 y7664 ff7 fs20 fc2 sc0 ls0 ws0">24</div><div class="t m5 x24e h32 y739d ff12 fs21 fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _6"> </span></span>=<span class="_ _13"> </span><span class="ff7">16<span class="_"> </span>M<span class="_ _13"> </span></span>−<span class="_ _13"> </span><span class="ff7">1</span></div><div class="t m5 x1fe h31 y7665 ff7 fs21 fc2 sc0 ls0 ws0">46<span class="_ _5d"> </span>2</div><div class="t m5 x162 h33 y7666 ff7 fs20 fc2 sc0 ls0 ws0">46</div><div class="t m5 x8c h32 y1808 ff12 fs21 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">64<span class="_"> </span>T<span class="_ _6a"> </span>2</span></div><div class="t m5 x176 h33 y7666 ff7 fs20 fc2 sc0 ls0 ws0">46</div><div class="t m5 x24e h32 y1808 ff12 fs21 fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _6"> </span></span>=<span class="_ _13"> </span><span class="ff7">64<span class="_"> </span>T<span class="_ _13"> </span></span>−<span class="_ _13"> </span><span class="ff7">1</span></div><div class="t m5 x1fe h31 y7667 ff7 fs21 fc2 sc0 ls0 ws0">54<span class="_ _5d"> </span>2</div><div class="t m5 x162 h33 y7668 ff7 fs20 fc2 sc0 ls0 ws0">54</div><div class="t m5 x8c h32 y7669 ff12 fs21 fc2 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">16<span class="_"> </span>P<span class="_ _e9"> </span>2</span></div><div class="t m5 x176 h33 y7668 ff7 fs20 fc2 sc0 ls0 ws0">54</div><div class="t m5 x24e h32 y7669 ff12 fs21 fc2 sc0 ls0 ws0">−<span class="_ _13"> </span><span class="ff7">1<span class="_ _6"> </span></span>=<span class="_ _13"> </span><span class="ff7">16<span class="_"> </span>P<span class="_ _13"> </span></span>−<span class="_ _13"> </span><span class="ff7">1</span></div><div class="t m5 x17 h28 y766a ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>9.2<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>843)</span></div><div class="t m5 x17 h46 y766b ff7 fs19 fc1 sc0 ls0 ws0">Since<span class="_"> </span>each<span class="_"> </span>virtual<span class="_"> </span>page<span class="_"> </span>is<span class="_"> </span><span class="ff11">P<span class="_"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>2</div><div class="t m5 xf0 h50 y766c ff11 fs25 fc1 sc0 ls0 ws0">p</div><div class="t m5 x5d h26 y766b ff7 fs19 fc1 sc0 ls0 ws0">bytes<span class="_ _1"></span>,<span class="_"> </span>there<span class="_"> </span>are<span class="_"> </span>a<span class="_"> </span>total<span class="_"> </span>of<span class="_"> </span>2</div><div class="t m5 x1ad h50 y766c ff11 fs25 fc1 sc0 ls0 ws0">n</div><div class="t m5 x18b h26 y766b ff11 fs19 fc1 sc0 ls0 ws0">/<span class="ff7">2</span></div><div class="t m5 x80 h50 y766c ff11 fs25 fc1 sc0 ls0 ws0">p</div><div class="t m5 x12f h46 y766b ff12 fs19 fc1 sc0 ls0 ws0">=<span class="_ _13"> </span><span class="ff7">2</span></div><div class="t m5 x11a h4b y766c ff11 fs25 fc1 sc0 ls0 ws0">n<span class="ff12">−</span>p</div><div class="t m5 x1bd h26 y766b ff7 fs19 fc1 sc0 ls0 ws0">possible</div><div class="t m5 x17 h26 y766d ff7 fs19 fc1 sc0 ls0 ws0">pages<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>system,<span class="_"> </span>each<span class="_"> </span>of<span class="_"> </span>which<span class="_"> </span>needs<span class="_"> </span>a<span class="_"> </span>page<span class="_"> </span>table<span class="_"> </span>entry<span class="_"> </span>(PTE).</div><div class="t m5 x246 h32 y766e ff11 fs21 fc2 sc0 ls293 ws0">nP<span class="_ _dc"></span><span class="ff12 ls0">=<span class="_ _13"> </span><span class="ff7">2</span></span></div><div class="t m5 x5b h51 y766f ff11 fs20 fc2 sc0 ls0 ws0">p</div><div class="t m5 x289 h31 y766e ff7 fs21 fc2 sc0 ls0 ws0">Number<span class="_"> </span>of<span class="_"> </span>PTEs</div><div class="t m5 x17 h31 y7670 ff7 fs21 fc2 sc0 ls0 ws0">12<span class="_ _8c"> </span>1<span class="_"> </span>K<span class="_ _2f"> </span>4</div><div class="t m5 x17 h31 y7671 ff7 fs21 fc2 sc0 ls0 ws0">16<span class="_ _ab"> </span>16<span class="_"> </span>K<span class="_ _1d5"> </span>4</div><div class="t m5 x17 h31 y7672 ff7 fs21 fc2 sc0 ls0 ws0">24<span class="_ _14a"> </span>2<span class="_ _13"> </span>M<span class="_ _70"> </span>8</div><div class="t m5 x17 h31 y7673 ff7 fs21 fc2 sc0 ls0 ws0">36<span class="_ _58"> </span>1<span class="_"> </span>G<span class="_ _1d5"> </span>64</div><div class="t m5 x17 h28 y7674 ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>9.3<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>852)</span></div><div class="t m5 x17 h26 y7675 ff7 fs19 fc1 sc0 ls0 ws0">Y<span class="_ _3"></span>ou<span class="_"> </span>need<span class="_"> </span>to<span class="_"> </span>understand<span class="_"> </span>this<span class="_ _11"> </span>kind<span class="_"> </span>of<span class="_"> </span>problem<span class="_"> </span>well<span class="_ _11"> </span>in<span class="_"> </span>order<span class="_"> </span>to<span class="_ _11"> </span>fully<span class="_"> </span>grasp<span class="_"> </span>address</div><div class="t m5 x17 h46 y7676 ff7 fs19 fc1 sc0 ls0 ws0">translation.<span class="_ _13"> </span>Here<span class="_"> </span>is<span class="_ _13"> </span>how<span class="_ _13"> </span>to<span class="_"> </span>solve<span class="_ _13"> </span>the<span class="_"> </span>ﬁrst<span class="_ _13"> </span>subproblem:<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_"> </span>are<span class="_ _13"> </span>given<span class="_"> </span><span class="ff11">n<span class="_ _13"> </span><span class="ff12">=<span class="_ _13"></span></span></span>64<span class="_"> </span>virtual</div><div class="t m5 x17 h46 y7677 ff7 fs19 fc1 sc0 ls0 ws0">address<span class="_"> </span>bits<span class="_"> </span>and<span class="_"> </span><span class="ff11">m<span class="_ _13"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>32<span class="_"> </span>physical<span class="_"> </span>address<span class="_"> </span>bits<span class="_ _1"></span>.<span class="_"> </span>A<span class="_"> </span>page<span class="_"> </span>size<span class="_"> </span>of<span class="_"> </span><span class="ff11">P<span class="_ _14"> </span><span class="ff12">=<span class="_ _10"> </span></span></span>1<span class="_ _13"> </span>KB<span class="_"> </span>means<span class="_ _13"> </span>we</div><div class="t m5 x17 h26 y7678 ff7 fs19 fc1 sc0 ls0 ws0">need<span class="_ _6"> </span>log</div><div class="t m5 x30 h3c y7679 ff7 fs25 fc1 sc0 ls0 ws0">2</div><div class="t m5 x21e h46 y767a ff11 fs19 fc1 sc0 ls0 ws0">(<span class="ff7 ls2cb">1K<span class="_ _8"></span><span class="ff11 ls0">)<span class="_ _13"> </span><span class="ff12">=<span class="_ _13"></span><span class="ff7">10<span class="_ _6"> </span>bits<span class="_ _6"> </span>for<span class="_ _6"> </span>both<span class="_ _6"> </span>the<span class="_ _6"> </span>VPO<span class="_ _6"> </span>and<span class="_ _6"> </span>PPO<span class="_ _3"></span>.<span class="_ _6"> </span>(Recall<span class="_ _6"> </span>that<span class="_ _6"> </span>the<span class="_ _6"> </span>VPO<span class="_ _6"> </span>and<span class="_ _6"> </span>PPO</span></span></span></span></div><div class="t m5 x17 h26 y767b ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_"> </span>identical.)<span class="_"> </span>T<span class="_ _1"></span>he<span class="_"> </span>remaining<span class="_"> </span>address<span class="_"> </span>bits<span class="_"> </span>are<span class="_"> </span>the<span class="_"> </span>VPN<span class="_"> </span>and<span class="_"> </span>PPN<span class="_ _1"></span>,<span class="_"> </span>respectively<span class="_ _3"></span>.</div><div class="t m5 x20 h31 y767c ff7 fs21 fc2 sc0 ls0 ws0">Number<span class="_"> </span>of</div><div class="t m5 xee h31 y767d ff11 fs21 fc2 sc0 ls0 ws0">P<span class="_ _62"> </span><span class="ff7">VPN<span class="_"> </span>bits<span class="_ _26"> </span>VPO<span class="_"> </span>bits<span class="_ _26"> </span>PPN<span class="_"> </span>bits<span class="_ _26"> </span>PPO<span class="_"> </span>bits</span></div><div class="t m5 x243 h31 y767e ff7 fs21 fc2 sc0 ls2cc ws0">1K<span class="_ _8"></span>B<span class="_ _68"> </span>5<span class="_ _8"></span>4<span class="_ _5d"> </span>1<span class="_ _8"></span>0<span class="_ _77"> </span>2<span class="_ _8"></span>2<span class="_ _10d"> </span>1<span class="_ _8"></span>0</div><div class="t m5 x243 h31 y767f ff7 fs21 fc2 sc0 ls2cc ws0">2K<span class="_ _8"></span>B<span class="_ _68"> </span>5<span class="_ _8"></span>3<span class="_ _5d"> </span>1<span class="_ _8"></span>1<span class="_ _77"> </span>2<span class="_ _8"></span>1<span class="_ _10d"> </span>1<span class="_ _8"></span>1</div><div class="t m5 x243 h31 y7680 ff7 fs21 fc2 sc0 ls2cc ws0">4K<span class="_ _8"></span>B<span class="_ _68"> </span>5<span class="_ _8"></span>2<span class="_ _5d"> </span>1<span class="_ _8"></span>2<span class="_ _77"> </span>2<span class="_ _8"></span>0<span class="_ _10d"> </span>1<span class="_ _8"></span>2</div><div class="t m5 x17 h31 y7681 ff7 fs21 fc2 sc0 ls0 ws0">16<span class="_ _13"> </span>KB<span class="_ _2c"> </span>50<span class="_ _156"> </span>14<span class="_ _87"> </span>18<span class="_ _1b4"> </span>14</div><div class="t m5 x17 h28 y6a9c ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>9.4<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>860)</span></div><div class="t m5 x17 h26 y5b5 ff7 fs19 fc1 sc0 ls0 ws0">Doing<span class="_ _6"> </span>a<span class="_ _13"> </span>few<span class="_ _6"> </span>of<span class="_ _13"> </span>these<span class="_ _6"> </span>manual<span class="_ _6"> </span>simulations<span class="_ _13"> </span>is<span class="_ _6"> </span>a<span class="_ _13"> </span>great<span class="_ _6"> </span>way<span class="_ _13"> </span>to<span class="_ _a"> </span>ﬁrm<span class="_ _13"> </span>up<span class="_ _6"> </span>your<span class="_ _13"> </span>understand-</div><div class="t m5 x17 h26 y5b6 ff7 fs19 fc1 sc0 ls0 ws0">ing<span class="_"> </span>of<span class="_"> </span>address<span class="_"> </span>translation.<span class="_"> </span>Y<span class="_ _7"></span>ou<span class="_"> </span>might<span class="_"> </span>ﬁnd<span class="_"> </span>it<span class="_"> </span>helpful<span class="_"> </span>to<span class="_"> </span>write<span class="_"> </span>out<span class="_"> </span>all<span class="_"> </span>the<span class="_"> </span>bits<span class="_"> </span>in<span class="_"> </span>the</div><div class="t m5 x17 h26 y5b7 ff7 fs19 fc1 sc0 ls0 ws0">addresses<span class="_ _13"> </span>and<span class="_ _13"> </span>then<span class="_ _13"> </span>draw<span class="_ _13"> </span>boxes<span class="_ _13"> </span>around<span class="_ _13"> </span>the<span class="_ _13"> </span>different<span class="_ _13"> </span>bit<span class="_ _13"> </span>ﬁelds<span class="_ _3"></span>,<span class="_"> </span>such<span class="_ _13"> </span>as<span class="_ _13"> </span>VPN<span class="_ _3"></span>,<span class="_ _13"> </span>TLBI,</div><div class="t m5 x17 h26 y5b8 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_ _16"> </span>so<span class="_ _11"> </span>on.<span class="_ _16"> </span>In<span class="_ _16"> </span>this<span class="_ _16"> </span>particular<span class="_ _11"> </span>problem,<span class="_ _16"> </span>there<span class="_ _16"> </span>are<span class="_ _16"> </span>no<span class="_ _16"> </span>misses<span class="_ _11"> </span>of<span class="_ _16"> </span>any<span class="_ _16"> </span>kind:<span class="_ _16"> </span>the<span class="_ _11"> </span>TLB</div><div class="t m5 x17 h26 y5b9 ff7 fs19 fc1 sc0 ls0 ws0">has<span class="_"> </span>a<span class="_"> </span>copy<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>PTE<span class="_"> </span>and<span class="_"> </span>the<span class="_"> </span>cache<span class="_"> </span>has<span class="_"> </span>a<span class="_"> </span>copy<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>requested<span class="_"> </span>data<span class="_"> </span>words<span class="_ _1"></span>.<span class="_"> </span>See</div><div class="t m5 x17 h26 y5ba ff7 fs19 fc1 sc0 ls0 ws0">Problems<span class="_"> </span>9.11,<span class="_"> </span>9.12,<span class="_"> </span>and<span class="_"> </span>9.13<span class="_"> </span>for<span class="_"> </span>some<span class="_"> </span>different<span class="_"> </span>combinations<span class="_"> </span>of<span class="_"> </span>hits<span class="_"> </span>and<span class="_"> </span>misses<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
