<div id="pf3e" class="pf w2 h11" data-page-no="3e"><div class="pc pc3e w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg3e.png"/><div class="t m5 xf2 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>1.9<span class="_ _3d"> </span>Important<span class="_ _13"> </span>Themes<span class="_ _3e"> </span><span class="ffe fs1e">61</span></div><div class="t m5 x17 h2f ye7 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>1.17</div><div class="t m5 x17 h2f y58a ffe fs16 fc1 sc0 ls0 ws0">Multi-core<span class="_ _14"> </span>processor</div><div class="t m5 x17 h34 y58b ffe fs16 fc1 sc0 ls0 ws0">organization.<span class="_ _15"> </span><span class="ff6">Four</span></div><div class="t m5 x17 h34 y58c ff6 fs16 fc1 sc0 ls0 ws0">processor<span class="_ _15"> </span>cores<span class="_ _21"> </span>are</div><div class="t m5 x17 h34 y58d ff6 fs16 fc1 sc0 ls0 ws0">integrated<span class="_ _16"> </span>onto<span class="_ _16"> </span>a<span class="_ _16"> </span>single</div><div class="t m5 x17 h34 y58e ff6 fs16 fc1 sc0 ls0 ws0">chip.</div><div class="t m5 x8f h4c y890 ff15 fs2d fc1 sc0 ls0 ws0">Processor package</div><div class="t m5 x89 h4c y891 ff15 fs2d fc1 sc0 ls0 ws0">Core 0<span class="_ _4e"> </span>Core 3</div><div class="t m5 xfb h4d y892 ff17 fs2e fc1 sc0 ls15 ws6">. . .</div><div class="t m5 x115 h4c y893 ff15 fs2d fc1 sc0 ls0 ws0">Regs</div><div class="t m5 x116 h4c y894 ff15 fs2d fc1 sc0 ls0 ws0">L1</div><div class="t m5 xe7 h4c y895 ff15 fs2d fc1 sc0 ls0 ws0">d-cache</div><div class="t m5 x117 h4c y896 ff15 fs2d fc1 sc0 ls0 ws0">L2 unified cache</div><div class="t m5 x114 h4c y897 ff15 fs2d fc1 sc0 ls0 ws0">L3 unified cache</div><div class="t m5 x118 h4c y898 ff15 fs2d fc1 sc0 ls0 ws0">(shared by all cores)</div><div class="t m5 x24 h4c y899 ff15 fs2d fc1 sc0 ls0 ws0">Main memory</div><div class="t m5 x119 h4c y894 ff15 fs2d fc1 sc0 ls0 ws0">L1</div><div class="t m5 xd3 h4c y895 ff15 fs2d fc1 sc0 ls0 ws0">i-cache</div><div class="t m5 x11a h4c y893 ff15 fs2d fc1 sc0 ls0 ws0">Regs</div><div class="t m5 x11b h4c y894 ff15 fs2d fc1 sc0 ls0 ws0">L1</div><div class="t m5 xf2 h4c y895 ff15 fs2d fc1 sc0 ls0 ws0">d-cache</div><div class="t m5 x11c h4c y896 ff15 fs2d fc1 sc0 ls0 ws0">L2 unified cache</div><div class="t m5 x38 h4c y894 ff15 fs2d fc1 sc0 ls0 ws0">L1</div><div class="t m5 x11d h4c y895 ff15 fs2d fc1 sc0 ls0 ws0">i-cache</div><div class="t m5 x17 h26 y89a ff7 fs19 fc1 sc0 ls0 ws0">typical<span class="_ _14"> </span>multi-core<span class="_ _14"> </span>processor,<span class="_ _15"> </span>where<span class="_ _14"> </span>the<span class="_ _15"> </span>chip<span class="_ _14"> </span>has<span class="_ _14"> </span>four<span class="_ _15"> </span>CPU<span class="_ _14"> </span>cores<span class="_ _1"></span>,<span class="_ _15"> </span>each<span class="_ _15"> </span>with<span class="_ _14"> </span>its</div><div class="t m5 x17 h26 y89b ff7 fs19 fc1 sc0 ls0 ws0">own<span class="_"> </span>L1<span class="_ _11"> </span>and<span class="_ _11"> </span>L2<span class="_ _11"> </span>caches<span class="_ _1"></span>,<span class="_ _11"> </span>and<span class="_ _11"> </span>with<span class="_ _11"> </span>each<span class="_ _11"> </span>L1<span class="_ _11"> </span>cache<span class="_ _11"> </span>split<span class="_"> </span>into<span class="_ _11"> </span>two<span class="_ _11"> </span>parts—one<span class="_ _11"> </span>to<span class="_ _11"> </span>hold</div><div class="t m5 x17 h26 y89c ff7 fs19 fc1 sc0 ls0 ws0">recently<span class="_ _13"> </span>fetched<span class="_ _6"> </span>instructions<span class="_ _13"> </span>and<span class="_ _13"> </span>one<span class="_ _13"> </span>to<span class="_ _6"> </span>hold<span class="_ _13"> </span>data.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>cores<span class="_ _13"> </span>share<span class="_ _6"> </span>higher<span class="_ _13"> </span>levels<span class="_ _13"> </span>of</div><div class="t m5 x17 h26 y89d ff7 fs19 fc1 sc0 ls0 ws0">cache<span class="_"> </span>as<span class="_"> </span>well<span class="_"> </span>as<span class="_"> </span>the<span class="_"> </span>interface<span class="_"> </span>to<span class="_"> </span>main<span class="_"> </span>memory<span class="_ _3"></span>.<span class="_"> </span>Industry<span class="_"> </span>experts<span class="_"> </span>predict<span class="_"> </span>that<span class="_"> </span>they</div><div class="t m5 x17 h26 y89e ff7 fs19 fc1 sc0 ls0 ws0">will<span class="_"> </span>be<span class="_"> </span>able<span class="_"> </span>to<span class="_"> </span>have<span class="_"> </span>dozens<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>ultimately<span class="_"> </span>hundreds<span class="_ _1"></span>,<span class="_"> </span>of<span class="_"> </span>cores<span class="_"> </span>on<span class="_"> </span>a<span class="_"> </span>single<span class="_"> </span>chip<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y89f ff7 fs19 fc1 sc0 ls0 ws0">Hyperthreading,<span class="_ _21"> </span>sometimes<span class="_ _21"> </span>called<span class="_ _15"> </span><span class="ffa">simultaneous<span class="_ _21"> </span>multi-threading<span class="_ _2"></span></span>,<span class="_ _f"> </span>is<span class="_ _15"> </span>a<span class="_ _21"> </span>tech-</div><div class="t m5 x17 h26 y8a0 ff7 fs19 fc1 sc0 ls0 ws0">nique<span class="_ _16"> </span>that<span class="_ _16"> </span>allows<span class="_ _16"> </span>a<span class="_ _16"> </span>single<span class="_ _16"> </span>CPU<span class="_ _14"> </span>to<span class="_ _16"> </span>execute<span class="_ _16"> </span>multiple<span class="_ _16"> </span>ﬂows<span class="_ _16"> </span>of<span class="_ _16"> </span>control.<span class="_ _14"> </span>It<span class="_ _16"> </span>involves</div><div class="t m5 x17 h26 y8a1 ff7 fs19 fc1 sc0 ls0 ws0">having<span class="_ _11"> </span>multiple<span class="_ _11"> </span>copies<span class="_ _11"> </span>of<span class="_ _11"> </span>some<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>CPU<span class="_ _11"> </span>hardware,<span class="_"> </span>such<span class="_ _11"> </span>as<span class="_ _16"> </span>program<span class="_"> </span>counters</div><div class="t m5 x17 h26 y8a2 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_ _11"> </span>register<span class="_ _11"> </span>ﬁles<span class="_ _1"></span>,<span class="_ _11"> </span>while<span class="_ _16"> </span>having<span class="_"> </span>only<span class="_ _16"> </span>single<span class="_"> </span>copies<span class="_ _11"> </span>of<span class="_ _16"> </span>other<span class="_"> </span>parts<span class="_ _16"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>hardware,</div><div class="t m5 x17 h26 y8a3 ff7 fs19 fc1 sc0 ls0 ws0">such<span class="_"> </span>as<span class="_ _11"> </span>the<span class="_ _11"> </span>units<span class="_"> </span>that<span class="_ _11"> </span>perform<span class="_ _11"> </span>ﬂoating-point<span class="_ _11"> </span>arithmetic.<span class="_"> </span>Whereas<span class="_"> </span>a<span class="_"> </span>conventional</div><div class="t m5 x17 h26 y8a4 ff7 fs19 fc1 sc0 ls0 ws0">processor<span class="_ _11"> </span>requires<span class="_ _11"> </span>around<span class="_ _11"> </span>20,000<span class="_"> </span>clock<span class="_ _11"> </span>cycles<span class="_ _11"> </span>to<span class="_ _11"> </span>shift<span class="_ _11"> </span>between<span class="_ _11"> </span>different<span class="_ _11"> </span>threads<span class="_ _1"></span>,</div><div class="t m5 x17 h26 y8a5 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>hyperthreaded<span class="_"> </span>processor<span class="_ _11"> </span>decides<span class="_"> </span>which<span class="_ _11"> </span>of<span class="_"> </span>its<span class="_ _11"> </span>threads<span class="_"> </span>to<span class="_ _11"> </span>execute<span class="_"> </span>on<span class="_ _11"> </span>a<span class="_"> </span>cycle-by-</div><div class="t m5 x17 h26 y8a6 ff7 fs19 fc1 sc0 ls0 ws0">cycle<span class="_ _6"> </span>basis<span class="_ _1"></span>.<span class="_ _6"> </span>It<span class="_ _13"> </span>enables<span class="_ _6"> </span>the<span class="_ _13"> </span>CPU<span class="_ _a"> </span>to<span class="_ _13"> </span>take<span class="_ _6"> </span>better<span class="_ _13"> </span>advantage<span class="_ _6"> </span>of<span class="_ _6"> </span>its<span class="_ _13"> </span>processing<span class="_ _6"> </span>resources<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y8a7 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_"> </span>if<span class="_"> </span>one<span class="_"> </span>thread<span class="_ _13"> </span>must<span class="_"> </span>wait<span class="_"> </span>for<span class="_"> </span>some<span class="_ _13"> </span>data<span class="_"> </span>to<span class="_"> </span>be<span class="_"> </span>loaded<span class="_ _13"> </span>into<span class="_"> </span>a<span class="_"> </span>cache<span class="_ _1"></span>,<span class="_"> </span>the</div><div class="t m5 x17 h26 y8a8 ff7 fs19 fc1 sc0 ls0 ws0">CPU<span class="_ _13"> </span>can<span class="_"> </span>proceed<span class="_ _13"> </span>with<span class="_ _13"> </span>the<span class="_"> </span>execution<span class="_ _13"> </span>of<span class="_ _13"> </span>a<span class="_"> </span>different<span class="_ _13"> </span>thread.<span class="_ _13"> </span>As<span class="_"> </span>an<span class="_ _13"> </span>example<span class="_ _1"></span>,<span class="_"> </span>the<span class="_ _13"> </span>In-</div><div class="t m5 x17 h26 y8a9 ff7 fs19 fc1 sc0 ls0 ws0">tel<span class="_ _13"> </span>Core<span class="_ _13"> </span>i7<span class="_ _13"> </span>processor<span class="_ _13"> </span>can<span class="_"> </span>have<span class="_ _13"> </span>each<span class="_ _13"> </span>core<span class="_ _13"> </span>executing<span class="_ _13"> </span>two<span class="_ _13"> </span>threads<span class="_ _1"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>so<span class="_"> </span>a<span class="_ _13"> </span>four<span class="_ _3"></span>-core</div><div class="t m5 x17 h26 y8aa ff7 fs19 fc1 sc0 ls0 ws0">system<span class="_"> </span>can<span class="_"> </span>actually<span class="_"> </span>execute<span class="_"> </span>eight<span class="_"> </span>threads<span class="_"> </span>in<span class="_"> </span>parallel.</div><div class="t m5 x26 h26 y8ab ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _15"> </span>use<span class="_ _21"> </span>of<span class="_ _15"> </span>multiprocessing<span class="_ _15"> </span>can<span class="_ _15"> </span>improve<span class="_ _15"> </span>system<span class="_ _15"> </span>performance<span class="_ _15"> </span>in<span class="_ _15"> </span>two<span class="_ _21"> </span>ways<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y8ac ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>irst,<span class="_ _13"> </span>it<span class="_ _13"> </span>reduces<span class="_ _13"> </span>the<span class="_ _13"> </span>need<span class="_ _6"> </span>to<span class="_ _13"> </span>simulate<span class="_ _13"> </span>concurrenc<span class="_ _0"></span>y<span class="_ _13"> </span>when<span class="_ _13"> </span>performing<span class="_ _6"> </span>multiple<span class="_ _13"> </span>tasks<span class="_ _1"></span>.</div><div class="t m5 x17 h26 y8ad ff7 fs19 fc1 sc0 ls0 ws0">As<span class="_ _6"> </span>mentioned,<span class="_ _13"> </span>even<span class="_ _13"> </span>a<span class="_ _6"> </span>personal<span class="_ _6"> </span>computer<span class="_ _13"> </span>being<span class="_ _6"> </span>used<span class="_ _13"> </span>by<span class="_ _6"> </span>a<span class="_ _13"> </span>single<span class="_ _6"> </span>person<span class="_ _6"> </span>is<span class="_ _13"> </span>expected</div><div class="t m5 x17 h26 y8ae ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _16"> </span>perform<span class="_ _16"> </span>many<span class="_ _14"> </span>activities<span class="_ _16"> </span>concurrently<span class="_ _3"></span>.<span class="_ _16"> </span>Second,<span class="_ _14"> </span>it<span class="_ _14"> </span>can<span class="_ _16"> </span>run<span class="_ _16"> </span>a<span class="_ _14"> </span>single<span class="_ _16"> </span>application</div><div class="t m5 x17 h26 y8af ff7 fs19 fc1 sc0 ls0 ws0">program<span class="_"> </span>faster<span class="_ _1"></span>,<span class="_"> </span>but<span class="_"> </span>only<span class="_"> </span>if<span class="_ _13"> </span>that<span class="_"> </span>program<span class="_"> </span>is<span class="_ _13"> </span>expressed<span class="_"> </span>in<span class="_"> </span>terms<span class="_"> </span>of<span class="_ _13"> </span>multiple<span class="_"> </span>threads</div><div class="t m5 x17 h26 y8b0 ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _16"> </span>can<span class="_ _16"> </span>effectively<span class="_ _16"> </span>execute<span class="_ _16"> </span>in<span class="_ _16"> </span>parallel.<span class="_ _16"> </span>T<span class="_ _0"></span>hus<span class="_ _1"></span>,<span class="_ _16"> </span>although<span class="_ _16"> </span>the<span class="_ _14"> </span>principles<span class="_ _16"> </span>of<span class="_ _16"> </span>concur<span class="_ _1"></span>-</div><div class="t m5 x17 h26 y8b1 ff7 fs19 fc1 sc0 ls0 ws0">rency<span class="_ _6"> </span>have<span class="_ _6"> </span>been<span class="_ _13"> </span>formulated<span class="_ _6"> </span>and<span class="_ _13"> </span>studied<span class="_ _6"> </span>for<span class="_ _6"> </span>over<span class="_ _13"> </span>50<span class="_ _6"> </span>years<span class="_ _1"></span>,<span class="_ _13"> </span>the<span class="_ _6"> </span>advent<span class="_ _13"> </span>of<span class="_ _6"> </span>multi-core</div><div class="t m5 x17 h26 y8b2 ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_"> </span>hyperthreaded<span class="_"> </span>systems<span class="_ _11"> </span>has<span class="_"> </span>greatly<span class="_ _11"> </span>increased<span class="_"> </span>the<span class="_"> </span>desire<span class="_ _11"> </span>to<span class="_"> </span>ﬁnd<span class="_ _11"> </span>ways<span class="_"> </span>to<span class="_ _11"> </span>write</div><div class="t m5 x17 h26 y8b3 ff7 fs19 fc1 sc0 ls0 ws0">application<span class="_"> </span>programs<span class="_ _11"> </span>that<span class="_ _11"> </span>can<span class="_ _11"> </span>exploit<span class="_ _11"> </span>the<span class="_ _11"> </span>thread-level<span class="_ _11"> </span>parallelism<span class="_ _11"> </span>available<span class="_"> </span>with</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
