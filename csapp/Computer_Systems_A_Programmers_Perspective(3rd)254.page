<div id="pffe" class="pf w2 h11" data-page-no="fe"><div class="pc pcfe w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bgfe.png"/><div class="t m5 x1dc h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>3.6<span class="_ _60"> </span>Control<span class="_ _3e"> </span><span class="ffe fs1e">253</span></div><div class="t m5 x17 h31 y390 ff7 fs21 fc2 sc0 ls0 ws0">Instruction<span class="_ _b9"> </span>Synonym<span class="_ _26"> </span>Move<span class="_"> </span>condition<span class="_ _79"> </span>Description</div><div class="t m5 x17 h31 yc94 ffd fs1e fc2 sc0 ls0 ws0">cmove<span class="_ _3f"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovz<span class="_ _131"> </span>ZF<span class="_ _157"> </span><span class="ff7 fs21">Equal<span class="_"> </span>/<span class="_"> </span>zero</span></div><div class="t m5 x17 h31 yc98 ffd fs1e fc2 sc0 ls0 ws0">cmovne<span class="_ _1a"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnz<span class="_ _94"> </span>~ZF<span class="_ _92"> </span><span class="ff7 fs21">Not<span class="_"> </span>equal<span class="_"> </span>/<span class="_"> </span>not<span class="_"> </span>zero</span></div><div class="t m5 x17 h31 ycd6 ffd fs1e fc2 sc0 ls0 ws0">cmovs<span class="_ _3f"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _c1"> </span></span>SF<span class="_ _157"> </span><span class="ff7 fs21">Negative</span></div><div class="t m5 x17 h31 ycd7 ffd fs1e fc2 sc0 ls0 ws0">cmovns<span class="_ _1a"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _c1"> </span></span>~SF<span class="_ _158"> </span><span class="ff7 fs21">Nonnegative</span></div><div class="t m5 x17 h31 ycd8 ffd fs1e fc2 sc0 ls0 ws0">cmovg<span class="_ _3f"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnle<span class="_ _61"> </span>~<span class="ff11 fs21">(</span>SF<span class="_ _13"> </span>^<span class="_ _10"> </span>OF<span class="ff11 fs21">)<span class="_ _13"> </span></span>&amp;<span class="_ _13"> </span>~ZF<span class="_ _26"> </span><span class="ff7 fs21">Greater<span class="_"> </span>(signed<span class="_"> </span></span>&gt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h31 ycd9 ffd fs1e fc2 sc0 ls0 ws0">cmovge<span class="_ _1a"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnl<span class="_ _94"> </span>~<span class="ff11 fs21">(</span>SF<span class="_ _13"> </span>^<span class="_ _13"> </span>OF<span class="ff11 fs21">)<span class="_ _117"> </span><span class="ff7">Greater<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(signed<span class="_"> </span></span></span>&gt;=<span class="ff7 fs21">)</span></div><div class="t m5 x17 h31 y21de ffd fs1e fc2 sc0 ls0 ws0">cmovl<span class="_ _3f"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnge<span class="_ _61"> </span>SF<span class="_ _13"> </span>^<span class="_ _10"> </span>OF<span class="_ _c2"> </span><span class="ff7 fs21">Less<span class="_"> </span>(signed<span class="_"> </span></span>&lt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h31 y21e1 ffd fs1e fc2 sc0 ls0 ws0">cmovle<span class="_ _1a"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovng<span class="_ _94"> </span><span class="ff11 fs21">(</span>SF<span class="_ _13"> </span>^<span class="_ _13"> </span>OF<span class="ff11 fs21">)<span class="_ _13"> </span></span><span class="ls157">|Z<span class="_ _8"></span>F<span class="_ _94"> </span><span class="ff7 fs21 ls0">Less<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(signed<span class="_"> </span></span><span class="ls0">&lt;=<span class="ff7 fs21">)</span></span></span></div><div class="t m5 x17 h31 y2634 ffd fs1e fc2 sc0 ls0 ws0">cmova<span class="_ _3f"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnbe<span class="_ _61"> </span>~CF<span class="_ _13"> </span>&amp;<span class="_ _10"> </span>~ZF<span class="_ _5d"> </span><span class="ff7 fs21">Above<span class="_"> </span>(unsigned<span class="_"> </span></span>&gt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h31 y2635 ffd fs1e fc2 sc0 ls0 ws0">cmovae<span class="_ _1a"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnb<span class="_ _94"> </span>~CF<span class="_ _92"> </span><span class="ff7 fs21">Above<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(Unsigned<span class="_"> </span></span>&gt;=<span class="ff7 fs21">)</span></div><div class="t m5 x17 h31 y2636 ffd fs1e fc2 sc0 ls0 ws0">cmovb<span class="_ _3f"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovnae<span class="_ _61"> </span>CF<span class="_ _157"> </span><span class="ff7 fs21">Below<span class="_"> </span>(unsigned<span class="_"> </span></span>&lt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h31 y2637 ffd fs1e fc2 sc0 ls0 ws0">cmovbe<span class="_ _1a"> </span><span class="ffa fs21">S<span class="ff7">,<span class="_"> </span></span>R<span class="_ _26"> </span></span>cmovna<span class="_ _94"> </span>CF<span class="_ _13"> </span>|<span class="_ _13"> </span>ZF<span class="_ _31"> </span><span class="ff7 fs21">Below<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(unsigned<span class="_"> </span></span>&lt;=<span class="ff7 fs21">)</span></div><div class="t m5 x17 h34 y2638 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _11"> </span>3.18<span class="_ _c"> </span><span class="fc1">The<span class="_ _16"> </span>conditional<span class="_ _16"> </span>move<span class="_ _11"> </span>instructions.<span class="_ _16"> </span><span class="ff6">These<span class="_ _16"> </span>instructions<span class="_ _11"> </span>copy<span class="_ _16"> </span>the<span class="_ _11"> </span>source</span></span></div><div class="t m5 x17 h34 y2639 ff6 fs16 fc1 sc0 ls0 ws0">value<span class="_ _16"> </span><span class="ff11">S<span class="_ _15"> </span></span>to<span class="_ _14"> </span>its<span class="_ _16"> </span>destination<span class="_ _14"> </span><span class="ff11">R<span class="_ _14"> </span></span>when<span class="_ _14"> </span>the<span class="_ _16"> </span>move<span class="_ _16"> </span>condition<span class="_ _14"> </span>holds.<span class="_ _16"> </span>Some<span class="_ _14"> </span>instructions<span class="_ _16"> </span>have</div><div class="t m5 x17 h34 y263a ff6 fs16 fc1 sc0 ls0 ws0">“synonyms,”<span class="_ _10"> </span>alternate<span class="_ _11"> </span>names<span class="_ _10"> </span>for<span class="_ _10"> </span>the<span class="_ _11"> </span>same<span class="_ _10"> </span>machine<span class="_ _11"> </span>instruction.</div><div class="t m5 x17 h53 y263b ffd fs1e fc2 sc0 ls33 ws0">v=<span class="ffa ls0">test-expr<span class="_ _1f"> </span><span class="ffd">?<span class="_ _1f"> </span></span>then-expr<span class="_ _1f"> </span><span class="ffd">:<span class="_ _1f"> </span></span>else-expr<span class="_ _2"></span><span class="ffd">;</span></span></div><div class="t m5 x17 h26 y263c ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _14"> </span>standard<span class="_ _14"> </span>way<span class="_ _14"> </span>to<span class="_ _14"> </span>compile<span class="_ _14"> </span>this<span class="_ _14"> </span>expression<span class="_ _14"> </span>using<span class="_ _14"> </span>conditional<span class="_ _14"> </span>control<span class="_ _14"> </span>transfer</div><div class="t m5 x17 h26 y263d ff7 fs19 fc2 sc0 ls0 ws0">would<span class="_"> </span>have<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>form:</div><div class="t m5 x1b6 h53 y263e ffd fs1e fc2 sc0 ls0 ws0">if<span class="_ _e"> </span>(!<span class="ffa">test-expr<span class="_ _2"></span></span>)</div><div class="t m5 x21e h2d y263f ffd fs1e fc2 sc0 ls0 ws0">goto<span class="_ _e"> </span>false;</div><div class="t m5 x1b6 h53 y2640 ffd fs1e fc2 sc0 ls33 ws0">v=<span class="ffa ls0">then-expr<span class="_ _2"></span><span class="ffd">;</span></span></div><div class="t m5 x1b6 h2d y2641 ffd fs1e fc2 sc0 ls0 ws0">goto<span class="_ _e"> </span>done;</div><div class="t m5 x17 h2d y2642 ffd fs1e fc2 sc0 ls0 ws0">false:</div><div class="t m5 x1b6 h53 y2643 ffd fs1e fc2 sc0 ls33 ws0">v=<span class="ffa ls0">else-expr<span class="_ _2"></span><span class="ffd">;</span></span></div><div class="t m5 x17 h2d y2644 ffd fs1e fc2 sc0 ls0 ws0">done:</div><div class="t m5 x17 h26 y2645 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span>code<span class="_ _13"> </span>contains<span class="_ _13"> </span>two<span class="_ _13"> </span>code<span class="_"> </span>sequences—one<span class="_ _13"> </span>evaluating<span class="_ _13"> </span><span class="ffa">then-expr<span class="_"> </span></span>and<span class="_ _13"> </span>one<span class="_"> </span>evalu-</div><div class="t m5 x17 h26 y2646 ff7 fs19 fc2 sc0 ls0 ws0">ating<span class="_"> </span><span class="ffa">else-expr<span class="_ _2"></span></span>.<span class="_"> </span>A<span class="_"> </span>combination<span class="_"> </span>of<span class="_"> </span>conditional<span class="_"> </span>and<span class="_"> </span>unconditional<span class="_"> </span>jumps<span class="_ _13"> </span>is<span class="_"> </span>used<span class="_"> </span>to</div><div class="t m5 x17 h26 y2647 ff7 fs19 fc2 sc0 ls0 ws0">ensure<span class="_"> </span>that<span class="_"> </span>just<span class="_"> </span>one<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>sequences<span class="_"> </span>is<span class="_"> </span>evaluated.</div><div class="t m5 x26 h26 y2648 ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _16"> </span>the<span class="_ _16"> </span>code<span class="_ _16"> </span>based<span class="_ _16"> </span>on<span class="_ _16"> </span>a<span class="_ _11"> </span>conditional<span class="_ _16"> </span>move,<span class="_ _16"> </span>both<span class="_ _16"> </span>the<span class="_ _16"> </span><span class="ffa">then-expr<span class="_ _14"> </span></span>and<span class="_ _16"> </span>the<span class="_ _16"> </span><span class="ffa">else-</span></div><div class="t m5 x17 h26 y2649 ffa fs19 fc2 sc0 ls0 ws0">expr<span class="_ _11"> </span><span class="ff7">are<span class="_"> </span>evaluated,<span class="_"> </span>with<span class="_ _11"> </span>the<span class="_"> </span>ﬁnal<span class="_"> </span>value<span class="_"> </span>chosen<span class="_"> </span>based<span class="_"> </span>on<span class="_ _11"> </span>the<span class="_"> </span>evaluation<span class="_"> </span></span>test-expr<span class="_ _2"></span><span class="ff7">.</span></div><div class="t m5 x17 h26 y264a ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_"> </span>can<span class="_"> </span>be<span class="_"> </span>described<span class="_"> </span>by<span class="_"> </span>the<span class="_"> </span>following<span class="_"> </span>abstract<span class="_"> </span>code:</div><div class="t m5 x1b6 h53 y264b ffd fs1e fc2 sc0 ls164 ws0">v=<span class="_ _41"></span><span class="ffa ls0">then-expr<span class="_ _2"></span><span class="ffd">;</span></span></div><div class="t m5 x1b6 h53 y264c ffd fs1e fc2 sc0 ls0 ws0">ve<span class="_ _e"> </span>=<span class="_ _1f"> </span><span class="ffa">else-expr<span class="_ _2"></span></span>;</div><div class="t m5 x1b6 h53 y264d ffd fs1e fc2 sc0 ls164 ws0">t=<span class="_ _41"></span><span class="ffa ls0">test-expr<span class="_ _2"></span><span class="ffd">;</span></span></div><div class="t m5 x1b6 h2d y264e ffd fs1e fc2 sc0 ls0 ws0">if<span class="_ _e"> </span>(!t)<span class="_ _1f"> </span>v<span class="_ _1f"> </span>=<span class="_ _e"> </span>ve;</div><div class="t m5 x17 h26 y1152 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _16"> </span>ﬁnal<span class="_ _16"> </span>statement<span class="_ _14"> </span>in<span class="_ _16"> </span>this<span class="_ _16"> </span>sequence<span class="_ _16"> </span>is<span class="_ _16"> </span>implemented<span class="_ _16"> </span>with<span class="_ _16"> </span>a<span class="_ _16"> </span>conditional<span class="_ _16"> </span>move—</div><div class="t m5 x17 h26 y1153 ff7 fs19 fc2 sc0 ls0 ws0">value<span class="_"> </span><span class="ffd">ve<span class="_ _10"> </span></span>is<span class="_"> </span>copied<span class="_"> </span>to<span class="_"> </span><span class="ffd">v<span class="_ _10"> </span></span>only<span class="_"> </span>if<span class="_"> </span>test<span class="_"> </span>condition<span class="_"> </span><span class="ffd">t<span class="_ _10"> </span></span>does<span class="_"> </span>not<span class="_"> </span>hold.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
