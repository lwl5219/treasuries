<div id="pff0" class="pf w2 h11" data-page-no="f0"><div class="pc pcf0 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bgf0.png"/><div class="t m5 x1dc h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>3.6<span class="_ _60"> </span>Control<span class="_ _3e"> </span><span class="ffe fs1e">239</span></div><div class="t m5 x17 h31 y1398 ff7 fs21 fc2 sc0 ls0 ws0">Instruction<span class="_ _26"> </span>Synonym<span class="_ _26"> </span>Effect<span class="_ _151"> </span>Set<span class="_"> </span>condition</div><div class="t m5 x17 h32 yc94 ffd fs1e fc2 sc0 ls0 ws0">sete<span class="_ _3e"> </span><span class="ff11 fs21">D<span class="_ _76"> </span></span>setz<span class="_ _f4"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _25"> </span></span></span>ZF<span class="_ _152"> </span><span class="ff7 fs21">Equal<span class="_"> </span>/<span class="_"> </span>zero</span></div><div class="t m5 x17 h2d yc98 ffd fs1e fc2 sc0 ls0 ws0">setne<span class="_ _66"> </span><span class="ff11 fs21">D<span class="_ _4c"> </span></span>setnz</div><div class="t m5 xc1 h32 y2479 ff11 fs21 fc2 sc0 ls0 ws0">D<span class="_ _25"> </span><span class="ff12">←<span class="_ _60"> </span><span class="ffd fs1e ls157">~Z<span class="_ _8"></span>F<span class="_ _9d"> </span><span class="ff7 fs21 ls0">Not<span class="_"> </span>equal<span class="_"> </span>/<span class="_"> </span>not<span class="_"> </span>zero</span></span></span></div><div class="t m5 x17 h32 y247a ffd fs1e fc2 sc0 ls0 ws0">sets<span class="_ _3e"> </span><span class="ff11 fs21 ls158">DD<span class="_ _153"></span><span class="ff12 ls0">←<span class="_ _25"> </span><span class="ffd fs1e">SF<span class="_ _152"> </span></span><span class="ff7">Negative</span></span></span></div><div class="t m5 x17 h32 ycd7 ffd fs1e fc2 sc0 ls0 ws0">setns<span class="_ _66"> </span><span class="ff11 fs21 ls158">DD<span class="_ _153"></span><span class="ff12 ls0">←<span class="_ _60"> </span><span class="ffd fs1e ls157">~S<span class="_ _80"></span>F<span class="_ _90"> </span><span class="ff7 fs21 ls0">Nonnegative</span></span></span></span></div><div class="t m5 x17 h32 ycd8 ffd fs1e fc2 sc0 ls0 ws0">setg<span class="_ _3e"> </span><span class="ff11 fs21">D<span class="_ _76"> </span></span>setnle<span class="_ _94"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _c"> </span></span></span>~<span class="_ _10"> </span><span class="ff11 fs21">(</span>SF<span class="_ _13"> </span>^<span class="_ _13"> </span>OF<span class="ff11 fs21">)<span class="_ _13"> </span></span>&amp;<span class="_ _13"> </span>~ZF<span class="_ _26"> </span><span class="ff7 fs21">Greater<span class="_"> </span>(signed<span class="_"> </span></span>&gt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h32 y247b ffd fs1e fc2 sc0 ls0 ws0">setge<span class="_ _66"> </span><span class="ff11 fs21">D<span class="_ _4c"> </span></span>setnl<span class="_ _131"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _c"> </span></span></span>~<span class="_ _13"> </span><span class="ff11 fs21">(</span>SF<span class="_ _13"> </span>^<span class="_ _13"> </span>OF<span class="ff11 fs21">)<span class="_ _117"> </span><span class="ff7">Greater<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(signed<span class="_"> </span></span></span>&gt;=<span class="ff7 fs21">)</span></div><div class="t m5 x17 h32 y247c ffd fs1e fc2 sc0 ls0 ws0">setl<span class="_ _3e"> </span><span class="ff11 fs21">D<span class="_ _76"> </span></span>setnge<span class="_ _94"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _25"> </span></span></span>SF<span class="_ _13"> </span>^<span class="_ _13"> </span>OF<span class="_ _126"> </span><span class="ff7 fs21">Less<span class="_"> </span>(signed<span class="_"> </span></span>&lt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h32 y247d ffd fs1e fc2 sc0 ls0 ws0">setle<span class="_ _66"> </span><span class="ff11 fs21">D<span class="_ _4c"> </span></span>setng<span class="_ _131"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _23"> </span></span>(</span>SF<span class="_ _13"> </span>^<span class="_ _13"> </span>OF<span class="ff11 fs21">)<span class="_ _13"> </span></span><span class="ls157">|Z<span class="_ _8"></span>F<span class="_ _5a"> </span><span class="ff7 fs21 ls0">Less<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(signed<span class="_"> </span></span><span class="ls0">&lt;=<span class="ff7 fs21">)</span></span></span></div><div class="t m5 x17 h32 y247e ffd fs1e fc2 sc0 ls0 ws0">seta<span class="_ _3e"> </span><span class="ff11 fs21">D<span class="_ _76"> </span></span>setnbe<span class="_ _94"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _c"> </span></span></span>~<span class="_ _10"> </span>CF<span class="_ _13"> </span>&amp;<span class="_ _13"> </span>~ZF<span class="_ _5d"> </span><span class="ff7 fs21">Above<span class="_"> </span>(unsigned<span class="_"> </span></span>&gt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h32 y103b ffd fs1e fc2 sc0 ls0 ws0">setae<span class="_ _66"> </span><span class="ff11 fs21">D<span class="_ _4c"> </span></span>setnb<span class="_ _131"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _c"> </span></span></span><span class="ls157">~C<span class="_ _80"></span>F<span class="_ _90"> </span><span class="ff7 fs21 ls0">Above<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(unsigned<span class="_"> </span></span><span class="ls0">&gt;=<span class="ff7 fs21">)</span></span></span></div><div class="t m5 x17 h32 y247f ffd fs1e fc2 sc0 ls0 ws0">setb<span class="_ _3e"> </span><span class="ff11 fs21">D<span class="_ _76"> </span></span>setnae<span class="_ _94"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _25"> </span></span></span>CF<span class="_ _152"> </span><span class="ff7 fs21">Below<span class="_"> </span>(unsigned<span class="_"> </span></span>&lt;<span class="ff7 fs21">)</span></div><div class="t m5 x17 h32 y2480 ffd fs1e fc2 sc0 ls0 ws0">setbe<span class="_ _66"> </span><span class="ff11 fs21">D<span class="_ _4c"> </span></span>setna<span class="_ _131"> </span><span class="ff11 fs21">D<span class="_ _24"> </span><span class="ff12">←<span class="_ _23"> </span></span></span>CF<span class="_ _13"> </span>|<span class="_ _13"> </span>ZF<span class="_ _126"> </span><span class="ff7 fs21">Below<span class="_"> </span>or<span class="_"> </span>equal<span class="_"> </span>(unsigned<span class="_"> </span></span>&lt;=<span class="ff7 fs21">)</span></div><div class="t m5 x17 h34 y2481 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_ _10"> </span>3.14<span class="_ _66"> </span><span class="fc1">The<span class="_"> </span><span class="ff1b">set<span class="_ _13"> </span></span>instructions.<span class="_"> </span><span class="ff6">Each<span class="_ _13"> </span>instruction<span class="_ _10"> </span>sets<span class="_ _13"> </span>a<span class="_ _10"> </span>single<span class="_ _10"> </span>byte<span class="_ _13"> </span>to<span class="_ _10"> </span>0<span class="_ _13"> </span>or<span class="_ _10"> </span>1<span class="_ _10"> </span>based<span class="_ _13"> </span>on</span></span></div><div class="t m5 x17 h34 y2482 ff6 fs16 fc1 sc0 ls0 ws0">some<span class="_ _10"> </span>combination<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _10"> </span>condition<span class="_ _11"> </span>codes.<span class="_ _11"> </span>Some<span class="_ _10"> </span>instructions<span class="_ _11"> </span>have<span class="_ _11"> </span>“synonyms,”<span class="_ _10"> </span>that<span class="_ _11"> </span>is,</div><div class="t m5 x17 h34 y2483 ff6 fs16 fc1 sc0 ls0 ws0">alternate<span class="_ _10"> </span>names<span class="_ _11"> </span>for<span class="_ _10"> </span>the<span class="_ _10"> </span>same<span class="_ _11"> </span>machine<span class="_ _10"> </span>instruction.</div><div class="t m5 x2e h61 y2484 ff13 fs35 fc6 sc0 ls0 ws0">int<span class="_ _f"> </span>comp(data_t<span class="_ _f"> </span>a,<span class="_ _f"> </span>data_t<span class="_ _e"> </span>b)</div><div class="t m5 x2e h61 y2485 ff13 fs35 fc6 sc0 ls0 ws0">a<span class="_ _f"> </span>in<span class="_ _f"> </span>%rdi,<span class="_ _f"> </span>b<span class="_ _e"> </span>in<span class="_ _21"> </span>%rsi</div><div class="t m5 x2c h2d y2486 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">comp:</span></div><div class="t m5 x2c h2d y2487 ff6 fs20 fc6 sc0 ls0 ws0">2<span class="_ _45"> </span><span class="ffd fs1e fc2">cmpq<span class="_ _46"> </span>%rsi,<span class="_ _e"> </span>%rdi<span class="_ _93"> </span></span><span class="ff13 fs35">Compare<span class="_ _e"> </span>a:b</span></div><div class="t m5 x2c h2d y2488 ff6 fs20 fc6 sc0 ls0 ws0">3<span class="_ _45"> </span><span class="ffd fs1e fc2">setl<span class="_ _46"> </span>%al<span class="_ _12b"> </span></span><span class="ff13 fs35">Set<span class="_ _f"> </span>low-order<span class="_ _f"> </span>byte<span class="_ _f"> </span>of<span class="_ _e"> </span>%eax<span class="_ _21"> </span>to<span class="_ _f"> </span>0<span class="_ _e"> </span>or<span class="_ _21"> </span>1</span></div><div class="t m5 x2c h2d y2489 ff6 fs20 fc6 sc0 ls0 ws0">4<span class="_ _45"> </span><span class="ffd fs1e fc2">movzbl<span class="_ _1a"> </span>%al,<span class="_ _e"> </span>%eax<span class="_ _59"> </span></span><span class="ff13 fs35">Clear<span class="_ _f"> </span>rest<span class="_ _f"> </span>of<span class="_ _e"> </span>%eax<span class="_ _21"> </span>(and<span class="_ _f"> </span>rest<span class="_ _e"> </span>of<span class="_ _21"> </span>%rax)</span></div><div class="t m5 x2c h2d y248a ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _45"> </span><span class="ffd fs1e fc2">ret</span></div><div class="t m5 x26 h26 y2156 ff7 fs19 fc2 sc0 ls0 ws0">Note<span class="_ _15"> </span>the<span class="_ _15"> </span>comparison<span class="_ _21"> </span>order<span class="_ _15"> </span>of<span class="_ _21"> </span>the<span class="_ _15"> </span><span class="ffd">cmpq<span class="_ _21"> </span></span>instruction<span class="_ _15"> </span>(line<span class="_ _21"> </span>2).<span class="_ _15"> </span>Although<span class="_ _21"> </span>the</div><div class="t m5 x17 h26 y248b ff7 fs19 fc2 sc0 ls0 ws0">arguments<span class="_ _21"> </span>are<span class="_ _f"> </span>listed<span class="_ _f"> </span>in<span class="_ _f"> </span>the<span class="_ _f"> </span>order<span class="_ _21"> </span><span class="ffd">%rsi<span class="_ _f"> </span></span>(<span class="ffd">b</span>),<span class="_ _e"> </span>then<span class="_ _21"> </span><span class="ffd">%rdi<span class="_ _f"> </span></span>(<span class="ffd">a</span>),<span class="_ _e"> </span>the<span class="_ _21"> </span>comparison<span class="_ _f"> </span>is</div><div class="t m5 x17 h26 y248c ff7 fs19 fc2 sc0 ls0 ws0">really<span class="_"> </span>between<span class="_"> </span><span class="ffd">a<span class="_ _10"> </span></span>and<span class="_"> </span><span class="ffd">b</span>.<span class="_"> </span>Recall<span class="_"> </span>also,<span class="_"> </span>as<span class="_"> </span>discussed<span class="_"> </span>in<span class="_"> </span>Section<span class="_"> </span>3.4.2,<span class="_"> </span>that<span class="_"> </span>the<span class="_"> </span><span class="ffd">movzbl</span></div><div class="t m5 x17 h26 y248d ff7 fs19 fc2 sc0 ls0 ws0">instruction<span class="_"> </span>(line<span class="_"> </span>4)<span class="_"> </span>clears<span class="_"> </span>not<span class="_"> </span>just<span class="_ _11"> </span>the<span class="_"> </span>high-order<span class="_"> </span>3<span class="_"> </span>bytes<span class="_"> </span>of<span class="_ _11"> </span><span class="ffd">%eax</span>,<span class="_"> </span>but<span class="_"> </span>the<span class="_"> </span>upper<span class="_ _11"> </span>4</div><div class="t m5 x17 h26 y248e ff7 fs19 fc2 sc0 ls0 ws0">bytes<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>entire<span class="_"> </span>register,<span class="_"> </span><span class="ffd">%rax</span>,<span class="_"> </span>as<span class="_"> </span>well.</div><div class="t m5 x26 h26 y248f ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>some<span class="_"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>underlying<span class="_"> </span>machine<span class="_"> </span>instructions<span class="_ _1"></span>,<span class="_ _11"> </span>there<span class="_"> </span>are<span class="_"> </span>multiple<span class="_ _11"> </span>possible</div><div class="t m5 x17 h26 y2490 ff7 fs19 fc2 sc0 ls0 ws0">names<span class="_ _1"></span>,<span class="_ _16"> </span>which<span class="_ _11"> </span>we<span class="_ _16"> </span>list<span class="_ _11"> </span>as<span class="_ _16"> </span>“synonyms<span class="_ _1"></span>.<span class="_ _1"></span>”<span class="_ _16"> </span>F<span class="_ _3"></span>or<span class="_ _16"> </span>example<span class="_ _0"></span>,<span class="_ _16"> </span>both<span class="_ _11"> </span><span class="ffd">setg<span class="_ _16"> </span></span>(for<span class="_ _11"> </span>“set<span class="_ _16"> </span>greater”)</div><div class="t m5 x17 h26 y2491 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_ _16"> </span><span class="ffd">setnle<span class="_ _16"> </span></span>(for<span class="_ _14"> </span>“set<span class="_ _16"> </span>not<span class="_ _16"> </span>less<span class="_ _14"> </span>or<span class="_ _16"> </span>equal”)<span class="_ _16"> </span>refer<span class="_ _14"> </span>to<span class="_ _16"> </span>the<span class="_ _16"> </span>same<span class="_ _14"> </span>machine<span class="_ _16"> </span>instruction.</div><div class="t m5 x17 h26 y2492 ff7 fs19 fc2 sc0 ls0 ws0">Compilers<span class="_"> </span>and<span class="_"> </span>disassemblers<span class="_"> </span>make<span class="_"> </span>arbitrary<span class="_"> </span>choices<span class="_"> </span>of<span class="_"> </span>which<span class="_"> </span>names<span class="_"> </span>to<span class="_"> </span>use<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y2493 ff7 fs19 fc2 sc0 ls0 ws0">Although<span class="_ _13"> </span>all<span class="_ _13"> </span>arithmetic<span class="_ _13"> </span>and<span class="_ _6"> </span>logical<span class="_ _13"> </span>operations<span class="_ _13"> </span>set<span class="_ _13"> </span>the<span class="_ _13"> </span>condition<span class="_ _13"> </span>codes<span class="_ _3"></span>,<span class="_ _13"> </span>the<span class="_ _13"> </span>de-</div><div class="t m5 x17 h26 y2494 ff7 fs19 fc2 sc0 ls0 ws0">scriptions<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>different<span class="_ _16"> </span><span class="ff9">set<span class="_ _11"> </span></span>instructions<span class="_ _11"> </span>apply<span class="_ _11"> </span>to<span class="_ _11"> </span>the<span class="_ _16"> </span>case<span class="_ _11"> </span>where<span class="_ _11"> </span>a<span class="_ _11"> </span>comparison</div><div class="t m5 x17 h26 y2495 ff7 fs19 fc2 sc0 ls0 ws0">instruction<span class="_"> </span>has<span class="_ _11"> </span>been<span class="_"> </span>executed,<span class="_ _11"> </span>setting<span class="_ _11"> </span>the<span class="_"> </span>condition<span class="_ _11"> </span>codes<span class="_ _11"> </span>according<span class="_"> </span>to<span class="_ _11"> </span>the<span class="_"> </span>com-</div><div class="t m5 x17 h26 y2496 ff7 fs19 fc2 sc0 ls0 ws0">putation<span class="_ _11"> </span><span class="ffd">t<span class="_ _16"> </span>=<span class="_ _16"> </span>a-b</span>.<span class="_ _11"> </span>More<span class="_ _11"> </span>speciﬁcally<span class="_ _3"></span>,<span class="_ _16"> </span>let<span class="_ _11"> </span><span class="ff11">a<span class="_ _5"></span></span>,<span class="_ _16"> </span><span class="ff11">b</span>,<span class="_ _16"> </span>and<span class="_ _11"> </span><span class="ff11">t<span class="_ _15"> </span></span>be<span class="_ _16"> </span>the<span class="_ _11"> </span>integers<span class="_ _16"> </span>represented<span class="_ _11"> </span>in</div><div class="t m5 x17 h46 y2497 ff7 fs19 fc2 sc0 ls0 ws0">two’s-complement<span class="_ _11"> </span>form<span class="_ _16"> </span>by<span class="_ _16"> </span>variables<span class="_ _16"> </span><span class="ffd">a</span>,<span class="_ _16"> </span><span class="ffd">b</span>,<span class="_ _16"> </span>and<span class="_ _16"> </span><span class="ffd">t</span>,<span class="_ _16"> </span>respectively<span class="_ _3"></span>,<span class="_ _16"> </span>and<span class="_ _16"> </span>so<span class="_ _16"> </span><span class="ff11">t<span class="_"> </span><span class="ff12">=<span class="_ _13"></span></span>a<span class="_ _11"> </span><span class="ffd">-</span></span></div><div class="t m5 x1e9 h69 y2498 ff7 fs39 fc2 sc0 ls0 ws0">t</div><div class="t m5 x1e9 h50 y2499 ff11 fs25 fc2 sc0 ls0 ws0">w</div><div class="t m5 x4e h26 y8d6 ff11 fs19 fc2 sc0 ls0 ws0">b<span class="ff7">,</span></div><div class="t m5 x17 h26 y8d7 ff7 fs19 fc2 sc0 ls0 ws0">where<span class="_"> </span><span class="ff11">w<span class="_ _11"> </span></span>depends<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>sizes<span class="_"> </span>associated<span class="_"> </span>with<span class="_"> </span><span class="ffd">a<span class="_ _10"> </span></span>and<span class="_"> </span><span class="ffd">b</span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
