<div id="pf3f" class="pf w2 h11" data-page-no="3f"><div class="pc pc3f w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg3f.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">62<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>1<span class="_ _3d"> </span>A<span class="_ _10"> </span>T<span class="_ _3"></span>our<span class="_ _10"> </span>of<span class="_ _10"> </span>Computer<span class="_ _10"> </span>Systems</span></div><div class="t m5 x1d h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _16"> </span>hardware<span class="_ _1"></span>.<span class="_ _14"> </span>Chapter<span class="_ _16"> </span>12<span class="_ _16"> </span>will<span class="_ _16"> </span>look<span class="_ _16"> </span>much<span class="_ _16"> </span>more<span class="_ _16"> </span>deeply<span class="_ _16"> </span>into<span class="_ _16"> </span>concurrency<span class="_ _16"> </span>and<span class="_ _16"> </span>its</div><div class="t m5 x1d h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">use<span class="_ _11"> </span>to<span class="_ _11"> </span>provide<span class="_ _16"> </span>a<span class="_ _11"> </span>sharing<span class="_ _11"> </span>of<span class="_ _16"> </span>processing<span class="_ _11"> </span>resources<span class="_ _11"> </span>and<span class="_ _16"> </span>to<span class="_ _11"> </span>enable<span class="_ _11"> </span>more<span class="_ _11"> </span>parallelism</div><div class="t m5 x1d h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">in<span class="_"> </span>program<span class="_"> </span>execution.</div><div class="t m5 x1d h42 y8b4 ff6 fs29 fc6 sc0 ls0 ws0">Instruction-Level<span class="_ _11"> </span>Parallelism</div><div class="t m5 x1d h26 y8b5 ff7 fs19 fc1 sc0 ls0 ws0">At<span class="_ _14"> </span>a<span class="_ _14"> </span>much<span class="_ _14"> </span>lower<span class="_ _14"> </span>level<span class="_ _15"> </span>of<span class="_ _14"> </span>abstraction,<span class="_ _15"> </span>modern<span class="_ _14"> </span>processors<span class="_ _14"> </span>can<span class="_ _14"> </span>execute<span class="_ _14"> </span>multiple</div><div class="t m5 x1d h26 y8b6 ff7 fs19 fc1 sc0 ls0 ws0">instructions<span class="_ _14"> </span>at<span class="_ _15"> </span>one<span class="_ _15"> </span>time,<span class="_ _15"> </span>a<span class="_ _15"> </span>property<span class="_ _15"> </span>known<span class="_ _14"> </span>as<span class="_ _15"> </span><span class="ffa">instruction-level<span class="_ _15"> </span>parallelism</span><span class="ls16">.F<span class="_ _12"></span>o<span class="_ _12"></span>r</span></div><div class="t m5 x1d h26 y8b7 ff7 fs19 fc1 sc0 ls0 ws0">example<span class="_ _1"></span>,<span class="_ _e"> </span>early<span class="_ _15"> </span>microprocessors<span class="_ _1"></span>,<span class="_ _e"> </span>such<span class="_ _15"> </span>as<span class="_ _21"> </span>the<span class="_ _f"> </span>1978-vintage<span class="_ _21"> </span>Intel<span class="_ _21"> </span>8086,<span class="_ _e"> </span>required</div><div class="t m5 x1d h26 y8b8 ff7 fs19 fc1 sc0 ls0 ws0">multiple<span class="_"> </span>(typically<span class="_"> </span>3–10)<span class="_"> </span>clock<span class="_ _13"> </span>cycles<span class="_"> </span>to<span class="_"> </span>execute<span class="_"> </span>a<span class="_"> </span>single<span class="_ _13"> </span>instruction.<span class="_"> </span>More<span class="_"> </span>recent</div><div class="t m5 x1d h26 y8b9 ff7 fs19 fc1 sc0 ls0 ws0">processors<span class="_ _14"> </span>can<span class="_ _15"> </span>sustain<span class="_ _14"> </span>execution<span class="_ _15"> </span>rates<span class="_ _15"> </span>of<span class="_ _14"> </span>2–4<span class="_ _15"> </span>instructions<span class="_ _14"> </span>per<span class="_ _15"> </span>clock<span class="_ _14"> </span>cycle<span class="_ _0"></span>.<span class="_ _14"> </span>Any</div><div class="t m5 x1d h26 y8ba ff7 fs19 fc1 sc0 ls0 ws0">given<span class="_ _11"> </span>instruction<span class="_ _16"> </span>requires<span class="_ _16"> </span>much<span class="_ _11"> </span>longer<span class="_ _16"> </span>from<span class="_ _16"> </span>start<span class="_ _11"> </span>to<span class="_ _16"> </span>ﬁnish,<span class="_ _16"> </span>perhaps<span class="_ _11"> </span>20<span class="_ _16"> </span>cycles<span class="_ _11"> </span>or</div><div class="t m5 x1d h26 y8bb ff7 fs19 fc1 sc0 ls0 ws0">more<span class="_ _1"></span>,<span class="_ _11"> </span>but<span class="_"> </span>the<span class="_ _11"> </span>processor<span class="_"> </span>uses<span class="_ _11"> </span>a<span class="_"> </span>number<span class="_"> </span>of<span class="_ _11"> </span>clever<span class="_"> </span>tricks<span class="_ _11"> </span>to<span class="_"> </span>process<span class="_"> </span>as<span class="_ _11"> </span>many<span class="_"> </span>as<span class="_ _11"> </span>100</div><div class="t m5 x1d h26 y8bc ff7 fs19 fc1 sc0 ls0 ws0">instructions<span class="_ _6"> </span>at<span class="_ _13"> </span>a<span class="_ _6"> </span>time<span class="_ _0"></span>.<span class="_ _6"> </span>In<span class="_ _13"> </span>Chapter<span class="_ _6"> </span>4,<span class="_ _13"> </span>we<span class="_ _6"> </span>will<span class="_ _13"> </span>explore<span class="_ _6"> </span>the<span class="_ _13"> </span>use<span class="_ _6"> </span>of<span class="_ _13"> </span><span class="ffa">pipelining</span>,<span class="_ _13"> </span>where<span class="_ _6"> </span>the</div><div class="t m5 x1d h26 y8bd ff7 fs19 fc1 sc0 ls0 ws0">actions<span class="_"> </span>required<span class="_ _13"> </span>to<span class="_"> </span>execute<span class="_"> </span>an<span class="_ _13"> </span>instruction<span class="_"> </span>are<span class="_"> </span>partitioned<span class="_ _13"> </span>into<span class="_"> </span>different<span class="_"> </span>steps<span class="_ _13"> </span>and</div><div class="t m5 x1d h26 y8be ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _14"> </span>processor<span class="_ _14"> </span>hardware<span class="_ _14"> </span>is<span class="_ _14"> </span>organized<span class="_ _16"> </span>as<span class="_ _14"> </span>a<span class="_ _14"> </span>series<span class="_ _14"> </span>of<span class="_ _14"> </span>stages<span class="_ _1"></span>,<span class="_ _15"> </span>each<span class="_ _14"> </span>performing<span class="_ _14"> </span>one</div><div class="t m5 x1d h26 y8bf ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _16"> </span>these<span class="_ _16"> </span>steps<span class="_ _0"></span>.<span class="_ _16"> </span>T<span class="_ _0"></span>he<span class="_ _16"> </span>stages<span class="_ _16"> </span>can<span class="_ _14"> </span>operate<span class="_ _16"> </span>in<span class="_ _14"> </span>parallel,<span class="_ _14"> </span>working<span class="_ _16"> </span>on<span class="_ _16"> </span>different<span class="_ _14"> </span>parts<span class="_ _16"> </span>of</div><div class="t m5 x1d h26 y8c0 ff7 fs19 fc1 sc0 ls0 ws0">different<span class="_ _13"> </span>instructions<span class="_ _0"></span>.<span class="_ _13"> </span>W<span class="_ _1"></span>e<span class="_"> </span>will<span class="_ _13"> </span>see<span class="_ _13"> </span>that<span class="_"> </span>a<span class="_ _13"> </span>fairly<span class="_"> </span>simple<span class="_ _13"> </span>hardware<span class="_"> </span>design<span class="_ _13"> </span>can<span class="_"> </span>sustain</div><div class="t m5 x1d h26 y8c1 ff7 fs19 fc1 sc0 ls0 ws0">an<span class="_"> </span>execution<span class="_"> </span>rate<span class="_"> </span>close<span class="_"> </span>to<span class="_"> </span>1<span class="_"> </span>instruction<span class="_"> </span>per<span class="_"> </span>clock<span class="_"> </span>cycle<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y8c2 ff7 fs19 fc1 sc0 ls0 ws0">Processors<span class="_"> </span>that<span class="_"> </span>can<span class="_"> </span>sustain<span class="_"> </span>execution<span class="_ _13"> </span>rates<span class="_"> </span>faster<span class="_"> </span>than<span class="_"> </span>1<span class="_"> </span>instruction<span class="_"> </span>per<span class="_"> </span>c<span class="_ _1"></span>ycle</div><div class="t m5 x1d h26 y8c3 ff7 fs19 fc1 sc0 ls0 ws0">are<span class="_ _6"> </span>known<span class="_ _13"> </span>as<span class="_ _6"> </span><span class="ffa">superscalar<span class="_"> </span></span>processors<span class="_ _3"></span>.<span class="_ _13"> </span>Most<span class="_ _6"> </span>modern<span class="_ _13"> </span>processors<span class="_ _6"> </span>support<span class="_ _6"> </span>superscalar</div><div class="t m5 x1d h26 y8c4 ff7 fs19 fc1 sc0 ls0 ws0">operation.<span class="_ _11"> </span>In<span class="_ _16"> </span>Chapter<span class="_ _16"> </span>5,<span class="_ _16"> </span>we<span class="_ _11"> </span>will<span class="_ _16"> </span>describe<span class="_ _11"> </span>a<span class="_ _16"> </span>high-level<span class="_ _11"> </span>model<span class="_ _16"> </span>of<span class="_ _16"> </span>such<span class="_ _11"> </span>processors<span class="_ _1"></span>.</div><div class="t m5 x1d h26 y8c5 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_ _16"> </span>will<span class="_ _16"> </span>see<span class="_ _11"> </span>that<span class="_ _16"> </span>application<span class="_ _16"> </span>programmers<span class="_ _11"> </span>can<span class="_ _16"> </span>use<span class="_ _16"> </span>this<span class="_ _16"> </span>model<span class="_ _11"> </span>to<span class="_ _16"> </span>understand<span class="_ _16"> </span>the</div><div class="t m5 x1d h26 y8c6 ff7 fs19 fc1 sc0 ls0 ws0">performance<span class="_"> </span>of<span class="_"> </span>their<span class="_"> </span>programs<span class="_ _1"></span>.<span class="_ _11"> </span>T<span class="_ _1"></span>hey<span class="_ _11"> </span>can<span class="_"> </span>then<span class="_"> </span>write<span class="_"> </span>programs<span class="_ _11"> </span>such<span class="_"> </span>that<span class="_"> </span>the<span class="_ _11"> </span>gen-</div><div class="t m5 x1d h26 y8c7 ff7 fs19 fc1 sc0 ls0 ws0">erated<span class="_ _13"> </span>code<span class="_ _13"> </span>achieves<span class="_ _13"> </span>higher<span class="_ _13"> </span>degrees<span class="_ _13"> </span>of<span class="_ _13"> </span>instruction-level<span class="_ _13"> </span>parallelism<span class="_ _13"> </span>and<span class="_ _13"> </span>therefore</div><div class="t m5 x1d h26 y8c8 ff7 fs19 fc1 sc0 ls0 ws0">runs<span class="_"> </span>faster.</div><div class="t m5 x1d h42 y8c9 ff6 fs29 fc6 sc0 ls0 ws0">Single-Instruction,<span class="_ _11"> </span>Multiple-Data<span class="_ _16"> </span>(SIMD)<span class="_ _16"> </span>Parallelism</div><div class="t m5 x1d h26 y8ca ff7 fs19 fc1 sc0 ls0 ws0">At<span class="_ _11"> </span>the<span class="_ _16"> </span>lowest<span class="_ _11"> </span>level,<span class="_ _16"> </span>many<span class="_ _16"> </span>modern<span class="_ _11"> </span>processors<span class="_ _16"> </span>have<span class="_ _11"> </span>special<span class="_ _16"> </span>hardware<span class="_ _11"> </span>that<span class="_ _11"> </span>allows</div><div class="t m5 x1d h26 y8cb ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_ _14"> </span>single<span class="_ _14"> </span>instruction<span class="_ _14"> </span>to<span class="_ _14"> </span>cause<span class="_ _14"> </span>multiple<span class="_ _14"> </span>operations<span class="_ _15"> </span>to<span class="_ _14"> </span>be<span class="_ _14"> </span>performed<span class="_ _14"> </span>in<span class="_ _14"> </span>parallel,<span class="_ _15"> </span>a</div><div class="t m5 x1d h26 y8cc ff7 fs19 fc1 sc0 ls0 ws0">mode<span class="_ _6"> </span>known<span class="_ _13"> </span>as<span class="_ _6"> </span><span class="ffa">single-instruction,<span class="_ _13"> </span>multiple-data<span class="_ _6"> </span></span>(SIMD)<span class="_ _6"> </span>parallelism.<span class="_ _13"> </span>F<span class="_ _3"></span>or<span class="_ _13"> </span>example<span class="_ _1"></span>,</div><div class="t m5 x1d h26 y8cd ff7 fs19 fc1 sc0 ls0 ws0">recent<span class="_"> </span>generations<span class="_ _13"> </span>of<span class="_"> </span>Intel<span class="_"> </span>and<span class="_"> </span>AMD<span class="_ _13"> </span>processors<span class="_"> </span>have<span class="_"> </span>instructions<span class="_"> </span>that<span class="_ _13"> </span>can<span class="_"> </span>add<span class="_"> </span>8</div><div class="t m5 x1d h26 y8ce ff7 fs19 fc1 sc0 ls0 ws0">pairs<span class="_"> </span>of<span class="_"> </span>single-precision<span class="_"> </span>ﬂoating-point<span class="_"> </span>numbers<span class="_"> </span>(C<span class="_"> </span>data<span class="_"> </span>type<span class="_"> </span><span class="ffd">float</span>)<span class="_"> </span>in<span class="_"> </span>parallel.</div><div class="t m5 x29 h26 y8cf ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>hese<span class="_ _16"> </span>SIMD<span class="_ _16"> </span>instructions<span class="_ _11"> </span>are<span class="_ _16"> </span>provided<span class="_ _16"> </span>mostly<span class="_ _11"> </span>to<span class="_ _16"> </span>speed<span class="_ _16"> </span>up<span class="_ _16"> </span>applications<span class="_ _11"> </span>that</div><div class="t m5 x1d h26 y8d0 ff7 fs19 fc1 sc0 ls0 ws0">process<span class="_"> </span>image<span class="_ _1"></span>,<span class="_"> </span>sound,<span class="_ _13"> </span>and<span class="_"> </span>video<span class="_ _13"> </span>data.<span class="_"> </span>Although<span class="_"> </span>some<span class="_ _13"> </span>compilers<span class="_"> </span>attempt<span class="_ _13"> </span>to<span class="_"> </span>auto-</div><div class="t m5 x1d h26 y8d1 ff7 fs19 fc1 sc0 ls0 ws0">matically<span class="_ _13"> </span>extract<span class="_ _13"> </span>SIMD<span class="_ _6"> </span>parallelism<span class="_ _13"> </span>from<span class="_ _13"> </span>C<span class="_ _13"> </span>programs<span class="_ _3"></span>,<span class="_ _13"> </span>a<span class="_ _13"> </span>more<span class="_ _13"> </span>reliable<span class="_ _6"> </span>method<span class="_ _13"> </span>is<span class="_ _13"> </span>to</div><div class="t m5 x1d h26 y8d2 ff7 fs19 fc1 sc0 ls0 ws0">write<span class="_ _13"> </span>programs<span class="_ _13"> </span>using<span class="_ _13"> </span>special<span class="_ _13"> </span><span class="ffa">vector<span class="_ _13"> </span></span>data<span class="_ _13"> </span>types<span class="_ _13"> </span>supported<span class="_ _13"> </span>in<span class="_ _13"> </span>compilers<span class="_ _13"> </span>such<span class="_ _13"> </span>as<span class="_ _13"> </span><span class="ff9">gcc</span>.</div><div class="t m5 x1d h26 y8d3 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_"> </span>describe<span class="_ _13"> </span>this<span class="_ _13"> </span>style<span class="_ _13"> </span>of<span class="_"> </span>programming<span class="_ _13"> </span>in<span class="_ _13"> </span>W<span class="_ _3"></span>eb<span class="_"> </span>Aside<span class="_ _13"> </span><span class="ff9">opt:simd</span>,<span class="_ _13"> </span>as<span class="_ _13"> </span>a<span class="_"> </span>supplement<span class="_ _13"> </span>to</div><div class="t m5 x1d h26 y8d4 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>more<span class="_"> </span>general<span class="_"> </span>presentation<span class="_"> </span>on<span class="_"> </span>program<span class="_"> </span>optimization<span class="_"> </span>found<span class="_"> </span>in<span class="_"> </span>Chapter<span class="_"> </span>5.</div><div class="t m5 x1d h41 y8d5 ffe fs29 fc1 sc0 ls0 ws0">1.9.3<span class="_ _48"> </span><span class="fs19">The<span class="_"> </span>Importance<span class="_"> </span>of<span class="_"> </span>Abstractions<span class="_"> </span>in<span class="_"> </span>Computer<span class="_"> </span>Systems</span></div><div class="t m5 x1d h26 y8d6 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _13"> </span>use<span class="_ _13"> </span>of<span class="_ _13"> </span><span class="ffa">abstractions<span class="_ _13"> </span></span>is<span class="_ _13"> </span>one<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>most<span class="_ _13"> </span>important<span class="_ _13"> </span>concepts<span class="_ _13"> </span>in<span class="_ _13"> </span>computer<span class="_ _13"> </span>science<span class="_ _1"></span>.</div><div class="t m5 x1d h26 y8d7 ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _11"> </span>example,<span class="_ _11"> </span>one<span class="_ _16"> </span>aspect<span class="_ _11"> </span>of<span class="_ _11"> </span>good<span class="_ _16"> </span>programming<span class="_ _11"> </span>practice<span class="_ _16"> </span>is<span class="_ _11"> </span>to<span class="_ _16"> </span>formulate<span class="_ _11"> </span>a<span class="_ _11"> </span>simple</div><div class="t m5 x1d h26 y8d8 ff7 fs19 fc1 sc0 ls0 ws0">application<span class="_ _13"> </span>program<span class="_ _6"> </span>interface<span class="_ _13"> </span>(API)<span class="_ _13"> </span>for<span class="_ _6"> </span>a<span class="_ _13"> </span>set<span class="_ _13"> </span>of<span class="_ _6"> </span>functions<span class="_ _13"> </span>that<span class="_ _13"> </span>allow<span class="_ _6"> </span>programmers</div><div class="t m5 x1d h26 y99 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _13"> </span>use<span class="_ _6"> </span>the<span class="_ _13"> </span>code<span class="_ _6"> </span>without<span class="_ _13"> </span>having<span class="_ _6"> </span>to<span class="_ _13"> </span>delve<span class="_ _6"> </span>into<span class="_ _13"> </span>its<span class="_ _13"> </span>inner<span class="_ _6"> </span>workings<span class="_ _1"></span>.<span class="_ _13"> </span>Different<span class="_ _6"> </span>program-</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
