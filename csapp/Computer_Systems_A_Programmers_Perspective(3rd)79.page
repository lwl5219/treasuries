<div id="pf4f" class="pf w2 h11" data-page-no="4f"><div class="pc pc4f w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg4f.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">78<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x1d h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">on<span class="_ _6"> </span>the<span class="_ _13"> </span>numeric<span class="_ _6"> </span>ranges<span class="_ _13"> </span>of<span class="_ _6"> </span>the<span class="_ _6"> </span>different<span class="_ _13"> </span>data<span class="_ _6"> </span>types<span class="_ _1"></span>,<span class="_ _13"> </span>as<span class="_ _6"> </span>will<span class="_ _13"> </span>be<span class="_ _6"> </span>covered<span class="_ _13"> </span>later<span class="_ _0"></span>,<span class="_ _13"> </span>but<span class="_ _6"> </span>there</div><div class="t m5 x1d h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">are<span class="_"> </span>no<span class="_ _13"> </span>upper<span class="_"> </span>bounds<span class="_"> </span>(except<span class="_ _13"> </span>with<span class="_"> </span>the<span class="_"> </span>ﬁxed-size<span class="_ _13"> </span>types).<span class="_"> </span>W<span class="_ _1"></span>ith<span class="_"> </span>32-bit<span class="_"> </span>machines<span class="_ _13"> </span>and</div><div class="t m5 x1d h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">32-bit<span class="_"> </span>programs<span class="_"> </span>being<span class="_"> </span>the<span class="_"> </span>dominant<span class="_"> </span>combination<span class="_"> </span>from<span class="_ _13"> </span>around<span class="_"> </span>1980<span class="_"> </span>until<span class="_"> </span>around</div><div class="t m5 x1d h26 y2f7 ff7 fs19 fc2 sc0 ls0 ws0">2010,<span class="_ _14"> </span>many<span class="_ _14"> </span>programs<span class="_ _14"> </span>have<span class="_ _14"> </span>been<span class="_ _14"> </span>written<span class="_ _16"> </span>assuming<span class="_ _14"> </span>the<span class="_ _14"> </span>allocations<span class="_ _14"> </span>listed<span class="_ _14"> </span>for<span class="_ _14"> </span>32-</div><div class="t m5 x1d h26 y2f8 ff7 fs19 fc2 sc0 ls0 ws0">bit<span class="_ _16"> </span>programs<span class="_ _11"> </span>in<span class="_ _16"> </span>F<span class="_ _0"></span>igure<span class="_ _16"> </span>2.3.<span class="_ _11"> </span>With<span class="_ _11"> </span>the<span class="_ _16"> </span>transition<span class="_ _16"> </span>to<span class="_ _11"> </span>64-bit<span class="_ _16"> </span>machines<span class="_ _1"></span>,<span class="_ _16"> </span>many<span class="_ _16"> </span>hidden</div><div class="t m5 x1d h26 y2f9 ff7 fs19 fc2 sc0 ls0 ws0">word<span class="_ _11"> </span>size<span class="_ _11"> </span>dependencies<span class="_ _16"> </span>have<span class="_ _11"> </span>arisen<span class="_ _11"> </span>as<span class="_ _16"> </span>bugs<span class="_ _11"> </span>in<span class="_ _11"> </span>migrating<span class="_ _16"> </span>these<span class="_ _11"> </span>programs<span class="_ _11"> </span>to<span class="_ _11"> </span>new</div><div class="t m5 x1d h26 y2fa ff7 fs19 fc2 sc0 ls0 ws0">machines<span class="_ _1"></span>.<span class="_ _16"> </span>F<span class="_ _1"></span>or<span class="_ _14"> </span>example<span class="_ _0"></span>,<span class="_ _14"> </span>many<span class="_ _16"> </span>programmers<span class="_ _14"> </span>historically<span class="_ _16"> </span>assumed<span class="_ _14"> </span>that<span class="_ _14"> </span>an<span class="_ _16"> </span>object</div><div class="t m5 x1d h26 y2fb ff7 fs19 fc2 sc0 ls0 ws0">declared<span class="_ _16"> </span>as<span class="_ _16"> </span>type<span class="_ _14"> </span><span class="ffd">int<span class="_ _16"> </span></span>could<span class="_ _16"> </span>be<span class="_ _16"> </span>used<span class="_ _14"> </span>to<span class="_ _16"> </span>store<span class="_ _16"> </span>a<span class="_ _14"> </span>pointer.<span class="_ _16"> </span>T<span class="_ _1"></span>his<span class="_ _16"> </span>works<span class="_ _14"> </span>ﬁne<span class="_ _16"> </span>for<span class="_ _16"> </span>most</div><div class="t m5 x1d h26 y2fc ff7 fs19 fc2 sc0 ls0 ws0">32-bit<span class="_"> </span>programs<span class="_ _1"></span>,<span class="_"> </span>but<span class="_"> </span>it<span class="_"> </span>leads<span class="_"> </span>to<span class="_"> </span>problems<span class="_"> </span>for<span class="_"> </span>64-bit<span class="_"> </span>programs<span class="_ _1"></span>.</div><div class="t m5 x1d h41 ya51 ffe fs29 fc2 sc0 ls0 ws0">2.1.3<span class="_ _48"> </span><span class="fs19">Addressing<span class="_"> </span>and<span class="_"> </span>Byte<span class="_"> </span>Ordering</span></div><div class="t m5 x1d h26 ya52 ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>program<span class="_ _13"> </span>objects<span class="_"> </span>that<span class="_ _13"> </span>span<span class="_"> </span>multiple<span class="_ _13"> </span>bytes<span class="_ _1"></span>,<span class="_"> </span>we<span class="_"> </span>must<span class="_ _13"> </span>establish<span class="_"> </span>two<span class="_ _13"> </span>conventions:</div><div class="t m5 x1d h26 ya53 ff7 fs19 fc2 sc0 ls0 ws0">what<span class="_ _13"> </span>the<span class="_ _13"> </span>address<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>object<span class="_ _13"> </span>will<span class="_ _13"> </span>be,<span class="_ _13"> </span>and<span class="_ _13"> </span>how<span class="_ _13"> </span>we<span class="_"> </span>will<span class="_ _13"> </span>order<span class="_ _13"> </span>the<span class="_ _13"> </span>bytes<span class="_ _13"> </span>in<span class="_"> </span>memory<span class="_ _7"></span>.</div><div class="t m5 x1d h26 ya54 ff7 fs19 fc2 sc0 ls0 ws0">In<span class="_ _16"> </span>virtually<span class="_ _16"> </span>all<span class="_ _16"> </span>machines<span class="_ _3"></span>,<span class="_ _14"> </span>a<span class="_ _16"> </span>multi-byte<span class="_ _16"> </span>object<span class="_ _16"> </span>is<span class="_ _16"> </span>stored<span class="_ _16"> </span>as<span class="_ _16"> </span>a<span class="_ _11"> </span>contiguous<span class="_ _16"> </span>sequence</div><div class="t m5 x1d h26 ya55 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>bytes<span class="_ _1"></span>,<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>address<span class="_ _11"> </span>of<span class="_"> </span>the<span class="_"> </span>object<span class="_"> </span>given<span class="_"> </span>by<span class="_ _11"> </span>the<span class="_"> </span>smallest<span class="_"> </span>address<span class="_"> </span>of<span class="_"> </span>the<span class="_ _11"> </span>bytes</div><div class="t m5 x1d h26 ya56 ff7 fs19 fc2 sc0 ls0 ws0">used.<span class="_ _13"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example<span class="_ _1"></span>,<span class="_ _13"> </span>suppose<span class="_"> </span>a<span class="_ _13"> </span>variable<span class="_ _13"> </span><span class="ffd">x<span class="_ _13"> </span></span>of<span class="_"> </span>type<span class="_ _13"> </span><span class="ffd">int<span class="_ _13"> </span></span>has<span class="_ _13"> </span>address<span class="_"> </span><span class="ffd">0x100</span>;<span class="_ _13"> </span>that<span class="_ _13"> </span>is<span class="_ _1"></span>,<span class="_"> </span>the</div><div class="t m5 x1d h26 ya57 ff7 fs19 fc2 sc0 ls0 ws0">value<span class="_"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>address<span class="_ _11"> </span>expression<span class="_"> </span><span class="ffd">&amp;x<span class="_ _11"> </span></span>is<span class="_ _11"> </span><span class="ffd">0x100</span>.<span class="_ _11"> </span>T<span class="_ _1"></span>hen<span class="_ _11"> </span>(assuming<span class="_ _11"> </span>data<span class="_ _11"> </span>type<span class="_"> </span><span class="ffd">int<span class="_ _11"> </span></span>has<span class="_ _11"> </span>a</div><div class="t m5 x1d h26 ya58 ff7 fs19 fc2 sc0 ls0 ws0">32-bit<span class="_ _13"> </span>representation)<span class="_ _6"> </span>the<span class="_ _13"> </span>4<span class="_ _6"> </span>bytes<span class="_ _13"> </span>of<span class="_ _13"> </span><span class="ffd">x<span class="_ _6"> </span></span>would<span class="_ _13"> </span>be<span class="_ _6"> </span>stored<span class="_ _13"> </span>in<span class="_ _13"> </span>memory<span class="_ _6"> </span>locations<span class="_ _13"> </span><span class="ffd">0x100</span>,</div><div class="t m5 x1d h26 ya59 ffd fs19 fc2 sc0 ls0 ws0">0x101<span class="ff7">,<span class="_"> </span></span>0x102<span class="ff7">,<span class="_"> </span>and<span class="_"> </span></span>0x103<span class="ff7">.</span></div><div class="t m5 x29 h26 ya5a ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _13"> </span>ordering<span class="_ _13"> </span>the<span class="_ _13"> </span>bytes<span class="_ _13"> </span>representing<span class="_ _13"> </span>an<span class="_ _13"> </span>object,<span class="_ _13"> </span>there<span class="_ _13"> </span>are<span class="_ _13"> </span>two<span class="_ _13"> </span>common<span class="_ _13"> </span>conven-</div><div class="t m5 x1d h26 ya5b ff7 fs19 fc2 sc0 ls0 ws0">tions<span class="_ _1"></span>.<span class="_ _6"> </span>Consider<span class="_ _13"> </span>a<span class="_ _6"> </span><span class="ff11">w<span class="_ _2"></span></span>-bit<span class="_ _6"> </span>integer<span class="_ _13"> </span>having<span class="_ _6"> </span>a<span class="_ _13"> </span>bit<span class="_ _6"> </span>representation<span class="_ _6"> </span>[<span class="ff11">x</span></div><div class="t m5 x147 h4b ya5c ff11 fs25 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 x44 h45 ya5d ff11 fs19 fc2 sc0 ls2c ws0">,x</div><div class="t m5 x45 h4b ya5c ff11 fs25 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">2</span></span></div><div class="t m5 x148 h45 ya5d ff11 fs19 fc2 sc0 ls2c ws0">,..<span class="_ _2"></span>.,x</div><div class="t m5 x149 h3c ya5c ff7 fs25 fc2 sc0 ls0 ws0">1</div><div class="t m5 x14a h45 ya5d ff11 fs19 fc2 sc0 ls2c ws0">,x</div><div class="t m5 x14b h3c ya5c ff7 fs25 fc2 sc0 ls0 ws0">0</div><div class="t m5 x14c h26 ya5d ff7 fs19 fc2 sc0 ls2d ws0">],</div><div class="t m5 x1d h26 ya5e ff7 fs19 fc2 sc0 ls0 ws0">where<span class="_"> </span><span class="ff11">x</span></div><div class="t m5 x10d h4b ya5f ff11 fs25 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 xc3 h26 ya60 ff7 fs19 fc2 sc0 ls0 ws0">is<span class="_"> </span>the<span class="_ _13"> </span>most<span class="_"> </span>signiﬁcant<span class="_ _13"> </span>bit<span class="_"> </span>and<span class="_"> </span><span class="ff11">x</span></div><div class="t m5 x36 h3c ya5f ff7 fs25 fc2 sc0 ls0 ws0">0</div><div class="t m5 xc0 h26 ya60 ff7 fs19 fc2 sc0 ls0 ws0">is<span class="_"> </span>the<span class="_ _13"> </span>least.<span class="_"> </span>Assuming<span class="_ _13"> </span><span class="ff11">w<span class="_ _11"> </span></span>is<span class="_"> </span>a<span class="_ _13"> </span>multiple</div><div class="t m5 x1d h26 ya61 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>8,<span class="_"> </span>these<span class="_"> </span>bits<span class="_"> </span>can<span class="_"> </span>be<span class="_ _13"> </span>grouped<span class="_"> </span>as<span class="_"> </span>bytes<span class="_ _1"></span>,<span class="_"> </span>with<span class="_"> </span>the<span class="_"> </span>most<span class="_"> </span>signiﬁcant<span class="_"> </span>byte<span class="_"> </span>having<span class="_"> </span>bits</div><div class="t m5 x1d h26 ya62 ff7 fs19 fc2 sc0 ls0 ws0">[<span class="ff11">x</span></div><div class="t m5 x124 h4b ya63 ff11 fs25 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">1</span></span></div><div class="t m5 xad h45 ya64 ff11 fs19 fc2 sc0 ls2e ws0">,x</div><div class="t m5 x10d h4b ya63 ff11 fs25 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">2</span></span></div><div class="t m5 x4d h45 ya64 ff11 fs19 fc2 sc0 ls2f ws0">,...,x</div><div class="t m5 xd h4b ya63 ff11 fs25 fc2 sc0 ls0 ws0">w<span class="ff12">−<span class="ff7">8</span></span></div><div class="t m5 x9c h26 ya64 ff7 fs19 fc2 sc0 ls0 ws0">]<span class="_ _1"></span>,<span class="_ _11"> </span>the<span class="_"> </span>least<span class="_ _11"> </span>signiﬁcant<span class="_ _11"> </span>byte<span class="_ _11"> </span>having<span class="_ _11"> </span>bits<span class="_ _11"> </span>[<span class="ff11">x</span></div><div class="t m5 x43 h3c ya63 ff7 fs25 fc2 sc0 ls0 ws0">7</div><div class="t m5 x103 h45 ya64 ff11 fs19 fc2 sc0 ls2e ws0">,x</div><div class="t m5 xd7 h3c ya63 ff7 fs25 fc2 sc0 ls0 ws0">6</div><div class="t m5 x14d h45 ya64 ff11 fs19 fc2 sc0 ls2f ws0">,...,x</div><div class="t m5 x14e h3c ya63 ff7 fs25 fc2 sc0 ls0 ws0">0</div><div class="t m5 x14f h26 ya64 ff7 fs19 fc2 sc0 ls0 ws0">]<span class="_ _1"></span>,<span class="_ _11"> </span>and</div><div class="t m5 x1d h26 ya65 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _6"> </span>other<span class="_ _6"> </span>bytes<span class="_ _13"> </span>having<span class="_ _a"> </span>bits<span class="_ _6"> </span>from<span class="_ _13"> </span>the<span class="_ _a"> </span>middle.<span class="_ _a"> </span>Some<span class="_ _13"> </span>machines<span class="_ _a"> </span>choose<span class="_ _13"> </span>to<span class="_ _a"> </span>store<span class="_ _6"> </span>the<span class="_ _13"> </span>ob-</div><div class="t m5 x1d h26 ya66 ff7 fs19 fc2 sc0 ls0 ws0">ject<span class="_"> </span>in<span class="_"> </span>memory<span class="_"> </span>ordered<span class="_"> </span>from<span class="_"> </span>least<span class="_"> </span>signiﬁcant<span class="_"> </span>byte<span class="_"> </span>to<span class="_"> </span>most,<span class="_"> </span>while<span class="_"> </span>other<span class="_"> </span>machines</div><div class="t m5 x1d h26 ya67 ff7 fs19 fc2 sc0 ls0 ws0">store<span class="_ _13"> </span>them<span class="_ _13"> </span>from<span class="_ _6"> </span>most<span class="_ _13"> </span>to<span class="_ _13"> </span>least.<span class="_ _13"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>former<span class="_ _13"> </span>convention—where<span class="_ _13"> </span>the<span class="_ _6"> </span>least<span class="_ _13"> </span>signiﬁcant</div><div class="t m5 x1d h26 ya68 ff7 fs19 fc2 sc0 ls0 ws0">byte<span class="_"> </span>comes<span class="_"> </span>ﬁrst—is<span class="_ _13"> </span>referred<span class="_"> </span>to<span class="_"> </span>as<span class="_"> </span><span class="ffa">little<span class="_"> </span>endian</span>.<span class="_ _13"> </span>The<span class="_ _13"> </span>latter<span class="_"> </span>convention—where<span class="_"> </span>the</div><div class="t m5 x1d h26 ya69 ff7 fs19 fc2 sc0 ls0 ws0">most<span class="_"> </span>signiﬁcant<span class="_"> </span>byte<span class="_"> </span>comes<span class="_"> </span>ﬁrst—is<span class="_"> </span>referred<span class="_"> </span>to<span class="_"> </span>as<span class="_"> </span><span class="ffa">big<span class="_"> </span>endian</span>.</div><div class="t m5 x29 h26 ya6a ff7 fs19 fc2 sc0 ls0 ws0">Suppose<span class="_ _11"> </span>the<span class="_ _16"> </span>variable<span class="_ _11"> </span><span class="ffd">x<span class="_ _16"> </span></span>of<span class="_ _11"> </span>type<span class="_ _16"> </span><span class="ffd">int<span class="_ _11"> </span></span>and<span class="_ _16"> </span>at<span class="_ _11"> </span>address<span class="_ _11"> </span><span class="ffd">0x100<span class="_ _16"> </span></span>has<span class="_ _11"> </span>a<span class="_ _16"> </span>hexadecimal</div><div class="t m5 x1d h26 ya6b ff7 fs19 fc2 sc0 ls0 ws0">value<span class="_ _16"> </span>of<span class="_ _11"> </span><span class="ffd">0x01234567</span>.<span class="_ _16"> </span>T<span class="_ _1"></span>he<span class="_ _16"> </span>ordering<span class="_ _16"> </span>of<span class="_ _16"> </span>the<span class="_ _11"> </span>bytes<span class="_ _16"> </span>within<span class="_ _16"> </span>the<span class="_ _11"> </span>address<span class="_ _16"> </span>range<span class="_ _16"> </span><span class="ffd">0x100</span></div><div class="t m5 x1d h26 ya6c ff7 fs19 fc2 sc0 ls0 ws0">through<span class="_"> </span><span class="ffd">0x103<span class="_ _10"> </span></span>depends<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>type<span class="_"> </span>of<span class="_"> </span>machine:</div><div class="t m5 x8f h40 ya6d ff1a fs28 fc1 sc0 ls0 ws0">01</div><div class="t m5 x150 h40 ya6e ff1a fs28 fc1 sc0 ls0 ws0">0x100</div><div class="t m5 xbe h40 ya6d ff1a fs28 fc1 sc0 ls0 ws0">23</div><div class="t m5 x125 h40 ya6e ff1a fs28 fc1 sc0 ls0 ws0">0x101</div><div class="t m5 x151 h40 ya6d ff1a fs28 fc1 sc0 ls0 ws0">45</div><div class="t m5 xb8 h40 ya6e ff1a fs28 fc1 sc0 ls0 ws0">0x102</div><div class="t m5 xf4 h40 ya6d ff1a fs28 fc1 sc0 ls0 ws0">67</div><div class="t m5 x152 h3f ya6f ff15 fs27 fc1 sc0 ls0 ws0">. . .<span class="_ _6e"></span>. . .</div><div class="t m5 x5e h40 ya70 ff1a fs28 fc1 sc0 ls0 ws0">0x103</div><div class="t m5 x1d h3f ya71 ff15 fs27 fc1 sc0 ls0 ws0">Big endian</div><div class="t m5 x8f h40 ya72 ff1a fs28 fc1 sc0 ls0 ws0">67</div><div class="t m5 x150 h40 ya73 ff1a fs28 fc1 sc0 ls0 ws0">0x100</div><div class="t m5 xbe h40 ya72 ff1a fs28 fc1 sc0 ls0 ws0">45</div><div class="t m5 x125 h40 ya73 ff1a fs28 fc1 sc0 ls0 ws0">0x101</div><div class="t m5 x151 h40 ya72 ff1a fs28 fc1 sc0 ls0 ws0">23</div><div class="t m5 xb8 h40 ya73 ff1a fs28 fc1 sc0 ls0 ws0">0x102</div><div class="t m5 xf4 h40 ya72 ff1a fs28 fc1 sc0 ls0 ws0">01</div><div class="t m5 x152 h3f ya74 ff15 fs27 fc1 sc0 ls0 ws0">. . .<span class="_ _6e"></span>. . .</div><div class="t m5 x5e h40 ya75 ff1a fs28 fc1 sc0 ls0 ws0">0x103</div><div class="t m5 x1d h3f ya76 ff15 fs27 fc1 sc0 ls0 ws0">Little endian</div><div class="t m5 x1d h26 y587 ff7 fs19 fc2 sc0 ls0 ws0">Note<span class="_ _15"> </span>that<span class="_ _15"> </span>in<span class="_ _15"> </span>the<span class="_ _14"> </span>word<span class="_ _15"> </span><span class="ffd">0x01234567<span class="_ _15"> </span></span>the<span class="_ _15"> </span>high-order<span class="_ _15"> </span>byte<span class="_ _15"> </span>has<span class="_ _15"> </span>hexadecimal<span class="_ _15"> </span>value</div><div class="t m5 x1d h26 y588 ffd fs19 fc2 sc0 ls0 ws0">0x01<span class="ff7">,<span class="_"> </span>while<span class="_"> </span>the<span class="_"> </span>low-order<span class="_"> </span>byte<span class="_"> </span>has<span class="_"> </span>value<span class="_"> </span></span>0x67<span class="ff7">.</span></div><div class="t m5 x29 h26 y589 ff7 fs19 fc2 sc0 ls0 ws0">Most<span class="_ _6"> </span>Intel-compatible<span class="_ _6"> </span>machines<span class="_ _13"> </span>operate<span class="_ _a"> </span>exclusively<span class="_ _6"> </span>in<span class="_ _13"> </span>little-endian<span class="_ _a"> </span>mode.<span class="_ _a"> </span>On</div><div class="t m5 x1d h26 ya77 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>other<span class="_"> </span>hand,<span class="_"> </span>most<span class="_"> </span>machines<span class="_"> </span>from<span class="_"> </span>IBM<span class="_"> </span>and<span class="_"> </span>Oracle<span class="_"> </span>(arising<span class="_"> </span>from<span class="_"> </span>their<span class="_"> </span>acquisi-</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
