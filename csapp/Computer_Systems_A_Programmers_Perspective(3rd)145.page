<div id="pf91" class="pf w2 h11" data-page-no="91"><div class="pc pc91 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg91.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">144<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>2<span class="_ _3d"> </span>Representing<span class="_ _10"> </span>and<span class="_ _10"> </span>Manipulating<span class="_ _10"> </span>Information</span></div><div class="t m5 x1d h26 y9c ff7 fs19 fc2 sc0 ls0 ws0">limits<span class="_ _15"> </span>the<span class="_ _21"> </span>range<span class="_ _21"> </span>of<span class="_ _21"> </span>possible<span class="_ _21"> </span>values<span class="_ _1"></span>,<span class="_ _e"> </span>and<span class="_ _15"> </span>the<span class="_ _21"> </span>resulting<span class="_ _21"> </span>operations<span class="_ _15"> </span>can<span class="_ _21"> </span>overﬂow<span class="_ _1"></span>.</div><div class="t m5 x1d h26 y409 ff7 fs19 fc2 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_ _14"> </span>have<span class="_ _14"> </span>also<span class="_ _16"> </span>seen<span class="_ _14"> </span>that<span class="_ _14"> </span>the<span class="_ _14"> </span>two’s-complement<span class="_ _16"> </span>representation<span class="_ _14"> </span>provides<span class="_ _14"> </span>a<span class="_ _14"> </span>clever</div><div class="t m5 x1d h26 y40a ff7 fs19 fc2 sc0 ls0 ws0">way<span class="_"> </span>to<span class="_ _13"> </span>represent<span class="_"> </span>both<span class="_ _13"> </span>negative<span class="_"> </span>and<span class="_ _13"> </span>positive<span class="_"> </span>values<span class="_ _3"></span>,<span class="_"> </span>while<span class="_ _13"> </span>using<span class="_"> </span>the<span class="_ _13"> </span>same<span class="_"> </span>bit-level</div><div class="t m5 x1d h26 y40b ff7 fs19 fc2 sc0 ls0 ws0">implementations<span class="_ _13"> </span>as<span class="_"> </span>are<span class="_ _13"> </span>used<span class="_"> </span>to<span class="_ _13"> </span>perform<span class="_"> </span>unsigned<span class="_ _13"> </span>arithmetic—operations<span class="_"> </span>such<span class="_ _13"> </span>as</div><div class="t m5 x1d h26 y40c ff7 fs19 fc2 sc0 ls0 ws0">addition,<span class="_ _14"> </span>subtraction,<span class="_ _15"> </span>multiplication,<span class="_ _15"> </span>and<span class="_ _14"> </span>even<span class="_ _14"> </span>division<span class="_ _16"> </span>have<span class="_ _14"> </span>either<span class="_ _14"> </span>identical<span class="_ _14"> </span>or</div><div class="t m5 x1d h26 y40d ff7 fs19 fc2 sc0 ls0 ws0">very<span class="_ _16"> </span>similar<span class="_ _11"> </span>bit-level<span class="_ _16"> </span>behaviors<span class="_ _1"></span>,<span class="_ _16"> </span>whether<span class="_ _16"> </span>the<span class="_ _16"> </span>operands<span class="_ _16"> </span>are<span class="_ _16"> </span>in<span class="_ _11"> </span>unsigned<span class="_ _16"> </span>or<span class="_ _16"> </span>two’s-</div><div class="t m5 x1d h26 y40e ff7 fs19 fc2 sc0 ls0 ws0">complement<span class="_"> </span>form.</div><div class="t m5 x29 h26 y40f ff7 fs19 fc2 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_"> </span>have<span class="_"> </span>seen<span class="_"> </span>that<span class="_ _13"> </span>some<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>conventions<span class="_"> </span>in<span class="_ _13"> </span>the<span class="_"> </span>C<span class="_"> </span>language<span class="_"> </span>can<span class="_ _13"> </span>yield<span class="_"> </span>some</div><div class="t m5 x1d h26 y410 ff7 fs19 fc2 sc0 ls0 ws0">surprising<span class="_"> </span>results<span class="_ _1"></span>,<span class="_ _16"> </span>and<span class="_"> </span>these<span class="_ _11"> </span>can<span class="_ _11"> </span>be<span class="_"> </span>sources<span class="_ _11"> </span>of<span class="_ _11"> </span>bugs<span class="_ _11"> </span>that<span class="_ _11"> </span>are<span class="_ _11"> </span>hard<span class="_"> </span>to<span class="_ _11"> </span>recognize<span class="_ _11"> </span>or</div><div class="t m5 x1d h26 y411 ff7 fs19 fc2 sc0 ls0 ws0">understand.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>have<span class="_ _13"> </span>especially<span class="_ _6"> </span>seen<span class="_ _13"> </span>that<span class="_ _13"> </span>the<span class="_ _13"> </span><span class="ffd">unsigned<span class="_ _13"> </span></span>data<span class="_ _6"> </span>type,<span class="_ _13"> </span>while<span class="_ _6"> </span>conceptu-</div><div class="t m5 x1d h26 y412 ff7 fs19 fc2 sc0 ls0 ws0">ally<span class="_ _13"> </span>straightforward,<span class="_ _13"> </span>can<span class="_ _6"> </span>lead<span class="_ _13"> </span>to<span class="_ _6"> </span>behaviors<span class="_ _13"> </span>that<span class="_ _13"> </span>even<span class="_ _6"> </span>experienced<span class="_ _13"> </span>programmers<span class="_ _6"> </span>do</div><div class="t m5 x1d h26 y413 ff7 fs19 fc2 sc0 ls0 ws0">not<span class="_ _6"> </span>expect.<span class="_ _6"> </span>W<span class="_ _1"></span>e<span class="_ _6"> </span>have<span class="_ _13"> </span>also<span class="_ _a"> </span>seen<span class="_ _13"> </span>that<span class="_ _6"> </span>this<span class="_ _6"> </span>data<span class="_ _6"> </span>type<span class="_ _13"> </span>can<span class="_ _6"> </span>arise<span class="_ _6"> </span>in<span class="_ _6"> </span>unexpected<span class="_ _13"> </span>ways—for</div><div class="t m5 x1d h26 y414 ff7 fs19 fc2 sc0 ls0 ws0">example<span class="_ _1"></span>,<span class="_"> </span>when<span class="_"> </span>writing<span class="_"> </span>integer<span class="_"> </span>constants<span class="_"> </span>and<span class="_"> </span>when<span class="_"> </span>invoking<span class="_"> </span>library<span class="_"> </span>routines<span class="_ _1"></span>.</div><div class="t m5 x1d h47 y1673 ffe fs2b fc1 sc0 ls0 ws0">Practice<span class="_"> </span>Problem<span class="_"> </span>2.44<span class="_ _1f"> </span><span class="fs16">(solution<span class="_"> </span>page<span class="_"> </span>193)</span></div><div class="t m5 x1d h26 y1674 ff7 fs19 fc1 sc0 ls0 ws0">Assume<span class="_ _13"> </span>data<span class="_"> </span>type<span class="_ _13"> </span><span class="ffd">int<span class="_ _13"> </span></span>is<span class="_ _13"> </span>32<span class="_"> </span>bits<span class="_ _13"> </span>long<span class="_ _13"> </span>and<span class="_"> </span>uses<span class="_ _13"> </span>a<span class="_ _13"> </span>two’s-complement<span class="_ _13"> </span>representation</div><div class="t m5 x1d h26 y1675 ff7 fs19 fc1 sc0 ls0 ws0">for<span class="_"> </span>signed<span class="_"> </span>values<span class="_ _3"></span>.<span class="_"> </span>Right<span class="_"> </span>shifts<span class="_"> </span>are<span class="_"> </span>performed<span class="_"> </span>arithmetically<span class="_"> </span>for<span class="_"> </span>signed<span class="_"> </span>values<span class="_"> </span>and</div><div class="t m5 x1d h26 y1676 ff7 fs19 fc1 sc0 ls0 ws0">logically<span class="_ _13"> </span>for<span class="_ _13"> </span>unsigned<span class="_ _13"> </span>values<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _1"></span>he<span class="_ _13"> </span>variables<span class="_ _13"> </span>are<span class="_ _13"> </span>declared<span class="_"> </span>and<span class="_ _13"> </span>initialized<span class="_ _13"> </span>as<span class="_ _13"> </span>follows:</div><div class="t m5 x10c h2d y1677 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>x<span class="_ _1f"> </span>=<span class="_ _1f"> </span>foo();<span class="_ _3f"> </span>/*<span class="_ _e"> </span>Arbitrary<span class="_ _1f"> </span>value<span class="_ _e"> </span>*/</div><div class="t m5 x10c h2d y1678 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>y<span class="_ _1f"> </span>=<span class="_ _1f"> </span>bar();<span class="_ _3f"> </span>/*<span class="_ _e"> </span>Arbitrary<span class="_ _1f"> </span>value<span class="_ _e"> </span>*/</div><div class="t m5 x10c h2d y1679 ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>ux<span class="_ _1f"> </span>=<span class="_ _1f"> </span>x;</div><div class="t m5 x10c h2d y167a ffd fs1e fc2 sc0 ls0 ws0">unsigned<span class="_ _e"> </span>uy<span class="_ _1f"> </span>=<span class="_ _1f"> </span>y;</div><div class="t m5 x29 h26 y167b ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_"> </span>each<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>following<span class="_ _13"> </span>C<span class="_"> </span>expressions<span class="_ _3"></span>,<span class="_"> </span>either<span class="_"> </span>(1)<span class="_ _13"> </span>argue<span class="_ _13"> </span>that<span class="_"> </span>it<span class="_ _13"> </span>is<span class="_"> </span>true<span class="_ _13"> </span>(evalu-</div><div class="t m5 x1d h26 y167c ff7 fs19 fc2 sc0 ls0 ws0">ates<span class="_"> </span>to<span class="_ _13"> </span>1)<span class="_"> </span>for<span class="_ _13"> </span>all<span class="_"> </span>values<span class="_"> </span>of<span class="_ _13"> </span><span class="ffd">x<span class="_ _10"> </span></span>and<span class="_ _13"> </span><span class="ffd">y</span>,<span class="_"> </span>or<span class="_"> </span>(2)<span class="_ _13"> </span>give<span class="_"> </span>values<span class="_"> </span>of<span class="_ _13"> </span><span class="ffd">x<span class="_ _10"> </span></span>and<span class="_ _13"> </span><span class="ffd">y<span class="_ _10"> </span></span>for<span class="_"> </span>which<span class="_ _13"> </span>it<span class="_"> </span>is<span class="_ _13"> </span>false</div><div class="t m5 x1d h26 y167d ff7 fs19 fc2 sc0 ls0 ws0">(evaluates<span class="_"> </span>to<span class="_"> </span>0):</div><div class="t m5 x124 h26 y167e ff7 fs19 fc2 sc0 ls0 ws0">A.<span class="_ _1f"> </span><span class="ffd ls4b">(<span class="_ _49"></span>x&gt;0<span class="_ _42"></span>)|<span class="_ _49"></span>|(<span class="_ _49"></span>x<span class="_ _49"></span>-<span class="_ _42"></span>1&lt;0<span class="_ _49"></span>)</span></div><div class="t m5 x124 h26 y167f ff7 fs19 fc2 sc0 ls2a ws0">B.<span class="_ _66"> </span><span class="ffd ls0">(x<span class="_ _11"> </span>&amp;<span class="_ _16"> </span>7)<span class="_ _16"> </span>!=<span class="_ _11"> </span>7<span class="_ _16"> </span>||<span class="_ _16"> </span>(x&lt;&lt;29<span class="_ _11"> </span>&lt;<span class="_ _16"> </span>0)</span></div><div class="t m5 x124 h26 y1680 ff7 fs19 fc2 sc0 ls22 ws0">C.<span class="_ _24"> </span><span class="ffd ls4b">(<span class="_ _49"></span>x*x<span class="_ _49"></span>)&gt;<span class="_ _42"></span>=0</span></div><div class="t m5 x124 h26 y1681 ff7 fs19 fc2 sc0 ls2a ws0">D.<span class="_ _24"> </span><span class="ffd ls4b">x&lt;0|<span class="_ _49"></span>|-<span class="_ _42"></span>x&lt;<span class="_ _49"></span>=0</span></div><div class="t m5 x124 h26 y1682 ff7 fs19 fc2 sc0 ls0 ws0">E.<span class="_ _25"> </span><span class="ffd ls4b">x&gt;0|<span class="_ _49"></span>|-<span class="_ _42"></span>x&gt;<span class="_ _49"></span>=0</span></div><div class="t m5 x124 h26 y1683 ff7 fs19 fc2 sc0 lsec ws0">F.<span class="_ _3b"> </span><span class="ffd ls0">x+y<span class="_ _11"> </span>==<span class="_ _16"> </span>uy+ux</span></div><div class="t m5 x124 h26 y1684 ff7 fs19 fc2 sc0 ls2a ws0">G.<span class="_ _24"> </span><span class="ffd ls0">x*~y<span class="_ _11"> </span>+<span class="_ _16"> </span>uy*ux<span class="_ _16"> </span>==<span class="_ _11"> </span>-x</span></div><div class="t m5 x1d h3b y1685 fff fs24 fc6 sc0 ls0 ws0">2.4<span class="_ _17"> </span><span class="ffe fs18">Floating<span class="_"> </span>Point</span></div><div class="t m5 x1d h46 yeef ff7 fs19 fc1 sc0 ls0 ws0">A<span class="_ _13"> </span>ﬂoating-point<span class="_ _13"> </span>representation<span class="_ _13"> </span>encodes<span class="_ _6"> </span>rational<span class="_ _13"> </span>numbers<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>form<span class="_ _13"> </span><span class="ff11">V<span class="_ _15"> </span><span class="ff12">=<span class="_ _13"></span></span>x<span class="_ _10"> </span><span class="ff12">×<span class="_ _10"> </span></span></span>2</div><div class="t m5 x227 h50 y1686 ff11 fs25 fc1 sc0 ls0 ws0">y</div><div class="t m5 x12c h26 yeef ff7 fs19 fc1 sc0 ls0 ws0">.</div><div class="t m5 x1d h46 yf74 ff7 fs19 fc1 sc0 ls0 ws0">It<span class="_"> </span>is<span class="_"> </span>useful<span class="_"> </span>for<span class="_ _11"> </span>performing<span class="_"> </span>computations<span class="_"> </span>involving<span class="_ _11"> </span>very<span class="_"> </span>large<span class="_"> </span>numbers<span class="_ _11"> </span>(<span class="ff12">|<span class="ff11">V<span class="_ _13"> </span></span><span class="ls38">|</span></span><span class="ls24">0),</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
