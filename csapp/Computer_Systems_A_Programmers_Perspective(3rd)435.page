<div id="pf1b3" class="pf w2 h11" data-page-no="1b3"><div class="pc pc1b3 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1b3.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">434<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>4<span class="_ _3d"> </span>Processor<span class="_ _10"> </span>Architecture</span></div><div class="t m5 x75 h26 ye7 ffa fs19 fc2 sc0 ls0 ws0">PC<span class="_ _21"> </span>update.<span class="_ _21"> </span><span class="ff7">T<span class="_ _0"></span>he<span class="_ _21"> </span>new<span class="_ _f"> </span>value<span class="_ _f"> </span>of<span class="_ _f"> </span>the<span class="_ _f"> </span>program<span class="_ _f"> </span>counter<span class="_ _f"> </span>is<span class="_ _f"> </span>selected<span class="_ _f"> </span>to<span class="_ _f"> </span>be<span class="_ _f"> </span>either</span></div><div class="t m5 xcd h26 y2a7 ff6 fs19 fc2 sc0 ls0 ws0">valP<span class="ff7">,<span class="_ _15"> </span>the<span class="_ _15"> </span>address<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>next<span class="_ _14"> </span>instruction,<span class="_ _21"> </span></span>valC<span class="ff7">,<span class="_ _21"> </span>the<span class="_ _15"> </span>destination<span class="_ _15"> </span>address</span></div><div class="t m5 xcd h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">speciﬁed<span class="_ _11"> </span>by<span class="_ _16"> </span>a<span class="_ _11"> </span>call<span class="_ _16"> </span>or<span class="_ _16"> </span>jump<span class="_ _11"> </span>instruction,<span class="_ _16"> </span>or<span class="_ _16"> </span><span class="ff6">valM</span>,<span class="_ _11"> </span>the<span class="_ _16"> </span>return<span class="_ _11"> </span>address<span class="_ _16"> </span>read</div><div class="t m5 xcd h26 y2f7 ff7 fs19 fc2 sc0 ls0 ws0">from<span class="_"> </span>memory<span class="_ _3"></span>.</div><div class="t m5 x29 h26 y3bfd ff7 fs19 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _13"> </span>4.23<span class="_ _13"> </span>gives<span class="_ _13"> </span>a<span class="_ _13"> </span>more<span class="_ _13"> </span>detailed<span class="_ _13"> </span>view<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>hardware<span class="_ _6"> </span>required<span class="_ _13"> </span>to<span class="_ _13"> </span>implement</div><div class="t m5 x1d h26 y3bfe ff7 fs19 fc2 sc0 ls0 ws0">SEQ<span class="_ _6"> </span>(although<span class="_ _6"> </span>we<span class="_ _6"> </span>will<span class="_ _6"> </span>not<span class="_ _6"> </span>see<span class="_ _13"> </span>the<span class="_ _a"> </span>complete<span class="_ _6"> </span>details<span class="_ _6"> </span>until<span class="_ _6"> </span>we<span class="_ _6"> </span>examine<span class="_ _13"> </span>the<span class="_ _a"> </span>individual</div><div class="t m5 x1d h26 y3bff ff7 fs19 fc2 sc0 ls0 ws0">stages).<span class="_ _11"> </span>W<span class="_ _1"></span>e<span class="_ _16"> </span>see<span class="_ _11"> </span>the<span class="_ _16"> </span>same<span class="_ _11"> </span>set<span class="_ _16"> </span>of<span class="_ _16"> </span>hardware<span class="_ _11"> </span>units<span class="_ _16"> </span>as<span class="_ _11"> </span>earlier,<span class="_ _16"> </span>but<span class="_ _11"> </span>now<span class="_ _16"> </span>the<span class="_ _11"> </span>wires<span class="_ _16"> </span>are</div><div class="t m5 x1d h26 y3c00 ff7 fs19 fc2 sc0 ls0 ws0">shown<span class="_"> </span>explicitly<span class="_ _3"></span>.<span class="_"> </span>In<span class="_"> </span>this<span class="_"> </span>ﬁgure<span class="_ _0"></span>,<span class="_"> </span>as<span class="_"> </span>well<span class="_"> </span>as<span class="_"> </span>in<span class="_"> </span>our<span class="_ _11"> </span>other<span class="_"> </span>hardware<span class="_"> </span>diagrams<span class="_ _1"></span>,<span class="_"> </span>we<span class="_"> </span>use</div><div class="t m5 x1d h26 y3c01 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>following<span class="_"> </span>drawing<span class="_"> </span>conventions:</div><div class="t m5 x75 h3d y3c02 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y3c03 ffa fs19 fc1 sc0 ls0 ws0">Clocked<span class="_ _13"> </span>registers<span class="_ _13"> </span>are<span class="_ _13"> </span>sho<span class="_ _1"></span>wn<span class="_ _13"> </span>as<span class="_ _13"> </span>white<span class="_ _13"> </span>rectangles<span class="_ _1"></span>.<span class="_ _be"></span><span class="ff7">The<span class="_ _6"> </span>program<span class="_ _13"> </span>counter<span class="_ _13"> </span><span class="ff6">PC<span class="_ _13"> </span></span>is<span class="_ _13"> </span>the</span></div><div class="t m5 x29 h26 y3c04 ff7 fs19 fc1 sc0 ls0 ws0">only<span class="_"> </span>clocked<span class="_"> </span>register<span class="_"> </span>in<span class="_"> </span>SEQ.</div><div class="t m5 x75 h3d y3c05 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 yea9 ffa fs19 fc1 sc0 ls0 ws0">Hardware<span class="_ _16"> </span>units<span class="_ _14"> </span>are<span class="_ _14"> </span>shown<span class="_ _14"> </span>as<span class="_ _14"> </span>light<span class="_ _14"> </span>blue<span class="_ _14"> </span>box<span class="_ _1"></span>es<span class="_ _0"></span>.<span class="_"> </span><span class="ff7">T<span class="_ _1"></span>hese<span class="_ _14"> </span>include<span class="_ _14"> </span>the<span class="_ _14"> </span>memories<span class="_ _0"></span>,</span></div><div class="t m5 x29 h26 y3c06 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _11"> </span>ALU<span class="_ _3"></span>,<span class="_ _16"> </span>and<span class="_ _11"> </span>so<span class="_ _16"> </span>forth.<span class="_ _11"> </span>W<span class="_ _3"></span>e<span class="_ _16"> </span>will<span class="_ _11"> </span>use<span class="_ _16"> </span>the<span class="_ _11"> </span>same<span class="_ _16"> </span>basic<span class="_ _11"> </span>set<span class="_ _16"> </span>of<span class="_ _11"> </span>units<span class="_ _11"> </span>for<span class="_ _16"> </span>all<span class="_ _11"> </span>of<span class="_ _16"> </span>our</div><div class="t m5 x29 h26 y3c07 ff7 fs19 fc1 sc0 ls0 ws0">processor<span class="_ _13"> </span>implementations<span class="_ _1"></span>.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>will<span class="_ _13"> </span>treat<span class="_ _13"> </span>these<span class="_ _13"> </span>units<span class="_ _13"> </span>as<span class="_ _13"> </span>“black<span class="_ _6"> </span>boxes”<span class="_ _13"> </span>and<span class="_ _13"> </span>not</div><div class="t m5 x29 h26 y3c08 ff7 fs19 fc1 sc0 ls0 ws0">go<span class="_"> </span>into<span class="_"> </span>their<span class="_"> </span>detailed<span class="_"> </span>designs<span class="_ _1"></span>.</div><div class="t m5 x75 h3d y3c09 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y3c0a ffa fs19 fc1 sc0 ls0 ws0">Control<span class="_ _13"> </span>logic<span class="_"> </span>blocks<span class="_ _13"> </span>are<span class="_"> </span>drawn<span class="_ _13"> </span>as<span class="_"> </span>gra<span class="_ _1"></span>y<span class="_"> </span>rounded<span class="_ _13"> </span>rectangles<span class="_ _1"></span>.<span class="_ _6"> </span><span class="ff7">T<span class="_ _1"></span>hese<span class="_"> </span>blocks<span class="_ _13"> </span>serve</span></div><div class="t m5 x29 h26 y3c0b ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _13"> </span>select<span class="_ _6"> </span>from<span class="_ _13"> </span>among<span class="_ _6"> </span>a<span class="_ _13"> </span>set<span class="_ _6"> </span>of<span class="_ _13"> </span>signal<span class="_ _6"> </span>sources<span class="_ _13"> </span>or<span class="_ _13"> </span>to<span class="_ _6"> </span>compute<span class="_ _13"> </span>some<span class="_ _6"> </span>Boolean<span class="_ _13"> </span>func-</div><div class="t m5 x29 h26 y3c0c ff7 fs19 fc1 sc0 ls0 ws0">tion.<span class="_ _11"> </span>W<span class="_ _1"></span>e<span class="_ _16"> </span>will<span class="_ _11"> </span>examine<span class="_ _16"> </span>these<span class="_ _11"> </span>blocks<span class="_ _16"> </span>in<span class="_ _16"> </span>complete<span class="_ _11"> </span>detail,<span class="_ _16"> </span>including<span class="_ _16"> </span>developing</div><div class="t m5 x29 h26 y3c0d ff7 fs19 fc1 sc0 ls0 ws0">HCL<span class="_"> </span>descriptions<span class="_ _1"></span>.</div><div class="t m5 x75 h3d y3c0e ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y2566 ffa fs19 fc1 sc0 ls0 ws0">Wire<span class="_ _13"> </span>names<span class="_ _13"> </span>are<span class="_"> </span>indicated<span class="_ _13"> </span>in<span class="_"> </span>white<span class="_ _13"> </span>circles<span class="_ _1"></span>.<span class="_ _a"> </span><span class="ff7">T<span class="_ _0"></span>hese<span class="_ _13"> </span>are<span class="_"> </span>simply<span class="_ _13"> </span>labels<span class="_"> </span>on<span class="_ _13"> </span>the<span class="_"> </span>wires<span class="_ _3"></span>,</span></div><div class="t m5 x29 h26 y3c0f ff7 fs19 fc1 sc0 ls0 ws0">not<span class="_"> </span>any<span class="_"> </span>kind<span class="_"> </span>of<span class="_"> </span>hardware<span class="_"> </span>element.</div><div class="t m5 x75 h3d y3c10 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y323c ffa fs19 fc1 sc0 ls0 ws0">W<span class="_ _1"></span>ord-wide<span class="_ _16"> </span>data<span class="_ _16"> </span>connections<span class="_ _16"> </span>are<span class="_ _16"> </span>shown<span class="_ _11"> </span>as<span class="_ _16"> </span>medium<span class="_ _16"> </span>lines<span class="_ _1"></span>.<span class="_"> </span><span class="ff7">Each<span class="_ _16"> </span>of<span class="_ _16"> </span>these<span class="_ _16"> </span>lines</span></div><div class="t m5 x29 h26 y3c11 ff7 fs19 fc1 sc0 ls0 ws0">actually<span class="_ _13"> </span>represents<span class="_ _6"> </span>a<span class="_ _13"> </span>bundle<span class="_ _13"> </span>of<span class="_ _6"> </span>64<span class="_ _13"> </span>wires<span class="_ _1"></span>,<span class="_ _13"> </span>connected<span class="_ _13"> </span>in<span class="_ _6"> </span>parallel,<span class="_ _13"> </span>for<span class="_ _13"> </span>transferring</div><div class="t m5 x29 h26 y3c12 ff7 fs19 fc1 sc0 ls0 ws0">a<span class="_"> </span>word<span class="_"> </span>from<span class="_"> </span>one<span class="_"> </span>part<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>hardware<span class="_"> </span>to<span class="_"> </span>another.</div><div class="t m5 x75 h3d y3c13 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y3c14 ffa fs19 fc1 sc0 ls0 ws0">Byte<span class="_ _13"> </span>and<span class="_ _13"> </span>narro<span class="_ _0"></span>wer<span class="_ _13"> </span>data<span class="_ _13"> </span>connections<span class="_ _13"> </span>are<span class="_ _13"> </span>sho<span class="_ _1"></span>wn<span class="_ _13"> </span>as<span class="_ _13"> </span>thin<span class="_ _13"> </span>lines<span class="_ _1"></span>.<span class="_ _be"></span><span class="ff7">Each<span class="_ _13"> </span>of<span class="_ _13"> </span>these<span class="_ _13"> </span>lines</span></div><div class="t m5 x29 h26 y3c15 ff7 fs19 fc1 sc0 ls0 ws0">actually<span class="_ _13"> </span>represents<span class="_ _13"> </span>a<span class="_"> </span>bundle<span class="_ _13"> </span>of<span class="_ _13"> </span>four<span class="_ _13"> </span>or<span class="_ _13"> </span>eight<span class="_"> </span>wires<span class="_ _3"></span>,<span class="_"> </span>depending<span class="_ _13"> </span>on<span class="_ _13"> </span>what<span class="_ _13"> </span>type<span class="_ _13"> </span>of</div><div class="t m5 x29 h26 y3c16 ff7 fs19 fc1 sc0 ls0 ws0">values<span class="_"> </span>must<span class="_"> </span>be<span class="_"> </span>carried<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>wires<span class="_ _1"></span>.</div><div class="t m5 x75 h3d y3c17 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x29 h26 y3c18 ffa fs19 fc1 sc0 ls0 ws0">Single-bit<span class="_ _6"> </span>connections<span class="_ _13"> </span>are<span class="_ _6"> </span>shown<span class="_ _6"> </span>as<span class="_ _6"> </span>dotted<span class="_ _13"> </span>lines<span class="_ _3"></span>.<span class="_ _5"></span><span class="ff7">These<span class="_ _6"> </span>represent<span class="_ _6"> </span>control<span class="_ _13"> </span>values</span></div><div class="t m5 x29 h26 y3c19 ff7 fs19 fc1 sc0 ls0 ws0">passed<span class="_"> </span>between<span class="_"> </span>the<span class="_"> </span>units<span class="_"> </span>and<span class="_"> </span>blocks<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>chip<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y444 ff7 fs19 fc1 sc0 ls0 ws0">All<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>computations<span class="_ _13"> </span>we<span class="_"> </span>have<span class="_ _13"> </span>shown<span class="_"> </span>in<span class="_ _13"> </span>Figures<span class="_ _13"> </span>4.18<span class="_"> </span>through<span class="_ _13"> </span>4.21<span class="_"> </span>have<span class="_"> </span>the</div><div class="t m5 x1d h26 y445 ff7 fs19 fc1 sc0 ls0 ws0">property<span class="_ _13"> </span>that<span class="_"> </span>each<span class="_ _13"> </span>line<span class="_"> </span>represents<span class="_ _13"> </span>either<span class="_"> </span>the<span class="_ _13"> </span>computation<span class="_"> </span>of<span class="_ _13"> </span>a<span class="_"> </span>speciﬁc<span class="_ _13"> </span>value,<span class="_ _13"> </span>such</div><div class="t m5 x1d h26 y446 ff7 fs19 fc1 sc0 ls0 ws0">as<span class="_"> </span><span class="ff6">valP</span>,<span class="_ _13"> </span>or<span class="_"> </span>the<span class="_"> </span>activation<span class="_"> </span>of<span class="_ _13"> </span>some<span class="_"> </span>hardware<span class="_"> </span>unit,<span class="_ _13"> </span>such<span class="_"> </span>as<span class="_"> </span>the<span class="_"> </span>memory<span class="_ _7"></span>.<span class="_"> </span>T<span class="_ _1"></span>hese<span class="_"> </span>com-</div><div class="t m5 x1d h26 y447 ff7 fs19 fc1 sc0 ls0 ws0">putations<span class="_ _11"> </span>and<span class="_ _11"> </span>actions<span class="_ _11"> </span>are<span class="_ _11"> </span>listed<span class="_ _16"> </span>in<span class="_"> </span>the<span class="_ _16"> </span>second<span class="_"> </span>column<span class="_ _16"> </span>of<span class="_"> </span>Figure<span class="_"> </span>4.24.<span class="_ _11"> </span>In<span class="_ _16"> </span>addition</div><div class="t m5 x1d h26 y448 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _13"> </span>the<span class="_"> </span>signals<span class="_ _13"> </span>we<span class="_"> </span>have<span class="_ _13"> </span>already<span class="_ _13"> </span>described,<span class="_"> </span>this<span class="_ _13"> </span>list<span class="_"> </span>includes<span class="_ _13"> </span>four<span class="_ _13"> </span>register<span class="_"> </span>ID<span class="_ _13"> </span>signals:</div><div class="t m5 x1d h26 y449 ff6 fs19 fc1 sc0 ls0 ws0">srcA<span class="ff7">,<span class="_ _11"> </span>the<span class="_ _11"> </span>source<span class="_ _16"> </span>of<span class="_ _11"> </span></span>valA<span class="ff7">;<span class="_ _16"> </span></span>srcB<span class="ff7">,<span class="_ _11"> </span>the<span class="_ _16"> </span>source<span class="_ _11"> </span>of<span class="_ _11"> </span></span>valB<span class="ff7">;<span class="_ _16"> </span></span>dstE<span class="ff7">,<span class="_ _16"> </span>the<span class="_ _11"> </span>register<span class="_ _16"> </span>to<span class="_ _11"> </span>which<span class="_ _11"> </span></span>valE</div><div class="t m5 x1d h26 y44a ff7 fs19 fc1 sc0 ls0 ws0">gets<span class="_"> </span>written;<span class="_"> </span>and<span class="_"> </span><span class="ff6">dstM</span>,<span class="_"> </span>the<span class="_"> </span>register<span class="_"> </span>to<span class="_"> </span>which<span class="_"> </span><span class="ff6">valM<span class="_ _10"> </span></span>gets<span class="_"> </span>written.</div><div class="t m5 x29 h26 y44b ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _21"> </span>two<span class="_ _21"> </span>right-hand<span class="_ _21"> </span>columns<span class="_ _f"> </span>of<span class="_ _21"> </span>this<span class="_ _21"> </span>ﬁgure<span class="_ _21"> </span>show<span class="_ _21"> </span>the<span class="_ _21"> </span>computations<span class="_ _21"> </span>for<span class="_ _21"> </span>the</div><div class="t m5 x1d h26 y44c ffd fs19 fc1 sc0 ls0 ws0">OPq<span class="_ _10"> </span><span class="ff7">and<span class="_ _11"> </span></span>mrmovq<span class="_ _11"> </span><span class="ff7">instructions<span class="_"> </span>to<span class="_ _11"> </span>illustrate<span class="_"> </span>the<span class="_ _11"> </span>values<span class="_ _11"> </span>being<span class="_"> </span>computed.<span class="_ _11"> </span>T<span class="_ _3"></span>o<span class="_"> </span>map<span class="_ _11"> </span>the</span></div><div class="t m5 x1d h26 y44d ff7 fs19 fc1 sc0 ls0 ws0">computations<span class="_ _13"> </span>into<span class="_ _13"> </span>hardware<span class="_ _1"></span>,<span class="_ _13"> </span>we<span class="_ _13"> </span>want<span class="_ _13"> </span>to<span class="_ _13"> </span>implement<span class="_ _13"> </span>control<span class="_ _13"> </span>logic<span class="_ _6"> </span>that<span class="_ _13"> </span>will<span class="_ _13"> </span>transfer</div><div class="t m5 x1d h26 y44e ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_ _6"> </span>data<span class="_ _6"> </span>between<span class="_ _6"> </span>the<span class="_ _6"> </span>different<span class="_ _6"> </span>hardware<span class="_ _6"> </span>units<span class="_ _6"> </span>and<span class="_ _6"> </span>operate<span class="_ _6"> </span>these<span class="_ _6"> </span>units<span class="_ _6"> </span>in<span class="_ _6"> </span>such<span class="_ _6"> </span>a<span class="_ _6"> </span>way</div><div class="t m5 x1d h26 y44f ff7 fs19 fc1 sc0 ls0 ws0">that<span class="_ _11"> </span>the<span class="_ _16"> </span>speciﬁed<span class="_ _16"> </span>operations<span class="_ _11"> </span>are<span class="_ _16"> </span>performed<span class="_ _11"> </span>for<span class="_ _16"> </span>each<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _16"> </span>different<span class="_ _11"> </span>instruction</div><div class="t m5 x1d h26 y3c1a ff7 fs19 fc1 sc0 ls0 ws0">types<span class="_ _1"></span>.<span class="_ _13"> </span>T<span class="_ _1"></span>hat<span class="_ _13"> </span>is<span class="_ _13"> </span>the<span class="_ _6"> </span>purpose<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _6"> </span>control<span class="_ _13"> </span>logic<span class="_ _13"> </span>blocks<span class="_ _3"></span>,<span class="_ _13"> </span>shown<span class="_ _13"> </span>as<span class="_ _13"> </span>gray<span class="_ _6"> </span>rounded<span class="_ _13"> </span>boxes</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
