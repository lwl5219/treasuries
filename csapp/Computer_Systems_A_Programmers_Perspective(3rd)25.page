<div id="pf19" class="pf w2 h11" data-page-no="19"><div class="pc pc19 w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg19.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">24<span class="_ _1b"> </span><span class="ff6 fs1f">Preface</span></div><div class="t m5 x1d h26 ye7 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _13"> </span>6:<span class="_"> </span>The<span class="_ _13"> </span>Memory<span class="_"> </span>Hierarchy<span class="_ _3"></span>.<span class="_ _f"> </span><span class="ff7">T<span class="_ _1"></span>he<span class="_"> </span>memory<span class="_ _13"> </span>system<span class="_"> </span>is<span class="_ _13"> </span>one<span class="_ _13"> </span>of<span class="_"> </span>the<span class="_ _13"> </span>most<span class="_"> </span>visible</span></div><div class="t m5 x32 h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">parts<span class="_"> </span>of<span class="_ _11"> </span>a<span class="_ _11"> </span>computer<span class="_"> </span>system<span class="_ _11"> </span>to<span class="_ _11"> </span>application<span class="_ _11"> </span>programmers<span class="_ _1"></span>.<span class="_"> </span>T<span class="_ _3"></span>o<span class="_ _11"> </span>this<span class="_"> </span>point,<span class="_ _11"> </span>you</div><div class="t m5 x32 h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">have<span class="_ _11"> </span>relied<span class="_ _11"> </span>on<span class="_ _11"> </span>a<span class="_"> </span>conceptual<span class="_ _11"> </span>model<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>memory<span class="_ _11"> </span>system<span class="_ _11"> </span>as<span class="_ _11"> </span>a<span class="_ _11"> </span>linear<span class="_ _11"> </span>array</div><div class="t m5 x32 h26 y2f7 ff7 fs19 fc2 sc0 ls0 ws0">with<span class="_ _16"> </span>uniform<span class="_ _16"> </span>access<span class="_ _16"> </span>times<span class="_ _1"></span>.<span class="_ _16"> </span>In<span class="_ _16"> </span>practice<span class="_ _1"></span>,<span class="_ _14"> </span>a<span class="_ _16"> </span>memory<span class="_ _16"> </span>system<span class="_ _16"> </span>is<span class="_ _16"> </span>a<span class="_ _16"> </span>hierarchy<span class="_ _16"> </span>of</div><div class="t m5 x32 h26 y2f8 ff7 fs19 fc2 sc0 ls0 ws0">storage<span class="_ _11"> </span>devices<span class="_ _11"> </span>with<span class="_ _11"> </span>different<span class="_ _16"> </span>capacities<span class="_ _3"></span>,<span class="_ _16"> </span>costs<span class="_ _1"></span>,<span class="_ _11"> </span>and<span class="_ _16"> </span>access<span class="_"> </span>times<span class="_ _0"></span>.<span class="_ _11"> </span>W<span class="_ _3"></span>e<span class="_ _11"> </span>cover</div><div class="t m5 x32 h26 y2f9 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _15"> </span>different<span class="_ _15"> </span>types<span class="_ _15"> </span>of<span class="_ _15"> </span>RAM<span class="_ _15"> </span>and<span class="_ _15"> </span>ROM<span class="_ _15"> </span>memories<span class="_ _15"> </span>and<span class="_ _15"> </span>the<span class="_ _15"> </span>geometry<span class="_ _15"> </span>and</div><div class="t m5 x32 h26 y2fa ff7 fs19 fc2 sc0 ls0 ws0">organization<span class="_ _13"> </span>of<span class="_"> </span>magnetic-disk<span class="_ _13"> </span>and<span class="_ _13"> </span>solid<span class="_ _13"> </span>state<span class="_"> </span>drives<span class="_ _3"></span>.<span class="_ _13"> </span>W<span class="_ _1"></span>e<span class="_ _13"> </span>describe<span class="_"> </span>how<span class="_ _13"> </span>these</div><div class="t m5 x32 h26 y2fb ff7 fs19 fc2 sc0 ls0 ws0">storage<span class="_"> </span>devices<span class="_ _11"> </span>are<span class="_"> </span>arranged<span class="_ _11"> </span>in<span class="_"> </span>a<span class="_ _11"> </span>hierarchy<span class="_ _3"></span>.<span class="_"> </span>W<span class="_ _1"></span>e<span class="_"> </span>show<span class="_ _11"> </span>how<span class="_"> </span>this<span class="_ _11"> </span>hierarchy<span class="_"> </span>is</div><div class="t m5 x32 h26 y2fc ff7 fs19 fc2 sc0 ls0 ws0">made<span class="_ _14"> </span>possible<span class="_ _14"> </span>by<span class="_ _14"> </span>locality<span class="_ _14"> </span>of<span class="_ _16"> </span>reference.<span class="_ _16"> </span>W<span class="_ _1"></span>e<span class="_ _14"> </span>make<span class="_ _14"> </span>these<span class="_ _14"> </span>ideas<span class="_ _14"> </span>concrete<span class="_ _14"> </span>by</div><div class="t m5 x32 h26 y2fd ff7 fs19 fc2 sc0 ls0 ws0">introducing<span class="_ _16"> </span>a<span class="_ _16"> </span>unique<span class="_ _14"> </span>view<span class="_ _16"> </span>of<span class="_ _16"> </span>a<span class="_ _14"> </span>memory<span class="_ _16"> </span>system<span class="_ _14"> </span>as<span class="_ _16"> </span>a<span class="_ _16"> </span>“memory<span class="_ _14"> </span>mountain”</div><div class="t m5 x32 h26 y2fe ff7 fs19 fc2 sc0 ls0 ws0">with<span class="_ _14"> </span>ridges<span class="_ _15"> </span>of<span class="_ _14"> </span>temporal<span class="_ _15"> </span>locality<span class="_ _15"> </span>and<span class="_ _14"> </span>slopes<span class="_ _15"> </span>of<span class="_ _15"> </span>spatial<span class="_ _14"> </span>locality<span class="_ _3"></span>.<span class="_ _15"> </span>F<span class="_ _1"></span>inally<span class="_ _3"></span>,<span class="_ _f"> </span>we</div><div class="t m5 x32 h26 y2ff ff7 fs19 fc2 sc0 ls0 ws0">show<span class="_ _f"> </span>you<span class="_ _f"> </span>how<span class="_ _f"> </span>to<span class="_ _f"> </span>improve<span class="_ _15"> </span>the<span class="_ _f"> </span>performance<span class="_ _f"> </span>of<span class="_ _f"> </span>application<span class="_ _f"> </span>programs<span class="_ _f"> </span>by</div><div class="t m5 x32 h26 y300 ff7 fs19 fc2 sc0 ls0 ws0">improving<span class="_"> </span>their<span class="_"> </span>temporal<span class="_"> </span>and<span class="_"> </span>spatial<span class="_"> </span>locality<span class="_ _3"></span>.</div><div class="t m5 x1d h26 y301 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _13"> </span>7:<span class="_ _6"> </span>Linking.<span class="_ _f"> </span><span class="ff7">T<span class="_ _3"></span>his<span class="_ _13"> </span>chapter<span class="_ _13"> </span>covers<span class="_ _6"> </span>both<span class="_ _13"> </span>static<span class="_ _13"> </span>and<span class="_ _6"> </span>dynamic<span class="_ _13"> </span>linking<span class="_ _0"></span>,<span class="_ _13"> </span>including</span></div><div class="t m5 x32 h26 y302 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _11"> </span>ideas<span class="_ _16"> </span>of<span class="_ _16"> </span>relocatable<span class="_ _11"> </span>and<span class="_ _16"> </span>executable<span class="_ _16"> </span>object<span class="_ _11"> </span>ﬁles<span class="_ _1"></span>,<span class="_ _16"> </span>symbol<span class="_ _16"> </span>resolution,<span class="_ _16"> </span>re-</div><div class="t m5 x32 h26 y303 ff7 fs19 fc2 sc0 ls0 ws0">location,<span class="_"> </span>static<span class="_ _13"> </span>libraries<span class="_ _1"></span>,<span class="_"> </span>shared<span class="_ _13"> </span>object<span class="_ _13"> </span>libraries<span class="_ _1"></span>,<span class="_"> </span>position-independent<span class="_ _13"> </span>code,</div><div class="t m5 x32 h26 y304 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_ _16"> </span>library<span class="_ _16"> </span>interpositioning<span class="_ _0"></span>.<span class="_ _16"> </span>Linking<span class="_ _16"> </span>is<span class="_ _11"> </span>not<span class="_ _16"> </span>covered<span class="_ _16"> </span>in<span class="_ _16"> </span>most<span class="_ _16"> </span>systems<span class="_ _16"> </span>texts<span class="_ _1"></span>,</div><div class="t m5 x32 h26 y305 ff7 fs19 fc2 sc0 ls0 ws0">but<span class="_ _13"> </span>we<span class="_ _13"> </span>cover<span class="_ _13"> </span>it<span class="_ _13"> </span>for<span class="_ _13"> </span>two<span class="_ _13"> </span>reasons<span class="_ _3"></span>.<span class="_ _13"> </span>First,<span class="_ _13"> </span>some<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>most<span class="_ _13"> </span>confusing<span class="_ _13"> </span>errors<span class="_ _13"> </span>that</div><div class="t m5 x32 h26 y306 ff7 fs19 fc2 sc0 ls0 ws0">programmers<span class="_ _6"> </span>can<span class="_ _13"> </span>encounter<span class="_ _6"> </span>are<span class="_ _13"> </span>related<span class="_ _6"> </span>to<span class="_ _13"> </span>glitches<span class="_ _6"> </span>during<span class="_ _13"> </span>linking<span class="_ _1"></span>,<span class="_ _13"> </span>especially</div><div class="t m5 x32 h26 y307 ff7 fs19 fc2 sc0 ls0 ws0">for<span class="_ _13"> </span>large<span class="_ _13"> </span>software<span class="_ _13"> </span>packages<span class="_ _1"></span>.<span class="_ _13"> </span>Second,<span class="_ _13"> </span>the<span class="_ _13"> </span>object<span class="_ _13"> </span>ﬁles<span class="_ _13"> </span>produced<span class="_ _13"> </span>by<span class="_ _13"> </span>linkers<span class="_ _13"> </span>are</div><div class="t m5 x32 h26 y308 ff7 fs19 fc2 sc0 ls0 ws0">tied<span class="_"> </span>to<span class="_"> </span>concepts<span class="_"> </span>such<span class="_"> </span>as<span class="_"> </span>loading,<span class="_"> </span>virtual<span class="_"> </span>memory<span class="_ _7"></span>,<span class="_"> </span>and<span class="_"> </span>memory<span class="_"> </span>mapping.</div><div class="t m5 x1d h26 y309 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _15"> </span>8:<span class="_ _15"> </span>Exceptional<span class="_ _15"> </span>Control<span class="_ _15"> </span>Flow<span class="_ _3"></span>.<span class="_ _f"> </span><span class="ff7">In<span class="_ _15"> </span>this<span class="_ _15"> </span>part<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>presentation,<span class="_ _f"> </span>we<span class="_ _14"> </span>step</span></div><div class="t m5 x32 h26 y30a ff7 fs19 fc2 sc0 ls0 ws0">beyond<span class="_ _15"> </span>the<span class="_ _15"> </span>single-program<span class="_ _15"> </span>model<span class="_ _14"> </span>by<span class="_ _15"> </span>introducing<span class="_ _15"> </span>the<span class="_ _15"> </span>general<span class="_ _15"> </span>concept<span class="_ _15"> </span>of</div><div class="t m5 x32 h26 y30b ff7 fs19 fc2 sc0 ls0 ws0">exceptional<span class="_ _16"> </span>control<span class="_ _16"> </span>ﬂow<span class="_ _16"> </span>(i.e<span class="_ _1"></span>.,<span class="_ _14"> </span>changes<span class="_ _16"> </span>in<span class="_ _16"> </span>control<span class="_ _16"> </span>ﬂow<span class="_ _16"> </span>that<span class="_ _16"> </span>are<span class="_ _16"> </span>outside<span class="_ _16"> </span>the</div><div class="t m5 x32 h26 y30c ff7 fs19 fc2 sc0 ls0 ws0">normal<span class="_ _16"> </span>branches<span class="_ _16"> </span>and<span class="_ _16"> </span>procedure<span class="_ _16"> </span>calls).<span class="_ _16"> </span>W<span class="_ _3"></span>e<span class="_ _16"> </span>cover<span class="_ _14"> </span>examples<span class="_ _16"> </span>of<span class="_ _16"> </span>exceptional</div><div class="t m5 x32 h26 y30d ff7 fs19 fc2 sc0 ls0 ws0">control<span class="_ _6"> </span>ﬂow<span class="_ _13"> </span>that<span class="_ _6"> </span>exist<span class="_ _13"> </span>at<span class="_ _6"> </span>all<span class="_ _6"> </span>levels<span class="_ _13"> </span>of<span class="_ _6"> </span>the<span class="_ _13"> </span>system,<span class="_ _6"> </span>from<span class="_ _13"> </span>low-level<span class="_ _6"> </span>hardware<span class="_ _6"> </span>ex-</div><div class="t m5 x32 h26 y30e ff7 fs19 fc2 sc0 ls0 ws0">ceptions<span class="_"> </span>and<span class="_"> </span>interrupts<span class="_ _1"></span>,<span class="_ _11"> </span>to<span class="_"> </span>context<span class="_ _11"> </span>switches<span class="_"> </span>between<span class="_"> </span>concurrent<span class="_ _11"> </span>processes<span class="_ _1"></span>,</div><div class="t m5 x32 h26 y30f ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_"> </span>abrupt<span class="_"> </span>changes<span class="_ _11"> </span>in<span class="_"> </span>control<span class="_"> </span>ﬂow<span class="_ _11"> </span>caused<span class="_"> </span>by<span class="_ _11"> </span>the<span class="_"> </span>receipt<span class="_"> </span>of<span class="_ _11"> </span>Linux<span class="_"> </span>signals<span class="_ _1"></span>,<span class="_ _11"> </span>to</div><div class="t m5 x32 h26 y310 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>nonlocal<span class="_"> </span>jumps<span class="_"> </span>in<span class="_"> </span>C<span class="_"> </span>that<span class="_"> </span>break<span class="_"> </span>the<span class="_"> </span>stack<span class="_"> </span>discipline<span class="_ _1"></span>.</div><div class="t m5 x33 h26 y311 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>his<span class="_ _16"> </span>is<span class="_"> </span>the<span class="_ _16"> </span>part<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>book<span class="_ _16"> </span>where<span class="_ _11"> </span>we<span class="_ _11"> </span>introduce<span class="_ _11"> </span>the<span class="_ _16"> </span>fundamental<span class="_ _11"> </span>idea</div><div class="t m5 x32 h26 y312 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _16"> </span>a<span class="_ _14"> </span><span class="ffa">process</span>,<span class="_ _14"> </span>an<span class="_ _14"> </span>abstraction<span class="_ _16"> </span>of<span class="_ _14"> </span>an<span class="_ _16"> </span>executing<span class="_ _14"> </span>program.<span class="_ _14"> </span>Y<span class="_ _7"></span>ou<span class="_ _14"> </span>will<span class="_ _14"> </span>learn<span class="_ _16"> </span>how</div><div class="t m5 x32 h26 y313 ff7 fs19 fc2 sc0 ls0 ws0">processes<span class="_ _11"> </span>work<span class="_ _11"> </span>and<span class="_ _11"> </span>how<span class="_ _11"> </span>they<span class="_ _11"> </span>can<span class="_ _11"> </span>be<span class="_ _16"> </span>created<span class="_"> </span>and<span class="_ _11"> </span>manipulated<span class="_ _11"> </span>from<span class="_ _16"> </span>appli-</div><div class="t m5 x32 h26 y314 ff7 fs19 fc2 sc0 ls0 ws0">cation<span class="_ _11"> </span>programs<span class="_ _1"></span>.<span class="_ _11"> </span>W<span class="_ _1"></span>e<span class="_ _11"> </span>show<span class="_ _11"> </span>how<span class="_ _16"> </span>application<span class="_ _11"> </span>programmers<span class="_ _11"> </span>can<span class="_ _11"> </span>make<span class="_ _16"> </span>use<span class="_"> </span>of</div><div class="t m5 x32 h26 y315 ff7 fs19 fc2 sc0 ls0 ws0">multiple<span class="_ _13"> </span>processes<span class="_"> </span>via<span class="_ _13"> </span>Linux<span class="_ _13"> </span>system<span class="_"> </span>calls<span class="_ _3"></span>.<span class="_"> </span>W<span class="_ _1"></span>hen<span class="_"> </span>you<span class="_ _13"> </span>ﬁnish<span class="_"> </span>this<span class="_ _13"> </span>chapter<span class="_ _0"></span>,<span class="_"> </span>you</div><div class="t m5 x32 h26 y316 ff7 fs19 fc2 sc0 ls0 ws0">will<span class="_ _13"> </span>be<span class="_ _13"> </span>able<span class="_ _13"> </span>to<span class="_"> </span>write<span class="_ _13"> </span>a<span class="_ _13"> </span>simple<span class="_ _13"> </span>Linux<span class="_ _13"> </span>shell<span class="_ _13"> </span>with<span class="_"> </span>job<span class="_ _13"> </span>control.<span class="_ _13"> </span>It<span class="_ _13"> </span>is<span class="_ _13"> </span>also<span class="_ _13"> </span>your<span class="_"> </span>ﬁrst</div><div class="t m5 x32 h26 y317 ff7 fs19 fc2 sc0 ls0 ws0">introduction<span class="_ _16"> </span>to<span class="_ _16"> </span>the<span class="_ _16"> </span>nondeterministic<span class="_ _14"> </span>behavior<span class="_ _16"> </span>that<span class="_ _16"> </span>arises<span class="_ _14"> </span>with<span class="_ _16"> </span>concurrent</div><div class="t m5 x32 h26 y318 ff7 fs19 fc2 sc0 ls0 ws0">program<span class="_"> </span>execution.</div><div class="t m5 x1d h26 y319 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _13"> </span>9:<span class="_"> </span>V<span class="_ _3"></span>irtual<span class="_"> </span>Memory<span class="_ _3"></span>.<span class="_ _f"> </span><span class="ff7">Our<span class="_ _13"> </span>presentation<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>virtual<span class="_"> </span>memory<span class="_ _13"> </span>system<span class="_ _13"> </span>seeks</span></div><div class="t m5 x32 h26 y31a ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_ _13"> </span>give<span class="_"> </span>some<span class="_ _13"> </span>understanding<span class="_ _13"> </span>of<span class="_ _13"> </span>how<span class="_"> </span>it<span class="_ _13"> </span>works<span class="_ _13"> </span>and<span class="_"> </span>its<span class="_ _13"> </span>characteristics<span class="_ _3"></span>.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>want</div><div class="t m5 x32 h26 y31b ff7 fs19 fc2 sc0 ls0 ws0">you<span class="_ _13"> </span>to<span class="_ _13"> </span>know<span class="_ _13"> </span>how<span class="_ _13"> </span>it<span class="_ _6"> </span>is<span class="_ _13"> </span>that<span class="_ _13"> </span>the<span class="_ _13"> </span>different<span class="_ _13"> </span>simultaneous<span class="_ _13"> </span>processes<span class="_ _13"> </span>can<span class="_ _13"> </span>each<span class="_ _6"> </span>use</div><div class="t m5 x32 h26 y31c ff7 fs19 fc2 sc0 ls0 ws0">an<span class="_ _16"> </span>identical<span class="_ _16"> </span>range<span class="_ _16"> </span>of<span class="_ _16"> </span>addresses<span class="_ _1"></span>,<span class="_ _16"> </span>sharing<span class="_ _16"> </span>some<span class="_ _16"> </span>pages<span class="_ _16"> </span>but<span class="_ _16"> </span>having<span class="_ _16"> </span>individual</div><div class="t m5 x32 h26 y31d ff7 fs19 fc2 sc0 ls0 ws0">copies<span class="_ _15"> </span>of<span class="_ _15"> </span>others<span class="_ _1"></span>.<span class="_ _15"> </span>W<span class="_ _1"></span>e<span class="_ _15"> </span>also<span class="_ _15"> </span>cover<span class="_ _15"> </span>issues<span class="_ _f"> </span>involved<span class="_ _14"> </span>in<span class="_ _15"> </span>managing<span class="_ _15"> </span>and<span class="_ _f"> </span>manip-</div><div class="t m5 x32 h26 y31e ff7 fs19 fc2 sc0 ls0 ws0">ulating<span class="_ _15"> </span>virtual<span class="_ _f"> </span>memory<span class="_ _7"></span>.<span class="_ _15"> </span>In<span class="_ _f"> </span>particular<span class="_ _1"></span>,<span class="_ _f"> </span>we<span class="_ _f"> </span>cover<span class="_ _15"> </span>the<span class="_ _15"> </span>operation<span class="_ _15"> </span>of<span class="_ _f"> </span>storage</div><div class="t m5 x32 h26 y31f ff7 fs19 fc2 sc0 ls0 ws0">allocators<span class="_ _16"> </span>such<span class="_ _14"> </span>as<span class="_ _16"> </span>the<span class="_ _14"> </span>standard-library<span class="_ _16"> </span><span class="ffd">malloc<span class="_ _14"> </span></span>and<span class="_ _16"> </span><span class="ffd">free<span class="_ _14"> </span></span>operations<span class="_ _1"></span>.<span class="_ _16"> </span>Cov-</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
