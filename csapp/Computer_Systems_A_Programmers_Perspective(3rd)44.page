<div id="pf2c" class="pf w2 h11" data-page-no="2c"><div class="pc pc2c w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg2c.png"/><div class="t m5 x76 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>1.4<span class="_ _3d"> </span>Processors<span class="_ _13"> </span>Read<span class="_ _10"> </span>and<span class="_ _10"> </span>Interpret<span class="_ _10"> </span>Instructions<span class="_ _10"> </span>Stored<span class="_ _10"> </span>in<span class="_ _10"> </span>Memory<span class="_ _3e"> </span><span class="ffe fs1e">43</span></div><div class="t m5 x30 h26 y9c ff7 fs19 fc2 sc0 ls0 ws0">In<span class="_"> </span>Chapter<span class="_ _11"> </span>3,<span class="_ _16"> </span>we<span class="_"> </span>introduce<span class="_ _11"> </span>x86-64,<span class="_ _11"> </span>the<span class="_ _11"> </span>machine<span class="_ _11"> </span>language<span class="_ _11"> </span>of<span class="_ _11"> </span>recent<span class="_ _11"> </span>gen-</div><div class="t m5 x26 h26 y409 ff7 fs19 fc2 sc0 ls0 ws0">erations<span class="_ _21"> </span>of<span class="_ _21"> </span>Linux,<span class="_ _e"> </span>Macintosh,<span class="_ _f"> </span>and<span class="_ _21"> </span>Windows<span class="_ _15"> </span>computers<span class="_ _1"></span>.<span class="_ _21"> </span>W<span class="_ _1"></span>e<span class="_ _21"> </span>describe<span class="_ _21"> </span>how</div><div class="t m5 x26 h26 y40a ff7 fs19 fc2 sc0 ls0 ws0">compilers<span class="_ _14"> </span>translate<span class="_ _14"> </span>different<span class="_ _14"> </span>C<span class="_ _14"> </span>constructs<span class="_ _14"> </span>into<span class="_ _14"> </span>this<span class="_ _14"> </span>language.<span class="_ _16"> </span>In<span class="_ _14"> </span>Chapter<span class="_ _14"> </span>5,</div><div class="t m5 x26 h26 y40b ff7 fs19 fc2 sc0 ls0 ws0">you<span class="_ _16"> </span>will<span class="_ _11"> </span>learn<span class="_ _16"> </span>how<span class="_ _16"> </span>to<span class="_ _16"> </span>tune<span class="_ _16"> </span>the<span class="_ _11"> </span>performance<span class="_ _16"> </span>of<span class="_ _16"> </span>your<span class="_ _16"> </span>C<span class="_ _16"> </span>programs<span class="_ _11"> </span>by<span class="_ _16"> </span>making</div><div class="t m5 x26 h26 y40c ff7 fs19 fc2 sc0 ls0 ws0">simple<span class="_"> </span>transformations<span class="_ _13"> </span>to<span class="_"> </span>the<span class="_"> </span>C<span class="_ _13"> </span>code<span class="_"> </span>that<span class="_"> </span>help<span class="_ _13"> </span>the<span class="_"> </span>compiler<span class="_"> </span>do<span class="_ _13"> </span>its<span class="_"> </span>job<span class="_"> </span>better<span class="_ _0"></span>.</div><div class="t m5 x26 h26 y40d ff7 fs19 fc2 sc0 ls0 ws0">In<span class="_"> </span>Chapter<span class="_ _13"> </span>6,<span class="_"> </span>you<span class="_"> </span>will<span class="_ _13"> </span>learn<span class="_"> </span>about<span class="_"> </span>the<span class="_ _13"> </span>hierarchical<span class="_"> </span>nature<span class="_ _13"> </span>of<span class="_"> </span>the<span class="_"> </span>memory<span class="_ _13"> </span>sys-</div><div class="t m5 x26 h26 y40e ff7 fs19 fc2 sc0 ls0 ws0">tem,<span class="_ _13"> </span>how<span class="_ _13"> </span>C<span class="_"> </span>compilers<span class="_ _13"> </span>store<span class="_ _13"> </span>data<span class="_ _13"> </span>arrays<span class="_ _13"> </span>in<span class="_ _13"> </span>memory<span class="_ _3"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>how<span class="_"> </span>your<span class="_ _13"> </span>C<span class="_ _13"> </span>programs</div><div class="t m5 x26 h26 y40f ff7 fs19 fc2 sc0 ls0 ws0">can<span class="_"> </span>exploit<span class="_"> </span>this<span class="_"> </span>knowledge<span class="_"> </span>to<span class="_"> </span>run<span class="_"> </span>more<span class="_"> </span>efﬁciently<span class="_ _3"></span>.</div><div class="t m5 x72 h3d y568 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y569 ffa fs19 fc1 sc0 ls0 ws0">Understanding<span class="_"> </span>link-time<span class="_"> </span>errors<span class="_ _1"></span>.<span class="_ _6"> </span><span class="ff7">In<span class="_"> </span>our<span class="_"> </span>experience,<span class="_"> </span>some<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>most<span class="_"> </span>perplex-</span></div><div class="t m5 x26 h26 y56a ff7 fs19 fc1 sc0 ls0 ws0">ing<span class="_"> </span>programming<span class="_ _11"> </span>errors<span class="_"> </span>are<span class="_ _11"> </span>related<span class="_ _11"> </span>to<span class="_"> </span>the<span class="_ _11"> </span>operation<span class="_"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>linker,<span class="_"> </span>especially</div><div class="t m5 x26 h26 y56b ff7 fs19 fc1 sc0 ls0 ws0">when<span class="_"> </span>you<span class="_"> </span>are<span class="_"> </span>trying<span class="_ _11"> </span>to<span class="_"> </span>build<span class="_"> </span>large<span class="_"> </span>software<span class="_ _11"> </span>systems<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>or<span class="_"> </span>example,<span class="_"> </span>what<span class="_"> </span>does</div><div class="t m5 x26 h26 y56c ff7 fs19 fc1 sc0 ls0 ws0">it<span class="_ _13"> </span>mean<span class="_ _13"> </span>when<span class="_ _6"> </span>the<span class="_ _13"> </span>linker<span class="_ _13"> </span>reports<span class="_ _13"> </span>that<span class="_ _13"> </span>it<span class="_ _13"> </span>cannot<span class="_ _6"> </span>resolve<span class="_ _13"> </span>a<span class="_ _13"> </span>reference?<span class="_ _13"> </span>W<span class="_ _0"></span>hat<span class="_ _13"> </span>is<span class="_ _13"> </span>the</div><div class="t m5 x26 h26 y56d ff7 fs19 fc1 sc0 ls0 ws0">difference<span class="_ _11"> </span>between<span class="_ _16"> </span>a<span class="_ _16"> </span>static<span class="_ _11"> </span>variable<span class="_ _16"> </span>and<span class="_ _11"> </span>a<span class="_ _16"> </span>global<span class="_ _16"> </span>variable?<span class="_ _11"> </span>What<span class="_ _11"> </span>happens<span class="_ _16"> </span>if</div><div class="t m5 x26 h26 y56e ff7 fs19 fc1 sc0 ls0 ws0">you<span class="_ _13"> </span>deﬁne<span class="_ _13"> </span>two<span class="_"> </span>global<span class="_ _13"> </span>variables<span class="_ _13"> </span>in<span class="_ _13"> </span>different<span class="_ _13"> </span>C<span class="_"> </span>ﬁles<span class="_ _13"> </span>with<span class="_ _13"> </span>the<span class="_ _13"> </span>same<span class="_ _13"> </span>name?<span class="_"> </span>W<span class="_ _1"></span>hat</div><div class="t m5 x26 h26 y56f ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_"> </span>the<span class="_"> </span>difference<span class="_ _11"> </span>between<span class="_"> </span>a<span class="_ _11"> </span>static<span class="_"> </span>library<span class="_ _11"> </span>and<span class="_"> </span>a<span class="_ _11"> </span>dynamic<span class="_"> </span>library?<span class="_ _11"> </span>Why<span class="_"> </span>does<span class="_"> </span>it</div><div class="t m5 x26 h26 y570 ff7 fs19 fc1 sc0 ls0 ws0">matter<span class="_"> </span>what<span class="_"> </span>order<span class="_"> </span>we<span class="_"> </span>list<span class="_"> </span>libraries<span class="_"> </span>on<span class="_"> </span>the<span class="_"> </span>command<span class="_ _11"> </span>line?<span class="_"> </span>And<span class="_"> </span>scariest<span class="_"> </span>of<span class="_"> </span>all,</div><div class="t m5 x26 h26 y571 ff7 fs19 fc1 sc0 ls0 ws0">why<span class="_ _11"> </span>do<span class="_ _11"> </span>some<span class="_ _11"> </span>linker<span class="_ _1"></span>-related<span class="_ _11"> </span>errors<span class="_ _11"> </span>not<span class="_ _11"> </span>appear<span class="_ _16"> </span>until<span class="_"> </span>run<span class="_ _11"> </span>time?<span class="_ _16"> </span>Y<span class="_ _7"></span>ou<span class="_ _11"> </span>will<span class="_ _11"> </span>learn</div><div class="t m5 x26 h26 y572 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>answers<span class="_"> </span>to<span class="_"> </span>these<span class="_"> </span>kinds<span class="_"> </span>of<span class="_"> </span>questions<span class="_"> </span>in<span class="_"> </span>Chapter<span class="_"> </span>7.</div><div class="t m5 x72 h3d y573 ff14 fs26 fc6 sc0 ls0 ws0">.</div><div class="t m5 x26 h26 y574 ffa fs19 fc1 sc0 ls0 ws0">A<span class="_ _1"></span>voiding<span class="_ _16"> </span>security<span class="_ _11"> </span>holes<span class="_ _1"></span>.<span class="_"> </span><span class="ff7">F<span class="_ _3"></span>or<span class="_ _16"> </span>many<span class="_ _11"> </span>years<span class="_ _0"></span>,<span class="_ _16"> </span><span class="ffa">buffer<span class="_ _11"> </span>overﬂow<span class="_ _11"> </span>vulnerabilities<span class="_ _16"> </span></span>have</span></div><div class="t m5 x26 h26 y575 ff7 fs19 fc1 sc0 ls0 ws0">accounted<span class="_ _15"> </span>for<span class="_ _14"> </span>many<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>security<span class="_ _15"> </span>holes<span class="_ _15"> </span>in<span class="_ _15"> </span>network<span class="_ _15"> </span>and<span class="_ _14"> </span>Internet<span class="_ _15"> </span>servers<span class="_ _1"></span>.</div><div class="t m5 x26 h26 y576 ff7 fs19 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>hese<span class="_ _13"> </span>vulnerabilities<span class="_ _6"> </span>exist<span class="_ _13"> </span>because<span class="_ _6"> </span>too<span class="_ _13"> </span>few<span class="_ _6"> </span>programmers<span class="_ _13"> </span>understand<span class="_ _6"> </span>the<span class="_ _13"> </span>need</div><div class="t m5 x26 h26 y577 ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_ _13"> </span>carefully<span class="_ _13"> </span>restrict<span class="_ _13"> </span>the<span class="_ _13"> </span>quantity<span class="_ _13"> </span>and<span class="_ _13"> </span>forms<span class="_ _13"> </span>of<span class="_ _13"> </span>data<span class="_"> </span>they<span class="_ _13"> </span>accept<span class="_ _13"> </span>from<span class="_ _13"> </span>untrusted</div><div class="t m5 x26 h26 y578 ff7 fs19 fc1 sc0 ls0 ws0">sources<span class="_ _1"></span>.<span class="_ _13"> </span>A<span class="_ _13"> </span>ﬁrst<span class="_"> </span>step<span class="_ _13"> </span>in<span class="_ _13"> </span>learning<span class="_ _13"> </span>secure<span class="_ _13"> </span>programming<span class="_"> </span>is<span class="_ _13"> </span>to<span class="_ _13"> </span>understand<span class="_ _13"> </span>the<span class="_ _13"> </span>con-</div><div class="t m5 x26 h26 y579 ff7 fs19 fc1 sc0 ls0 ws0">sequences<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>way<span class="_"> </span>data<span class="_ _13"> </span>and<span class="_ _13"> </span>control<span class="_ _13"> </span>information<span class="_ _13"> </span>are<span class="_ _13"> </span>stored<span class="_"> </span>on<span class="_ _13"> </span>the<span class="_ _13"> </span>program</div><div class="t m5 x26 h26 y57a ff7 fs19 fc1 sc0 ls0 ws0">stack.<span class="_ _15"> </span>W<span class="_ _1"></span>e<span class="_ _15"> </span>cover<span class="_ _21"> </span>the<span class="_ _21"> </span>stack<span class="_ _21"> </span>discipline<span class="_ _15"> </span>and<span class="_ _21"> </span>buffer<span class="_ _21"> </span>overﬂow<span class="_ _15"> </span>vulnerabilities<span class="_ _21"> </span>in</div><div class="t m5 x26 h26 y57b ff7 fs19 fc1 sc0 ls0 ws0">Chapter<span class="_"> </span>3<span class="_ _13"> </span>as<span class="_"> </span>part<span class="_ _13"> </span>of<span class="_"> </span>our<span class="_ _13"> </span>study<span class="_"> </span>of<span class="_ _13"> </span>assembly<span class="_"> </span>language<span class="_ _1"></span>.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_"> </span>will<span class="_ _13"> </span>also<span class="_"> </span>learn<span class="_"> </span>about</div><div class="t m5 x26 h26 y57c ff7 fs19 fc1 sc0 ls0 ws0">methods<span class="_ _13"> </span>that<span class="_ _6"> </span>can<span class="_ _13"> </span>be<span class="_ _13"> </span>used<span class="_ _13"> </span>by<span class="_ _6"> </span>the<span class="_ _13"> </span>programmer,<span class="_ _13"> </span>compiler<span class="_ _0"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>operating<span class="_ _6"> </span>system</div><div class="t m5 x26 h26 y57d ff7 fs19 fc1 sc0 ls0 ws0">to<span class="_"> </span>reduce<span class="_"> </span>the<span class="_"> </span>threat<span class="_"> </span>of<span class="_"> </span>attack.</div><div class="t m5 x17 h3b y57e fff fs24 fc6 sc0 ls0 ws0">1.4<span class="_ _17"> </span><span class="ffe fs18">Processors<span class="_"> </span>Read<span class="_"> </span>and<span class="_"> </span>Interpret<span class="_"> </span>Instructions</span></div><div class="t m5 x77 h3e y57f ffe fs18 fc6 sc0 ls0 ws0">Stored<span class="_"> </span>in<span class="_"> </span>Memory</div><div class="t m5 x17 h26 y580 ff7 fs19 fc1 sc0 ls0 ws0">At<span class="_ _13"> </span>this<span class="_ _13"> </span>point,<span class="_ _13"> </span>our<span class="_ _13"> </span><span class="ffd">hello.c<span class="_ _6"> </span></span>source<span class="_ _13"> </span>program<span class="_ _13"> </span>has<span class="_ _13"> </span>been<span class="_ _13"> </span>translated<span class="_ _6"> </span>by<span class="_ _13"> </span>the<span class="_ _13"> </span>compilation</div><div class="t m5 x17 h26 y581 ff7 fs19 fc1 sc0 ls0 ws0">system<span class="_ _16"> </span>into<span class="_ _16"> </span>an<span class="_ _16"> </span>executable<span class="_ _11"> </span>object<span class="_ _16"> </span>ﬁle<span class="_ _16"> </span>called<span class="_ _16"> </span><span class="ffd">hello<span class="_ _16"> </span></span>that<span class="_ _16"> </span>is<span class="_ _16"> </span>stored<span class="_ _16"> </span>on<span class="_ _16"> </span>disk.<span class="_ _11"> </span>T<span class="_ _3"></span>o<span class="_ _16"> </span>run</div><div class="t m5 x17 h26 y582 ff7 fs19 fc1 sc0 ls0 ws0">the<span class="_"> </span>executable<span class="_"> </span>ﬁle<span class="_"> </span>on<span class="_"> </span>a<span class="_"> </span>Unix<span class="_ _13"> </span>system,<span class="_"> </span>we<span class="_"> </span>type<span class="_"> </span>its<span class="_"> </span>name<span class="_"> </span>to<span class="_"> </span>an<span class="_"> </span>application<span class="_"> </span>program</div><div class="t m5 x17 h26 y583 ff7 fs19 fc1 sc0 ls0 ws0">known<span class="_"> </span>as<span class="_"> </span>a<span class="_"> </span><span class="ffa">shell:</span></div><div class="t m5 x17 h2d y584 ffd fs1e fc2 sc0 ls0 ws0">linux&gt;<span class="_ _e"> </span><span class="ff13">./hello</span></div><div class="t m5 x17 h2d y585 ffd fs1e fc2 sc0 ls0 ws0">hello,<span class="_ _e"> </span>world</div><div class="t m5 x17 h2d y586 ffd fs1e fc2 sc0 ls0 ws0">linux&gt;</div><div class="t m5 x26 h26 y587 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _14"> </span>shell<span class="_ _16"> </span>is<span class="_ _16"> </span>a<span class="_ _16"> </span>command-line<span class="_ _14"> </span>interpreter<span class="_ _16"> </span>that<span class="_ _16"> </span>prints<span class="_ _16"> </span>a<span class="_ _14"> </span>prompt,<span class="_ _14"> </span>waits<span class="_ _16"> </span>for<span class="_ _16"> </span>you</div><div class="t m5 x17 h26 y588 ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_"> </span>type<span class="_"> </span>a<span class="_"> </span>command<span class="_"> </span>line<span class="_ _1"></span>,<span class="_"> </span>and<span class="_"> </span>then<span class="_"> </span>performs<span class="_"> </span>the<span class="_"> </span>command.<span class="_"> </span>If<span class="_"> </span>the<span class="_"> </span>ﬁrst<span class="_"> </span>word<span class="_"> </span>of<span class="_"> </span>the</div><div class="t m5 x17 h26 y589 ff7 fs19 fc2 sc0 ls0 ws0">command<span class="_ _14"> </span>line<span class="_ _14"> </span>does<span class="_ _14"> </span>not<span class="_ _14"> </span>correspond<span class="_ _16"> </span>to<span class="_ _14"> </span>a<span class="_ _14"> </span>built-in<span class="_ _14"> </span>shell<span class="_ _14"> </span>command,<span class="_ _15"> </span>then<span class="_ _14"> </span>the<span class="_ _14"> </span>shell</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
