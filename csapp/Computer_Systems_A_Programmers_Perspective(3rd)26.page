<div id="pf1a" class="pf w2 h11" data-page-no="1a"><div class="pc pc1a w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg1a.png"/><div class="t m5 x2a h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Preface<span class="_ _1b"> </span><span class="ffe fs1e">25</span></div><div class="t m5 x35 h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">ering<span class="_ _14"> </span>this<span class="_ _14"> </span>material<span class="_ _14"> </span>serves<span class="_ _14"> </span>several<span class="_ _16"> </span>purposes<span class="_ _0"></span>.<span class="_ _14"> </span>It<span class="_ _14"> </span>reinforces<span class="_ _14"> </span>the<span class="_ _14"> </span>concept<span class="_ _16"> </span>that</div><div class="t m5 x35 h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_ _15"> </span>virtual<span class="_ _15"> </span>memory<span class="_ _15"> </span>space<span class="_ _15"> </span>is<span class="_ _15"> </span>just<span class="_ _15"> </span>an<span class="_ _15"> </span>array<span class="_ _f"> </span>of<span class="_ _14"> </span>bytes<span class="_ _15"> </span>that<span class="_ _15"> </span>the<span class="_ _15"> </span>program<span class="_ _21"> </span>can</div><div class="t m5 x35 h26 y2a8 ff7 fs19 fc2 sc0 ls0 ws0">subdivide<span class="_ _16"> </span>into<span class="_ _14"> </span>different<span class="_ _16"> </span>storage<span class="_ _14"> </span>units<span class="_ _1"></span>.<span class="_ _14"> </span>It<span class="_ _16"> </span>helps<span class="_ _14"> </span>you<span class="_ _14"> </span>understand<span class="_ _16"> </span>the<span class="_ _14"> </span>effects</div><div class="t m5 x35 h26 y2f7 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _14"> </span>programs<span class="_ _15"> </span>containing<span class="_ _14"> </span>memory<span class="_ _15"> </span>referencing<span class="_ _14"> </span>errors<span class="_ _15"> </span>such<span class="_ _14"> </span>as<span class="_ _15"> </span>storage<span class="_ _15"> </span>leaks</div><div class="t m5 x35 h26 y2f8 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_ _6"> </span>invalid<span class="_ _13"> </span>pointer<span class="_ _6"> </span>references<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _1"></span>inally<span class="_ _3"></span>,<span class="_ _13"> </span>many<span class="_ _6"> </span>application<span class="_ _6"> </span>programmers<span class="_ _13"> </span>write</div><div class="t m5 x35 h26 y2f9 ff7 fs19 fc2 sc0 ls0 ws0">their<span class="_ _16"> </span>own<span class="_ _14"> </span>storage<span class="_ _16"> </span>allocators<span class="_ _14"> </span>optimized<span class="_ _16"> </span>toward<span class="_ _14"> </span>the<span class="_ _16"> </span>needs<span class="_ _14"> </span>and<span class="_ _16"> </span>characteris-</div><div class="t m5 x35 h26 y2fa ff7 fs19 fc2 sc0 ls0 ws0">tics<span class="_ _13"> </span>of<span class="_"> </span>the<span class="_ _13"> </span>application.<span class="_"> </span>T<span class="_ _1"></span>his<span class="_"> </span>chapter<span class="_ _1"></span>,<span class="_"> </span>more<span class="_ _13"> </span>than<span class="_"> </span>any<span class="_ _13"> </span>other,<span class="_"> </span>demonstrates<span class="_ _13"> </span>the</div><div class="t m5 x35 h26 y2fb ff7 fs19 fc2 sc0 ls0 ws0">beneﬁt<span class="_ _13"> </span>of<span class="_ _13"> </span>covering<span class="_ _13"> </span>both<span class="_ _13"> </span>the<span class="_ _13"> </span>hardware<span class="_ _13"> </span>and<span class="_ _13"> </span>the<span class="_ _13"> </span>software<span class="_ _13"> </span>aspects<span class="_ _13"> </span>of<span class="_ _13"> </span>computer</div><div class="t m5 x35 h26 y2fc ff7 fs19 fc2 sc0 ls0 ws0">systems<span class="_ _11"> </span>in<span class="_ _16"> </span>a<span class="_ _16"> </span>uniﬁed<span class="_ _11"> </span>way<span class="_ _3"></span>.<span class="_ _16"> </span>T<span class="_ _7"></span>raditional<span class="_ _16"> </span>computer<span class="_ _11"> </span>architecture<span class="_ _16"> </span>and<span class="_ _11"> </span>operating</div><div class="t m5 x35 h26 y2fd ff7 fs19 fc2 sc0 ls0 ws0">systems<span class="_"> </span>texts<span class="_"> </span>present<span class="_"> </span>only<span class="_"> </span>part<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>virtual<span class="_"> </span>memory<span class="_"> </span>story<span class="_ _3"></span>.</div><div class="t m5 x17 h26 y320 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _16"> </span>10:<span class="_ _16"> </span>System-Level<span class="_ _16"> </span>I/O<span class="_ _3"></span>.<span class="_ _f"> </span><span class="ff7">W<span class="_ _3"></span>e<span class="_ _16"> </span>cover<span class="_ _16"> </span>the<span class="_ _16"> </span>basic<span class="_ _16"> </span>concepts<span class="_ _16"> </span>of<span class="_ _16"> </span>Unix<span class="_ _16"> </span>I/O<span class="_ _16"> </span>such<span class="_ _16"> </span>as</span></div><div class="t m5 x35 h26 y321 ff7 fs19 fc2 sc0 ls0 ws0">ﬁles<span class="_"> </span>and<span class="_"> </span>descriptors<span class="_ _3"></span>.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_"> </span>describe<span class="_"> </span>how<span class="_"> </span>ﬁles<span class="_"> </span>are<span class="_ _13"> </span>shared,<span class="_"> </span>how<span class="_"> </span>I/O<span class="_"> </span>redirection</div><div class="t m5 x35 h26 y301 ff7 fs19 fc2 sc0 ls0 ws0">works<span class="_ _1"></span>,<span class="_"> </span>and<span class="_ _11"> </span>how<span class="_"> </span>to<span class="_ _11"> </span>access<span class="_"> </span>ﬁle<span class="_ _11"> </span>metadata.<span class="_"> </span>W<span class="_ _1"></span>e<span class="_"> </span>also<span class="_ _11"> </span>develop<span class="_"> </span>a<span class="_ _11"> </span>robust<span class="_"> </span>buffered</div><div class="t m5 x35 h26 y302 ff7 fs19 fc2 sc0 ls0 ws0">I/O<span class="_ _14"> </span>package<span class="_ _15"> </span>that<span class="_ _14"> </span>deals<span class="_ _15"> </span>correctly<span class="_ _14"> </span>with<span class="_ _15"> </span>a<span class="_ _14"> </span>curious<span class="_ _15"> </span>behavior<span class="_ _15"> </span>known<span class="_ _14"> </span>as<span class="_ _15"> </span><span class="ffa">short</span></div><div class="t m5 x35 h26 y303 ffa fs19 fc2 sc0 ls0 ws0">counts<span class="ff7">,<span class="_ _21"> </span>where<span class="_ _15"> </span>the<span class="_ _15"> </span>library<span class="_ _14"> </span>function<span class="_ _15"> </span>reads<span class="_ _15"> </span>only<span class="_ _15"> </span>part<span class="_ _15"> </span>of<span class="_ _15"> </span>the<span class="_ _15"> </span>input<span class="_ _15"> </span>data.<span class="_ _15"> </span>W<span class="_ _3"></span>e</span></div><div class="t m5 x35 h26 y304 ff7 fs19 fc2 sc0 ls0 ws0">cover<span class="_"> </span>the<span class="_"> </span>C<span class="_"> </span>standard<span class="_"> </span>I/O<span class="_"> </span>library<span class="_"> </span>and<span class="_"> </span>its<span class="_"> </span>relationship<span class="_"> </span>to<span class="_"> </span>Linux<span class="_"> </span>I/O<span class="_ _3"></span>,<span class="_ _11"> </span>focusing</div><div class="t m5 x35 h26 y305 ff7 fs19 fc2 sc0 ls0 ws0">on<span class="_ _13"> </span>limitations<span class="_ _13"> </span>of<span class="_ _13"> </span>standard<span class="_ _13"> </span>I/O<span class="_ _6"> </span>that<span class="_ _13"> </span>make<span class="_ _13"> </span>it<span class="_ _13"> </span>unsuitable<span class="_ _13"> </span>for<span class="_ _13"> </span>network<span class="_ _13"> </span>program-</div><div class="t m5 x35 h26 y306 ff7 fs19 fc2 sc0 ls0 ws0">ming.<span class="_"> </span>In<span class="_ _11"> </span>general,<span class="_ _11"> </span>the<span class="_ _11"> </span>topics<span class="_ _11"> </span>covered<span class="_ _11"> </span>in<span class="_ _11"> </span>this<span class="_ _11"> </span>chapter<span class="_ _11"> </span>are<span class="_ _11"> </span>building<span class="_ _11"> </span>blocks<span class="_ _11"> </span>for</div><div class="t m5 x35 h26 y307 ff7 fs19 fc2 sc0 ls0 ws0">the<span class="_"> </span>next<span class="_"> </span>two<span class="_"> </span>chapters<span class="_"> </span>on<span class="_"> </span>network<span class="_"> </span>and<span class="_"> </span>concurrent<span class="_"> </span>programming.</div><div class="t m5 x17 h26 y309 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_"> </span>11:<span class="_ _13"> </span>Network<span class="_"> </span>Programming.<span class="_ _15"> </span><span class="ff7">Networks<span class="_"> </span>are<span class="_"> </span>interesting<span class="_"> </span>I/O<span class="_ _13"> </span>devices<span class="_"> </span>to<span class="_"> </span>pro-</span></div><div class="t m5 x35 h26 y30a ff7 fs19 fc2 sc0 ls0 ws0">gram,<span class="_ _13"> </span>tying<span class="_ _13"> </span>together<span class="_ _13"> </span>many<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>ideas<span class="_ _13"> </span>that<span class="_ _13"> </span>we<span class="_ _13"> </span>study<span class="_ _13"> </span>earlier<span class="_ _13"> </span>in<span class="_ _13"> </span>the<span class="_ _13"> </span>text,<span class="_ _13"> </span>such</div><div class="t m5 x35 h26 y30b ff7 fs19 fc2 sc0 ls0 ws0">as<span class="_ _13"> </span>processes<span class="_ _1"></span>,<span class="_"> </span>signals<span class="_ _1"></span>,<span class="_"> </span>byte<span class="_ _13"> </span>ordering,<span class="_ _13"> </span>memory<span class="_"> </span>mapping<span class="_ _1"></span>,<span class="_"> </span>and<span class="_ _13"> </span>dynamic<span class="_"> </span>storage</div><div class="t m5 x35 h26 y30c ff7 fs19 fc2 sc0 ls0 ws0">allocation.<span class="_ _16"> </span>Network<span class="_ _14"> </span>programs<span class="_ _16"> </span>also<span class="_ _14"> </span>provide<span class="_ _14"> </span>a<span class="_ _16"> </span>compelling<span class="_ _14"> </span>context<span class="_ _16"> </span>for<span class="_ _14"> </span>con-</div><div class="t m5 x35 h26 y30d ff7 fs19 fc2 sc0 ls0 ws0">currency<span class="_ _7"></span>,<span class="_ _11"> </span>which<span class="_ _11"> </span>is<span class="_ _16"> </span>the<span class="_"> </span>topic<span class="_ _11"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>next<span class="_ _16"> </span>chapter<span class="_ _0"></span>.<span class="_ _11"> </span>T<span class="_ _1"></span>his<span class="_ _11"> </span>chapter<span class="_ _16"> </span>is<span class="_"> </span>a<span class="_ _11"> </span>thin<span class="_ _11"> </span>slice</div><div class="t m5 x35 h26 y30e ff7 fs19 fc2 sc0 ls0 ws0">through<span class="_ _14"> </span>network<span class="_ _14"> </span>programming<span class="_ _14"> </span>that<span class="_ _14"> </span>gets<span class="_ _15"> </span>you<span class="_ _14"> </span>to<span class="_ _14"> </span>the<span class="_ _14"> </span>point<span class="_ _14"> </span>where<span class="_ _15"> </span>you<span class="_ _14"> </span>can</div><div class="t m5 x35 h26 y30f ff7 fs19 fc2 sc0 ls0 ws0">write<span class="_"> </span>a<span class="_"> </span>simple<span class="_"> </span>W<span class="_ _3"></span>eb<span class="_"> </span>server.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_"> </span>cover<span class="_"> </span>the<span class="_"> </span>client-server<span class="_"> </span>model<span class="_"> </span>that<span class="_"> </span>underlies</div><div class="t m5 x35 h26 y310 ff7 fs19 fc2 sc0 ls0 ws0">all<span class="_ _16"> </span>network<span class="_ _11"> </span>applications<span class="_ _1"></span>.<span class="_ _16"> </span>W<span class="_ _3"></span>e<span class="_ _16"> </span>present<span class="_ _16"> </span>a<span class="_ _16"> </span>programmer’<span class="_ _0"></span>s<span class="_ _16"> </span>view<span class="_ _11"> </span>of<span class="_ _16"> </span>the<span class="_ _16"> </span>Internet</div><div class="t m5 x35 h26 y311 ff7 fs19 fc2 sc0 ls0 ws0">and<span class="_"> </span>show<span class="_ _11"> </span>how<span class="_ _11"> </span>to<span class="_ _11"> </span>write<span class="_ _11"> </span>Internet<span class="_"> </span>clients<span class="_ _11"> </span>and<span class="_ _11"> </span>servers<span class="_ _11"> </span>using<span class="_ _11"> </span>the<span class="_"> </span>sockets<span class="_ _11"> </span>inter<span class="_ _1"></span>-</div><div class="t m5 x35 h26 y312 ff7 fs19 fc2 sc0 ls0 ws0">face<span class="_ _1"></span>.<span class="_ _13"> </span>F<span class="_ _0"></span>inally<span class="_ _3"></span>,<span class="_ _13"> </span>we<span class="_ _6"> </span>introduce<span class="_ _13"> </span>HTTP<span class="_ _13"> </span>and<span class="_ _6"> </span>develop<span class="_ _13"> </span>a<span class="_ _13"> </span>simple<span class="_ _6"> </span>iterative<span class="_ _13"> </span>W<span class="_ _3"></span>eb<span class="_ _13"> </span>server.</div><div class="t m5 x17 h26 y322 ffa fs19 fc2 sc0 ls0 ws0">Chapter<span class="_ _16"> </span>12:<span class="_ _14"> </span>Concurrent<span class="_ _16"> </span>Programming.<span class="_ _21"> </span><span class="ff7">This<span class="_ _16"> </span>chapter<span class="_ _16"> </span>introduces<span class="_ _14"> </span>concurrent<span class="_ _16"> </span>pro-</span></div><div class="t m5 x35 h26 y323 ff7 fs19 fc2 sc0 ls0 ws0">gramming<span class="_ _6"> </span>using<span class="_ _13"> </span>Internet<span class="_ _a"> </span>server<span class="_ _13"> </span>design<span class="_ _a"> </span>as<span class="_ _13"> </span>the<span class="_ _6"> </span>running<span class="_ _6"> </span>motivational<span class="_ _13"> </span>example<span class="_ _1"></span>.</div><div class="t m5 x35 h26 y324 ff7 fs19 fc2 sc0 ls0 ws0">W<span class="_ _3"></span>e<span class="_ _16"> </span>compare<span class="_ _16"> </span>and<span class="_ _14"> </span>contrast<span class="_ _16"> </span>the<span class="_ _16"> </span>three<span class="_ _16"> </span>basic<span class="_ _16"> </span>mechanisms<span class="_ _14"> </span>for<span class="_ _16"> </span>writing<span class="_ _16"> </span>concur<span class="_ _1"></span>-</div><div class="t m5 x35 h26 y325 ff7 fs19 fc2 sc0 ls0 ws0">rent<span class="_ _16"> </span>programs—processes<span class="_ _1"></span>,<span class="_ _14"> </span>I/O<span class="_ _16"> </span>multiplexing,<span class="_ _14"> </span>and<span class="_ _16"> </span>threads—and<span class="_ _14"> </span>show<span class="_ _16"> </span>how</div><div class="t m5 x35 h26 y326 ff7 fs19 fc2 sc0 ls0 ws0">to<span class="_"> </span>use<span class="_"> </span>them<span class="_"> </span>to<span class="_"> </span>build<span class="_"> </span>concurrent<span class="_"> </span>Internet<span class="_ _11"> </span>servers<span class="_ _1"></span>.<span class="_"> </span>W<span class="_ _3"></span>e<span class="_ _11"> </span>cover<span class="_"> </span>basic<span class="_"> </span>principles</div><div class="t m5 x35 h26 y319 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_"> </span>synchronization<span class="_ _13"> </span>using<span class="_"> </span><span class="ff11">P<span class="_ _15"> </span></span>and<span class="_"> </span><span class="ff11">V<span class="_ _f"> </span></span>semaphore<span class="_"> </span>operations<span class="_ _3"></span>,<span class="_"> </span>thread<span class="_"> </span>safety<span class="_"> </span>and</div><div class="t m5 x35 h26 y31a ff7 fs19 fc2 sc0 ls0 ws0">reentrancy<span class="_ _7"></span>,<span class="_ _16"> </span>race<span class="_ _16"> </span>conditions<span class="_ _3"></span>,<span class="_ _16"> </span>and<span class="_ _16"> </span>deadlocks<span class="_ _1"></span>.<span class="_ _16"> </span>Writing<span class="_ _11"> </span>concurrent<span class="_ _16"> </span>code<span class="_ _11"> </span>is<span class="_ _16"> </span>es-</div><div class="t m5 x35 h26 y31b ff7 fs19 fc2 sc0 ls0 ws0">sential<span class="_ _13"> </span>for<span class="_ _13"> </span>most<span class="_ _13"> </span>server<span class="_ _13"> </span>applications<span class="_ _1"></span>.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>also<span class="_ _13"> </span>describe<span class="_ _13"> </span>the<span class="_ _13"> </span>use<span class="_ _13"> </span>of<span class="_ _13"> </span>thread-level</div><div class="t m5 x35 h26 y31c ff7 fs19 fc2 sc0 ls0 ws0">programming<span class="_ _15"> </span>to<span class="_ _14"> </span>express<span class="_ _15"> </span>parallelism<span class="_ _15"> </span>in<span class="_ _15"> </span>an<span class="_ _15"> </span>application<span class="_ _15"> </span>program,<span class="_ _21"> </span>enabling</div><div class="t m5 x35 h26 y31d ff7 fs19 fc2 sc0 ls0 ws0">faster<span class="_"> </span>execution<span class="_ _11"> </span>on<span class="_"> </span>multi-core<span class="_ _11"> </span>processors<span class="_ _1"></span>.<span class="_ _11"> </span>Getting<span class="_ _11"> </span>all<span class="_"> </span>of<span class="_ _11"> </span>the<span class="_"> </span>cores<span class="_ _11"> </span>working</div><div class="t m5 x35 h26 y31e ff7 fs19 fc2 sc0 ls0 ws0">on<span class="_ _16"> </span>a<span class="_ _16"> </span>single<span class="_ _14"> </span>computational<span class="_ _16"> </span>problem<span class="_ _16"> </span>requires<span class="_ _14"> </span>a<span class="_ _16"> </span>careful<span class="_ _16"> </span>coordination<span class="_ _14"> </span>of<span class="_ _16"> </span>the</div><div class="t m5 x35 h26 y31f ff7 fs19 fc2 sc0 ls0 ws0">concurrent<span class="_"> </span>threads<span class="_ _1"></span>,<span class="_"> </span>both<span class="_"> </span>for<span class="_"> </span>correctness<span class="_"> </span>and<span class="_"> </span>to<span class="_"> </span>achieve<span class="_"> </span>high<span class="_"> </span>performance<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
