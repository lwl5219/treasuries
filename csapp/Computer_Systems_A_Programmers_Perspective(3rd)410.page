<div id="pf19a" class="pf w2 h11" data-page-no="19a"><div class="pc pc19a w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg19a.png"/><div class="t m5 x10e h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Section<span class="_ _10"> </span>4.2<span class="_ _60"> </span>Logic<span class="_ _10"> </span>Design<span class="_ _10"> </span>and<span class="_ _10"> </span>the<span class="_ _10"> </span>Hardware<span class="_ _10"> </span>Control<span class="_ _10"> </span>Language<span class="_ _10"> </span>HCL<span class="_ _3e"> </span><span class="ffe fs1e">409</span></div><div class="t m5 x34 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">Modern<span class="_ _11"> </span>logic<span class="_ _11"> </span>design</span></div><div class="t m5 x34 h2b y2d0 ff7 fs1e fc2 sc0 ls0 ws0">At<span class="_ _13"> </span>one<span class="_ _6"> </span>time,<span class="_ _13"> </span>hardware<span class="_ _6"> </span>designers<span class="_ _13"> </span>created<span class="_ _13"> </span>circuit<span class="_ _6"> </span>designs<span class="_ _13"> </span>by<span class="_ _13"> </span>drawing<span class="_ _6"> </span>schematic<span class="_ _13"> </span>diagrams<span class="_ _13"> </span>of<span class="_ _6"> </span>logic<span class="_ _13"> </span>circuits</div><div class="t m5 x34 h2b y2d1 ff7 fs1e fc2 sc0 ls0 ws0">(ﬁrst<span class="_ _14"> </span>with<span class="_ _14"> </span>paper<span class="_ _15"> </span>and<span class="_ _14"> </span>pencil,<span class="_ _15"> </span>and<span class="_ _15"> </span>later<span class="_ _14"> </span>with<span class="_ _14"> </span>computer<span class="_ _15"> </span>graphics<span class="_ _14"> </span>terminals).<span class="_ _15"> </span>Nowadays<span class="_ _1"></span>,<span class="_ _15"> </span>most<span class="_ _14"> </span>designs</div><div class="t m5 x34 h2b y2d2 ff7 fs1e fc2 sc0 ls0 ws0">are<span class="_ _16"> </span>expressed<span class="_ _14"> </span>in<span class="_ _16"> </span>a<span class="_ _14"> </span><span class="ffa">hardware<span class="_ _16"> </span>description<span class="_ _16"> </span>language<span class="_ _14"> </span></span>(HDL),<span class="_ _15"> </span>a<span class="_ _16"> </span>textual<span class="_ _14"> </span>notation<span class="_ _16"> </span>that<span class="_ _14"> </span>looks<span class="_ _16"> </span>similar<span class="_ _14"> </span>to<span class="_ _16"> </span>a</div><div class="t m5 x34 h2b y2d3 ff7 fs1e fc2 sc0 ls0 ws0">programming<span class="_ _13"> </span>language<span class="_ _6"> </span>but<span class="_ _13"> </span>that<span class="_ _13"> </span>is<span class="_ _6"> </span>used<span class="_ _13"> </span>to<span class="_ _13"> </span>describe<span class="_ _13"> </span>hardware<span class="_ _6"> </span>structures<span class="_ _13"> </span>rather<span class="_ _13"> </span>than<span class="_ _6"> </span>program<span class="_ _13"> </span>behaviors<span class="_ _1"></span>.</div><div class="t m5 x34 h2b y2d4 ff7 fs1e fc2 sc0 ls0 ws0">T<span class="_ _1"></span>he<span class="_ _14"> </span>most<span class="_ _14"> </span>commonly<span class="_ _14"> </span>used<span class="_ _14"> </span>languages<span class="_ _14"> </span>are<span class="_ _14"> </span>V<span class="_ _3"></span>erilog,<span class="_ _15"> </span>having<span class="_ _14"> </span>a<span class="_ _14"> </span>syntax<span class="_ _14"> </span>similar<span class="_ _14"> </span>to<span class="_ _14"> </span>C,<span class="_ _14"> </span>and<span class="_ _14"> </span>VHDL,<span class="_ _15"> </span>having</div><div class="t m5 x34 h2b y2d5 ff7 fs1e fc2 sc0 ls0 ws0">a<span class="_ _15"> </span>syntax<span class="_ _15"> </span>similar<span class="_ _15"> </span>to<span class="_ _21"> </span>the<span class="_ _15"> </span>Ada<span class="_ _15"> </span>programming<span class="_ _15"> </span>language.<span class="_ _14"> </span>These<span class="_ _14"> </span>languages<span class="_ _21"> </span>were<span class="_ _15"> </span>originally<span class="_ _15"> </span>designed<span class="_ _15"> </span>for</div><div class="t m5 x34 h2b y2d6 ff7 fs1e fc2 sc0 ls0 ws0">creating<span class="_ _11"> </span>simulation<span class="_ _11"> </span>models<span class="_ _11"> </span>of<span class="_ _11"> </span>digital<span class="_ _11"> </span>circuits<span class="_ _1"></span>.<span class="_ _11"> </span>In<span class="_ _11"> </span>the<span class="_ _11"> </span>mid-1980s<span class="_ _1"></span>,<span class="_ _11"> </span>researchers<span class="_ _11"> </span>developed<span class="_ _11"> </span><span class="ffa">logic<span class="_ _11"> </span>synthesis</span></div><div class="t m5 x34 h2b y549 ff7 fs1e fc2 sc0 ls0 ws0">programs<span class="_ _13"> </span>that<span class="_ _13"> </span>could<span class="_ _13"> </span>generate<span class="_ _6"> </span>efﬁcient<span class="_"> </span>circuit<span class="_ _6"> </span>designs<span class="_ _13"> </span>from<span class="_ _13"> </span>HDL<span class="_ _13"> </span>descriptions<span class="_ _1"></span>.<span class="_ _13"> </span>T<span class="_ _1"></span>here<span class="_ _13"> </span>are<span class="_ _13"> </span>now<span class="_ _13"> </span>a<span class="_ _13"> </span>number</div><div class="t m5 x34 h2b y54a ff7 fs1e fc2 sc0 ls0 ws0">of<span class="_"> </span>commercial<span class="_"> </span>synthesis<span class="_"> </span>programs<span class="_ _3"></span>,<span class="_"> </span>and<span class="_"> </span>this<span class="_"> </span>has<span class="_"> </span>become<span class="_"> </span>the<span class="_"> </span>dominant<span class="_"> </span>technique<span class="_"> </span>for<span class="_"> </span>generating<span class="_"> </span>digital</div><div class="t m5 x34 h2b y54b ff7 fs1e fc2 sc0 ls0 ws0">circuits<span class="_ _1"></span>.<span class="_ _16"> </span>This<span class="_ _16"> </span>shift<span class="_ _16"> </span>from<span class="_ _14"> </span>hand-designed<span class="_ _16"> </span>circuits<span class="_ _14"> </span>to<span class="_ _16"> </span>synthesized<span class="_ _14"> </span>ones<span class="_ _14"> </span>can<span class="_ _16"> </span>be<span class="_ _14"> </span>likened<span class="_ _16"> </span>to<span class="_ _14"> </span>the<span class="_ _16"> </span>shift<span class="_ _14"> </span>from</div><div class="t m5 x34 h2b y54c ff7 fs1e fc2 sc0 ls0 ws0">writing<span class="_ _16"> </span>programs<span class="_ _14"> </span>in<span class="_ _14"> </span>assembly<span class="_ _16"> </span>code<span class="_ _14"> </span>to<span class="_ _14"> </span>writing<span class="_ _16"> </span>them<span class="_ _14"> </span>in<span class="_ _16"> </span>a<span class="_ _14"> </span>high-level<span class="_ _14"> </span>language<span class="_ _16"> </span>and<span class="_ _14"> </span>having<span class="_ _14"> </span>a<span class="_ _16"> </span>compiler</div><div class="t m5 x34 h2b y54d ff7 fs1e fc2 sc0 ls0 ws0">generate<span class="_"> </span>the<span class="_"> </span>machine<span class="_"> </span>code<span class="_ _1"></span>.</div><div class="t m5 x35 h2b y54e ff7 fs1e fc2 sc0 ls0 ws0">Our<span class="_ _6"> </span>HCL<span class="_ _13"> </span>language<span class="_ _a"> </span>expresses<span class="_ _13"> </span>only<span class="_ _6"> </span>the<span class="_ _6"> </span>control<span class="_ _13"> </span>portions<span class="_ _a"> </span>of<span class="_ _13"> </span>a<span class="_ _6"> </span>hardware<span class="_ _6"> </span>design,<span class="_ _13"> </span>with<span class="_ _6"> </span>only<span class="_ _13"> </span>a<span class="_ _a"> </span>limited<span class="_ _13"> </span>set</div><div class="t m5 x34 h2b y70b ff7 fs1e fc2 sc0 ls0 ws0">of<span class="_ _6"> </span>operations<span class="_ _13"> </span>and<span class="_ _6"> </span>with<span class="_ _13"> </span>no<span class="_ _6"> </span>modularity<span class="_ _3"></span>.<span class="_ _13"> </span>As<span class="_ _6"> </span>we<span class="_ _13"> </span>will<span class="_ _6"> </span>see,<span class="_ _6"> </span>however,<span class="_ _13"> </span>the<span class="_ _6"> </span>control<span class="_ _13"> </span>logic<span class="_ _6"> </span>is<span class="_ _13"> </span>the<span class="_ _6"> </span>most<span class="_ _13"> </span>difﬁcult<span class="_ _6"> </span>part</div><div class="t m5 x34 h2b y70c ff7 fs1e fc2 sc0 ls0 ws0">of<span class="_"> </span>designing<span class="_"> </span>a<span class="_ _10"> </span>microprocessor.<span class="_"> </span>W<span class="_ _1"></span>e<span class="_"> </span>have<span class="_"> </span>developed<span class="_ _10"> </span>tools<span class="_ _10"> </span>that<span class="_ _11"> </span>can<span class="_"> </span>directly<span class="_"> </span>translate<span class="_"> </span>HCL<span class="_ _11"> </span>into<span class="_"> </span>V<span class="_ _3"></span>erilog,</div><div class="t m5 x34 h2b y70d ff7 fs1e fc2 sc0 ls0 ws0">and<span class="_ _16"> </span>by<span class="_ _14"> </span>combining<span class="_ _14"> </span>this<span class="_ _14"> </span>code<span class="_ _14"> </span>with<span class="_ _16"> </span>V<span class="_ _1"></span>erilog<span class="_ _16"> </span>code<span class="_ _14"> </span>for<span class="_ _14"> </span>the<span class="_ _14"> </span>basic<span class="_ _14"> </span>hardware<span class="_ _16"> </span>units<span class="_ _0"></span>,<span class="_ _14"> </span>we<span class="_ _14"> </span>can<span class="_ _14"> </span>generate<span class="_ _14"> </span>HDL</div><div class="t m5 x34 h2b y70e ff7 fs1e fc2 sc0 ls0 ws0">descriptions<span class="_ _11"> </span>from<span class="_ _16"> </span>which<span class="_ _11"> </span>actual<span class="_ _11"> </span>working<span class="_ _16"> </span>microprocessors<span class="_ _11"> </span>can<span class="_ _11"> </span>be<span class="_ _16"> </span>synthesized.<span class="_ _11"> </span>By<span class="_ _16"> </span>carefully<span class="_ _11"> </span>separating</div><div class="t m5 x34 h2b y70f ff7 fs1e fc2 sc0 ls0 ws0">out,<span class="_"> </span>designing,<span class="_"> </span>and<span class="_ _11"> </span>testing<span class="_"> </span>the<span class="_ _10"> </span>control<span class="_ _11"> </span>logic,<span class="_"> </span>we<span class="_"> </span>can<span class="_ _10"> </span>create<span class="_ _11"> </span>a<span class="_"> </span>working<span class="_ _10"> </span>microprocessor<span class="_ _11"> </span>with<span class="_"> </span>reasonable</div><div class="t m5 x34 h2b y710 ff7 fs1e fc2 sc0 ls0 ws0">effort.<span class="_"> </span>W<span class="_ _3"></span>eb<span class="_"> </span>Aside<span class="_"> </span><span class="ff9">ar<span class="_ _0"></span>ch:vlog<span class="_ _10"> </span><span class="ff7">on<span class="_ _13"> </span>page<span class="_"> </span>503<span class="_"> </span>describes<span class="_ _13"> </span>how<span class="_"> </span>we<span class="_"> </span>can<span class="_ _13"> </span>generate<span class="_"> </span>V<span class="_ _7"></span>erilog<span class="_"> </span>versions<span class="_"> </span>of<span class="_"> </span>a<span class="_ _13"> </span>Y86-64</span></span></div><div class="t m5 x34 h2b y711 ff7 fs1e fc2 sc0 ls0 ws0">processor.</div><div class="t m5 x17 h2f y38d0 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>4.9</div><div class="t m5 x17 h34 y38d1 ffe fs16 fc1 sc0 ls0 ws0">Logic<span class="_ _16"> </span>gate<span class="_ _16"> </span>types.<span class="_ _16"> </span><span class="ff6">Each</span></div><div class="t m5 x17 h34 y38d2 ff6 fs16 fc1 sc0 ls0 ws0">gate<span class="_ _14"> </span>generates<span class="_ _16"> </span>output</div><div class="t m5 x17 h34 y38d3 ff6 fs16 fc1 sc0 ls0 ws0">equal<span class="_ _16"> </span>to<span class="_ _14"> </span>some<span class="_ _16"> </span>Boolean</div><div class="t m5 x17 h34 y38d4 ff6 fs16 fc1 sc0 ls0 ws0">function<span class="_ _10"> </span>of<span class="_ _11"> </span>its<span class="_ _10"> </span>inputs.</div><div class="t m5 xed h89 y38d5 ff21 fs4f fc1 sc0 ls0 ws0">AND</div><div class="t m5 xbd h3f y38d6 ff21 fs27 fc1 sc0 ls0 ws0">out<span class="_ _1a5"></span>out<span class="_ _16a"> </span>out</div><div class="t m5 x40 h89 y38d5 ff21 fs4f fc1 sc0 ls0 ws0">OR<span class="_ _16d"> </span>NOT</div><div class="t m5 x181 h3f y38d7 ff30 fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x6b h3f y38d8 ff30 fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x121 h3f y38d9 ff30 fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 xb3 h3f y38d7 ff30 fs27 fc1 sc0 ls0 ws0">a</div><div class="t m5 x8f h3f y38d9 ff30 fs27 fc1 sc0 ls0 ws0">b</div><div class="t m5 xb7 h3f y38da ff30 fs27 fc1 sc0 ls0 ws0">out = a </div><div class="t m5 xfa h40 y38db ff3a fs28 fc1 sc0 ls0 ws0">&amp;&amp;<span class="ff30 fs27"> b<span class="_ _5b"> </span>out = a </span>||<span class="ff30 fs27"> b</span></div><div class="t m5 xf2 h3f y38dc ff30 fs27 fc1 sc0 ls0 ws0">out = </div><div class="t m5 x16a h40 y38dd ff3a fs28 fc1 sc0 ls0 ws0">!<span class="ff30 fs27">a</span></div><div class="t m5 x17 h41 y38de ffe fs29 fc1 sc0 ls0 ws0">4.2.1</div><div class="t m5 x182 h43 y38df ffe fs19 fc1 sc0 ls0 ws0">Logic<span class="_"> </span>Gates</div><div class="t m5 x17 h26 y38e0 ff7 fs19 fc1 sc0 ls0 ws0">Logic<span class="_ _13"> </span>gates<span class="_ _13"> </span>are<span class="_ _13"> </span>the<span class="_ _13"> </span>basic<span class="_ _13"> </span>computing<span class="_ _13"> </span>elements<span class="_ _13"> </span>for<span class="_ _13"> </span>digital<span class="_ _6"> </span>circuits<span class="_ _0"></span>.<span class="_ _13"> </span>T<span class="_ _1"></span>hey<span class="_ _13"> </span>generate<span class="_ _13"> </span>an</div><div class="t m5 x17 h26 y38e1 ff7 fs19 fc1 sc0 ls0 ws0">output<span class="_ _13"> </span>equal<span class="_"> </span>to<span class="_ _13"> </span>some<span class="_"> </span>Boolean<span class="_ _13"> </span>function<span class="_"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>bit<span class="_ _13"> </span>values<span class="_ _13"> </span>at<span class="_"> </span>their<span class="_ _13"> </span>inputs<span class="_ _1"></span>.<span class="_"> </span>F<span class="_ _1"></span>igure<span class="_"> </span>4.9</div><div class="t m5 x17 h26 y38e2 ff7 fs19 fc1 sc0 ls0 ws0">shows<span class="_ _11"> </span>the<span class="_ _16"> </span>standard<span class="_ _11"> </span>symbols<span class="_ _16"> </span>used<span class="_ _11"> </span>for<span class="_ _16"> </span>Boolean<span class="_ _11"> </span>functions<span class="_ _16"> </span><span class="ff9">and</span>,<span class="_ _11"> </span><span class="ff9">or</span>,<span class="_ _16"> </span>and<span class="_ _11"> </span><span class="ff9">not</span>.<span class="_ _16"> </span>HCL</div><div class="t m5 x17 h26 y38e3 ff7 fs19 fc1 sc0 ls0 ws0">expressions<span class="_ _11"> </span>are<span class="_ _11"> </span>shown<span class="_ _16"> </span>below<span class="_ _11"> </span>the<span class="_ _11"> </span>gates<span class="_ _11"> </span>for<span class="_ _16"> </span>the<span class="_ _11"> </span>operators<span class="_ _11"> </span>in<span class="_ _11"> </span>C<span class="_ _16"> </span>(Section<span class="_ _11"> </span>2.1.8):<span class="_ _11"> </span><span class="ffd">&amp;&amp;</span></div><div class="t m5 x17 h26 y38e4 ff7 fs19 fc1 sc0 ls0 ws0">for<span class="_ _13"> </span><span class="ff9">and</span>,<span class="_"> </span><span class="ffd">||<span class="_ _13"> </span></span>for<span class="_ _13"> </span><span class="ff9">or</span>,<span class="_ _13"> </span>and<span class="_"> </span><span class="ffd">!<span class="_ _13"> </span></span>for<span class="_ _13"> </span><span class="ff9">not</span>.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_"> </span>use<span class="_ _13"> </span>these<span class="_ _13"> </span>instead<span class="_ _13"> </span>of<span class="_ _13"> </span>the<span class="_"> </span>bit-level<span class="_ _13"> </span>C<span class="_ _13"> </span>operators</div><div class="t m5 x17 h26 y38e5 ffd fs19 fc1 sc0 ls0 ws0">&amp;<span class="ff7">,<span class="_"> </span></span>|<span class="ff7">,<span class="_ _11"> </span>and<span class="_"> </span></span>~<span class="ff7">,<span class="_ _11"> </span>because<span class="_"> </span>logic<span class="_"> </span>gates<span class="_ _11"> </span>operate<span class="_"> </span>on<span class="_ _11"> </span>single-bit<span class="_"> </span>quantities<span class="_ _1"></span>,<span class="_ _11"> </span>not<span class="_"> </span>entire<span class="_ _11"> </span>words<span class="_ _1"></span>.</span></div><div class="t m5 x17 h26 y38e6 ff7 fs19 fc1 sc0 ls0 ws0">Although<span class="_"> </span>the<span class="_"> </span>ﬁgure<span class="_ _13"> </span>illustrates<span class="_"> </span>only<span class="_"> </span>two-input<span class="_"> </span>versions<span class="_ _13"> </span>of<span class="_"> </span>the<span class="_"> </span><span class="ff9">and<span class="_ _10"> </span></span>and<span class="_ _13"> </span><span class="ff9">or<span class="_ _10"> </span></span>gates<span class="_ _1"></span>,<span class="_"> </span>it</div><div class="t m5 x17 h26 y38e7 ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_ _16"> </span>common<span class="_ _11"> </span>to<span class="_ _16"> </span>see<span class="_ _16"> </span>these<span class="_ _16"> </span>being<span class="_ _11"> </span>used<span class="_ _16"> </span>as<span class="_ _16"> </span><span class="ff11">n</span>-way<span class="_ _16"> </span>operations<span class="_ _16"> </span>for<span class="_ _11"> </span><span class="ff11 ls1b0">n&gt;</span>2.<span class="_ _16"> </span>W<span class="_ _1"></span>e<span class="_ _16"> </span>still<span class="_ _11"> </span>write</div><div class="t m5 x17 h26 y38e8 ff7 fs19 fc1 sc0 ls0 ws0">these<span class="_ _16"> </span>in<span class="_ _16"> </span>HCL<span class="_ _16"> </span>using<span class="_ _14"> </span>binary<span class="_ _16"> </span>operators<span class="_ _1"></span>,<span class="_ _14"> </span>though,<span class="_ _14"> </span>so<span class="_ _16"> </span>the<span class="_ _16"> </span>operation<span class="_ _16"> </span>of<span class="_ _14"> </span>a<span class="_ _16"> </span>three-input</div><div class="t m5 x17 h26 y38e9 ff9 fs19 fc1 sc0 ls0 ws0">and<span class="_ _10"> </span><span class="ff7">gate<span class="_ _13"> </span>with<span class="_"> </span>inputs<span class="_ _13"> </span><span class="ff6">a</span>,<span class="_"> </span><span class="ff6">b</span>,<span class="_ _13"> </span>and<span class="_"> </span><span class="ff6">c<span class="_ _13"> </span></span>is<span class="_"> </span>described<span class="_ _13"> </span>with<span class="_"> </span>the<span class="_"> </span>HCL<span class="_ _13"> </span>expression<span class="_"> </span><span class="ffd ls1b1">a&amp;<span class="_ _4a"></span>&amp;b&amp;<span class="_ _4a"></span>&amp;c<span class="_ _80"></span><span class="ff7 ls0">.</span></span></span></div><div class="t m5 x26 h26 y38ea ff7 fs19 fc1 sc0 ls0 ws0">Logic<span class="_ _14"> </span>gates<span class="_ _14"> </span>are<span class="_ _16"> </span>always<span class="_ _14"> </span>active.<span class="_ _16"> </span>If<span class="_ _14"> </span>some<span class="_ _14"> </span>input<span class="_ _14"> </span>to<span class="_ _14"> </span>a<span class="_ _14"> </span>gate<span class="_ _14"> </span>changes<span class="_ _1"></span>,<span class="_ _15"> </span>then<span class="_ _16"> </span>within</div><div class="t m5 x17 h26 y38eb ff7 fs19 fc1 sc0 ls0 ws0">some<span class="_"> </span>small<span class="_"> </span>amount<span class="_"> </span>of<span class="_"> </span>time<span class="_ _1"></span>,<span class="_"> </span>the<span class="_"> </span>output<span class="_"> </span>will<span class="_"> </span>change<span class="_"> </span>accordingly<span class="_ _3"></span>.</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
