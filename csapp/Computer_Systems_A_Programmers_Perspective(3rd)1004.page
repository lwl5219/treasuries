<div id="pf3ec" class="pf w2 h11" data-page-no="3ec"><div class="pc pc3ec w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg3ec.png"/><div class="t m5 x1a1 h28 y9b ff6 fs1f fc2 sc0 ls0 ws0">Solutions<span class="_ _10"> </span>to<span class="_ _10"> </span>Practice<span class="_ _10"> </span>Problems<span class="_ _1b"> </span><span class="ffe fs1e">1003</span></div><div class="t m5 x17 h31 ye7 ff7 fs21 fc2 sc0 ls0 ws0">Dotted-decimal<span class="_"> </span>address<span class="_ _26"> </span>Hex<span class="_"> </span>address</div><div class="t m5 x17 h2d yb20 ffd fs1e fc2 sc0 ls0 ws0">[255.255].[255.0]<span class="_ _11a"> </span>0xFFFFFF00</div><div class="t m5 x17 h2d y1d5a ffd fs1e fc2 sc0 ls0 ws0">[10.1].[1.64]<span class="_ _2d"> </span>0x0A010140</div><div class="t m5 x17 h28 y7e75 ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>11.2</div><div class="t m5 x112 h2f y7e76 ffe fs16 fc6 sc0 ls0 ws0">(page<span class="_"> </span>963)</div><div class="t m5 xfb h2c y7e77 ffa fs16 fc1 sc0 ls0 ws0">code/netp/global-hex2dd.c</div><div class="t m5 x2c h2d y32b9 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">#include<span class="_ _1f"> </span>&quot;csapp.h&quot;</span></div><div class="t m5 x2c h2e y7e78 ff6 fs20 fc6 sc0 ls0 ws0">2</div><div class="t m5 x2c h2e y7e79 ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x2d h2d y32bd ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>main(int<span class="_ _1f"> </span>argc,<span class="_ _1f"> </span>char<span class="_ _e"> </span>**argv)</div><div class="t m5 x2c h2d y7e7a ff6 fs20 fc6 sc0 ls0 ws0">4<span class="_ _1c"> </span><span class="ffd fs1e fc2">{</span></div><div class="t m5 x2c h2d y7e7b ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _20"> </span><span class="ffd fs1e fc2">struct<span class="_ _e"> </span>in_addr<span class="_ _1f"> </span>inaddr;<span class="_ _1a"> </span>/*<span class="_ _1f"> </span>Address<span class="_ _e"> </span>in<span class="_ _1f"> </span>network<span class="_ _e"> </span>byte<span class="_ _1f"> </span>order<span class="_ _1f"> </span>*/</span></div><div class="t m5 x2c h2d y7e7c ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _20"> </span><span class="ffd fs1e fc2">uint16_t<span class="_ _e"> </span>addr;<span class="_ _86"> </span>/*<span class="_ _1f"> </span>Address<span class="_ _1f"> </span>in<span class="_ _e"> </span>host<span class="_ _1f"> </span>byte<span class="_ _e"> </span>order<span class="_ _1f"> </span>*/</span></div><div class="t m5 x2c h2d y7e7d ff6 fs20 fc6 sc0 ls0 ws0">7<span class="_ _20"> </span><span class="ffd fs1e fc2">char<span class="_ _e"> </span>buf[MAXBUF];<span class="_ _2b"> </span>/*<span class="_ _e"> </span>Buffer<span class="_ _1f"> </span>for<span class="_ _1f"> </span>dotted-decimal<span class="_ _e"> </span>string<span class="_ _1f"> </span>*/</span></div><div class="t m5 x2c h2e y7e7e ff6 fs20 fc6 sc0 ls0 ws0">8</div><div class="t m5 x2c h2e y7e7f ff6 fs20 fc6 sc0 ls0 ws0">9</div><div class="t m5 x142 h2d y7e80 ffd fs1e fc2 sc0 ls0 ws0">if<span class="_ _e"> </span>(argc<span class="_ _1f"> </span>!=<span class="_ _1f"> </span>2)<span class="_ _e"> </span>{</div><div class="t m5 x17 h2e y7e81 ff6 fs20 fc6 sc0 ls0 ws0">10</div><div class="t m5 xc5 h2d y7e82 ffd fs1e fc2 sc0 ls0 ws0">fprintf(stderr,<span class="_ _e"> </span>&quot;usage:<span class="_ _1f"> </span>%s<span class="_ _1f"> </span>&lt;hex<span class="_ _e"> </span>number&gt;\n&quot;,<span class="_ _1f"> </span>argv[0]);</div><div class="t m5 x17 h2e y7e83 ff6 fs20 fc6 sc0 ls0 ws0">11</div><div class="t m5 xc5 h2d y7e84 ffd fs1e fc2 sc0 ls0 ws0">exit(0);</div><div class="t m5 x17 h2d y7e85 ff6 fs20 fc6 sc0 ls0 ws0">12<span class="_ _20"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x17 h2d y7e86 ff6 fs20 fc6 sc0 ls0 ws0">13<span class="_ _20"> </span><span class="ffd fs1e fc2">sscanf(argv[1],<span class="_ _e"> </span>&quot;%x&quot;,<span class="_ _1f"> </span>&amp;addr);</span></div><div class="t m5 x17 h2d y7e87 ff6 fs20 fc6 sc0 ls0 ws0">14<span class="_ _20"> </span><span class="ffd fs1e fc2">inaddr.s_addr<span class="_ _e"> </span>=<span class="_ _1f"> </span>htons(addr);</span></div><div class="t m5 x17 h2e y7e88 ff6 fs20 fc6 sc0 ls0 ws0">15</div><div class="t m5 x17 h2e y7e89 ff6 fs20 fc6 sc0 ls0 ws0">16</div><div class="t m5 x142 h2d y7e8a ffd fs1e fc2 sc0 ls0 ws0">if<span class="_ _e"> </span>(!inet_ntop(AF_INET,<span class="_ _1f"> </span>&amp;inaddr,<span class="_ _1f"> </span>buf,<span class="_ _e"> </span>MAXBUF))</div><div class="t m5 x17 h2d y1e6a ff6 fs20 fc6 sc0 ls0 ws0">17<span class="_ _70"> </span><span class="ffd fs1e fc2">unix_error(&quot;inet_ntop&quot;);</span></div><div class="t m5 x17 h2d y7e8b ff6 fs20 fc6 sc0 ls0 ws0">18<span class="_ _20"> </span><span class="ffd fs1e fc2">printf(&quot;%s\n&quot;,<span class="_ _e"> </span>buf);</span></div><div class="t m5 x17 h2e y7e8c ff6 fs20 fc6 sc0 ls0 ws0">19</div><div class="t m5 x17 h2e y7e8d ff6 fs20 fc6 sc0 ls0 ws0">20</div><div class="t m5 x142 h2d y1e71 ffd fs1e fc2 sc0 ls0 ws0">exit(0);</div><div class="t m5 x17 h2d y1e75 ff6 fs20 fc6 sc0 ls0 ws0">21<span class="_ _1c"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x205 h2c y7e8e ffa fs16 fc2 sc0 ls0 ws0">code/net/global-hex2dd.c</div><div class="t m5 x17 h28 y7e8f ffe fs1e fc6 sc0 ls0 ws0">Solution<span class="_"> </span>to<span class="_"> </span>Problem<span class="_"> </span>11.3<span class="_ _e"> </span><span class="fs16">(page<span class="_"> </span>963)</span></div><div class="t m5 xfb h2c y7e90 ffa fs16 fc1 sc0 ls0 ws0">code/netp/global-dd2hex.c</div><div class="t m5 x2c h2d y442 ff6 fs20 fc6 sc0 ls0 ws0">1<span class="_ _1c"> </span><span class="ffd fs1e fc2">#include<span class="_ _1f"> </span>&quot;csapp.h&quot;</span></div><div class="t m5 x2c h2e y19ba ff6 fs20 fc6 sc0 ls0 ws0">2</div><div class="t m5 x2c h2e y7e91 ff6 fs20 fc6 sc0 ls0 ws0">3</div><div class="t m5 x2d h2d y2455 ffd fs1e fc2 sc0 ls0 ws0">int<span class="_ _e"> </span>main(int<span class="_ _1f"> </span>argc,<span class="_ _1f"> </span>char<span class="_ _e"> </span>**argv)</div><div class="t m5 x2c h2d y24b ff6 fs20 fc6 sc0 ls0 ws0">4<span class="_ _1c"> </span><span class="ffd fs1e fc2">{</span></div><div class="t m5 x2c h2d y8fa ff6 fs20 fc6 sc0 ls0 ws0">5<span class="_ _20"> </span><span class="ffd fs1e fc2">struct<span class="_ _e"> </span>in_addr<span class="_ _1f"> </span>inaddr;<span class="_ _1a"> </span>/*<span class="_ _1f"> </span>Address<span class="_ _e"> </span>in<span class="_ _1f"> </span>network<span class="_ _e"> </span>byte<span class="_ _1f"> </span>order<span class="_ _1f"> </span>*/</span></div><div class="t m5 x2c h2d y5fe ff6 fs20 fc6 sc0 ls0 ws0">6<span class="_ _20"> </span><span class="ffd fs1e fc2">int<span class="_ _e"> </span>rc;</span></div><div class="t m5 x2c h2e y2594 ff6 fs20 fc6 sc0 ls0 ws0">7</div><div class="t m5 x2c h2e y32de ff6 fs20 fc6 sc0 ls0 ws0">8</div><div class="t m5 x142 h2d y74e ffd fs1e fc2 sc0 ls0 ws0">if<span class="_ _e"> </span>(argc<span class="_ _1f"> </span>!=<span class="_ _1f"> </span>2)<span class="_ _e"> </span>{</div><div class="t m5 x2c h2d yc21 ff6 fs20 fc6 sc0 ls0 ws0">9<span class="_ _70"> </span><span class="ffd fs1e fc2">fprintf(stderr,<span class="_ _e"> </span>&quot;usage:<span class="_ _1f"> </span>%s<span class="_ _1f"> </span>&lt;network<span class="_ _e"> </span>byte<span class="_ _1f"> </span>order&gt;\n&quot;,<span class="_ _e"> </span>argv[0]);</span></div><div class="t m5 x17 h2d y107b ff6 fs20 fc6 sc0 ls0 ws0">10<span class="_ _70"> </span><span class="ffd fs1e fc2">exit(0);</span></div><div class="t m5 x17 h2d y13c0 ff6 fs20 fc6 sc0 ls0 ws0">11<span class="_ _20"> </span><span class="ffd fs1e fc2">}</span></div><div class="t m5 x17 h2e y587 ff6 fs20 fc6 sc0 ls0 ws0">12</div><div class="t m5 x17 h2e y5f68 ff6 fs20 fc6 sc0 ls0 ws0">13</div><div class="t m5 x142 h2d y8d6 ffd fs1e fc2 sc0 ls0 ws0">rc<span class="_ _e"> </span>=<span class="_ _1f"> </span>inet_pton(AF_INET,<span class="_ _1f"> </span>argv[1],<span class="_ _e"> </span>&amp;inaddr);</div><div class="t m5 x17 h2d y77e ff6 fs20 fc6 sc0 ls0 ws0">14<span class="_ _20"> </span><span class="ffd fs1e fc2">if<span class="_ _e"> </span>(rc<span class="_ _1f"> </span>==<span class="_ _1f"> </span>0)</span></div><div class="t m5 x17 h2d ye95 ff6 fs20 fc6 sc0 ls0 ws0">15<span class="_ _70"> </span><span class="ffd fs1e fc2">app_error(&quot;inet_pton<span class="_ _e"> </span>error:<span class="_ _1f"> </span>invalid<span class="_ _1f"> </span>network<span class="_ _e"> </span>byte<span class="_ _1f"> </span>order&quot;);</span></div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
