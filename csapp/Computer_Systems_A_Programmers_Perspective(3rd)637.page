<div id="pf27d" class="pf w2 h11" data-page-no="27d"><div class="pc pc27d w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg27d.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">636<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>6<span class="_ _3d"> </span>The<span class="_ _10"> </span>Memory<span class="_ _10"> </span>Hierarchy</span></div><div class="t m5 x28 h2a y257 fff fs1c fc2 sc0 ls0 ws0">Aside<span class="_ _1b"> </span><span class="ff6 fs19">Characteristics<span class="_ _11"> </span>of<span class="_ _11"> </span>a<span class="_ _11"> </span>commercial<span class="_ _11"> </span>disk<span class="_ _11"> </span>drive</span></div><div class="t m5 x28 h2b y258 ff7 fs1e fc2 sc0 ls0 ws0">Disk<span class="_ _14"> </span>manufacturers<span class="_ _16"> </span>publish<span class="_ _14"> </span>a<span class="_ _14"> </span>lot<span class="_ _14"> </span>of<span class="_ _14"> </span>useful<span class="_ _14"> </span>high-level<span class="_ _14"> </span>technical<span class="_ _14"> </span>information<span class="_ _14"> </span>on<span class="_ _14"> </span>their<span class="_ _14"> </span>W<span class="_ _3"></span>eb<span class="_ _14"> </span>sites<span class="_ _1"></span>.<span class="_ _14"> </span>F<span class="_ _1"></span>or</div><div class="t m5 x28 h2b y259 ff7 fs1e fc2 sc0 ls0 ws0">example<span class="_ _1"></span>,<span class="_ _15"> </span>the<span class="_ _14"> </span>Seagate<span class="_ _14"> </span>W<span class="_ _3"></span>eb<span class="_ _14"> </span>site<span class="_ _14"> </span>contains<span class="_ _14"> </span>the<span class="_ _16"> </span>following<span class="_ _14"> </span>information<span class="_ _14"> </span>(and<span class="_ _14"> </span>much<span class="_ _14"> </span>more!)<span class="_ _14"> </span>about<span class="_ _16"> </span>one<span class="_ _14"> </span>of</div><div class="t m5 x28 h2b y25a ff7 fs1e fc2 sc0 ls0 ws0">their<span class="_"> </span>popular<span class="_"> </span>drives<span class="_ _1"></span>,<span class="_"> </span>the<span class="_"> </span>Barracuda<span class="_"> </span>7400.<span class="_ _3b"> </span>(Seagate<span class="_ _1"></span>.com)</div><div class="t m5 x28 h31 y550e ff7 fs21 fc2 sc0 ls0 ws0">Geometry<span class="_"> </span>characteristic<span class="_ _26"> </span>V<span class="_ _7"></span>alue<span class="_ _90"> </span>Geometry<span class="_"> </span>characteristic<span class="_ _31"> </span>V<span class="_ _3"></span>alue</div><div class="t m5 x28 h31 y550f ff7 fs21 fc2 sc0 ls0 ws0">Surface<span class="_"> </span>diameter<span class="_ _55"> </span>3.5<span class="_"> </span>in<span class="_ _158"> </span>Rotational<span class="_"> </span>rate<span class="_ _1b0"> </span>7,200<span class="_"> </span>RPM</div><div class="t m5 x28 h31 y5510 ff7 fs21 fc2 sc0 ls0 ws0">F<span class="_ _1"></span>ormatted<span class="_"> </span>capacity<span class="_ _d0"> </span>3<span class="_"> </span>TB<span class="_ _e4"> </span>A<span class="_ _1"></span>verage<span class="_"> </span>rotational<span class="_"> </span>latency<span class="_ _1b4"> </span>4.16<span class="_"> </span>ms</div><div class="t m5 x28 h31 y5511 ff7 fs21 fc2 sc0 ls0 ws0">Platters<span class="_ _10a"> </span>3<span class="_ _10a"> </span>A<span class="_ _1"></span>verage<span class="_"> </span>seek<span class="_"> </span>time<span class="_ _175"> </span>8.5<span class="_"> </span>ms</div><div class="t m5 x28 h31 y5512 ff7 fs21 fc2 sc0 ls0 ws0">Surfaces<span class="_ _cf"> </span>6<span class="_ _15a"> </span>T<span class="_ _7"></span>rack-to-track<span class="_"> </span>seek<span class="_"> </span>time<span class="_ _18b"> </span>1.0<span class="_"> </span>ms</div><div class="t m5 x28 h31 y5513 ff7 fs21 fc2 sc0 ls0 ws0">Logical<span class="_"> </span>blocks<span class="_ _2f"> </span>5,860,533,168<span class="_ _7e"> </span>A<span class="_ _3"></span>verage<span class="_"> </span>transfer<span class="_"> </span>rate<span class="_ _da"> </span>156<span class="_"> </span>MB/s</div><div class="t m5 x28 h31 y5514 ff7 fs21 fc2 sc0 ls0 ws0">Logical<span class="_"> </span>block<span class="_"> </span>size<span class="_ _77"> </span>512<span class="_"> </span>bytes<span class="_ _110"> </span>Maximum<span class="_"> </span>sustained<span class="_"> </span>transfer<span class="_"> </span>rate<span class="_ _26"> </span>210<span class="_"> </span>MB/s</div><div class="t m5 x14 h2f y5515 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>6.13</div><div class="t m5 x14 h2f y5516 ffe fs16 fc1 sc0 ls0 ws0">Solid<span class="_"> </span>state<span class="_"> </span>disk<span class="_"> </span>(SSD).</div><div class="t m5 x50 h84 y5517 ff7a fs49 fc1 sc0 ls0 ws0">Page 0<span class="_ _1a"> </span>Page 1</div><div class="t m5 x88 h84 y5518 ff7a fs49 fc1 sc0 ls0 ws0">. . .<span class="_ _156"> </span>. . .</div><div class="t m5 xd5 h84 y5517 ff7a fs49 fc1 sc0 ls0 ws0">Page P-1</div><div class="t m5 x218 h84 y5519 ff7a fs49 fc1 sc0 ls0 ws0">Block 0</div><div class="t m5 x195 h84 y5517 ff7a fs49 fc1 sc0 ls0 ws0">Page 0<span class="_ _1a"> </span>Page 1</div><div class="t m5 x158 h84 y5518 ff7a fs49 fc1 sc0 ls0 ws0">. . .</div><div class="t m5 x104 h84 y5517 ff7a fs49 fc1 sc0 ls0 ws0">Page P-1</div><div class="t m5 x18b h84 y5519 ff7a fs49 fc1 sc0 ls0 ws0">Block B-1</div><div class="t m5 x1c6 h84 y551a ff7a fs49 fc1 sc0 ls0 ws0">Flash memory</div><div class="t m5 xe0 h84 y551b ff7a fs49 fc1 sc0 ls0 ws0">Solid state disk (SSD)</div><div class="t m5 x131 h84 y551c ff7a fs49 fc1 sc0 ls0 ws0">I/O bus</div><div class="t m5 x7d h84 y551d ff7a fs49 fc1 sc0 ls0 ws0">Flash</div><div class="t m5 x114 h84 y551e ff7a fs49 fc1 sc0 ls0 ws0">translation layer</div><div class="t m5 x19c he2 y551f ff7b fs49 fc1 sc0 ls0 ws0">Requests to read and</div><div class="t m5 x19c he2 y5520 ff7b fs49 fc1 sc0 ls0 ws0">write logical disk blocks</div><div class="t m5 x1d h41 ycc5 ffe fs29 fc1 sc0 ls0 ws0">6.1.3<span class="_ _48"> </span><span class="fs19">Solid<span class="_"> </span>State<span class="_"> </span>Disks</span></div><div class="t m5 x1d h26 y363 ff7 fs19 fc1 sc0 ls0 ws0">A<span class="_ _14"> </span>solid<span class="_ _14"> </span>state<span class="_ _15"> </span>disk<span class="_ _14"> </span>(SSD)<span class="_ _14"> </span>is<span class="_ _14"> </span>a<span class="_ _15"> </span>storage<span class="_ _14"> </span>technology<span class="_ _3"></span>,<span class="_ _15"> </span>based<span class="_ _14"> </span>on<span class="_ _15"> </span>ﬂash<span class="_ _14"> </span>memory<span class="_ _14"> </span>(Sec-</div><div class="t m5 x1d h26 y364 ff7 fs19 fc1 sc0 ls0 ws0">tion<span class="_"> </span>6.1.1),<span class="_"> </span>that<span class="_"> </span>in<span class="_"> </span>some<span class="_"> </span>situations<span class="_"> </span>is<span class="_ _11"> </span>an<span class="_"> </span>attractive<span class="_"> </span>alternative<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>conventional</div><div class="t m5 x1d h26 y365 ff7 fs19 fc1 sc0 ls0 ws0">rotating<span class="_ _13"> </span>disk.<span class="_"> </span>F<span class="_ _1"></span>igure<span class="_ _13"> </span>6.13<span class="_"> </span>shows<span class="_ _13"> </span>the<span class="_ _13"> </span>basic<span class="_"> </span>idea.<span class="_ _13"> </span>An<span class="_ _13"> </span>SSD<span class="_"> </span>package<span class="_ _13"> </span>plugs<span class="_ _13"> </span>into<span class="_"> </span>a<span class="_ _13"> </span>stan-</div><div class="t m5 x1d h26 y366 ff7 fs19 fc1 sc0 ls0 ws0">dard<span class="_ _13"> </span>disk<span class="_ _13"> </span>slot<span class="_ _13"> </span>on<span class="_ _13"> </span>the<span class="_"> </span>I/O<span class="_ _13"> </span>bus<span class="_ _13"> </span>(typically<span class="_ _13"> </span>USB<span class="_ _13"> </span>or<span class="_ _13"> </span>SA<span class="_ _3"></span>T<span class="_ _1"></span>A)<span class="_ _13"> </span>and<span class="_ _13"> </span>behaves<span class="_"> </span>like<span class="_ _13"> </span>any<span class="_ _13"> </span>other</div><div class="t m5 x1d h26 y367 ff7 fs19 fc1 sc0 ls0 ws0">disk,<span class="_"> </span>processing<span class="_"> </span>requests<span class="_"> </span>from<span class="_"> </span>the<span class="_"> </span>CPU<span class="_"> </span>to<span class="_"> </span>read<span class="_"> </span>and<span class="_ _11"> </span>write<span class="_"> </span>logical<span class="_"> </span>disk<span class="_"> </span>blocks<span class="_ _1"></span>.<span class="_"> </span>An</div><div class="t m5 x1d h26 y368 ff7 fs19 fc1 sc0 ls0 ws0">SSD<span class="_"> </span>package<span class="_ _11"> </span>consists<span class="_"> </span>of<span class="_ _11"> </span>one<span class="_"> </span>or<span class="_ _11"> </span>more<span class="_"> </span>ﬂash<span class="_ _11"> </span>memory<span class="_"> </span>chips<span class="_ _1"></span>,<span class="_ _11"> </span>which<span class="_ _11"> </span>replace<span class="_"> </span>the<span class="_ _11"> </span>me-</div><div class="t m5 x1d h26 y369 ff7 fs19 fc1 sc0 ls0 ws0">chanical<span class="_"> </span>drive<span class="_"> </span>in<span class="_"> </span>a<span class="_"> </span>conventional<span class="_"> </span>rotating<span class="_"> </span>disk,<span class="_"> </span>and<span class="_"> </span>a<span class="_"> </span><span class="ffa">ﬂash<span class="_"> </span>translation<span class="_"> </span>la<span class="_ _0"></span>yer<span class="_ _2"></span><span class="ff7">,<span class="_"> </span>which</span></span></div><div class="t m5 x1d h26 y36a ff7 fs19 fc1 sc0 ls0 ws0">is<span class="_"> </span>a<span class="_"> </span>hardware/ﬁrmware<span class="_ _13"> </span>device<span class="_"> </span>that<span class="_"> </span>plays<span class="_"> </span>the<span class="_"> </span>same<span class="_ _13"> </span>role<span class="_"> </span>as<span class="_"> </span>a<span class="_"> </span>disk<span class="_"> </span>controller<span class="_ _1"></span>,<span class="_"> </span>trans-</div><div class="t m5 x1d h26 y36b ff7 fs19 fc1 sc0 ls0 ws0">lating<span class="_"> </span>requests<span class="_"> </span>for<span class="_"> </span>logical<span class="_"> </span>blocks<span class="_"> </span>into<span class="_"> </span>accesses<span class="_"> </span>of<span class="_"> </span>the<span class="_"> </span>underlying<span class="_"> </span>physical<span class="_"> </span>device<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y36c ff7 fs19 fc1 sc0 ls0 ws0">F<span class="_ _1"></span>igure<span class="_ _13"> </span>6.14<span class="_ _a"> </span>shows<span class="_ _6"> </span>the<span class="_ _6"> </span>performance<span class="_ _13"> </span>characteristics<span class="_ _a"> </span>of<span class="_ _6"> </span>a<span class="_ _6"> </span>typical<span class="_ _6"> </span>SSD<span class="_ _1"></span>.<span class="_ _6"> </span>Notice<span class="_ _6"> </span>that</div><div class="t m5 x1d h26 y36d ff7 fs19 fc1 sc0 ls0 ws0">reading<span class="_ _13"> </span>from<span class="_ _13"> </span>SSDs<span class="_"> </span>is<span class="_ _13"> </span>faster<span class="_ _13"> </span>than<span class="_ _13"> </span>writing.<span class="_ _13"> </span>T<span class="_ _0"></span>he<span class="_ _13"> </span>difference<span class="_ _13"> </span>between<span class="_"> </span>random<span class="_ _13"> </span>reading</div><div class="t m5 x1d h26 y36e ff7 fs19 fc1 sc0 ls0 ws0">and<span class="_ _11"> </span>writing<span class="_ _16"> </span>performance<span class="_ _11"> </span>is<span class="_ _11"> </span>caused<span class="_ _11"> </span>by<span class="_ _16"> </span>a<span class="_ _11"> </span>fundamental<span class="_ _11"> </span>property<span class="_ _16"> </span>of<span class="_ _11"> </span>the<span class="_ _11"> </span>underlying</div><div class="t m5 x1d h26 y36f ff7 fs19 fc1 sc0 ls0 ws0">ﬂash<span class="_ _13"> </span>memory<span class="_ _7"></span>.<span class="_ _13"> </span>As<span class="_ _13"> </span>shown<span class="_ _13"> </span>in<span class="_ _13"> </span>F<span class="_ _1"></span>igure<span class="_ _13"> </span>6.13,<span class="_ _13"> </span>a<span class="_ _13"> </span>ﬂash<span class="_ _13"> </span>memory<span class="_ _13"> </span>consists<span class="_ _13"> </span>of<span class="_ _13"> </span>a<span class="_ _13"> </span>sequence<span class="_ _13"> </span>of<span class="_ _6"> </span><span class="ff11">B</span></div><div class="t m5 x1d h26 y370 ffa fs19 fc1 sc0 ls0 ws0">blocks<span class="ff7">,<span class="_ _6"> </span>where<span class="_ _13"> </span>each<span class="_ _a"> </span>block<span class="_ _13"> </span>consists<span class="_ _6"> </span>of<span class="_ _6"> </span><span class="ff11">P<span class="_"> </span></span>pages<span class="_ _1"></span>.<span class="_ _6"> </span>T<span class="_ _7"></span>ypically<span class="_ _3"></span>,<span class="_ _13"> </span>pages<span class="_ _6"> </span>are<span class="_ _13"> </span>512<span class="_ _a"> </span>bytes<span class="_ _13"> </span>to<span class="_ _a"> </span>4<span class="_ _13"> </span>KB</span></div><div class="t m5 x1d h26 y371 ff7 fs19 fc1 sc0 ls0 ws0">in<span class="_ _13"> </span>size<span class="_ _0"></span>,<span class="_ _13"> </span>and<span class="_ _13"> </span>a<span class="_"> </span>block<span class="_ _13"> </span>consists<span class="_ _13"> </span>of<span class="_ _13"> </span>32–128<span class="_ _13"> </span>pages<span class="_ _1"></span>,<span class="_ _13"> </span>with<span class="_ _13"> </span>total<span class="_"> </span>block<span class="_ _13"> </span>sizes<span class="_ _13"> </span>ranging<span class="_ _13"> </span>from<span class="_ _13"> </span>16</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
