<div id="pf3d" class="pf w2 h11" data-page-no="3d"><div class="pc pc3d w2 h11"><img class="bi x0 y0 w1 h1" alt="" src="csapp/bg3d.png"/><div class="t m5 x14 h28 y9b ffe fs1e fc2 sc0 ls0 ws0">60<span class="_ _1b"> </span><span class="ff6 fs1f">Chapter<span class="_ _10"> </span>1<span class="_ _3d"> </span>A<span class="_ _10"> </span>T<span class="_ _3"></span>our<span class="_ _10"> </span>of<span class="_ _10"> </span>Computer<span class="_ _10"> </span>Systems</span></div><div class="t m5 x1d h26 ye7 ff7 fs19 fc2 sc0 ls0 ws0">of<span class="_ _11"> </span>computers<span class="_ _1"></span>,<span class="_ _11"> </span>where<span class="_ _11"> </span>we<span class="_ _11"> </span>routinely<span class="_ _11"> </span>improve<span class="_ _11"> </span>performance<span class="_ _11"> </span>by<span class="_ _11"> </span>factors<span class="_ _11"> </span>of<span class="_ _11"> </span>2<span class="_ _11"> </span>or<span class="_ _11"> </span>more.</div><div class="t m5 x1d h26 y2a7 ff7 fs19 fc2 sc0 ls0 ws0">Such<span class="_"> </span>high<span class="_"> </span>factors<span class="_"> </span>can<span class="_"> </span>only<span class="_"> </span>be<span class="_"> </span>achieved<span class="_"> </span>by<span class="_"> </span>optimizing<span class="_"> </span>large<span class="_"> </span>parts<span class="_"> </span>of<span class="_"> </span>a<span class="_"> </span>system.</div><div class="t m5 x1d h41 y863 ffe fs29 fc2 sc0 ls0 ws0">1.9.2<span class="_ _48"> </span><span class="fs19">Concurrency<span class="_"> </span>and<span class="_"> </span>Parallelism</span></div><div class="t m5 x1d h26 y864 ff7 fs19 fc2 sc0 ls0 ws0">T<span class="_ _1"></span>hroughout<span class="_ _14"> </span>the<span class="_ _15"> </span>history<span class="_ _14"> </span>of<span class="_ _14"> </span>digital<span class="_ _14"> </span>computers<span class="_ _1"></span>,<span class="_ _15"> </span>two<span class="_ _14"> </span>demands<span class="_ _15"> </span>have<span class="_ _14"> </span>been<span class="_ _14"> </span>constant</div><div class="t m5 x1d h26 y865 ff7 fs19 fc2 sc0 ls0 ws0">forces<span class="_"> </span>in<span class="_ _11"> </span>driving<span class="_"> </span>improvements:<span class="_ _11"> </span>we<span class="_ _11"> </span>want<span class="_"> </span>them<span class="_ _11"> </span>to<span class="_"> </span>do<span class="_ _11"> </span>more,<span class="_"> </span>and<span class="_"> </span>we<span class="_ _11"> </span>want<span class="_"> </span>them<span class="_ _11"> </span>to</div><div class="t m5 x1d h26 y866 ff7 fs19 fc2 sc0 ls0 ws0">run<span class="_"> </span>faster<span class="_ _0"></span>.<span class="_"> </span>Both<span class="_"> </span>of<span class="_ _13"> </span>these<span class="_"> </span>factors<span class="_"> </span>improve<span class="_"> </span>when<span class="_"> </span>the<span class="_ _13"> </span>processor<span class="_"> </span>does<span class="_"> </span>more<span class="_"> </span>things<span class="_"> </span>at</div><div class="t m5 x1d h26 y867 ff7 fs19 fc2 sc0 ls0 ws0">once<span class="_ _1"></span>.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>use<span class="_ _13"> </span>the<span class="_ _13"> </span>term<span class="_ _13"> </span><span class="ffa">concurrency<span class="_ _6"> </span></span>to<span class="_ _13"> </span>refer<span class="_ _13"> </span>to<span class="_ _6"> </span>the<span class="_ _13"> </span>general<span class="_ _13"> </span>concept<span class="_ _13"> </span>of<span class="_ _13"> </span>a<span class="_ _6"> </span>system<span class="_ _13"> </span>with</div><div class="t m5 x1d h26 y868 ff7 fs19 fc2 sc0 ls0 ws0">multiple<span class="_ _1"></span>,<span class="_ _14"> </span>simultaneous<span class="_ _16"> </span>activities<span class="_ _1"></span>,<span class="_ _14"> </span>and<span class="_ _16"> </span>the<span class="_ _16"> </span>term<span class="_ _16"> </span><span class="ffa">parallelism<span class="_ _16"> </span></span>to<span class="_ _16"> </span>refer<span class="_ _16"> </span>to<span class="_ _16"> </span>the<span class="_ _16"> </span>use<span class="_ _16"> </span>of</div><div class="t m5 x1d h26 y869 ff7 fs19 fc2 sc0 ls0 ws0">concurrency<span class="_ _13"> </span>to<span class="_"> </span>make<span class="_ _13"> </span>a<span class="_"> </span>system<span class="_ _13"> </span>run<span class="_"> </span>faster<span class="_ _1"></span>.<span class="_"> </span>Parallelism<span class="_ _13"> </span>can<span class="_"> </span>be<span class="_ _13"> </span>exploited<span class="_"> </span>at<span class="_ _13"> </span>multiple</div><div class="t m5 x1d h26 y86a ff7 fs19 fc2 sc0 ls0 ws0">levels<span class="_ _13"> </span>of<span class="_ _6"> </span>abstraction<span class="_ _13"> </span>in<span class="_ _13"> </span>a<span class="_ _6"> </span>computer<span class="_ _13"> </span>system.<span class="_ _13"> </span>W<span class="_ _3"></span>e<span class="_ _13"> </span>highlight<span class="_ _13"> </span>three<span class="_ _6"> </span>levels<span class="_ _13"> </span>here<span class="_ _1"></span>,<span class="_ _13"> </span>working</div><div class="t m5 x1d h26 y86b ff7 fs19 fc2 sc0 ls0 ws0">from<span class="_"> </span>the<span class="_"> </span>highest<span class="_"> </span>to<span class="_"> </span>the<span class="_"> </span>lowest<span class="_"> </span>level<span class="_"> </span>in<span class="_"> </span>the<span class="_"> </span>system<span class="_"> </span>hierarchy<span class="_ _3"></span>.</div><div class="t m5 x1d h42 y86c ff6 fs29 fc6 sc0 ls0 ws0">Thread-Level<span class="_ _11"> </span>Concurrency</div><div class="t m5 x1d h26 y86d ff7 fs19 fc1 sc0 ls0 ws0">Building<span class="_ _13"> </span>on<span class="_"> </span>the<span class="_ _13"> </span>process<span class="_ _13"> </span>abstraction,<span class="_"> </span>we<span class="_ _13"> </span>are<span class="_ _13"> </span>able<span class="_"> </span>to<span class="_ _13"> </span>devise<span class="_ _13"> </span>systems<span class="_"> </span>where<span class="_ _13"> </span>multiple</div><div class="t m5 x1d h26 y86e ff7 fs19 fc1 sc0 ls0 ws0">programs<span class="_ _15"> </span>execute<span class="_ _21"> </span>at<span class="_ _21"> </span>the<span class="_ _21"> </span>same<span class="_ _15"> </span>time,<span class="_ _21"> </span>leading<span class="_ _21"> </span>to<span class="_ _21"> </span><span class="ffa">concurrency</span>.<span class="_ _15"> </span>With<span class="_ _15"> </span>threads<span class="_ _1"></span>,<span class="_ _f"> </span>we</div><div class="t m5 x1d h26 y86f ff7 fs19 fc1 sc0 ls0 ws0">can<span class="_ _16"> </span>even<span class="_ _16"> </span>have<span class="_ _16"> </span>multiple<span class="_ _16"> </span>control<span class="_ _11"> </span>ﬂows<span class="_ _16"> </span>executing<span class="_ _16"> </span>within<span class="_ _16"> </span>a<span class="_ _16"> </span>single<span class="_ _16"> </span>process<span class="_ _1"></span>.<span class="_ _16"> </span>Support</div><div class="t m5 x1d h26 y870 ff7 fs19 fc1 sc0 ls0 ws0">for<span class="_ _16"> </span>concurrent<span class="_ _14"> </span>execution<span class="_ _16"> </span>has<span class="_ _14"> </span>been<span class="_ _16"> </span>found<span class="_ _14"> </span>in<span class="_ _16"> </span>computer<span class="_ _14"> </span>systems<span class="_ _16"> </span>since<span class="_ _14"> </span>the<span class="_ _16"> </span>advent</div><div class="t m5 x1d h26 y871 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _14"> </span>time-sharing<span class="_ _15"> </span>in<span class="_ _14"> </span>the<span class="_ _15"> </span>early<span class="_ _15"> </span>1960s<span class="_ _1"></span>.<span class="_ _14"> </span>T<span class="_ _3"></span>raditionally<span class="_ _3"></span>,<span class="_ _15"> </span>this<span class="_ _15"> </span>concurrent<span class="_ _14"> </span>execution<span class="_ _15"> </span>was</div><div class="t m5 x1d h26 y872 ff7 fs19 fc1 sc0 ls0 ws0">only<span class="_ _16"> </span><span class="ffa">simulated<span class="_ _2"></span></span>,<span class="_ _16"> </span>by<span class="_ _16"> </span>having<span class="_ _16"> </span>a<span class="_ _16"> </span>single<span class="_ _16"> </span>computer<span class="_ _16"> </span>rapidly<span class="_ _14"> </span>switch<span class="_ _16"> </span>among<span class="_ _16"> </span>its<span class="_ _16"> </span>executing</div><div class="t m5 x1d h26 y873 ff7 fs19 fc1 sc0 ls0 ws0">processes<span class="_ _1"></span>,<span class="_"> </span>much<span class="_ _13"> </span>as<span class="_"> </span>a<span class="_"> </span>juggler<span class="_ _13"> </span>keeps<span class="_"> </span>multiple<span class="_"> </span>balls<span class="_ _13"> </span>ﬂying<span class="_"> </span>through<span class="_"> </span>the<span class="_ _13"> </span>air.<span class="_ _13"> </span>This<span class="_ _13"> </span>form</div><div class="t m5 x1d h26 y874 ff7 fs19 fc1 sc0 ls0 ws0">of<span class="_ _11"> </span>concurrency<span class="_ _16"> </span>allows<span class="_ _11"> </span>multiple<span class="_ _16"> </span>users<span class="_ _11"> </span>to<span class="_ _16"> </span>interact<span class="_ _11"> </span>with<span class="_ _16"> </span>a<span class="_ _11"> </span>system<span class="_ _16"> </span>at<span class="_ _16"> </span>the<span class="_ _11"> </span>same<span class="_ _16"> </span>time<span class="_ _1"></span>,</div><div class="t m5 x1d h26 y875 ff7 fs19 fc1 sc0 ls0 ws0">such<span class="_ _16"> </span>as<span class="_ _14"> </span>when<span class="_ _14"> </span>many<span class="_ _14"> </span>people<span class="_ _14"> </span>want<span class="_ _16"> </span>to<span class="_ _14"> </span>get<span class="_ _14"> </span>pages<span class="_ _14"> </span>from<span class="_ _14"> </span>a<span class="_ _16"> </span>single<span class="_ _14"> </span>W<span class="_ _1"></span>eb<span class="_ _14"> </span>server.<span class="_ _16"> </span>It<span class="_ _14"> </span>also</div><div class="t m5 x1d h26 y876 ff7 fs19 fc1 sc0 ls0 ws0">allows<span class="_ _14"> </span>a<span class="_ _15"> </span>single<span class="_ _15"> </span>user<span class="_ _15"> </span>to<span class="_ _14"> </span>engage<span class="_ _15"> </span>in<span class="_ _15"> </span>multiple<span class="_ _15"> </span>tasks<span class="_ _14"> </span>concurrently<span class="_ _3"></span>,<span class="_ _21"> </span>such<span class="_ _15"> </span>as<span class="_ _15"> </span>having<span class="_ _14"> </span>a</div><div class="t m5 x1d h26 y877 ff7 fs19 fc1 sc0 ls0 ws0">W<span class="_ _3"></span>eb<span class="_ _16"> </span>browser<span class="_ _11"> </span>in<span class="_ _16"> </span>one<span class="_ _11"> </span>window<span class="_ _3"></span>,<span class="_ _16"> </span>a<span class="_ _16"> </span>word<span class="_ _11"> </span>processor<span class="_ _16"> </span>in<span class="_ _11"> </span>another,<span class="_ _16"> </span>and<span class="_ _11"> </span>streaming<span class="_ _16"> </span>music</div><div class="t m5 x1d h26 y878 ff7 fs19 fc1 sc0 ls0 ws0">playing<span class="_ _16"> </span>at<span class="_ _14"> </span>the<span class="_ _14"> </span>same<span class="_ _14"> </span>time<span class="_ _0"></span>.<span class="_ _16"> </span>Until<span class="_ _14"> </span>recently<span class="_ _3"></span>,<span class="_ _15"> </span>most<span class="_ _16"> </span>actual<span class="_ _14"> </span>computing<span class="_ _14"> </span>was<span class="_ _14"> </span>done<span class="_ _14"> </span>by<span class="_ _16"> </span>a</div><div class="t m5 x1d h26 y879 ff7 fs19 fc1 sc0 ls0 ws0">single<span class="_ _11"> </span>processor,<span class="_"> </span>even<span class="_ _11"> </span>if<span class="_ _16"> </span>that<span class="_"> </span>processor<span class="_ _11"> </span>had<span class="_ _11"> </span>to<span class="_ _11"> </span>switch<span class="_ _16"> </span>among<span class="_"> </span>multiple<span class="_ _11"> </span>tasks<span class="_ _1"></span>.<span class="_ _16"> </span>T<span class="_ _1"></span>his</div><div class="t m5 x1d h26 y87a ff7 fs19 fc1 sc0 ls0 ws0">conﬁguration<span class="_"> </span>is<span class="_"> </span>known<span class="_"> </span>as<span class="_"> </span>a<span class="_"> </span><span class="ffa">uniprocessor<span class="_"> </span>system.</span></div><div class="t m5 x29 h26 y87b ff7 fs19 fc1 sc0 ls0 ws0">When<span class="_ _11"> </span>we<span class="_ _16"> </span>construct<span class="_ _16"> </span>a<span class="_ _16"> </span>system<span class="_ _16"> </span>consisting<span class="_ _11"> </span>of<span class="_ _16"> </span>multiple<span class="_ _16"> </span>processors<span class="_ _16"> </span>all<span class="_ _16"> </span>under<span class="_ _16"> </span>the</div><div class="t m5 x1d h26 y87c ff7 fs19 fc1 sc0 ls0 ws0">control<span class="_ _21"> </span>of<span class="_ _21"> </span>a<span class="_ _21"> </span>single<span class="_ _21"> </span>operating<span class="_ _21"> </span>system<span class="_ _21"> </span>kernel,<span class="_ _e"> </span>we<span class="_ _15"> </span>have<span class="_ _21"> </span>a<span class="_ _21"> </span><span class="ffa">multiprocessor<span class="_ _21"> </span>system</span>.</div><div class="t m5 x1d h26 y87d ff7 fs19 fc1 sc0 ls0 ws0">Such<span class="_ _11"> </span>systems<span class="_ _16"> </span>have<span class="_ _11"> </span>been<span class="_ _11"> </span>available<span class="_ _16"> </span>for<span class="_ _11"> </span>large-scale<span class="_ _16"> </span>computing<span class="_ _11"> </span>since<span class="_ _11"> </span>the<span class="_ _16"> </span>1980s<span class="_ _3"></span>,<span class="_ _16"> </span>but</div><div class="t m5 x1d h26 y87e ff7 fs19 fc1 sc0 ls0 ws0">they<span class="_ _21"> </span>have<span class="_ _f"> </span>more<span class="_ _21"> </span>recently<span class="_ _f"> </span>become<span class="_ _21"> </span>commonplace<span class="_ _f"> </span>with<span class="_ _21"> </span>the<span class="_ _f"> </span>advent<span class="_ _21"> </span>of<span class="_ _f"> </span><span class="ffa">multi-core</span></div><div class="t m5 x1d h26 y87f ff7 fs19 fc1 sc0 ls0 ws0">processors<span class="_ _11"> </span>and<span class="_ _16"> </span><span class="ffa">hyperthreading</span>.<span class="_ _16"> </span>F<span class="_ _1"></span>igure<span class="_ _16"> </span>1.16<span class="_ _11"> </span>shows<span class="_ _11"> </span>a<span class="_ _16"> </span>taxonomy<span class="_ _11"> </span>of<span class="_ _16"> </span>these<span class="_ _11"> </span>different</div><div class="t m5 x1d h26 y880 ff7 fs19 fc1 sc0 ls0 ws0">processor<span class="_"> </span>types<span class="_ _1"></span>.</div><div class="t m5 x29 h26 y881 ff7 fs19 fc1 sc0 ls0 ws0">Multi-core<span class="_"> </span>processors<span class="_"> </span>have<span class="_ _11"> </span>several<span class="_"> </span>CPUs<span class="_"> </span>(referred<span class="_ _11"> </span>to<span class="_"> </span>as<span class="_"> </span>“cores”)<span class="_ _11"> </span>integrated</div><div class="t m5 x1d h26 y882 ff7 fs19 fc1 sc0 ls0 ws0">onto<span class="_ _11"> </span>a<span class="_ _16"> </span>single<span class="_ _11"> </span>integrated-circuit<span class="_ _16"> </span>chip<span class="_ _1"></span>.<span class="_ _16"> </span>F<span class="_ _1"></span>igure<span class="_ _16"> </span>1.17<span class="_ _11"> </span>illustrates<span class="_ _16"> </span>the<span class="_ _11"> </span>organization<span class="_ _16"> </span>of<span class="_ _11"> </span>a</div><div class="t m5 x14 h2f y883 ffe fs16 fc6 sc0 ls0 ws0">Figure<span class="_"> </span>1.16</div><div class="t m5 x14 h2f y884 ffe fs16 fc1 sc0 ls0 ws0">Categorizing<span class="_ _16"> </span>different</div><div class="t m5 x14 h2f y885 ffe fs16 fc1 sc0 ls0 ws0">processor<span class="_"> </span>conﬁgurations.</div><div class="t m5 x14 h34 y886 ff6 fs16 fc1 sc0 ls0 ws0">Multiprocessors<span class="_ _15"> </span>are</div><div class="t m5 x14 h34 y887 ff6 fs16 fc1 sc0 ls0 ws0">becoming<span class="_ _15"> </span>prevalent</div><div class="t m5 x14 h34 y888 ff6 fs16 fc1 sc0 ls0 ws0">with<span class="_ _11"> </span>the<span class="_ _16"> </span>advent<span class="_ _11"> </span>of<span class="_ _11"> </span>multi-</div><div class="t m5 x14 h34 y889 ff6 fs16 fc1 sc0 ls0 ws0">core<span class="_ _15"> </span>processors<span class="_ _15"> </span>and</div><div class="t m5 x14 h34 y88a ff6 fs16 fc1 sc0 ls0 ws0">hyperthreading.</div><div class="t m5 x78 h4c y88b ff15 fs2d fc1 sc0 ls0 ws0">All processors</div><div class="t m5 x112 h4c y88c ff15 fs2d fc1 sc0 ls0 ws0">Uniprocessors</div><div class="t m5 x113 h4c y88d ff15 fs2d fc1 sc0 ls0 ws0">Multiprocessors</div><div class="t m5 xd3 h4c y88e ff15 fs2d fc1 sc0 ls0 ws0">Multi-</div><div class="t m5 x113 h4c y88f ff15 fs2d fc1 sc0 ls0 ws0">core</div><div class="t m5 x40 h4c y88e ff15 fs2d fc1 sc0 ls0 ws0">Hyper-</div><div class="t m5 x114 h4c y88f ff15 fs2d fc1 sc0 ls0 ws0">threaded</div></div><div class="pi" data-data='{"ctm":[2.000000,0.000000,0.000000,2.000000,0.000000,0.000000]}'></div></div>
