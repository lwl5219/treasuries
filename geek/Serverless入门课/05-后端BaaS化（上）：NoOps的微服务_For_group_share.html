<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>05-åç«¯BaaSåŒ–ï¼ˆä¸Šï¼‰ï¼šNoOpsçš„å¾®æœåŠ¡</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>05-åç«¯BaaSåŒ–ï¼ˆä¸Šï¼‰ï¼šNoOpsçš„å¾®æœåŠ¡</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç§¦ç²¤ã€‚ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†åœ¨ç½‘ç»œæ‹“æ‰‘å›¾ä¸­ï¼Œåªæœ‰StatelessèŠ‚ç‚¹æ‰èƒ½è‡ªç”±æ‰©ç¼©å®¹ï¼Œè€ŒStatefulèŠ‚ç‚¹å› ä¸ºä¿å­˜äº†é‡è¦æ•°æ®ï¼Œæˆ‘ä»¬è¦è°¨æ…å¯¹å¾…ï¼Œå› æ­¤å¾ˆéš¾åšæ‰©ç¼©å®¹ã€‚</p><p>FaaSè¿æ¥å¹¶è®¿é—®ä¼ ç»Ÿæ•°æ®åº“ä¼šå¢åŠ é¢å¤–çš„å¼€é”€ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ•°æ®ç¼–æ’çš„æ€æƒ³ï¼Œå°†æ•°æ®åº“æ“ä½œè½¬ä¸ºRESTful APIã€‚é¡ºç€è¿™ä¸ªæ€è·¯ï¼Œæˆ‘å¼•å‡ºäº†åç«¯åº”ç”¨çš„BaaSåŒ–ï¼Œä¸€å¥è¯æ€»ç»“ï¼Œåç«¯åº”ç”¨BaaSåŒ–å°±æ˜¯å°†åç«¯åº”ç”¨è½¬æ¢æˆNoOpsçš„æ•°æ®æ¥å£ã€‚é‚£æ€ä¹ˆç†è§£è¿™å¥è¯å‘¢ï¼Ÿåç«¯åº”ç”¨BaaSåŒ–ï¼Œç©¶ç«Ÿåº”è¯¥æ€ä¹ˆåšï¼Ÿæ¥ä¸‹æ¥çš„å‡ èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¼šå±•å¼€æ¥è®²ã€‚</p><p>æˆ‘ä»¬å…ˆå›å¿†ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„â€œå¾…åŠä»»åŠ¡â€Webåº”ç”¨ï¼Œè¿™ä¸ªé¡¹ç›®å‰ç«¯æ˜¯å•é¡µåº”ç”¨ï¼Œä¸­é—´ç”¨äº†FaaSåšSFFæ•°æ®ç½‘å…³ï¼Œåç«¯æ•°æ®æ¥å£è¿˜è¦BaaSåŒ–ã€‚è¿™ä¸ªæ¡ˆä¾‹ä¼šè´¯ç©¿æˆ‘ä»¬çš„è¯¾ç¨‹ï¼Œæ‰€ä»¥ä½ ä¸€å®šè¦åŠ¨æ‰‹runä¸€ä¸‹ã€‚ä¸ºäº†è®©ä½ å¯¹æˆ‘ä»¬çš„é¡¹ç›®æœ‰ä¸ªå®è§‚ä¸Šçš„è®¤è¯†ï¼Œæˆ‘è¿˜æ˜¯å…ˆäº¤ä»˜ä½ ä¸€å¼ å¤§å›¾ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/ba/c9/bab7e22b588d69cbe0197d36696411c9.jpg" alt="" title="â€œå¾…åŠä»»åŠ¡â€Webåº”ç”¨æ¶æ„å›¾"></p><p>è¿™ä¸ªæ¶æ„çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å°†è¿™ä¸ªå›¾å˜ä¸ªå½¢ï¼Œä½ å°±æ›´å®¹æ˜“ç†è§£äº†ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/66/8f/66aeb01686c94478b2847be5bb2a398f.jpg" alt="" title="æ¶æ„å˜å½¢ç¤ºæ„å›¾"></p><p>å’±ä»å·¦å¾€å³çœ‹ä¸Šé¢è¿™å¼ å›¾ã€‚ç”¨æˆ·ä»æµè§ˆå™¨æ‰“å¼€æˆ‘ä»¬ç½‘ç«™æ—¶ï¼Œå‰ç«¯åº”ç”¨å“åº”è¿”å›index.htmlï¼›ç„¶åæµè§ˆå™¨å»CDNä¸‹è½½æˆ‘ä»¬çš„é™æ€èµ„æºï¼Œå®Œæˆé¡µé¢é™æ€èµ„æºçš„åŠ è½½ï¼›ä¸æ­¤åŒæ—¶ï¼Œæµè§ˆå™¨ä¹Ÿå‘å‰ç«¯åº”ç”¨å‘èµ·æ•°æ®è¯·æ±‚ï¼›å‰ç«¯åº”ç”¨ç»è¿‡å®‰å…¨ç­¾ååï¼Œå†å°†æ•°æ®è¯·æ±‚å‘é€ç»™SFFï¼›SFFå†æ ¹æ®æ•°æ®è¯·æ±‚ï¼Œè°ƒç”¨åç«¯æ¥å£æˆ–æœåŠ¡ï¼Œæœ€ç»ˆå°†ç»“æœç¼–æ’åè¿”å›ã€‚</p><!-- [[[read_end]]] --><p>ä»å›¾é‡Œä½ å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†æ•°æ®åº“æ˜¯Statefulçš„ï¼Œå…¶å®ƒèŠ‚ç‚¹éƒ½å·²ç»å˜æˆäº†Statelessã€‚å¦‚æœä½ å…¬å¸ä¸šåŠ¡é‡ä¸å¤§çš„è¯ï¼Œè¿™ä¸ªæ¶æ„å…¶å®å·²ç»è¶³å¤Ÿäº†ã€‚å°±åƒä¼ ç»Ÿçš„MVCæ¶æ„ä¸€æ ·ï¼Œå•ç‚¹æ•°æ®åº“ï¼Œæ‰¿è½½åŸºæœ¬çš„å¹¶å‘é‡ä¸æ˜¯é—®é¢˜ï¼Œè€Œä¸”æ•°æ®ä¹Ÿå¯ä»¥é€šè¿‡ä¸»ä»ç»“æ„å’Œå®¢æˆ·ç«¯è¯»å†™åˆ†ç¦»çš„æ–¹å¼æ¥ä¼˜åŒ–ã€‚</p><p>ä½†MVCæ¶æ„æœ€å¤§çš„é—®é¢˜å°±æ˜¯ç´¯ç§¯ï¼Œå½“ä¸€ä¸ªMVCæ¶æ„çš„åº”ç”¨ï¼Œåœ¨ç»å†é•¿æœŸè¿­ä»£å’Œè¿è¥åï¼Œæ•°æ®åº“ä¸€å®šä¼šå˜å¾—è‡ƒè‚¿ï¼Œæå¤§é™ä½æ•°æ®åº“çš„è¯»å†™æ€§èƒ½ã€‚è€Œä¸”åœ¨é«˜å¹¶å‘è¾¾åˆ°ä¸€å®šé‡çº§ï¼ŒStatefulçš„æ•°æ®åº“è¿˜æ˜¯ä¼šæˆä¸ºç“¶é¢ˆã€‚é‚£æˆ‘ä»¬å¯ä»¥å°†è‡ªå·±çš„æ•°æ®åº“ä¹Ÿå˜æˆBaaSå—ï¼Ÿ</p><p>è¦è§£å†³æ•°æ®åº“çš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æˆ‘ä¸ŠèŠ‚è¯¾å’Œä½ è¯´çš„äº‘æœåŠ¡å•†æä¾›çš„BaaSæœåŠ¡ï¼Œæ¯”å¦‚DynamoDBã€‚ä½†äº‘æœåŠ¡å•†BaaSæœåŠ¡ç©¶ç«Ÿæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿå¦‚æœBaaSæœåŠ¡èƒ½åŠ›ä¸å…¨ï¼Œä¸å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€è¦æ—¶æ€ä¹ˆåŠï¼Ÿä»Šå¤©æˆ‘å°±å…ˆå¸¦ä½ çœ‹çœ‹ä¼ ç»Ÿçš„MVCåº”ç”¨ä¸­çš„æ•°æ®åº“æ€ä¹ˆæ”¹é€ æˆBaaSã€‚</p><p>å½“ç„¶ï¼ŒBaaSåŒ–çš„è¿‡ç¨‹æœ‰äº›å¤æ‚ï¼Œè¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬åé¢éœ€è¦ç”¨å‡ èŠ‚è¯¾æ‰èƒ½è·Ÿä½ è§£é‡Šæ¸…æ¥šçš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚æ­£å¦‚æˆ‘ä»¬æœ¬èŠ‚è¯¾çš„æ ‡é¢˜ï¼šåç«¯åº”ç”¨BaaSåŒ–ï¼Œå°±æ˜¯NoOpsçš„å¾®æœåŠ¡ã€‚åœ¨æˆ‘çœ‹æ¥åç«¯åº”ç”¨BaaSåŒ–ï¼Œè·Ÿå¾®æœåŠ¡é«˜åº¦é‡åˆï¼Œå¾®æœåŠ¡å‡ ä¹æ¶µç›–äº†æˆ‘ä»¬BaaSåŒ–è¦åšçš„æ‰€æœ‰å†…å®¹ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å…ˆæ¥å­¦ä¹ ä¸€ä¸‹å¾®æœåŠ¡æ˜¯ä»€ä¹ˆã€‚</p><h2>å¾®æœåŠ¡çš„æ¦‚å¿µ</h2><p>å¾®æœåŠ¡çš„æ¦‚å¿µå¯¹å¾ˆå¤šåšåç«¯åŒå­¦æ¥è¯´å¹¶ä¸é™Œç”Ÿï¼Œå°¤å…¶æ˜¯åšJavaçš„åŒå­¦ï¼Œå› ä¸ºæ—©äº›å¹´Javaå°±æå‡ºSOAé¢å‘æœåŠ¡æ¶æ„ã€‚å¾®æœåŠ¡ç®—æ˜¯SOAçš„ä¸€ä¸ªå­é›†ï¼Œ2014å¹´ç”±ThoughtWorksçš„Martin Fowleræå‡ºã€‚å¾®æœåŠ¡è®¾è®¡ä¹‹åˆæ˜¯ä¸ºäº†æ‹†è§£å·¨çŸ³åº”ç”¨ï¼Œå·¨çŸ³åº”ç”¨å°±æ˜¯æŒ‡é‚£äº›ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„ï¼Œç´¯è®¡äº†å¤§é‡ä¸šåŠ¡é«˜åº¦è€¦åˆå’Œå†—ä½™ä»£ç çš„ä¼ä¸šåº”ç”¨ã€‚</p><p>è·ŸServerlessçš„æ¦‚å¿µè¿˜åœ¨å‘å±•ä¸­ä¸åŒï¼Œå¾®æœåŠ¡çš„æ¦‚å¿µåœ¨è¿™ä¹ˆå¤šå¹´çš„å‘å±•ä¸­å·²ç»æœ‰äº†æ˜ç¡®çš„å®šä¹‰äº†ã€‚ä¸‹é¢æ˜¯AWSå®˜æ–¹çš„è§£é‡Šï¼š</p><blockquote>
<p>å¾®æœåŠ¡æ˜¯ä¸€ç§å¼€å‘è½¯ä»¶çš„æ¶æ„å’Œç»„ç»‡æ–¹æ³•ï¼Œå…¶ä¸­è½¯ä»¶ç”±é€šè¿‡æ˜ç¡®å®šä¹‰çš„ API è¿›è¡Œé€šä¿¡çš„å°å‹ç‹¬ç«‹æœåŠ¡ç»„æˆï¼Œè¿™äº›æœåŠ¡ç”±å„ä¸ªå°å‹ç‹¬ç«‹å›¢é˜Ÿè´Ÿè´£ã€‚å¾®æœåŠ¡æ¶æ„ä½¿åº”ç”¨ç¨‹åºæ›´æ˜“äºæ‰©å±•å’Œæ›´å¿«åœ°å¼€å‘ï¼Œä»è€ŒåŠ é€Ÿåˆ›æ–°å¹¶ç¼©çŸ­æ–°åŠŸèƒ½çš„ä¸Šå¸‚æ—¶é—´ã€‚</p>
</blockquote><p>é‚£åœ¨æˆ‘çœ‹æ¥ï¼Œå¾®æœåŠ¡å°±æ˜¯å…ˆæ‹†ååˆï¼Œå®ƒå°†ä¸€ä¸ªå¤æ‚çš„å¤§å‹åº”ç”¨æ‹†è§£æˆèŒè´£å•ä¸€çš„å°åŠŸèƒ½æ¨¡å—ï¼Œå„æ¨¡å—ä¹‹é—´çš„æ•°æ®æ¨¡å‹ç›¸äº’ç‹¬ç«‹ï¼Œæ¨¡å—é‡‡ç”¨APIæ¥å£æš´éœ²è‡ªå·±å¯¹å¤–æä¾›æœåŠ¡ï¼Œç„¶åå†é€šè¿‡è¿™äº›æ¥å£ç»„åˆå‡ºåŸå…ˆçš„å¤§å‹åº”ç”¨ã€‚æ‹†è§£çš„å¥½å¤„æ˜¯ï¼Œå°æ¨¡å—ä¾¿äºç»´æŠ¤ï¼Œå¯ä»¥å¿«é€Ÿè¿­ä»£ï¼Œè·¨åº”ç”¨å¤ç”¨ã€‚</p><p>æˆ‘ä»¬çš„Serverlessä¸“æ å¹¶ä¸æ‰“ç®—ç»™ä½ è¯¦ç»†åœ°è®²è§£å¾®æœåŠ¡ï¼Œä½†æ˜¯å¸Œæœ›ä½ èƒ½ä¸€å®šç¨‹åº¦ä¸Šäº†è§£å¾®æœåŠ¡ã€‚FaaSå’Œå¾®æœåŠ¡æ¶æ„çš„è¯ç”Ÿå‡ ä¹æ˜¯åœ¨åŒä¸€æ—¶æœŸï¼Œå®ƒä¿©çš„å¾ˆå¤šç†å¿µéƒ½æ˜¯æ¥è‡ª12è¦ç´ ï¼ˆTwelve-Factor Appï¼‰<span class="orange">[1]</span>ï¼Œæ‰€ä»¥å¾®æœåŠ¡æ¦‚å¿µå’ŒFaaSæ¦‚å¿µé«˜åº¦ç›¸ä¼¼ï¼Œä¹Ÿæœ‰ä¸å°‘å…¬å¸ç”¨FaaSå®ç°å¾®æœåŠ¡æ¶æ„ï¼›ä¸åŒçš„æ˜¯ï¼Œå¾®æœåŠ¡çš„é¢†å†›å…¬å¸ThoughtWorkså’ŒNetFlixåˆ°å¤„å®£æ‰¬ä»–ä»¬çš„å¾®æœåŠ¡æ¶æ„å¸¦æ¥çš„å¥½å¤„ï¼Œè€Œä¸”ä»–ä»¬æå‡ºäº†ä¸€æ•´å¥—æ–¹æ³•è®ºï¼ŒåŒ…æ‹¬å¾®æœåŠ¡æ¶æ„å¦‚ä½•è®¾è®¡ï¼Œå¦‚ä½•æ‹†è§£å¾®æœåŠ¡ï¼Œå°¤å…¶æ˜¯æ•°æ®åº“å¦‚ä½•è®¾è®¡ç­‰ç­‰ã€‚</p><p>æˆ‘ä»¬åç«¯åº”ç”¨BaaSåŒ–ï¼Œé¦–å…ˆè¦å°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘æ‹†å¼€ï¼Œæ‹†æˆèŒè´£å•ä¸€çš„å¾®æœåŠ¡ã€‚<strong>å› ä¸ºèŒè´£å•ä¸€ï¼Œæ‰€ä»¥æœåŠ¡ç«¯è¿ç»´çš„æˆæœ¬ä¼šæ›´ä½ã€‚</strong>è€Œä¸”æ‹†åˆ†å°±åƒæ²»ç†æ´ªæ°´æ—¶çš„åˆ†æµä¸€æ ·ï¼Œå®ƒèƒ½å‡è½»æ¯ä¸ªå¾®æœåŠ¡ä¸Šæ‰¿å—çš„å‹åŠ›ã€‚</p><p>æˆ‘åœ¨Serverlessçš„ä¸“æ é‡Œå‘ä½ ä»‹ç»å¾®æœåŠ¡ï¼Œä¸»è¦å°±æ˜¯æƒ³å¼•å…¥å¾®æœåŠ¡æ‹†è§£ä¸šåŠ¡çš„åˆ†æµæ€æƒ³å’Œå¾®æœåŠ¡å¯¹æ•°æ®åº“çš„è§£è€¦æ–¹å¼ã€‚</p><h2>å¾®æœåŠ¡10è¦ç´ </h2><p>è°ˆèµ·å¾®æœåŠ¡ï¼Œå¾ˆå¤šäººéƒ½è¦è¯´12è¦ç´ <span class="orange">[2]</span>ï¼Œè®¤ä¸ºå¾®æœåŠ¡ä¹Ÿåº”è¯¥æ»¡è¶³12è¦ç´ ã€‚12è¦ç´ å½“åˆæ˜¯ä¸ºäº†SaaSè®¾è®¡çš„ï¼Œç”¨æ¥æå‡Webåº”ç”¨çš„é€‚ç”¨æ€§å’Œå¯ç§»æ¤æ€§ã€‚æˆ‘åœ¨åšå¾®æœåŠ¡åˆæœŸä¹Ÿå­¦ä¹ è¿‡12è¦ç´ ï¼Œä½†æˆ‘å‘ç°è¿™ä¸ªåªèƒ½æä¾›ç†è®ºè®¤è¯†ã€‚</p><p>æ‰€ä»¥åœ¨2018å¹´GIACçš„å¤§ä¼šä¸Šï¼Œæˆ‘å°†æˆ‘ä»¬å›¢é˜Ÿåœ¨å¾®æœåŠ¡æ¶æ„è½åœ°ä¸­çš„ç»éªŒæ€»ç»“ä¸º<strong>å¾®æœåŠ¡çš„10è¦ç´ ï¼šAPIã€æœåŠ¡è°ƒç”¨ã€æœåŠ¡å‘ç°ï¼›æ—¥å¿—ã€é“¾è·¯è¿½è¸ªï¼›å®¹ç¾æ€§ã€ç›‘æ§ã€æ‰©ç¼©å®¹ï¼›å‘å¸ƒç®¡é“ï¼›é‰´æƒã€‚</strong></p><p>æˆ‘ä»¬å›æƒ³ä¸€ä¸‹<a href="https://time.geekbang.org/column/article/224559">[ç¬¬1è¯¾]</a> ä¸­å°æœçš„å·¥ä½œèŒè´£ï¼š</p><ol>
<li>æ— éœ€ç”¨æˆ·å…³å¿ƒæœåŠ¡ç«¯çš„äº‹æƒ…ï¼ˆå®¹é”™ã€å®¹ç¾ã€å®‰å…¨éªŒè¯ã€è‡ªåŠ¨æ‰©ç¼©å®¹ã€æ—¥å¿—è°ƒè¯•ç­‰ç­‰)ã€‚</li>
<li>æŒ‰ä½¿ç”¨é‡ï¼ˆè°ƒç”¨æ¬¡æ•°ã€æ—¶é•¿ç­‰ï¼‰ä»˜è´¹ï¼Œä½è´¹ç”¨å’Œé«˜æ€§èƒ½å¹¶è¡Œï¼Œå¤§å¤šæ•°åœºæ™¯ä¸‹èŠ‚çœå¼€æ”¯ã€‚</li>
<li>å¿«é€Ÿè¿­ä»£&amp;è¯•é”™èƒ½åŠ›ï¼ˆå¤šç‰ˆæœ¬æ§åˆ¶ï¼Œç°åº¦ï¼ŒCI&amp;CDç­‰ç­‰ï¼‰ã€‚</li>
</ol><p>ä½ æœ‰æ²¡æœ‰å‘ç°è·Ÿå¾®æœåŠ¡çš„è¦ç´ æœ‰å¤§é‡çš„é‡åˆã€‚APIå°±æ˜¯RESTfulçš„HTTPæ•°æ®æ¥å£ï¼›æœåŠ¡è°ƒç”¨ä½ å¯ä»¥ç†è§£ä¸ºå°±æ˜¯HTTPè¯·æ±‚ï¼›æœåŠ¡å‘ç°ä½ å¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬åªèƒ½ç”¨åŸŸåè°ƒç”¨æˆ‘ä»¬çš„HTTPè¯·æ±‚ï¼Œä¸èƒ½ç”¨IPï¼›æ—¥å¿—ã€å®¹ç¾ã€ç›‘æ§éƒ½ä¸éš¾ç†è§£ï¼›é“¾è·¯è¿½è¸ªï¼Œæ˜¯å¾®æœåŠ¡é‡è¦çš„ä¸€ç¯ï¼Œå› ä¸ºç›¸å¯¹ä¼ ç»ŸMVCæ¶æ„ï¼Œæˆ‘ä»¬ä¸€ä¸ªè¯·æ±‚åœ¨åç«¯çš„è°ƒç”¨é“¾å¢é•¿äº†ï¼Œä¸ºäº†å¿«é€Ÿå®šä½é—®é¢˜ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ‰“å°æ•´ä¸ªè°ƒç”¨é“¾è·¯çš„å¼‚å¸¸æ ˆï¼›å‘å¸ƒç®¡é“å’Œé‰´æƒï¼Œå’Œæˆ‘ä»¬çš„FaaSä¹Ÿæœ‰å¾ˆé‡è¦çš„å…³è”ï¼Œæˆ‘å°†æ”¾åœ¨ä¸‹ä¸€è¯¾è®²è§£ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/45/f1/4558c4088c38623cf366e7d686654ff1.png" alt="" title="æœ¨æ¡¶æ•ˆåº”ç¤ºæ„å›¾"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¸å‡†å¤‡æŒ‰ç…§å¾®æœåŠ¡çš„10è¦ç´ ä¸€ä¸€æ“ä½œï¼Œä½†æˆ‘å¸Œæœ›å¯ä»¥é€šè¿‡Serverlesså¸®ä½ å»ºç«‹çŸ¥è¯†ä½“ç³»çš„ç´¢å¼•ï¼Œæ‰€ä»¥å…³è”çš„æŠ€æœ¯æ ˆæˆ‘éƒ½å°½é‡ç‚¹å‡ºæ¥ï¼Œä½ å¯ä»¥è‡ªå·±è¿›ä¸€æ­¥äº†è§£å­¦ä¹ ã€‚</p><p>æˆ‘ä»¬å†æ¬¡æ‹¿å‡ºæˆ‘ä»¬çš„åˆ›ä¸šé¡¹ç›®â€œå¾…åŠä»»åŠ¡â€Webç½‘ç«™ï¼Œè¿™æ¬¡æˆ‘å°†å¸¦ä½ ä¸€èµ·çœ‹çœ‹å¾®æœåŠ¡å¦‚ä½•è®©æ•°æ®åº“è§£è€¦ã€‚</p><p>æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹â€œå¾…åŠä»»åŠ¡â€WebæœåŠ¡ã€‚ä¸Šä¸€è®²æœ«å°¾æˆ‘çš„ä½œä¸šå…¶å®å·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹index.jsæ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„MVCæ¶æ„çš„åº”ç”¨ã€‚Viewå±‚å°±æ˜¯index.htmlå’Œé™æ€èµ„æºæ–‡ä»¶ï¼›Modelå±‚ï¼Œæˆ‘ä»¬å¼•å…¥lowdbç”¨ä¸€ä¸ªdb.jsonæ–‡ä»¶ä»£æ›¿æ•°æ®åº“ï¼›Controlå±‚ï¼Œå°±æ˜¯app.METHODï¼Œå¤„ç†/api/*çš„æ•°æ®é€»è¾‘ã€‚å¾®æœåŠ¡æ˜¯è§£å†³åç«¯åº”ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…³æ³¨Controlå±‚ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/25/a4/25981be7fb564da00a736bfe93f101a4.jpg" alt="" title="index.jsæ–‡ä»¶"></p><p>APIçš„æ•°æ®å¤„ç†ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯/api/ruleå¤„ç†å¾…åŠä»»åŠ¡çš„ï¼Œä¸€ä¸ªæ˜¯/api/userè´Ÿè´£ç”¨æˆ·ç™»å½•æ€ï¼Œè€Œä¸”æˆ‘ä»¬â€œå¾…åŠä»»åŠ¡â€ä¸»è¦çš„æ•°æ®æ¨¡å‹ä¹Ÿå°±æ˜¯å¾…åŠä»»åŠ¡å’Œç”¨æˆ·è¿™ä¸¤ä¸ªã€‚é‚£æˆ‘ä»¬å¯ä»¥å°†åç«¯æ‹†åˆ†å‡ºä¸¤ä¸ªå¾®æœåŠ¡ï¼šå¾…åŠä»»åŠ¡å¾®æœåŠ¡å’Œç”¨æˆ·å¾®æœåŠ¡ã€‚è¿™é‡Œæˆ‘è¦å¼ºè°ƒä¸‹ï¼Œæˆ‘åªæ˜¯ä¸ºäº†å‘ä½ æ¼”ç¤ºå¾®æœåŠ¡æ‰è¿™æ ·åšï¼Œåœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œè¿™ä¹ˆç®€å•çš„åŠŸèƒ½ï¼Œæ²¡å¿…è¦è¿‡æ—©åœ°æ‹†åˆ†ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/3a/ab/3abe89510aa6897b0b1f50e239c91dab.jpg" alt="" title="å¾®æœåŠ¡æ‹†è§£æ¼”ç¤º"></p><p>åˆæ­¥æ‹†è§£ï¼Œæˆ‘ä»¬å°†index.jsä¸­çš„æ•°æ®åº“ç§»èµ°äº†ï¼Œè€Œä¸”æ‹†åˆ†åå„å¾®æœåŠ¡çš„æ•°æ®åº“æ¯”åŸæ¥æ··æ‚åœ¨ä¸€èµ·ç®€å•ä¸”å®¹æ˜“ç»´æŠ¤å¤šäº†ã€‚user.jsè´Ÿè´£ç”¨æˆ·ç›¸å…³ä¸šåŠ¡é€»è¾‘ï¼Œåªç»´æŠ¤ç”¨æˆ·ä¿¡æ¯çš„æ•°æ®åº“ï¼Œå¹¶ä¸”æš´éœ²RESTfulçš„HTTPæ–¹æ³•ï¼›rule.jsè´Ÿè´£å¾…åŠä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥ï¼Œåªç»´æŠ¤å¾…åŠä»»åŠ¡çš„æ•°æ®åº“ï¼Œå¹¶ä¸”æš´éœ²RESTfulçš„HTTPæ–¹æ³•ï¼›index.jsåªéœ€è¦è´Ÿè´£å°†è¯·æ±‚HTTPè¿”å›ç»™æ•°æ®ç¼–æ’ã€‚</p><p>HTTPåè®®è¦æ»¡è¶³æˆ‘ä»¬çš„æœåŠ¡è°ƒç”¨ä¸å‘ç°ï¼Œå‘å¸ƒçš„user.jså’Œrule.jså¿…é¡»ä½¿ç”¨åŸŸåï¼Œä¾‹å¦‚api.jike-serverless.online/userå’Œapi.jike-serverless.online/ruleã€‚è¿™æ ·æ–°æ‰©å®¹çš„æœºå™¨IPï¼Œåªéœ€è¦æ³¨å†Œåˆ°è¿™ä¸ªåŸŸåä¸‹å°±å¯ä»¥è¢«æœåŠ¡å‘ç°IPå¹¶è°ƒç”¨äº†ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æ‹†åˆ†ååªæ˜¯å°†æ•°æ®åº“ä»index.jsç§»å‡ºï¼Œåˆ†ç»™åˆ°äº†user.jså’Œrule.jsï¼Œä½†ä¸¤ä¸ªèŠ‚ç‚¹åˆ°ç›®å‰ä¸ºæ­¢æ•°æ®åº“ä»ç„¶æ˜¯Statefulçš„ã€‚æˆ‘ä»¬å¦‚ä½•å†è®©è¿™ä¸¤ä¸ªæ•°æ®åº“èŠ‚ç‚¹å˜æˆStatelesså‘¢ï¼Ÿä½ å¯ä»¥æŒ‰ä¸€ä¸‹æš‚åœé”®æ€è€ƒä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬å…ˆæƒ³æƒ³ï¼Œå¯¹äºrule.jsè¿™ä¸ªå¾®æœåŠ¡æ¥è¯´ï¼Œæˆ‘è¦å†æ‰©å®¹ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè€Œä¸”è®©ä¸¤è¾¹çš„å®ä¾‹ä¿æŒä¸€è‡´ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦åªéœ€è¦è®©æ–°çš„æ•°æ®åº“å’Œæ—§çš„æ•°æ®åº“ä¿æŒåŒæ­¥æ›´æ–°å°±å¯ä»¥äº†å‘¢ï¼Ÿ</p><h2>è§£è€¦æ•°æ®åº“</h2><p>æ²¡é”™ï¼Œå…¶å®è¦è§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒå°±æ˜¯è®©æ•°æ®å¯åŠ¨æ—¶ï¼Œå¯ä»¥æ›´æ–°åˆ°æœ€æ–°çš„æ•°æ®åº“ã€‚åœ¨å…¶ä¸­ä¸€ä¸ªæ•°æ®åº“æ›´æ–°æ—¶ï¼Œé€šçŸ¥å¦å¤–ä¸€ä¸ªæ•°æ®åº“æ›´æ–°ã€‚</p><p>è¿™é‡Œå°±è¦å¼•å‡ºä¸€ä¸ªå…³é”®çš„Statefulå¯¹è±¡ï¼šæ¶ˆæ¯é˜Ÿåˆ—<span class="orange">[3]</span>ã€‚å®ƒæ˜¯ä¸€ä¸ªç¨³å®šçš„ç»å¯¹å€¼å¾—ä¿¡èµ–çš„StatefulèŠ‚ç‚¹ï¼Œè€Œä¸”å¯¹ä½ çš„åº”ç”¨æ¥è¯´æ¶ˆæ¯é˜Ÿåˆ—æ˜¯å…¨å±€å”¯ä¸€çš„ã€‚è§£è€¦æ•°æ®åº“çš„æ€è·¯å°±æ˜¯ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è§£å†³æ•°æ®åº“å’Œå‰¯æœ¬ä¹‹é—´çš„åŒæ­¥é—®é¢˜ï¼Œæœ‰äº†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå‰©ä¸‹çš„å°±ç®€å•äº†ã€‚</p><p>æˆ‘ä»¬æ¯ä¸ªå¾®æœåŠ¡ä¸­çš„æ•°æ®åº“ï¼Œä¾‹å¦‚MySQLï¼Œå†™çš„æ“ä½œéƒ½ä¼šäº§ç”Ÿbinary logï¼Œé€šè¿‡é¢å¤–çš„è¿›ç¨‹å°†binary logå˜æ›´åŒæ­¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¹¶ç›‘å¬æ¶ˆæ¯é˜Ÿåˆ—å°†binary logæ›´æ–°åœ¨æœ¬åœ°æ‰§è¡Œï¼Œä¿®æ”¹MySQLã€‚æ¯”è¾ƒè‘—åçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯é¢†è‹±å¼€æºçš„Kafkaï¼Œç°åœ¨äº‘æœåŠ¡å•†åŸºæœ¬ä¹Ÿéƒ½ä¼šæä¾›KafkaæœåŠ¡ã€‚å½“ç„¶æ•°æ®åº“å’Œå‰¯æœ¬ä¹‹é—´ä¼šæœ‰çŸ­æš‚çš„åŒæ­¥å»¶è¿Ÿé—®é¢˜ï¼Œä½†é—®é¢˜å…¶å®ä¹Ÿä¸å¤§ï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸å¯¹æ•°æ®åº“è¿›è¡Œå†™æ“ä½œæ—¶ä¹Ÿä¼šé”è¡¨ã€‚</p><p>å¦‚æœä½ è¦ç»†ç©¶è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±ä¼šç¢°åˆ°åˆ†å¸ƒå¼æ¶æ„æ— æ³•åŒæ—¶æ»¡è¶³çš„CAP<span class="orange">[4]</span> è¯¾é¢˜ã€‚æˆ‘ä»¬åœ¨æ­¤ä¹Ÿä¸æ·±å…¥å±•å¼€CAPè¯é¢˜äº†ï¼Œç›®å‰å¼‚æ­¥åŒæ­¥çš„æ—¶é—´å·®åœ¨å¾ˆå¤šåœºæ™¯ä¸‹æˆ‘è§‰å¾—æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/96/36/966b47dfea82a3d841e45cd260270636.jpg" alt="" title="å¾®æœåŠ¡æ‹†è§£æ¼”ç¤º"></p><p>æ‹¿æˆ‘ä»¬è‡ªå·±çš„ä¾‹å­æ¥è¯´ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬ç”¨æ¶ˆæ¯é˜Ÿåˆ—RocketMQï¼Œå†™æ“ä½œæˆ‘ä»¬éƒ½å†™å…¥RocketMQï¼Œrule.jsè¿›ç¨‹ä¸­æˆ‘ä»¬ç›‘å¬RocketMQï¼Œä¸€æ—¦æœ‰ruleå†™å…¥çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬å°±æ›´æ–°æˆ‘ä»¬çš„lowdbæ•°æ®ã€‚å›´ç»•æ¶ˆæ¯é˜Ÿåˆ—å»ºç«‹çš„åŒæ­¥æœºåˆ¶ï¼Œè®©æ¯ä¸ªå¾®æœåŠ¡çš„æ•°æ®åº“å’Œå®ƒçš„æ‰©å®¹å‰¯æœ¬ä¹‹é—´è‡ªåŠ¨åŒæ­¥äº†ã€‚å¯¹äºå¾®æœåŠ¡æ¥è¯´ï¼Œå®ƒæœ¬èº«çš„æ•°æ®åº“è¿˜æ˜¯Statefulçš„ï¼Œä½†åœ¨å¾®æœåŠ¡å¤–éƒ¨çœ‹æ¥ï¼Œè¿™ä¸ªå¾®æœåŠ¡æ˜¯Statelessçš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/7a/3a/7ab3bebbffabd18282d54e17093d0c3a.jpg" alt="" title="åŒæ­¥æœºåˆ¶"></p><p>è·Ÿä¼ ç»Ÿçš„ä¸»ä»æ•°æ®åº“æ–¹å¼ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬æ¯ä¸ªå¾®æœåŠ¡çš„å•ç‚¹å®ä¾‹éƒ½æ˜¯ç‹¬äº«ä¸€ä¸ªæ•°æ®åº“çš„ï¼Œruleè¿™ä¸ªå¾®æœåŠ¡å•ç‚¹å¯ä»¥å¯¹å¤–æä¾›æ‰€æœ‰å¾…åŠä»»åŠ¡çš„RESTful APIæ¥å£ã€‚</p><p>ä½ è¦çŸ¥é“æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¾‹å¦‚RocketMQçš„å¯é æ€§æ˜¯99.99999999%ï¼Œè€Œæˆ‘ä»¬å¸¸ç”¨çš„è™šæ‹ŸæœºECSçš„å¯é æ€§ä¹Ÿåªä¸è¿‡99.95%ã€‚åœ¨é«˜å¹¶å‘æ¶æ„çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè¦æ±‚StatefulèŠ‚ç‚¹ä¸€å®šè¦ç¨³å®šï¼Œè€Œä¸”è¶Šå°‘è¶Šå¥½ï¼Œæ‰€ä»¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯¹äºå¾®æœåŠ¡å’ŒFaaSæ¥è¯´ï¼Œéƒ½æ˜¯å¯ä»¥ä½œä¸ºæ”¯æ’‘ä¸šåŠ¡çš„æ ¸å¿ƒã€‚æˆ‘ä»¬ä¾èµ–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¼šè®©æ•´ä¸ªæ¶æ„æ›´ç¨³å®šã€‚</p><h2>æ€»ç»“</h2><p>æˆ‘ä»¬ä¸ºäº†é¿å…åœ¨FaaSä¸­ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œè€Œå°†æ•°æ®åº“æ“ä½œå˜æˆBaaSæœåŠ¡ã€‚ä¸ºäº†ç†è§£BaaSåŒ–å…·ä½“çš„å·¥ä½œï¼Œæˆ‘ä»¬å¼•å…¥äº†å¾®æœåŠ¡çš„æ¦‚å¿µã€‚å¾®æœåŠ¡å…ˆå°†ä¸šåŠ¡æ‹†è§£æˆå•ä¸€èŒè´£å’ŒåŠŸèƒ½çš„å°æ¨¡å—ä¾¿äºç‹¬ç«‹è¿ç»´ï¼Œå†å°†å°æ¨¡å—ç»„è£…æˆå¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºã€‚è¿™ä¸€ç‚¹ä¸Šè·Ÿæˆ‘ä»¬è¦åšçš„åç«¯åº”ç”¨BaaSåŒ–ç›¸ä¼¼åº¦éå¸¸é«˜ã€‚æ‰€ä»¥å‚è€ƒå¾®æœåŠ¡ï¼Œæˆ‘ä»¬å…ˆå°†MVCæ¶æ„çš„åç«¯è§£æˆäº†ä¸¤ä¸ªå¾®æœåŠ¡ï¼Œå†ç”¨å¾®æœåŠ¡è§£è€¦æ•°æ®åº“çš„æ“ä½œï¼Œå…ˆå°†æ•°æ®åº“æ‹†è§£æˆèŒè´£å•ä¸€çš„å°æ•°æ®åº“ï¼Œå†ç”¨æ¶ˆæ¯é˜Ÿåˆ—åŒæ­¥æ•°æ®åº“å’Œå‰¯æœ¬ï¼Œä»è€Œå°†æ•°æ®å˜æˆäº†Statelessã€‚</p><p>ç°åœ¨æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹è¿™èŠ‚è¯¾çš„é‡è¦çŸ¥è¯†ç‚¹ã€‚</p><ol>
<li>å¾®æœåŠ¡çš„æ¦‚å¿µï¼šå®ƒå°±æ˜¯å°†ä¸€ä¸ªå¤æ‚çš„å¤§å‹åº”ç”¨æ‹†è§£æˆèŒè´£å•ä¸€çš„å°åŠŸèƒ½æ¨¡å—ï¼Œå„æ¨¡å—ä¹‹é—´æ•°æ®æ¨¡å‹ç›¸äº’ç‹¬ç«‹ï¼Œæ¨¡å—é‡‡ç”¨APIæ¥å£æš´éœ²è‡ªå·±å¯¹å¤–æä¾›çš„æœåŠ¡ï¼Œç„¶åå†é€šè¿‡è¿™äº›APIæ¥å£ç»„åˆæˆå¤§å‹åº”ç”¨ã€‚è¿™ä¸ªå°åŠŸèƒ½æ¨¡å—ï¼Œå°±æ˜¯å¾®æœåŠ¡ã€‚</li>
<li>å¾®æœåŠ¡10è¦ç´ ï¼šAPIã€æœåŠ¡è°ƒç”¨ã€æœåŠ¡å‘ç°ï¼›æ—¥å¿—ã€é“¾è·¯è¿½è¸ªï¼›å®¹ç¾æ€§ã€ç›‘æ§ã€æ‰©ç¼©å®¹ï¼›å‘å¸ƒç®¡é“ï¼›é‰´æƒã€‚è¿™è·Ÿæˆ‘ä»¬è¦åšçš„BaaSåŒ–é«˜åº¦é‡åˆï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©å¾®æœåŠ¡æ¥å®ç°æˆ‘ä»¬çš„BaaSåŒ–ã€‚</li>
<li>è§£è€¦æ•°æ®åº“ï¼šé€šè¿‡é¢å¤–è¿›ç¨‹è®©æ•°æ®åº“ä¸å‰¯æœ¬ç›´æ¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡ŒåŒæ­¥ï¼Œæ‰€ä»¥å¯¹äºå¾®æœåŠ¡åº”ç”¨æ¥è¯´ï¼Œåªéœ€è¦å…³æ³¨è‡ªèº«ç‹¬äº«çš„æ•°æ®åº“å°±å¯ä»¥äº†ã€‚å¾®æœåŠ¡é€šè¿‡æ•°æ®åº“è§£è€¦ï¼Œå°†åç«¯åº”ç”¨å˜æˆStatelessçš„äº†ï¼Œä½†å¯¹åç«¯åº”ç”¨æœ¬èº«è€Œè¨€ï¼Œæ•°æ®åº“è¿˜æ˜¯Statefulçš„ã€‚</li>
</ol><h2>ä½œä¸š</h2><p>ç”±äºKafkaäº‘æœåŠ¡æ¯”è¾ƒè´µï¼Œæ‰€ä»¥è¿™èŠ‚è¯¾çš„ä½œä¸šæˆ‘ä»¬é‡‡ç”¨è¡¨æ ¼å­˜å‚¨<span class="orange">[5]</span>æ¥æ¨¡æ‹ŸKafkaï¼Œä»¥å®ç°DBçš„åŒæ­¥åŠŸèƒ½ã€‚<strong>ä½ å¯ä»¥å°è¯•è‡ªå·±éƒ¨ç½²ä¸€ä¸‹rule-faasåˆ°ä¸€ä¸ªæ–°çš„åŸŸåã€‚</strong>ä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç åœ°å€ï¼š</p><ul>
<li>ä»“åº“åœ°å€ï¼š<a href="https://github.com/pusongyang/todolist-backend/tree/lesson05">https://github.com/pusongyang/todolist-backend/tree/lesson05</a></li>
<li>å‰ç«¯åœ°å€ï¼š<a href="https://github.com/pusongyang/todolist-frontend/tree/lesson05">https://github.com/pusongyang/todolist-frontend/tree/lesson05</a></li>
<li>å®ç°åæ•ˆæœï¼š<a href="http://lesson5.jike-serverless.online/list">http://lesson5.jike-serverless.online/list</a></li>
</ul><p>ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„åŸŸåï¼Œæ›¿æ¢ä¸€ä¸‹å‰ç«¯æ–‡ä»¶ä¸­çš„è¿™ä¸ªåœ°å€ï¼š<a href="http://faas.jike-serverless.online/api/rule">http://faas.jike-serverless.online/api/rule</a>ï¼Œæˆ–è€…ç”¨æˆ‘çš„å‰ç«¯ä»£ç <a href="https://github.com/pusongyang/todolist-frontend/tree/lesson05">lesson5</a>åˆ†æ”¯ä¿®æ”¹/src/pages/ListTableList/service.tsä¸­çš„åœ°å€ï¼Œè‡ªå·± <code>npm run build</code> ä¸€ä¸‹ï¼Œæ›¿æ¢æ‰é¡¹ç›®publicç›®å½•ï¼Œå‹ç¼©ä¸Šä¼ åˆ°å‡½æ•°æœåŠ¡ç›®å½•ã€‚</p><p>è¿™æ¬¡çš„éƒ¨ç½²ä¼šæœ‰äº›å¤æ‚ï¼Œæˆ‘ä»¬è¦éƒ¨ç½²ä¸¤ä¸ªFaaSæœåŠ¡ï¼Œä¸€ä¸ªæ˜¯rule-faas.jsï¼Œç”¨æ¥å¤„ç†/api/ruleï¼›å¦ä¸€ä¸ªæ˜¯index-faas.jsï¼Œç”¨æ¥å¤„ç†æˆ‘ä»¬çš„é™æ€èµ„æºè¯·æ±‚ã€‚åŸç†å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/98/b0/987db6d15137ce820b56fcf97e91e8b0.jpg" alt="" title="éƒ¨ç½²ç¤ºæ„å›¾"></p><p>å¦å¤–.aliyunConfigæ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼Œä½ éœ€è¦å¡«å…¥è‡ªå·±çš„é…ç½®æƒ…å†µï¼Œåˆ‡è®°è¿™ä¸ªæ–‡ä»¶ä¸å¯ä»¥ä¸Šä¼ åˆ°Gitä»“åº“ï¼š</p><pre><code>//.aliyunConfigæ–‡ä»¶ï¼Œä¿å­˜ç§˜é’¥ï¼Œåˆ‡è®°ä¸å¯ä»¥ä¸Šä¼ Git
const endpoint = &quot;https://rule.cn-shanghai.ots.aliyuncs.com&quot;;
// AccessKey é˜¿é‡Œäº‘èº«ä»½éªŒè¯ï¼Œåœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†æ§åˆ¶å°åˆ›å»º
const accessKeyId = &quot;AccessKey&quot;;
// SecretKey é˜¿é‡Œäº‘èº«ä»½éªŒè¯ï¼Œåœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†æ§åˆ¶å°åˆ›å»º
const accessKeySecret = &quot;SecretKey&quot;;
// åœ¨æ•°æ®é“¾è¡¨ä¸­æŸ¥çœ‹
const instancename = &quot;rule&quot;;
const tableName = 'todos';
const primaryKey = [{ 'key': 'list' } ];


module.exports = {endpoint, accessKeyId, accessKeySecret, instancename, tableName, primaryKey};

</code></pre><p>æœŸå¾…ä½ çš„ä½œä¸šå’Œæ€è€ƒï¼Œå¦‚æœä»Šå¤©çš„å†…å®¹è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠæ–‡ç« åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–åŠ å…¥å­¦ä¹ ã€‚</p><h2>å‚è€ƒèµ„æ–™</h2><p>[1] <a href="https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology">https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology</a></p><p>[2] <a href="https://12factor.net/zh_cn/">https://12factor.net/zh_cn/</a></p><p>[3] <a href="https://help.aliyun.com/document_detail/29532.html?spm=5176.11065259.1996646101.searchclickresult.6936139bcS8BlU">https://help.aliyun.com/document_detail/29532.html?spm=5176.11065259.1996646101.searchclickresult.6936139bcS8BlU</a></p><p>[4] <a href="https://www.ruanyifeng.com/blog/2018/07/cap.html">https://www.ruanyifeng.com/blog/2018/07/cap.html</a></p><p>[5] <a href="https://ots.console.aliyun.com/index#/list/cn-shanghai">https://ots.console.aliyun.com/</a></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æˆ‘æ¥ä¹Ÿ  2020-04-27 08:10:32
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            å“ˆå“ˆï¼ŒåŸæ¥è€å¸ˆä¹Ÿè§‰å¾—äº‘å‚å•†æä¾›çš„kafkaäº‘æœåŠ¡è´µã€‚<br>æˆ‘å¯¹è¿™ä¸ªæ·±æœ‰ä½“ä¼šï¼<br><br>æˆ‘çœ‹é¢†å¯¼ä¹°çš„ä¸€ä¸ªé˜¿é‡Œäº‘kafkaäº‘æœåŠ¡ï¼Œè¦4K+&#47;æœˆï¼Œé…ç½®ä¹Ÿå°±ä¸€èˆ¬å§ï¼Œå¯èƒ½ç›‘æ§åšçš„æ¯”è¾ƒå¥½å§ã€‚<br>å†æƒ³æƒ³æˆ‘ä¹°çš„ç«ä»·ä»˜è´¹å®ä¾‹ï¼Œçº¦64å…ƒ&#47;æœˆï¼Œ4cpu8gé…ç½®ï¼Œè¿˜ä¸æ˜¯çªå‘æ€§èƒ½çš„ã€‚å½“å¼€å‘ç¯å¢ƒçš„k8sèŠ‚ç‚¹ï¼Œä¹Ÿä¸æ€•ä¸¢æ•°æ®ï¼Œå“ˆå“ˆã€‚<br><br>æƒ³ä¸€æƒ³ï¼Œè¿˜æ˜¯æœ‰é’±çœŸå¥½ã€‚ [3èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2020-04-27 10:45:37</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">ç”¨CaaSæœåŠ¡ï¼Œè‡ªå·±æ­å»ºä¸€å¥—Kafkaè¿˜ä¾¿å®œä¸€äº›ã€‚ç°åœ¨ç¨‹åºå‘˜å¯ä»¥è°ƒåº¦çš„æœºå™¨èµ„æºè¿˜æ˜¯å¾ˆå……æ²›çš„ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å´ç§‘ğŸ€  2020-04-28 09:03:22
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œå…³äºç”¨mqå®ç°æ•°æ®åº“åŒæ­¥çš„é—®é¢˜ï¼Œå¦‚æœè¦æ±‚æ•°æ®å¼ºä¸€ç›´éƒ½ä¸šåŠ¡åœºæ™¯å¾ˆéš¾å®ç°å•Šï¼Œæ¯”å¦‚ç§’æ€ï¼Œé€šè¿‡mqåŒæ­¥ä¸åŠæ—¶ï¼Œç”¨æˆ·ä¼šæŸ¥åˆ°ä¸åŒçš„åº“å­˜ï¼Œé€ æˆå¤šå–çš„æƒ…å†µå‘¢ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æˆ‘æ¥ä¹Ÿ  2020-04-27 14:43:48
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            æ„Ÿè§‰ç°åœ¨çš„å­¦ä¹ é—¨æ§›è¶Šæ¥è¶Šé«˜äº†.ğŸ˜<br><br>0.è¦æœ‰è‡ªå·±çš„åŸŸå,æœ€å¥½è¿˜æ˜¯å¤‡æ¡ˆè¿‡çš„.<br>1.éœ€è¦ä¼šæ’æŸ¥ä¾èµ–åŒ…ç¼ºå¤±çš„é—®é¢˜.<br>2.éœ€è¦ä¼šå¼€é€šç®€å•çš„äº‘æœåŠ¡.<br>3.éœ€è¦ä¼šé…ç½®è®¿é—®ç§˜é’¥åŠæˆæƒ.<br>4.è¿˜è¦ä¼šé…ç½®å‡½æ•°è®¡ç®—çš„æ—¥å¿—,è¿˜éœ€è¦ä¼šçœ‹.<br><br>-----------------<br>æœ‰ä¸ªç–‘é—®å’¨è¯¢ä¸‹è€å¸ˆ:<br>å¦‚ä½•ç”¨ä¸€å¥—ä»£ç ä¸­çš„ä¸åŒå…¥å£æ–‡ä»¶éƒ¨ç½²å¤šä¸ªå‡½æ•°è®¡ç®—æœåŠ¡?<br><br>æˆ‘ç°åœ¨æ˜¯æŠŠä»£ç ä»“åº“æ•´ä¸ªæ‹·è´äº†ä¸€ä»½,<br>ä¸€ä¸ªæ˜¯`cp index-faas.js index.js`,<br>å¦ä¸€ä¸ª`cp rule-faas.js index.js`.<br>ç„¶åå†å¾®è°ƒä¸‹`template.yml`.<br><br>ç”±äºé»˜è®¤çš„è¿è¡Œæ—¶ç¯å¢ƒæŒ‡å®šäº†å…¥å£æ–‡ä»¶`index.js`,æˆ‘åªèƒ½ç”¨è¿™ä¸ªç¬¨åŠæ³•.<br>ä¸çŸ¥é“ç›®å‰æœ‰æ²¡æœ‰ä»€ä¹ˆç®€æ´çš„æ–¹å¼.<br>[æˆ‘ç›®å‰åªä¼šä½¿ç”¨funå‘½ä»¤è¡Œéƒ¨ç½²æœåŠ¡]<br> 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2020-04-28 09:17:46</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">ç›®å‰é˜¿é‡Œäº‘æœ‰ä¸ªäº‘å¼€å‘å¹³å°ï¼Œæ­£åœ¨å†…æµ‹ã€‚æœ€åä¸€è¯¾ã€‚æˆ‘ä¼šæ”¾å‡ºæ¥ç»™å¤§å®¶ä»‹ç»ã€‚<br>é—¨æ§›çš„ç¡®ä¼šè¶Šæ¥è¶Šé«˜ï¼Œå¸¦å¤§å®¶èµ°è¿›åˆ°serverlessçš„æ·±æ°´åŒºï¼Œå±‚å±‚æ·±å…¥ã€‚ç„¶åï¼Œå†å›å¤´çœ‹serverlessï¼Œä½ ä¼šæœ‰ä¸ä¸€æ ·çš„è§†é‡ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            ç”µå…‰ç«çŸ³  2020-04-27 12:30:29
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            è€å¸ˆå¥½ï¼Œåœ¨åå°æœåŠ¡baasåŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå…³äºæ•°æ®åº“è·Ÿä»¥å‰å¾®æœåŠ¡çš„æ–¹å¼æœ‰äº›ä¸ä¸€æ ·ï¼Œå¾®æœåŠ¡çš„å„ä¸ªèŠ‚ç‚¹æ˜¯å…±äº«æ•°æ®åº“çš„ï¼Œä½†æ˜¯baasåŒ–ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œè€Œä¸”æ•°æ®åº“çš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚è¿™æ ·æ˜¯å¦å¸¦æ¥2ä¸ªé—®é¢˜ï¼š<br>1. åœ¨æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€æ ·çš„æ•°æ®åº“ï¼Œæ˜¯å¦ä¼šä½¿å¾—æ•°æ®å­˜å‚¨é‡ä¼šç¿»å‡ å€ï¼Œæˆæœ¬ä¼šå¾ˆé«˜<br>2. åœ¨æ‰©å®¹çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œæ–°èŠ‚ç‚¹éœ€è¦å¤åˆ¶çš„æ•°æ®ä¹Ÿå¾ˆå¤šï¼Œå¯åŠ¨æ—¶é—´ä¼šéå¸¸çš„é•¿<br>3. æœ‰å¤šå°‘ä¸ªåº”ç”¨ï¼Œå°±æœ‰å¤šå°‘ä¸ªæ•°æ®åº“å®ä¾‹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”ç”¨çš„æ•°é‡ä¼šè¿œé«˜äºæ•°æ®åº“æœºå™¨çš„æ•°é‡ã€‚é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¼šä¸ä¼šå¯¼è‡´ç½‘ç»œå ç”¨å¾ˆé«˜ï¼Œæ€§èƒ½æ•´ä½“ä¸Šå‡<br>è¿˜æ˜¯è¯´è¿™ç§æ–¹æ¡ˆæœ¬èº«å°±ä¸é€‚åˆå¤§å¹¶å‘æˆ–è€…æ•°æ®é‡å¾ˆé«˜çš„åœºæ™¯ï¼Œè°¢è°¢äº†ï¼ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2020-04-27 14:36:08</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">å¾®æœåŠ¡æ ‡å‡†çš„åšæ³•æ˜¯ä¸€ä¸ªå¾®æœåŠ¡å®ä¾‹ç‹¬äº«ä¸€ä¸ªæ•°æ®åº“å®ä¾‹çš„ã€‚å½“ç„¶ä½ ä¸šåŠ¡é‡ä¸å¤§ï¼Œå¯ä»¥å¤šä¸ªå¾®æœåŠ¡å®ä¾‹å…±äº«ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚<br>å¾®æœåŠ¡æ¶æ„åœ¨dockeræµè¡Œåæ‰ç«ï¼Œå°±æ˜¯å› ä¸ºdockerå¯ä»¥è®©è®¡ç®—èµ„æºè¿›ä¸€æ­¥ç¢ç‰‡åŒ–ï¼Œæ‰€ä»¥æˆæœ¬å¹¶ä¸ä¼šå¾ˆé«˜ã€‚<br>æ•°æ®å®ä¾‹çš„å¯åŠ¨æ—¶ï¼Œé€šå¸¸æ˜¯å…ˆä»ç°æœ‰æ•°æ®åº“å‰¯æœ¬åˆ›å»ºï¼Œå†æ ¹æ®æ¶ˆæ¯é˜Ÿåˆ—åŒæ­¥åç»­æ•°æ®ã€‚å¯åŠ¨å®ä¾‹è¿‡ç¨‹æ˜¯ç§’çº§çš„ã€‚<br>å¾®æœåŠ¡æ¶æ„ï¼Œæœ¬èº«å°±æ˜¯é€šè¿‡æ‹†è§£å°†å¤æ‚çš„ä¸šåŠ¡é—®é¢˜å˜æˆä¸€ä¸ªä¸ªå°çš„èŒè´£å•ä¸€çš„å°æœåŠ¡ã€‚è¿ç»´çš„å¤æ‚åº¦ä¼šä¸Šå‡ï¼Œä½†æ˜¯æ•´ä½“æ€§èƒ½å¹¶ä¸ä¼šä¸‹é™å¤šå°‘ã€‚<br>ä½ å¯ä»¥æƒ³æƒ³ï¼Œç°åœ¨çš„äº¬ä¸œï¼Œæ·˜å®è¿™æ ·çš„ç½‘ç«™ï¼ŒèƒŒåéƒ½æ˜¯å¾®æœåŠ¡æ¶æ„çš„ã€‚å¦‚æœä½ ç”¨å•ä½“åº”ç”¨å¼€å‘è¿™ä¹ˆåºå¤§çš„ä¸€ä¸ªåº”ç”¨ï¼Œè¿™ä¹ˆå¤šå›¢é˜Ÿå’Œäººå‘˜å‚ä¸ï¼Œæ€ä¹ˆå»è¿ç»´å’Œå¼€å‘ã€‚</div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>