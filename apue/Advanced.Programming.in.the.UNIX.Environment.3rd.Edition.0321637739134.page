<div id="pf86" class="pf w4 h1f" data-page-no="86"><div class="pc pc86 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg86.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">100<span class="_ _1b"> </span><span class="ff19">Files <span class="_"> </span>and <span class="_"> </span>Directories <span class="_ _18d"> </span>Chapter<span class="_ _4b"> </span>4</span></div><div class="t m0 x32 h26 y12f ff19 fsf fc0 sc0 ls0 ws0">uses<span class="_ _59"> </span><span class="ff1a">o<span class="_ _59"> </span></span>to <span class="_"> </span>mean <span class="_"> </span>other<span class="_ _6"></span><span class="ls4a7">,n<span class="_ _4a"></span><span class="ls0">ot <span class="_"> </span>owner<span class="_ _6"></span><span class="ls4a8">.W<span class="_ _56"></span><span class="ls0">e’ll <span class="_"> </span>use <span class="_"> </span>the <span class="_"> </span>terms<span class="_ _4b"> </span><span class="ff1b">user</span>,<span class="_ _46"> </span><span class="ff1b">group</span><span class="ls4a9">,a<span class="_ _5b"></span><span class="ls0">nd<span class="_ _46"> </span><span class="ff1b">other</span>,<span class="_ _59"> </span>to<span class="_ _59"> </span>be</span></span></span></span></span></span></div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">consistent with the<span class="_"> </span><span class="ff1a">chmod<span class="_ _80"> </span></span>command.</div><div class="t m0 x3f h2a y131 ff19 fsf fc0 sc0 ls0 ws0">The <span class="_ _23"></span>three <span class="_ _9"></span>categories <span class="_ _23"> </span>in <span class="_ _23"> </span>Figur<span class="ls4aa">e4<span class="_ _43"></span><span class="ls0">.6 <span class="_ _a"></span>— <span class="_ _4"></span>r<span class="_ _0"></span>ead, <span class="_ _23"></span>write, <span class="_ _23"></span>and <span class="_ _23"></span>execute<span class="_ _3"></span><span class="ls9d">—a<span class="_ _1"></span><span class="ls45">re <span class="_ _42"> </span>u<span class="ls0">sed <span class="_ _23"> </span>in <span class="_ _23"> </span>various</span></span></span></span></span></div><div class="t m0 x32 h2a y132 ff19 fsf fc0 sc0 ls0 ws0">ways <span class="_ _3"></span>by <span class="_ _9"></span>differ<span class="_ _1"></span>ent <span class="_ _9"></span>functions.<span class="_ _16"> </span><span class="ls5f">We<span class="_ _23"></span></span>’ll <span class="_ _3"></span>summarize <span class="_ _3"></span>them <span class="_ _9"></span>here, <span class="_ _3"></span>and <span class="_ _3"></span>return <span class="_ _3"></span>to <span class="_ _3"></span>them <span class="_ _9"></span>when <span class="_ _3"></span>we</div><div class="t m0 x32 h2a y133 ff19 fsf fc0 sc0 ls0 ws0">describe the actual functions.</div><div class="t m0 x32 h2b y31e ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he <span class="_ _23"></span>ﬁrst <span class="_ _23"></span>rule <span class="_ _9"></span>is <span class="_ _23"> </span>that<span class="_ _35"> </span><span class="ff1b">whenever<span class="_ _45"> </span></span>we <span class="_ _23"> </span>want <span class="_ _23"> </span>to <span class="_ _23"></span>open <span class="_ _23"></span>any <span class="_ _23"></span>type <span class="_ _23"></span>of <span class="_ _9"></span>ﬁle <span class="_ _23"> </span>by <span class="_ _23"> </span>name, <span class="_ _23"> </span>we <span class="_ _23"></span>must</span></div><div class="t m0 x20 h2a y31f ff19 fsf fc0 sc0 ls0 ws0">have <span class="_ _53"> </span>execute <span class="_ _e"> </span>permission <span class="_ _53"> </span>in <span class="_ _e"> </span>each <span class="_ _53"> </span>directory <span class="_ _53"> </span>mentioned <span class="_ _53"> </span>in <span class="_ _e"> </span>the <span class="_ _53"> </span>name, <span class="_ _e"> </span>including <span class="_ _53"> </span>the</div><div class="t m0 x20 h2a y320 ff19 fsf fc0 sc0 ls0 ws0">current <span class="_"> </span>dir<span class="_ _0"></span>ectory<span class="_ _4"></span>,<span class="_ _46"> </span>if<span class="_ _46"> </span>it<span class="_ _46"> </span>is<span class="_ _46"> </span>implied. <span class="_ _46"> </span>This<span class="_ _46"> </span>is <span class="_"> </span>why <span class="_"> </span>the <span class="_ _66"> </span>execute <span class="_"> </span>permission <span class="_"> </span>bit <span class="_ _66"> </span>for <span class="_"> </span>a</div><div class="t m0 x20 h2a y321 ff19 fsf fc0 sc0 ls0 ws0">directory is often called the sear<span class="_ _0"></span>ch bit.</div><div class="t m0 x20 h26 ye9d ff19 fsf fc0 sc0 ls0 ws0">For <span class="_ _61"> </span>example, <span class="_ _61"> </span>to <span class="_ _16"> </span>open <span class="_ _61"> </span>the <span class="_ _16"> </span>ﬁle<span class="_ _50"> </span><span class="ff1a">/usr/include/stdio.h</span>,<span class="_ _5f"> </span>we<span class="_ _50"> </span>need <span class="_ _16"> </span>execute</div><div class="t m0 x20 h26 ye9e ff19 fsf fc0 sc0 ls0 ws0">permission in the directory<span class="_"> </span><span class="ff1a">/</span><span class="ls4ab">,e<span class="_ _5b"></span><span class="ls0">xecute permission in the directory<span class="_"> </span><span class="ff1a">/usr</span><span class="ls4ac">,a<span class="_ _d"></span><span class="ls0">nd execute</span></span></span></span></div><div class="t m0 x20 h26 ye9f ff19 fsf fc0 sc0 ls0 ws0">permission <span class="_ _9"></span>in <span class="_ _3"></span>the <span class="_ _9"></span>directory<span class="_ _45"> </span><span class="ff1a">/usr/include</span><span class="ls4ad">.W<span class="_ _52"></span><span class="ls4ae">et<span class="_ _b"></span><span class="ls0">hen <span class="_ _9"></span>need <span class="_ _3"></span>appropriate <span class="_ _9"></span>permission</span></span></span></div><div class="t m0 x20 h2a yea0 ff19 fsf fc0 sc0 ls0 ws0">for <span class="_ _9"></span>the <span class="_ _23"> </span>ﬁle <span class="_ _23"></span>itself, <span class="_ _9"></span>depending <span class="_ _23"> </span>on <span class="_ _23"></span>how <span class="_ _9"></span>we’r<span class="ls242">et<span class="_ _b"></span><span class="ls0">rying <span class="_ _9"></span>to <span class="_ _23"></span>open <span class="_ _9"></span>it: <span class="_ _23"></span>read-only<span class="_ _4"></span><span class="ls242">,r<span class="_ _43"></span><span class="ls0">ead–write,</span></span></span></span></div><div class="t m0 x20 h2a yea1 ff19 fsf fc0 sc0 ls0 ws0">and so on.</div><div class="t m0 x20 h26 y38c ff19 fsf fc0 sc0 ls0 ws0">If <span class="_ _9"></span>the <span class="_ _9"></span>current <span class="_ _9"></span>directory <span class="_ _9"></span>is<span class="_ _45"> </span><span class="ff1a">/usr/include</span><span class="ls4af">,t<span class="_ _b"></span><span class="ls0">hen <span class="_ _9"></span>we <span class="_ _9"></span>need <span class="_ _23"></span>execute <span class="_ _9"></span>permission <span class="_ _9"></span>in <span class="_ _23"></span>the</span></span></div><div class="t m0 x20 h26 y38d ff19 fsf fc0 sc0 ls0 ws0">current <span class="_"> </span>directory <span class="_"> </span>to <span class="_ _66"> </span>open <span class="_ _47"> </span>the <span class="_"> </span>ﬁle<span class="_ _61"> </span><span class="ff1a">stdio.h</span><span class="ls4b0">.T<span class="_ _49"></span><span class="ls0">his <span class="_ _66"> </span>is <span class="_ _47"> </span>an <span class="_"> </span>example <span class="_ _47"> </span>of <span class="_"> </span>the <span class="_ _47"> </span>curr<span class="_ _0"></span>ent</span></span></div><div class="t m0 x20 h2a y5d8 ff19 fsf fc0 sc0 ls0 ws0">directory being implied, not speciﬁcally mentioned.<span class="_ _59"> </span>It is <span class="_ _2"></span>identical to our opening the</div><div class="t m0 x20 h26 y5d9 ff19 fsf fc0 sc0 ls0 ws0">ﬁle<span class="_"> </span><span class="ff1a">./stdio.h</span>.</div><div class="t m0 x20 h2a yea2 ff19 fsf fc0 sc0 ls0 ws0">Note <span class="_ _53"> </span>that <span class="_ _53"> </span>read <span class="_ _42"> </span>permission <span class="_ _53"> </span>for <span class="_ _53"> </span>a <span class="_ _53"> </span>directory <span class="_ _53"> </span>and <span class="_ _53"> </span>execute <span class="_ _53"> </span>permission <span class="_ _53"> </span>for <span class="_ _53"> </span>a <span class="_ _53"> </span>directory</div><div class="t m0 x20 h2a yea3 ff19 fsf fc0 sc0 ls0 ws0">mean <span class="_ _2"></span>different <span class="_ _2"></span>things.<span class="_ _61"> </span>Read <span class="_ _3"></span>permission <span class="_ _3"></span>lets <span class="_ _2"></span>us <span class="_ _3"></span>read <span class="_ _2"></span>the <span class="_ _3"></span>directory<span class="_ _4"></span><span class="ls4b1">,o<span class="_ _8"></span><span class="ls0">btaining <span class="_ _3"></span>a <span class="_ _3"></span>list <span class="_ _2"></span>of</span></span></div><div class="t m0 x20 h2a yea4 ff19 fsf fc0 sc0 ls0 ws0">all <span class="_"> </span>the <span class="_ _47"> </span>ﬁlenames <span class="_ _66"> </span>in <span class="_ _66"> </span>the <span class="_ _47"> </span>directory<span class="_ _4"></span><span class="ls4b2">.E<span class="_ _49"></span><span class="ls0">xecute <span class="_"> </span>permission <span class="_ _47"> </span>lets <span class="_"> </span>us <span class="_ _47"> </span>pass <span class="_"> </span>through <span class="_ _66"> </span>the</span></span></div><div class="t m0 x20 h2a yea5 ff19 fsf fc0 sc0 ls0 ws0">directory <span class="_ _9"></span>when <span class="_ _23"></span>it <span class="_ _23"></span>is <span class="_ _23"></span>a <span class="_ _9"></span>component <span class="_ _23"> </span>of <span class="_ _23"> </span>a <span class="_ _23"></span>pathname <span class="_ _23"></span>that <span class="_ _9"></span>we <span class="_ _23"> </span>ar<span class="ls4b3">et<span class="_ _43"></span><span class="ls0">rying <span class="_ _23"> </span>to <span class="_ _23"> </span>access.<span class="_ _51"> </span>(W<span class="_ _6"></span>e</span></span></div><div class="t m0 x20 h2a yea6 ff19 fsf fc0 sc0 ls0 ws0">need to search the dir<span class="_ _0"></span>ectory to look for a speciﬁc ﬁlename.)</div><div class="t m0 x20 h26 yea7 ff19 fsf fc0 sc0 ls0 ws0">Another <span class="_ _66"> </span>example <span class="_ _47"> </span>of <span class="_"> </span>an <span class="_ _47"> </span>implicit <span class="_ _66"> </span>directory <span class="_ _66"> </span>reference <span class="_"> </span>is <span class="_ _66"> </span>if <span class="_ _47"> </span>the<span class="_ _61"> </span><span class="ff1a">PATH<span class="_ _61"> </span></span>environment</div><div class="t m0 x20 h2a yea8 ff19 fsf fc0 sc0 ls0 ws0">variable, <span class="_ _23"></span>described <span class="_ _9"></span>in <span class="_ _23"> </span>Section <span class="_ _23"> </span>8.10, <span class="_ _23"></span>speciﬁes <span class="_ _23"></span>a <span class="_ _9"></span>directory <span class="_ _23"></span>that <span class="_ _23"></span>does <span class="_ _9"></span>not <span class="_ _23"> </span>have <span class="_ _23"> </span>execute</div><div class="t m0 x20 h2a yea9 ff19 fsf fc0 sc0 ls0 ws0">permission <span class="_ _42"> </span>enabled.<span class="_ _54"> </span>In <span class="_ _53"> </span>this <span class="_ _42"> </span>case, <span class="_ _53"> </span>the <span class="_ _42"> </span>shell <span class="_ _53"> </span>will <span class="_ _42"> </span>never <span class="_ _53"> </span>ﬁnd <span class="_ _42"> </span>executable <span class="_ _53"> </span>ﬁles <span class="_ _42"> </span>in <span class="_ _53"> </span>that</div><div class="t m0 x20 h2a yeaa ff19 fsf fc0 sc0 ls0 ws0">directory<span class="_ _4"></span>.</div><div class="t m0 x32 h2a yeab ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he <span class="_ _9"></span>read <span class="_ _9"></span>permission <span class="_ _23"></span>for <span class="_ _9"></span>a <span class="_ _23"></span>ﬁle <span class="_ _9"></span>determines <span class="_ _23"> </span>whether <span class="_ _23"></span>we <span class="_ _9"></span>can <span class="_ _23"></span>open <span class="_ _9"></span>an <span class="_ _23"></span>existing <span class="_ _9"></span>ﬁle <span class="_ _23"></span>for</span></div><div class="t m0 x20 h26 yeac ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">ading: the<span class="_"> </span><span class="ff1a">O_RDONLY<span class="_ _66"> </span></span>and<span class="_"> </span><span class="ff1a">O_RDWR<span class="_ _80"> </span></span>ﬂags for the<span class="_"> </span><span class="ff1a">open<span class="_ _66"> </span></span>function.</span></div><div class="t m0 x32 h2a yead ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he <span class="_ _3"></span>write <span class="_ _9"></span>permission <span class="_ _9"></span>for <span class="_ _9"></span>a <span class="_ _9"></span>ﬁle <span class="_ _3"></span>determines <span class="_ _9"></span>whether <span class="_ _9"></span>we <span class="_ _9"></span>can <span class="_ _9"></span>open <span class="_ _3"></span>an <span class="_ _9"></span>existing <span class="_ _9"></span>ﬁle <span class="_ _9"></span>for</span></div><div class="t m0 x20 h26 yeae ff19 fsf fc0 sc0 ls0 ws0">writing: the<span class="_"> </span><span class="ff1a">O_WRONLY<span class="_ _80"> </span></span>and<span class="_"> </span><span class="ff1a">O_RDWR<span class="_ _66"> </span></span>ﬂags for the<span class="_"> </span><span class="ff1a">open<span class="_ _80"> </span></span>function.</div><div class="t m0 x32 h26 y170 ff19 fsf fc0 sc0 ls49 ws0">•W<span class="_ _4e"></span><span class="ls4b4">em<span class="_ _b"></span><span class="ls0">ust <span class="_ _23"></span>have <span class="_ _9"></span>write <span class="_ _23"> </span>permission <span class="_ _23"> </span>for <span class="_ _23"></span>a <span class="_ _23"></span>ﬁle <span class="_ _23"></span>to <span class="_ _9"></span>specify <span class="_ _23"> </span>the<span class="_ _35"> </span><span class="ff1a">O_TRUNC<span class="_ _45"> </span></span>ﬂag <span class="_ _23"> </span>in <span class="_ _23"> </span>the<span class="_ _35"> </span><span class="ff1a">open</span></span></span></div><div class="t m0 x20 h2a yeaf ff19 fsf fc0 sc0 ls0 ws0">function.</div><div class="t m0 x32 h2a yeb0 ff19 fsf fc0 sc0 ls49 ws0">•W<span class="_ _4e"></span><span class="ls4b5">ec<span class="_ _c"></span><span class="ls0">annot <span class="_ _53"> </span>create <span class="_ _53"> </span>a <span class="_ _e"> </span>new <span class="_ _53"> </span>ﬁle <span class="_ _e"> </span>in <span class="_ _53"> </span>a <span class="_ _e"> </span>directory <span class="_ _42"> </span>unless <span class="_ _e"> </span>we <span class="_ _53"> </span>have <span class="_ _e"> </span>write <span class="_ _53"> </span>permission <span class="_ _e"> </span>and</span></span></div><div class="t m0 x20 h2a y219 ff19 fsf fc0 sc0 ls0 ws0">execute permission in the directory<span class="_ _4"></span>.</div><div class="t m0 x32 h2a yeb1 ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4e"></span><span class="ls4b6">od<span class="_ _b"></span><span class="ls0">elete <span class="_ _23"></span>an <span class="_ _9"></span>existing <span class="_ _23"> </span>ﬁle, <span class="_ _23"></span>we <span class="_ _23"></span>need <span class="_ _9"></span>write <span class="_ _23"> </span>permission <span class="_ _23"> </span>and <span class="_ _23"></span>execute <span class="_ _23"></span>permission <span class="_ _9"></span>in <span class="_ _23"> </span>the</span></span></div><div class="t m0 x20 h2a yeb2 ff19 fsf fc0 sc0 ls0 ws0">directory <span class="_ _9"></span>containing <span class="_ _23"></span>the <span class="_ _9"></span>ﬁle.<span class="_ _51"> </span><span class="ls5f">We <span class="_ _47"> </span>d<span class="_ _9"></span><span class="ls4b7">on<span class="_ _b"></span><span class="ls0">ot <span class="_ _9"></span>need <span class="_ _23"></span>read <span class="_ _9"></span>permission <span class="_ _23"></span>or <span class="_ _23"></span>write <span class="_ _9"></span>permission</span></span></span></div><div class="t m0 x20 h2a yeb3 ff19 fsf fc0 sc0 ls0 ws0">for the ﬁle itself.</div><div class="t m0 x32 h2a yeb4 ff19 fsf fc0 sc0 ls49 ws0">•E<span class="_ _4d"></span><span class="ls0">xecute <span class="_ _3"></span>permission <span class="_ _9"></span>for <span class="_ _9"></span>a <span class="_ _3"></span>ﬁle <span class="_ _9"></span>must <span class="_ _3"></span>be <span class="_ _9"></span>on <span class="_ _9"></span>if <span class="_ _3"></span>we <span class="_ _9"></span>want <span class="_ _9"></span>to <span class="_ _3"></span>execute <span class="_ _9"></span>the <span class="_ _3"></span>ﬁle <span class="_ _9"></span>using <span class="_ _9"></span>any <span class="_ _3"></span>of</span></div><div class="t m0 x20 h26 yeb5 ff19 fsf fc0 sc0 ls0 ws0">the seven<span class="_"> </span><span class="ff1a">exec<span class="_ _80"> </span></span>functions (Section 8.10).<span class="_ _46"> </span>The ﬁle also has to be a regular ﬁle.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
