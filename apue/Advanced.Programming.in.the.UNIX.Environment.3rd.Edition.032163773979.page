<div id="pf4f" class="pf w4 h1f" data-page-no="4f"><div class="pc pc4f w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg4f.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>2.5<span class="_ _c2"> </span>Limits<span class="_ _1b"> </span><span class="ff18">45</span></div><div class="t m0 x8a h57 y425 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;{\n&quot;)</div><div class="t m0 x8a h57 y426 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tif (argc != 2)\n&quot;)</div><div class="t m0 x8a h57 y800 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\terr_quit(\&quot;usage: a.out &lt;dirname&gt;\&quot;);\n\n&quot;)</div><div class="t m0 x8a h57 y801 ff1a fs2d fc0 sc0 ls0 ws0">FS=&quot;\t+&quot;</div><div class="t m0 x8a h57 y802 ff1a fs2d fc0 sc0 ls0 ws0">while (getline &lt;&quot;sysconf.sym&quot; &gt; 0) {</div><div class="t m0 x9d h57 y803 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#ifdef %s\n&quot;, $1)</div><div class="t m0 x9d h57 y804 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tprintf(\&quot;%s defined to be %%ld\\n\&quot;, (long)%s+0);\n&quot;,</div><div class="t m0 xb1 h57 y805 ff1a fs2d fc0 sc0 ls0 ws0">$1, $1)</div><div class="t m0 x9d h57 y806 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#else\n&quot;)</div><div class="t m0 x9d h57 y807 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tprintf(\&quot;no symbol for %s\\n\&quot;);\n&quot;, $1)</div><div class="t m0 x9d h57 y808 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#endif\n&quot;)</div><div class="t m0 x9d h57 y809 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#ifdef %s\n&quot;, $2)</div><div class="t m0 x9d h57 y80a ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tpr_sysconf(\&quot;%s =\&quot;, %s);\n&quot;, $1, $2)</div><div class="t m0 x9d h57 y80b ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#else\n&quot;)</div><div class="t m0 x9d h57 y80c ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tprintf(\&quot;no symbol for %s\\n\&quot;);\n&quot;, $2)</div><div class="t m0 x9d h57 y80d ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#endif\n&quot;)</div><div class="t m0 x8a h57 y80e ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x8a h57 y80f ff1a fs2d fc0 sc0 ls0 ws0">close(&quot;sysconf.sym&quot;)</div><div class="t m0 x8a h57 y810 ff1a fs2d fc0 sc0 ls0 ws0">while (getline &lt;&quot;pathconf.sym&quot; &gt; 0) {</div><div class="t m0 x9d h57 y811 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#ifdef %s\n&quot;, $1)</div><div class="t m0 x9d h57 y812 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tprintf(\&quot;%s defined to be %%ld\\n\&quot;, (long)%s+0);\n&quot;,</div><div class="t m0 x1f h57 y813 ff1a fs2d fc0 sc0 ls0 ws0">$1, $1)</div><div class="t m0 x9d h57 y814 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#else\n&quot;)</div><div class="t m0 x9d h57 y815 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tprintf(\&quot;no symbol for %s\\n\&quot;);\n&quot;, $1)</div><div class="t m0 x9d h57 y816 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#endif\n&quot;)</div><div class="t m0 x9d h57 y817 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#ifdef %s\n&quot;, $2)</div><div class="t m0 x9d h57 y818 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tpr_pathconf(\&quot;%s =\&quot;, argv[1], %s);\n&quot;, $1, $2)</div><div class="t m0 x9d h57 y819 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#else\n&quot;)</div><div class="t m0 x9d h57 y81a ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tprintf(\&quot;no symbol for %s\\n\&quot;);\n&quot;, $2)</div><div class="t m0 x9d h57 y81b ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;#endif\n&quot;)</div><div class="t m0 x8a h57 y81c ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x8a h57 y81d ff1a fs2d fc0 sc0 ls0 ws0">close(&quot;pathconf.sym&quot;)</div><div class="t m0 x8a h57 y81e ff1a fs2d fc0 sc0 ls0 ws0">exit</div><div class="t m0 x32 h57 y81f ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y820 ff1a fs2d fc0 sc0 ls0 ws0">END {</div><div class="t m0 x8a h57 y821 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\texit(0);\n&quot;)</div><div class="t m0 x8a h57 y822 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;}\n\n&quot;)</div><div class="t m0 x8a h57 y823 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;static void\n&quot;)</div><div class="t m0 x8a h57 y824 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;pr_sysconf(char *mesg, int name)\n&quot;)</div><div class="t m0 x8a h57 y825 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;{\n&quot;)</div><div class="t m0 x8a h57 y826 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tlong <span class="_"> </span>val;\n\n&quot;)</div><div class="t m0 x8a h57 y827 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tfputs(mesg, stdout);\n&quot;)</div><div class="t m0 x8a h57 y828 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\terrno = 0;\n&quot;)</div><div class="t m0 x8a h57 y829 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\tif ((val = sysconf(name)) &lt; 0) {\n&quot;)</div><div class="t m0 x8a h57 y82a ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\tif (errno != 0) {\n&quot;)</div><div class="t m0 x8a h57 y82b ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\t\tif (errno == EINVAL)\n&quot;)</div><div class="t m0 x8a h57 y82c ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\t\t\tfputs(\&quot; (not supported)\\n\&quot;, stdout);\n&quot;)</div><div class="t m0 x8a h57 y82d ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\t\telse\n&quot;)</div><div class="t m0 x8a h57 y82e ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\t\t\terr_sys(\&quot;sysconf error\&quot;);\n&quot;)</div><div class="t m0 x8a h57 y82f ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\t} else {\n&quot;)</div><div class="t m0 x8a h57 y830 ff1a fs2d fc0 sc0 ls0 ws0">printf(&quot;\t\t\tfputs(\&quot; (no limit)\\n\&quot;, stdout);\n&quot;)</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
