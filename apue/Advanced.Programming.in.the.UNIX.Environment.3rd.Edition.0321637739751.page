<div id="pf2ef" class="pf w4 h1f" data-page-no="2ef"><div class="pc pc2ef w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg2ef.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>19.2<span class="_ _2e2"> </span>Overview<span class="_ _1b"> </span><span class="ff18">717</span></div><div class="t m0 x1f9 h51 y52b2 ff19 fs2a fc0 sc0 ls0 ws0">stream head</div><div class="t m0 x94 h5e y528a ff1a fs10 fc0 sc0 ls0 ws0">ttcompat</div><div class="t m0 xaf h2d y52b3 ff19 fs39 fc0 sc0 ls0 ws0">STREAMS<span class="_"> </span><span class="fs10">module</span></div><div class="t m0 x19c h4f y528c ff1a fs11 fc0 sc0 ls0 ws0">ldterm</div><div class="t m0 xaf h2e y52b4 ff19 fs3f fc0 sc0 ls0 ws0">STREAMS<span class="_ _53"> </span><span class="fs11">module</span></div><div class="t m0 x177 h6d y52b5 ff1a fs12 fc0 sc0 ls0 ws0">ptem</div><div class="t m0 xaf h2f y52b6 ff19 fs40 fc0 sc0 ls0 ws0">STREAMS<span class="_ _53"> </span><span class="fs12">module</span></div><div class="t m0 x179 h30 y52b7 ff19 fs13 fc0 sc0 ls0 ws0">pseudo terminal</div><div class="t m0 x187 h30 y52b8 ff19 fs13 fc0 sc0 ls0 ws0">slave</div><div class="t m0 x7 h31 y52b9 ff19 fs14 fc0 sc0 ls0 ws0">pseudo terminal</div><div class="t m0 xac h31 y52ba ff19 fs14 fc0 sc0 ls0 ws0">master</div><div class="t m0 x17c h66 y52bb ff1a fs15 fc0 sc0 ls0 ws0">pckt</div><div class="t m0 x1d2 h32 y52bc ff19 fs3d fc0 sc0 ls0 ws0">STREAMS<span class="_"> </span><span class="fs15">module</span></div><div class="t m0 xee h33 y52bd ff19 fs16 fc0 sc0 ls0 ws0">stream head</div><div class="t m0 x202 h83 y52be ff19 fs36 fc0 sc0 ls0 ws0">user</div><div class="t m0 x225 h83 y52bf ff19 fs36 fc0 sc0 ls0 ws0">process</div><div class="t m0 x19b h34 y52c0 ff19 fs17 fc0 sc0 ls0 ws0">user</div><div class="t m0 x17f h34 y52c1 ff19 fs17 fc0 sc0 ls0 ws0">process</div><div class="t m0 x45 hd4 y52c2 ff1a fs18 fc0 sc0 ls0 ws0">fork</div><div class="t m0 x45 hd4 y52c3 ff1a fs18 fc0 sc0 ls0 ws0">exec</div><div class="t m0 x178 h176 y52c4 ff1b fs86 fc0 sc0 ls0 ws0">stdin, stdout, stderr</div><div class="t m0 xbb h177 y52c5 ff19 fsc2 fc0 sc0 ls0 ws0">kernel</div><div class="t m0 x126 h177 y52c6 ff18 fsc2 fc0 sc0 ls0 ws0">Figure 19.2<span class="_ _5a"> </span><span class="ff19">Arrangement of pseudo terminals under Solaris</span></div><div class="t m0 x3f h178 y52c7 ff19 fsc3 fc0 sc0 ls0 ws0">From <span class="_ _9"></span>this <span class="_ _9"></span>point <span class="_ _23"></span>on, <span class="_ _9"></span>we’ll <span class="_ _23"></span>simplify <span class="_ _9"></span>the <span class="_ _23"> </span>ﬁgures <span class="_ _9"></span>by <span class="_ _23"></span>not <span class="_ _9"></span>showing <span class="_ _23"></span>the <span class="_ _9"></span>‘‘r<span class="_ _0"></span>ead <span class="_ _9"></span>and <span class="_ _23"></span>write</div><div class="t m0 x32 h178 y52c8 ff19 fsc3 fc0 sc0 ls0 ws0">functions’<span class="_ _0"></span><span class="ls155f">’f<span class="_ _b"></span><span class="ls1560">ro<span class="ls155f">mF<span class="_ _b"></span><span class="ls0">igur<span class="_ _0"></span><span class="ls155f">e1<span class="_ _b"></span><span class="ls0">9.1 <span class="_ _9"></span>or <span class="_ _9"></span>the <span class="_ _23"></span>‘<span class="_ _0"></span>‘stream <span class="_ _9"></span>head’<span class="_ _1"></span><span class="ls1561">’f<span class="_ _b"></span><span class="ls1560">ro<span class="_ _2"></span><span class="ls1561">mF<span class="_ _b"></span><span class="ls0">igur<span class="_ _0"></span><span class="ls1561">e1<span class="_ _b"></span><span class="ls0">9.2. <span class="_ _45"> </span>W<span class="_ _6"></span>e’ll <span class="_ _9"></span>also <span class="_ _23"></span>use <span class="_ _9"></span>the</span></span></span></span></span></span></span></span></span></span></span></span></div><div class="t m0 x32 h178 y52c9 ff19 fsc3 fc0 sc0 ls0 ws0">abbreviation <span class="_ _9"></span>PTY <span class="_ _9"></span>for <span class="_ _23"></span>pseudo <span class="_ _9"></span>terminal <span class="_ _23"></span>and <span class="_ _9"></span>lump <span class="_ _9"></span>all <span class="_ _23"></span>the <span class="_ _9"></span>STREAMS <span class="_ _23"></span>modules <span class="_ _9"></span>above <span class="_ _23"></span>the</div><div class="t m0 x32 h178 y52ca ff19 fsc3 fc0 sc0 ls0 ws0">slave PTY in Figur<span class="ls1562">e1<span class="_ _4f"></span><span class="ls0">9.2 into a box called ‘‘terminal line discipline,’<span class="_ _1"></span>’<span class="_"> </span>as<span class="_"> </span>in<span class="_"> </span>Figur<span class="ls1562">e1<span class="_ _d"></span><span class="ls0">9.1.</span></span></span></span></div><div class="t m0 x3f h178 y52cb ff19 fsc3 fc0 sc0 ls1563 ws0">We<span class="_ _9"></span><span class="ls0">’ll now examine some of the typical uses of pseudo terminals.</span></div><div class="t m0 x35 h179 y52cc ff16 fsc3 fc0 sc0 ls0 ws0">Network Login Servers</div><div class="t m0 x32 h178 y52cd ff19 fsc3 fc0 sc0 ls0 ws0">Pseudo <span class="_ _45"> </span>terminals <span class="_ _45"> </span>ar<span class="_ _0"></span><span class="ls1564">eb<span class="_ _62"></span><span class="ls0">uilt <span class="_ _45"> </span>into <span class="_ _45"> </span>servers <span class="_ _45"> </span>that <span class="_ _47"> </span>provide <span class="_ _45"> </span>network <span class="_ _45"> </span>logins.<span class="_ _5f"> </span>The <span class="_ _45"> </span>typical</span></span></div><div class="t m0 x32 h17a y52ce ff19 fsc3 fc0 sc0 ls0 ws0">examples <span class="_ _3"></span>ar<span class="ls1565">et<span class="_ _b"></span><span class="ls0">he<span class="_ _45"> </span><span class="ff1a">telnetd<span class="_ _45"> </span></span>and<span class="_ _47"> </span><span class="ff1a">rlogind<span class="_ _45"> </span></span>servers. <span class="_ _47"> </span>Chapter<span class="_ _45"> </span>15 <span class="_ _3"></span>of <span class="_ _9"></span>Stevens</span></span></div><div class="t m0 x236 h178 y52cf ff19 fsc3 fc0 sc0 ls0 ws0">[</div><div class="t m0 x237 h178 y52ce ff19 fsc3 fc0 sc0 ls0 ws0">1990</div><div class="t m0 x16d h178 y52cf ff19 fsc3 fc0 sc0 ls0 ws0">]</div><div class="t m0 x21e h178 y52ce ff19 fsc3 fc0 sc0 ls0 ws0">details</div><div class="t m0 x32 h17a y52d0 ff19 fsc3 fc0 sc0 ls0 ws0">the steps <span class="_ _2"></span>involved <span class="_ _2"></span>in <span class="_ _2"></span>the<span class="_ _66"> </span><span class="ff1a">rlogin<span class="_ _66"> </span></span>service. <span class="_ _47"> </span>Once<span class="_"> </span>the <span class="_ _2"></span>login <span class="_ _2"></span>shell <span class="_ _2"></span>is running <span class="_ _2"></span>on <span class="_ _2"></span>the <span class="_ _2"></span>remote</div><div class="t m0 x32 h178 y52d1 ff19 fsc3 fc0 sc0 ls0 ws0">host, <span class="_ _2"></span>we <span class="_ _2"></span>have <span class="_ _2"></span>the <span class="_ _2"></span>arrangement <span class="_ _3"></span>shown <span class="_ _2"></span>in <span class="_ _2"></span>Figur<span class="ls1566">e1<span class="_ _4f"></span><span class="ls0">9.3. <span class="_ _66"> </span>A<span class="_ _47"> </span>similar <span class="_ _2"></span>arrangement <span class="_ _2"></span>is <span class="_ _2"></span>used <span class="_ _2"></span>by</span></span></div><div class="t m0 x32 h17a y52d2 ff19 fsc3 fc0 sc0 ls0 ws0">the<span class="_"> </span><span class="ff1a">telnetd<span class="_ _80"> </span></span>server<span class="_ _1"></span>.</div><div class="t m0 x3f h17a y52d3 ff19 fsc3 fc0 sc0 ls1563 ws0">We <span class="_ _4b"> </span>s<span class="_ _9"></span><span class="ls0">how <span class="_ _66"> </span>two <span class="_ _47"> </span>calls <span class="_"> </span>to<span class="_ _61"> </span><span class="ff1a">exec<span class="_ _46"> </span></span>between <span class="_ _47"> </span>the<span class="_ _46"> </span><span class="ff1a">rlogind<span class="_ _46"> </span></span>server <span class="_ _47"> </span>and <span class="_"> </span>the <span class="_ _66"> </span>login <span class="_ _47"> </span>shell,</span></div><div class="t m0 x32 h17a y52d4 ff19 fsc3 fc0 sc0 ls0 ws0">because the<span class="_"> </span><span class="ff1a">login<span class="_ _80"> </span></span>program is usually between the two to validate the user<span class="_ _6"></span>.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
