<div id="pf101" class="pf w4 h1f" data-page-no="101"><div class="pc pc101 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg101.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h7a ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>7.1<span class="_ _1"></span>1<span class="_ _21a"> </span><span class="ff1a">getrlimit<span class="_ _4b"> </span></span>and<span class="_ _4b"> </span><span class="ff1a">setrlimit<span class="_ _4b"> </span></span>Functions<span class="_ _1b"> </span><span class="ff18">223</span></div><div class="t m0 x32 h2a y12f ff19 fsf fc0 sc0 ls0 ws0">implementations, <span class="_ _9"></span>we <span class="_ _9"></span>have <span class="_ _3"></span>conditionally <span class="_ _9"></span>included <span class="_ _9"></span>the <span class="_ _9"></span>resource <span class="_ _3"></span>names <span class="_ _9"></span>that <span class="_ _9"></span>differ<span class="_ _6"></span><span class="ls8ff">.N<span class="_ _62"></span><span class="ls0">ote</span></span></div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">that <span class="_ _47"> </span>some <span class="_ _45"> </span>systems <span class="_ _47"> </span>deﬁne<span class="_ _16"> </span><span class="ff1a">rlim_t<span class="_ _16"> </span></span>to <span class="_ _47"> </span>be <span class="_ _45"> </span>an<span class="_ _61"> </span><span class="ff1a">unsigned long <span class="_ _1"></span>long<span class="_ _16"> </span><span class="ff19">instead <span class="_ _45"> </span>of <span class="_ _47"> </span>an</span></span></div><div class="t m0 x32 h26 y131 ff1a fsf fc0 sc0 ls0 ws0">unsigned <span class="_ _d"></span>long<span class="ff19 ls900">.T<span class="_ _26"></span><span class="ls0">his <span class="_ _23"></span>deﬁnition <span class="_ _23"></span>can <span class="_ _9"></span>even <span class="_ _23"></span>change <span class="_ _9"></span>on <span class="_ _23"></span>the <span class="_ _9"></span>same <span class="_ _23"></span>system, <span class="_ _9"></span>depending <span class="_ _23"></span>on</span></span></div><div class="t m0 x32 h2a y132 ff19 fsf fc0 sc0 ls0 ws0">whether <span class="_ _3"></span>we <span class="_ _3"></span>compile <span class="_ _9"></span>the <span class="_ _3"></span>program <span class="_ _3"></span>to <span class="_ _3"></span>support <span class="_ _3"></span>64</div><div class="t m0 x15d h2a y1dc2 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 xdb h2a y132 ff19 fsf fc0 sc0 ls0 ws0">bit <span class="_ _3"></span>ﬁles.<span class="_ _16"> </span>Some <span class="_ _9"></span>limits <span class="_ _3"></span>apply <span class="_ _3"></span>to <span class="_ _9"></span>ﬁle <span class="_ _3"></span>size,</div><div class="t m0 x32 h26 y133 ff19 fsf fc0 sc0 ls0 ws0">so <span class="_ _e"> </span>the<span class="_ _4b"> </span><span class="ff1a">rlim_t<span class="_ _59"> </span></span>type <span class="_ _e"> </span>has <span class="_ _e"> </span>to <span class="_"> </span>be <span class="_ _53"> </span>large <span class="_ _e"> </span>enough <span class="_ _e"> </span>to <span class="_ _e"> </span>represent <span class="_ _53"> </span>a <span class="_ _e"> </span>ﬁle <span class="_"> </span>size <span class="_ _53"> </span>limit.<span class="_ _48"> </span><span class="ls5f">To <span class="_ _44"> </span>a<span class="_ _9"></span></span>void</div><div class="t m0 x32 h2a y134 ff19 fsf fc0 sc0 ls0 ws0">compiler warnings <span class="_ _2"></span>that use <span class="_ _2"></span>the wrong format <span class="_ _2"></span>speciﬁcation, we <span class="_ _2"></span>ﬁrst copy <span class="_ _2"></span>the limit <span class="_ _2"></span>into a</div><div class="t m0 x32 h2a y135 ff19 fsf fc0 sc0 ls0 ws0">64</div><div class="t m0 x1f0 h2a y152 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x1a6 h2a y135 ff19 fsf fc0 sc0 ls0 ws0">bit integer so that we have to deal with only one format.</div><div class="t m0 x32 h4e yee9 ff1a fs28 fc0 sc0 ls0 ws0">#include &quot;apue.h&quot;</div><div class="t m0 x32 h4e yeea ff1a fs28 fc0 sc0 ls0 ws0">#include &lt;sys/resource.h&gt;</div><div class="t m0 x32 h4e yeeb ff1a fs28 fc0 sc0 ls0 ws0">#define doit(name)<span class="_ _d9"> </span>pr_limits(#name, name)</div><div class="t m0 x32 h4e y1dc3 ff1a fs28 fc0 sc0 ls0 ws0">static void pr_limits(char *, int);</div><div class="t m0 x32 h4e y1dc4 ff1a fs28 fc0 sc0 ls0 ws0">int</div><div class="t m0 x32 h4e y1dc5 ff1a fs28 fc0 sc0 ls0 ws0">main(void)</div><div class="t m0 x32 h4e y1dc6 ff1a fs28 fc0 sc0 ls0 ws0">{</div><div class="t m0 x32 h4e y1dc7 ff1a fs28 fc0 sc0 ls0 ws0">#ifdef <span class="_"> </span>RLIMIT_AS</div><div class="t m0 x8a h4e y1dc8 ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_AS);</div><div class="t m0 x32 h4e y1dc9 ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x8a h4e y1dca ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_CORE);</div><div class="t m0 x8a h4e y1dcb ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_CPU);</div><div class="t m0 x8a h4e y1dcc ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_DATA);</div><div class="t m0 x8a h4e y1dcd ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_FSIZE);</div><div class="t m0 x32 h4e y1dce ff1a fs28 fc0 sc0 ls0 ws0">#ifdef <span class="_"> </span>RLIMIT_MEMLOCK</div><div class="t m0 x8a h4e y1dcf ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_MEMLOCK);</div><div class="t m0 x32 h4e y1dd0 ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x32 h4e y1dd1 ff1a fs28 fc0 sc0 ls0 ws0">#ifdef RLIMIT_MSGQUEUE</div><div class="t m0 x8a h4e y1dd2 ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_MSGQUEUE);</div><div class="t m0 x32 h4e y1dd3 ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x32 h4e y1dd4 ff1a fs28 fc0 sc0 ls0 ws0">#ifdef RLIMIT_NICE</div><div class="t m0 x8a h4e y1dd5 ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_NICE);</div><div class="t m0 x32 h4e y1dd6 ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x8a h4e y1dd7 ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_NOFILE);</div><div class="t m0 x32 h4e y1dd8 ff1a fs28 fc0 sc0 ls0 ws0">#ifdef <span class="_"> </span>RLIMIT_NPROC</div><div class="t m0 x8a h4e y1dd9 ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_NPROC);</div><div class="t m0 x32 h4e y1dda ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x32 h4e y1ddb ff1a fs28 fc0 sc0 ls0 ws0">#ifdef RLIMIT_NPTS</div><div class="t m0 x8a h4e y1ddc ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_NPTS);</div><div class="t m0 x32 h4e y1ddd ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x32 h4e y1dde ff1a fs28 fc0 sc0 ls0 ws0">#ifdef <span class="_"> </span>RLIMIT_RSS</div><div class="t m0 x8a h4e y1ddf ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_RSS);</div><div class="t m0 x32 h4e y1de0 ff1a fs28 fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x32 h4e y1de1 ff1a fs28 fc0 sc0 ls0 ws0">#ifdef <span class="_"> </span>RLIMIT_SBSIZE</div><div class="t m0 x8a h4e y1de2 ff1a fs28 fc0 sc0 ls0 ws0">doit(RLIMIT_SBSIZE);</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
