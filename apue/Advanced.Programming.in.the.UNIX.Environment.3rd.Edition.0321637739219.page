<div id="pfdb" class="pf w4 h1f" data-page-no="db"><div class="pc pcdb w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bgdb.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>6.7<span class="_ _1f7"> </span>Other <span class="_"> </span>Data <span class="_"> </span>Files<span class="_ _1b"> </span><span class="ff18">185</span></div><div class="t m0 x1d2 h51 y597 ff19 fs2a fc0 sc0 ls0 ws0">FreeBSD <span class="_ _1af"> </span>Linux<span class="_ _13a"> </span>Mac OS X<span class="_ _17a"> </span>Solaris</div><div class="t m0 x63 h51 y598 ff19 fs2a fc0 sc0 ls0 ws0">8.0 <span class="_ _1f8"> </span>3.2.0<span class="_ _a0"> </span>10.6.8 <span class="_ _bc"> </span>10</div><div class="t m0 x9 h51 y599 ff19 fs2a fc0 sc0 ls0 ws0">Information</div><div class="t m0 x130 h5e y59a ff19 fs10 fc0 sc0 ls0 ws0">account information<span class="_ _10b"> </span><span class="ff1a">/etc/passwd <span class="_ _15"> </span>/etc/passwd<span class="_ _5e"> </span></span>Dir<span class="_ _0"></span>ectory Services<span class="_ _7f"> </span><span class="ff1a">/etc/passwd</span></div><div class="t m0 x130 h5e y59b ff19 fs10 fc0 sc0 ls0 ws0">encrypted passwords<span class="_ _5e"> </span><span class="ff1a">/etc/master.passwd <span class="_"> </span>/etc/shadow<span class="_ _7f"> </span></span>Directory Services<span class="_ _7f"> </span><span class="ff1a">/etc/shadow</span></div><div class="t m0 x130 h2d y59c ff19 fs10 fc0 sc0 ls0 ws0">hashed passwor<span class="ls136">dﬁ<span class="_ _5"></span><span class="ls0">les? <span class="_ _16e"> </span>yes<span class="_ _1f2"> </span>no <span class="_ _1f9"> </span>no <span class="_ _1f9"> </span>no</span></span></div><div class="t m0 x130 h5e y59d ff19 fs10 fc0 sc0 ls0 ws0">group information<span class="_ _17a"> </span><span class="ff1a">/etc/group <span class="_ _12e"> </span>/etc/group<span class="_ _6e"> </span></span>Directory Services<span class="_ _df"> </span><span class="ff1a">/etc/group</span></div><div class="t m0 x8b h2e y1910 ff18 fs11 fc0 sc0 ls0 ws0">Figure 6.5<span class="_ _5a"> </span><span class="ff19">Account implementation differences</span></div><div class="t m0 x3f h54 y1911 ff19 fs2c fc0 sc0 ls0 ws0">On <span class="_ _46"> </span>FreeBSD, <span class="_ _59"> </span>the <span class="_ _46"> </span>shadow <span class="_ _46"> </span>passwor<span class="ls7be">dﬁ<span class="_ _49"></span><span class="ls0">le <span class="_ _46"> </span>is<span class="_ _50"> </span><span class="ff1a">/etc/master.passwd</span><span class="ls7bf">.S<span class="_ _4e"></span><span class="ls0">pecial</span></span></span></span></div><div class="t m0 x32 h54 y1912 ff19 fs2c fc0 sc0 ls0 ws0">commands <span class="_ _2"></span>ar<span class="ls6c9">eu<span class="_ _8"></span><span class="ls0">sed <span class="_ _2"></span>to <span class="_ _3"></span>edit <span class="_ _2"></span>it, <span class="_ _2"></span>which <span class="_ _2"></span>in <span class="_ _3"></span>turn <span class="_ _2"></span>generate <span class="_ _2"></span>a <span class="_ _2"></span>copy <span class="_ _3"></span>of<span class="_ _66"> </span><span class="ff1a">/etc/passwd<span class="_ _47"> </span></span>from the</span></span></div><div class="t m0 x32 h55 y1913 ff19 fs2c fc0 sc0 ls0 ws0">shadow <span class="_ _44"> </span>passwor<span class="ls7c0">dﬁ<span class="_ _52"></span><span class="ls0">le. <span class="_ _54"> </span>In<span class="_ _54"> </span>addition, <span class="_ _44"> </span>hashed <span class="_ _4b"> </span>versions <span class="_ _44"> </span>of <span class="_ _44"> </span>the <span class="_ _4b"> </span>ﬁles <span class="_ _44"> </span>ar<span class="ls7c1">eg<span class="_ _64"></span><span class="ls0">enerated:</span></span></span></span></div><div class="t m0 x32 h54 y1914 ff1a fs2c fc0 sc0 ls0 ws0">/etc/pwd.db<span class="_ _46"> </span><span class="ff19">is <span class="_"> </span>the <span class="_ _66"> </span>hashed <span class="_"> </span>version <span class="_ _66"> </span>of<span class="_ _61"> </span></span>/etc/passwd<span class="ff19 ls7c2">,a<span class="_ _5b"></span><span class="ls0">nd<span class="_ _61"> </span><span class="ff1a">/etc/spwd.db<span class="_ _46"> </span></span>is <span class="_"> </span>the</span></span></div><div class="t m0 x32 h54 y1915 ff19 fs2c fc0 sc0 ls0 ws0">hashed <span class="_ _2"></span>version <span class="_ _3"></span>of<span class="_ _47"> </span><span class="ff1a">/etc/master.passwd</span><span class="ls7c3">.T<span class="_ _1d"></span><span class="ls0">hese <span class="_ _3"></span>provide <span class="_ _2"></span>better <span class="_ _2"></span>performance <span class="_ _3"></span>for <span class="_ _3"></span>large</span></span></div><div class="t m0 x32 h55 y182a ff19 fs2c fc0 sc0 ls0 ws0">installations.</div><div class="t m0 x3f h54 y182b ff19 fs2c fc0 sc0 ls0 ws0">On <span class="_ _3"></span>Mac <span class="_ _3"></span>OS <span class="_ _9"></span>X, <span class="_ _3"></span>however<span class="_ _6"></span>,<span class="_ _45"> </span><span class="ff1a">/etc/passwd<span class="_ _47"> </span></span>and<span class="_ _47"> </span><span class="ff1a">/etc/master.passwd<span class="_ _45"> </span></span>ar<span class="_ _0"></span><span class="ls7c4">eu<span class="_ _8"></span><span class="ls0">sed <span class="_ _3"></span>only</span></span></div><div class="t m0 x32 h55 y182c ff19 fs2c fc0 sc0 ls0 ws0">in <span class="_ _53"> </span>single-user <span class="_ _42"> </span>mode <span class="_ _53"> </span>(when <span class="_ _53"> </span>the <span class="_ _53"> </span>system <span class="_ _53"> </span>is <span class="_ _53"> </span>undergoing <span class="_ _42"> </span>maintenance; <span class="_ _53"> </span>single-user <span class="_ _53"> </span>mode</div><div class="t m0 x32 h55 y1916 ff19 fs2c fc0 sc0 ls0 ws0">usually <span class="_ _45"> </span>means <span class="_ _47"> </span>that <span class="_ _45"> </span>no <span class="_ _45"> </span>system <span class="_ _45"> </span>services <span class="_ _47"> </span>ar<span class="ls7c5">ee<span class="_ _62"></span><span class="ls0">nabled). <span class="_ _16"> </span>In<span class="_ _5a"> </span>multiuser <span class="_ _45"> </span>mode<span class="_ _9"></span><span class="ls6bf">—d<span class="_ _6"></span><span class="ls0">uring</span></span></span></span></div><div class="t m0 x32 h55 y1917 ff19 fs2c fc0 sc0 ls0 ws0">normal <span class="_ _5a"> </span>operation<span class="_ _9"></span><span class="ls6bf">—t<span class="_ _6"></span><span class="ls0">he <span class="_ _5a"> </span>Directory <span class="_ _16"> </span>Services <span class="_ _5a"> </span>daemon <span class="_ _5a"> </span>provides <span class="_ _16"> </span>access <span class="_ _5a"> </span>to <span class="_ _5a"> </span>account</span></span></div><div class="t m0 x32 h55 y1918 ff19 fs2c fc0 sc0 ls0 ws0">information for users and groups.</div><div class="t m0 x3f h55 y1919 ff19 fs2c fc0 sc0 ls0 ws0">Although <span class="_ _3"></span>Linux <span class="_ _9"></span>and <span class="_ _3"></span>Solaris <span class="_ _9"></span>support <span class="_ _3"></span>similar <span class="_ _9"></span>shadow <span class="_ _3"></span>passwor<span class="ls7c6">di<span class="_ _b"></span><span class="ls0">nterfaces, <span class="_ _9"></span>ther<span class="ls7c6">ea<span class="_ _b"></span><span class="ls150">re</span></span></span></span></div><div class="t m0 x32 h55 y191a ff19 fs2c fc0 sc0 ls0 ws0">some <span class="_ _2"></span>subtle <span class="_ _2"></span>differ<span class="_ _0"></span>ences. <span class="_"> </span>For<span class="_ _47"> </span>example, <span class="_ _2"></span>the <span class="_ _2"></span>integer <span class="_ _2"></span>ﬁelds <span class="_ _2"></span>shown <span class="_ _2"></span>in <span class="_ _2"></span>Figur<span class="ls7c7">e6<span class="_ _8"></span><span class="ls0">.3 <span class="_ _2"></span>ar<span class="ls7c7">ed<span class="_ _4f"></span><span class="ls0">eﬁned</span></span></span></span></div><div class="t m0 x32 h54 y191b ff19 fs2c fc0 sc0 ls0 ws0">as <span class="_ _35"> </span>type<span class="_ _51"> </span><span class="ff1a">int<span class="_ _54"> </span></span>on <span class="_ _35"> </span>Solaris, <span class="_ _35"> </span>but <span class="_ _44"> </span>as<span class="_ _51"> </span><span class="ff1a">long <span class="_ _2"></span>int<span class="_ _54"> </span></span>on <span class="_ _35"> </span>Linux.<span class="_ _98"> </span>Another <span class="_ _35"> </span>differ<span class="_ _0"></span>ence <span class="_ _35"> </span>is <span class="_ _35"> </span>the</div><div class="t m0 x32 h55 y191c ff19 fs2c fc0 sc0 ls0 ws0">account-inactive <span class="_ _42"> </span>ﬁeld: <span class="_ _53"> </span>Solaris <span class="_ _53"> </span>deﬁnes <span class="_ _53"> </span>it <span class="_ _42"> </span>to <span class="_ _53"> </span>be <span class="_ _53"> </span>the <span class="_ _53"> </span>number <span class="_ _42"> </span>of <span class="_ _53"> </span>days <span class="_ _53"> </span>since <span class="_ _53"> </span>the <span class="_ _42"> </span>user <span class="_ _53"> </span>last</div><div class="t m0 x32 h55 y191d ff19 fs2c fc0 sc0 ls0 ws0">logged <span class="_ _2"></span>in <span class="_ _2"></span>to <span class="_ _2"></span>the <span class="_ _2"></span>system <span class="_ _2"></span>after <span class="_ _3"></span>which <span class="_ _2"></span>the <span class="_ _2"></span>account <span class="_ _2"></span>will <span class="_ _2"></span>be <span class="_ _2"></span>automatically <span class="_ _3"></span>disabled, <span class="_ _2"></span>whereas</div><div class="t m0 x32 h55 y191e ff19 fs2c fc0 sc0 ls0 ws0">Linux <span class="_ _23"></span>deﬁnes <span class="_ _9"></span>it <span class="_ _23"> </span>to <span class="_ _23"></span>be <span class="_ _23"></span>the <span class="_ _9"></span>number <span class="_ _23"> </span>of <span class="_ _23"></span>days <span class="_ _23"></span>after <span class="_ _9"></span>the <span class="_ _23"> </span>maximum <span class="_ _23"></span>passwor<span class="ls7c8">da<span class="_ _43"></span><span class="ls0">ge <span class="_ _23"></span>has <span class="_ _23"></span>been</span></span></div><div class="t m0 x32 h55 y191f ff19 fs2c fc0 sc0 ls150 ws0">re<span class="ls0">ached during which the passwor<span class="ls142">dw<span class="_ _d"></span><span class="ls0">ill still be accepted.</span></span></span></div><div class="t m0 x3f h55 y1920 ff19 fs2c fc0 sc0 ls0 ws0">On <span class="_ _45"> </span>many <span class="_ _45"> </span>systems, <span class="_ _45"> </span>the <span class="_ _45"> </span>user <span class="_ _45"> </span>and <span class="_ _47"> </span>group <span class="_ _45"> </span>databases <span class="_ _45"> </span>ar<span class="ls7c9">ei<span class="_ _26"></span><span class="ls0">mplemented <span class="_ _45"> </span>using <span class="_ _45"> </span>the</span></span></div><div class="t m0 x32 h55 y1921 ff19 fs2c fc0 sc0 ls0 ws0">Network Information <span class="_ _2"></span>Service</div><div class="t m0 x66 h55 y1922 ff19 fs2c fc0 sc0 ls0 ws0">(</div><div class="t m0 x11b h55 y1921 ff19 fs2c fc0 sc0 ls0 ws0">NIS</div><div class="t m0 x10 h55 y1922 ff19 fs2c fc0 sc0 ls0 ws0">)</div><div class="t m0 xc1 h55 y1921 ff19 fs2c fc0 sc0 ls7ca ws0">.T<span class="_ _5b"></span><span class="ls0">his <span class="_ _2"></span>allows <span class="_ _2"></span>administrators to <span class="_ _2"></span>edit <span class="_ _2"></span>a <span class="_ _2"></span>master <span class="_ _2"></span>copy <span class="_ _2"></span>of</span></div><div class="t m0 x32 h55 y1923 ff19 fs2c fc0 sc0 ls0 ws0">the databases and <span class="_ _2"></span>distribute them <span class="_ _2"></span>automatically to all <span class="_ _2"></span>servers in <span class="_ _2"></span>an organization. <span class="_"> </span>Client</div><div class="t m0 x32 h55 y1924 ff19 fs2c fc0 sc0 ls0 ws0">systems <span class="_ _9"></span>contact <span class="_ _9"></span>servers <span class="_ _9"></span>to <span class="_ _9"></span>look <span class="_ _9"></span>up <span class="_ _9"></span>information <span class="_ _9"></span>about <span class="_ _9"></span>users <span class="_ _3"></span>and <span class="_ _9"></span>groups. <span class="_ _45"> </span>NIS+<span class="_ _45"> </span>and <span class="_ _9"></span>the</div><div class="t m0 x32 h55 y1925 ff19 fs2c fc0 sc0 ls0 ws0">Lightweight <span class="_"> </span>Directory <span class="_"> </span>Access <span class="_"> </span>Protocol</div><div class="t m0 x10a h55 y1926 ff19 fs2c fc0 sc0 ls0 ws0">(</div><div class="t m0 x67 h55 y1925 ff19 fs2c fc0 sc0 ls0 ws0">LDAP</div><div class="t m0 xcd h55 y1926 ff19 fs2c fc0 sc0 ls0 ws0">)</div><div class="t m0 x1d3 h55 y1925 ff19 fs2c fc0 sc0 ls0 ws0">provide <span class="_"> </span>similar <span class="_"> </span>functionality<span class="_ _4"></span><span class="ls7cb">.M<span class="_ _5d"></span><span class="ls0">any</span></span></div><div class="t m0 x32 h55 y1927 ff19 fs2c fc0 sc0 ls0 ws0">systems <span class="_ _23"> </span>control <span class="_ _42"> </span>the <span class="_ _23"> </span>method <span class="_ _42"> </span>used <span class="_ _23"> </span>to <span class="_ _42"> </span>administer <span class="_ _42"> </span>each <span class="_ _23"> </span>type <span class="_ _42"> </span>of <span class="_ _42"> </span>information <span class="_ _23"> </span>through <span class="_ _42"> </span>the</div><div class="t m0 x32 h54 y1928 ff1a fs2c fc0 sc0 ls0 ws0">/etc/nsswitch.conf<span class="_ _80"> </span><span class="ff19">conﬁguration ﬁle.</span></div><div class="t m0 x35 h99 y1929 ff16 fs3b fc0 sc0 ls0 ws0">6.7 <span class="_ _68"> </span>Other<span class="_ _54"> </span>Data <span class="_"> </span>Files</div><div class="t m0 x32 h55 y192a ff19 fs2c fc0 sc0 ls155 ws0">We<span class="_ _9"></span><span class="ls0">’ve <span class="_ _42"> </span>discussed <span class="_ _23"> </span>only <span class="_ _42"> </span>two <span class="_ _42"> </span>of <span class="_ _23"> </span>the <span class="_ _42"> </span>system’s <span class="_ _42"> </span>data <span class="_ _23"> </span>ﬁles <span class="_ _42"> </span>so <span class="_ _42"> </span>far: <span class="_ _42"> </span>the <span class="_ _23"> </span>passwor<span class="ls7cc">dﬁ<span class="_ _43"></span><span class="ls0">le <span class="_ _23"> </span>and <span class="_ _42"> </span>the</span></span></span></div><div class="t m0 x32 h55 y192b ff19 fs2c fc0 sc0 ls0 ws0">group <span class="_"> </span>ﬁle.<span class="_ _48"> </span>Numerous <span class="_"> </span>other <span class="_ _e"> </span>ﬁles <span class="_"> </span>ar<span class="ls7cd">eu<span class="_ _4a"></span><span class="ls0">sed <span class="_"> </span>by <span class="_"> </span>UNIX <span class="_ _e"> </span>systems <span class="_"> </span>in <span class="_"> </span>normal <span class="_"> </span>day-to-day</span></span></div><div class="t m0 x32 h55 y192c ff19 fs2c fc0 sc0 ls0 ws0">operation. <span class="_ _47"> </span>For<span class="_ _47"> </span>example, <span class="_ _2"></span>the <span class="_ _3"></span>BSD <span class="_ _3"></span>networking <span class="_ _3"></span>softwar<span class="ls7ce">eh<span class="_ _8"></span><span class="ls0">as <span class="_ _3"></span>one <span class="_ _3"></span>data <span class="_ _2"></span>ﬁle <span class="_ _3"></span>for <span class="_ _3"></span>the <span class="_ _3"></span>services</span></span></div><div class="t m0 x32 h54 y192d ff19 fs2c fc0 sc0 ls0 ws0">provided <span class="_"> </span>by <span class="_"> </span>the <span class="_"> </span>various <span class="_ _66"> </span>network <span class="_ _66"> </span>servers <span class="_ _66"> </span>(<span class="ff1a">/etc/services</span>), <span class="_ _66"> </span>one <span class="_ _66"> </span>for <span class="_ _66"> </span>the <span class="_"> </span>protocols</div><div class="t m0 x32 h54 y192e ff19 fs2c fc0 sc0 ls0 ws0">(<span class="ff1a">/etc/protocols</span>), <span class="_"> </span>and <span class="_"> </span>one <span class="_ _e"> </span>for <span class="_"> </span>the <span class="_"> </span>networks <span class="_"> </span>(<span class="ff1a">/etc/networks</span>). <span class="_ _59"> </span>Fortunately<span class="_ _4"></span><span class="ls7cf">,t<span class="_ _4a"></span><span class="ls0">he</span></span></div><div class="t m0 x32 h55 y192f ff19 fs2c fc0 sc0 ls0 ws0">interfaces <span class="_ _47"> </span>to <span class="_ _47"> </span>these <span class="_ _47"> </span>various <span class="_ _47"> </span>ﬁles <span class="_ _47"> </span>ar<span class="ls7d0">el<span class="_ _1d"></span><span class="ls0">ike <span class="_ _47"> </span>the <span class="_ _47"> </span>ones <span class="_ _47"> </span>we’ve <span class="_ _47"> </span>already <span class="_ _47"> </span>described <span class="_ _47"> </span>for <span class="_ _47"> </span>the</span></span></div><div class="t m0 x32 h55 y1930 ff19 fs2c fc0 sc0 ls0 ws0">passwor<span class="ls142">da<span class="_ _4f"></span><span class="ls0">nd group ﬁles.</span></span></div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.894733px;bottom:324.888916px;width:134.700699px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
