<div id="pf34" class="pf w4 h1f" data-page-no="34"><div class="pc pc34 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg34.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">18<span class="_ _1b"> </span><span class="ff19">UNIX <span class="_"> </span>System <span class="_"> </span>Overview<span class="_ _85"> </span>Chapter <span class="_"> </span>1</span></div><div class="t m0 x35 h27 y12f ff16 fsf fc0 sc0 ls0 ws0">Supplementar <span class="_ _4f"></span>y<span class="_"> </span>Group IDs</div><div class="t m0 x32 h2a y494 ff19 fsf fc0 sc0 ls0 ws0">In <span class="_"> </span>addition <span class="_"> </span>to <span class="_"> </span>the <span class="_"> </span>gr<span class="_ _0"></span>oup <span class="_"> </span>ID <span class="_"> </span>speciﬁed <span class="_"> </span>in <span class="_"> </span>the <span class="_"> </span>passwor<span class="ls1a5">dﬁ<span class="_ _5b"></span><span class="ls0">le <span class="_"> </span>for <span class="_"> </span>a <span class="_"> </span>login <span class="_"> </span>name, <span class="_"> </span>most</span></span></div><div class="t m0 x32 h2a y495 ff19 fsf fc0 sc0 ls0 ws0">versions <span class="_ _53"> </span>of <span class="_ _e"> </span>the <span class="_ _e"> </span>UNIX <span class="_ _53"> </span>System <span class="_ _e"> </span>allow <span class="_ _e"> </span>a <span class="_ _e"> </span>user <span class="_ _53"> </span>to <span class="_ _e"> </span>belong <span class="_ _e"> </span>to <span class="_ _e"> </span>other <span class="_ _53"> </span>groups. <span class="_ _4b"> </span>This<span class="_ _4b"> </span>practice</div><div class="t m0 x32 h2a y496 ff19 fsf fc0 sc0 ls0 ws0">started <span class="_ _53"> </span>with <span class="_ _53"> </span>4.2BSD, <span class="_ _53"> </span>which <span class="_ _53"> </span>allowed <span class="_ _53"> </span>a <span class="_ _53"> </span>user <span class="_ _53"> </span>to <span class="_ _e"> </span>belong <span class="_ _53"> </span>to <span class="_ _53"> </span>up <span class="_ _53"> </span>to <span class="_ _53"> </span>16 <span class="_ _53"> </span>additional <span class="_ _53"> </span>groups.</div><div class="t m0 x32 h2b y497 ff19 fsf fc0 sc0 ls0 ws0">These<span class="_ _60"> </span><span class="ff1b">supplementary <span class="_ _59"> </span>group <span class="_ _59"> </span>IDs<span class="_ _60"> </span></span>ar<span class="ls1a6">eo<span class="_ _49"></span><span class="ls0">btained <span class="_ _46"> </span>at <span class="_ _46"> </span>login <span class="_ _46"> </span>time <span class="_ _59"> </span>by <span class="_ _46"> </span>reading <span class="_ _59"> </span>the <span class="_ _46"> </span>ﬁle</span></span></div><div class="t m0 x32 h26 y498 ff1a fsf fc0 sc0 ls0 ws0">/etc/group<span class="_ _66"> </span><span class="ff19">and <span class="_ _2"></span>ﬁnding <span class="_ _2"></span>the <span class="_ _3"></span>ﬁrst <span class="_ _2"></span>16 <span class="_ _2"></span>entries <span class="_ _2"></span>that <span class="_ _2"></span>list <span class="_ _2"></span>the <span class="_ _2"></span>user <span class="_ _3"></span>as <span class="_ _2"></span>a <span class="_ _2"></span>member<span class="_ _1"></span><span class="ls1a7">.A<span class="_ _5b"></span><span class="ls0">s<span class="_ _66"> </span>we<span class="_ _47"> </span>shall</span></span></span></div><div class="t m0 x32 h2a y499 ff19 fsf fc0 sc0 ls0 ws0">see <span class="_ _3"></span>in <span class="_ _9"></span>the <span class="_ _9"></span>next <span class="_ _9"></span>chapter<span class="_ _6"></span><span class="ls1a8">,P<span class="_ _8"></span><span class="ls0">OSIX <span class="_ _3"></span>requires <span class="_ _3"></span>that <span class="_ _9"></span>a <span class="_ _3"></span>system <span class="_ _9"></span>support <span class="_ _9"></span>at <span class="_ _9"></span>least <span class="_ _3"></span>8 <span class="_ _9"></span>supplementary</span></span></div><div class="t m0 x32 h2a y49a ff19 fsf fc0 sc0 ls0 ws0">groups per pr<span class="_ _0"></span>ocess, but most systems support at least 16.</div><div class="t m0 x35 h53 y49b ff16 fs2b fc0 sc0 ls0 ws0">1.9 <span class="_ _68"> </span>Signals</div><div class="t m0 x32 h2a y49c ff19 fsf fc0 sc0 ls0 ws0">Signals <span class="_ _3"></span>ar<span class="ls1a9">eat<span class="_ _b"></span><span class="ls0">echnique <span class="_ _9"></span>used <span class="_ _9"></span>to <span class="_ _3"></span>notify <span class="_ _9"></span>a <span class="_ _9"></span>process <span class="_ _3"></span>that <span class="_ _3"></span>some <span class="_ _9"></span>condition <span class="_ _9"></span>has <span class="_ _3"></span>occurred. <span class="_ _47"> </span>For</span></span></div><div class="t m0 x32 h26 y49d ff19 fsf fc0 sc0 ls0 ws0">example, <span class="_ _3"></span>if <span class="_ _3"></span>a <span class="_ _3"></span>process <span class="_ _2"></span>divides <span class="_ _3"></span>by <span class="_ _9"></span>zero, <span class="_ _2"></span>the <span class="_ _3"></span>signal <span class="_ _3"></span>whose <span class="_ _3"></span>name <span class="_ _3"></span>is<span class="_ _47"> </span><span class="ff1a">SIGFPE<span class="_ _45"> </span></span>(ﬂoating-point</div><div class="t m0 x32 h2a y49e ff19 fsf fc0 sc0 ls0 ws0">exception) <span class="_ _42"> </span>is <span class="_ _53"> </span>sent <span class="_ _42"> </span>to <span class="_ _53"> </span>the <span class="_ _53"> </span>process. <span class="_ _44"> </span>The<span class="_ _44"> </span>process <span class="_ _42"> </span>has <span class="_ _42"> </span>three <span class="_ _42"> </span>choices <span class="_ _53"> </span>for <span class="_ _42"> </span>dealing <span class="_ _53"> </span>with <span class="_ _53"> </span>the</div><div class="t m0 x32 h2a y49f ff19 fsf fc0 sc0 ls0 ws0">signal.</div><div class="t m0 x3f h2a y4a0 ff19 fsf fc0 sc0 ls0 ws0">1. <span class="_ _51"> </span>Ignor<span class="ls1aa">et<span class="_ _5b"></span><span class="ls0">he <span class="_"> </span>signal.<span class="_ _60"> </span>This <span class="_"> </span>option <span class="_"> </span>isn’t <span class="_"> </span>recommended <span class="_"> </span>for <span class="_"> </span>signals <span class="_"> </span>that <span class="_"> </span>denote <span class="_"> </span>a</span></span></div><div class="t m0 x41 h2a y4a1 ff19 fsf fc0 sc0 ls0 ws0">hardwar<span class="_ _0"></span><span class="ls1ab">ee<span class="_ _c"></span><span class="ls0">xception, <span class="_ _42"> </span>such <span class="_ _53"> </span>as <span class="_ _42"> </span>dividing <span class="_ _42"> </span>by <span class="_ _42"> </span>zero<span class="_ _35"> </span>or<span class="_ _44"> </span>refer<span class="_ _0"></span>encing <span class="_ _42"> </span>memory <span class="_ _42"> </span>outside</span></span></div><div class="t m0 x41 h2a y4a2 ff19 fsf fc0 sc0 ls0 ws0">the address space of the pr<span class="_ _0"></span>ocess, as the r<span class="_ _0"></span>esults ar<span class="ls44">eu<span class="_ _4f"></span><span class="ls0">ndeﬁned.</span></span></div><div class="t m0 x3f h2a y4a3 ff19 fsf fc0 sc0 ls0 ws0">2. <span class="_ _51"> </span>Let<span class="_ _44"> </span>the <span class="_ _42"> </span>default <span class="_ _53"> </span>action <span class="_ _42"> </span>occur<span class="_ _1"></span><span class="ls1ac">.F<span class="_ _52"></span><span class="ls0">or <span class="_ _42"> </span>a <span class="_ _42"> </span>divide-by-zer<span class="ls1ad">oc<span class="_ _43"></span><span class="ls0">ondition, <span class="_ _23"> </span>the <span class="_ _53"> </span>default <span class="_ _42"> </span>is <span class="_ _53"> </span>to</span></span></span></span></div><div class="t m0 x41 h2a y4a4 ff19 fsf fc0 sc0 ls0 ws0">terminate the process.</div><div class="t m0 x3f h2a y4a5 ff19 fsf fc0 sc0 ls0 ws0">3. <span class="_ _51"> </span>Provide a function that <span class="_ _2"></span>is called <span class="_ _2"></span>when the <span class="_ _2"></span>signal occurs <span class="_ _2"></span>(this is <span class="_ _2"></span>called ‘‘catching’<span class="_ _1"></span>’</div><div class="t m0 x41 h2a y4a6 ff19 fsf fc0 sc0 ls0 ws0">the <span class="_ _23"> </span>signal).<span class="_ _54"> </span>By <span class="_ _23"> </span>providing <span class="_ _23"> </span>a <span class="_ _42"> </span>function <span class="_ _42"> </span>of <span class="_ _23"> </span>our <span class="_ _42"> </span>own, <span class="_ _23"> </span>we’ll <span class="_ _42"> </span>know <span class="_ _42"> </span>when <span class="_ _23"> </span>the <span class="_ _42"> </span>signal</div><div class="t m0 x41 h2a y4a7 ff19 fsf fc0 sc0 ls0 ws0">occurs and we can handle it as we wish.</div><div class="t m0 x3f h2b y4a8 ff19 fsf fc0 sc0 ls0 ws0">Many <span class="_ _e"> </span>conditions <span class="_ _e"> </span>generate <span class="_"> </span>signals.<span class="_ _65"> </span><span class="lsbc">Tw<span class="_ _9"></span><span class="ls1ae">ot<span class="_ _55"></span><span class="ls0">erminal <span class="_"> </span>keys, <span class="_ _53"> </span>called <span class="_ _e"> </span>the<span class="_ _59"> </span><span class="ff1b">interrupt <span class="_ _e"> </span>key</span>—</span></span></span></div><div class="t m0 x32 h2b y4a9 ff19 fsf fc0 sc0 ls0 ws0">often <span class="_ _42"> </span>the <span class="_ _23"> </span>DELETE <span class="_ _42"> </span>key <span class="_ _42"> </span>or <span class="_ _42"> </span>Control-C <span class="_ _84"></span>— <span class="_ _4"></span>and<span class="_ _35"> </span>the<span class="_ _35"> </span><span class="ff1b">quit <span class="_ _42"> </span>key</span>—often <span class="_ _42"> </span>Control-backslash <span class="_ _84"></span>— <span class="_ _4"></span>ar<span class="_ _0"></span>e</div><div class="t m0 x32 h2a y4aa ff19 fsf fc0 sc0 ls0 ws0">used <span class="_ _2"></span>to <span class="_ _2"></span>interrupt <span class="_ _2"></span>the <span class="_ _3"></span>currently running <span class="_ _2"></span>process. <span class="_ _66"> </span>Another<span class="_ _47"> </span>way <span class="_ _2"></span>to <span class="_ _2"></span>generate <span class="_ _3"></span>a <span class="_ _2"></span>signal <span class="_ _2"></span>is <span class="_ _3"></span>by</div><div class="t m0 x32 h26 y4ab ff19 fsf fc0 sc0 ls0 ws0">calling <span class="_ _9"></span>the<span class="_ _45"> </span><span class="ff1a">kill<span class="_ _45"> </span></span>function. <span class="_ _45"> </span>W<span class="_ _4"></span><span class="ls1af">ec<span class="_ _8"></span><span class="ls0">an <span class="_ _9"></span>call <span class="_ _9"></span>this <span class="_ _9"></span>function <span class="_ _9"></span>from <span class="_ _3"></span>a <span class="_ _9"></span>process <span class="_ _9"></span>to <span class="_ _9"></span>send <span class="_ _9"></span>a <span class="_ _9"></span>signal <span class="_ _9"></span>to</span></span></div><div class="t m0 x32 h2a y4ac ff19 fsf fc0 sc0 ls0 ws0">another <span class="_ _9"></span>process. <span class="_ _47"> </span>Naturally<span class="_ _4"></span><span class="ls1b0">,t<span class="_ _8"></span><span class="ls0">her<span class="ls1b0">ea<span class="_ _b"></span><span class="ls45">re <span class="_ _23"></span>l<span class="ls0">imitations: <span class="_ _9"></span>we <span class="_ _9"></span>have <span class="_ _9"></span>to <span class="_ _9"></span>be <span class="_ _3"></span>the <span class="_ _9"></span>owner <span class="_ _9"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>other</span></span></span></span></span></div><div class="t m0 x32 h2a y4ad ff19 fsf fc0 sc0 ls0 ws0">process (or the super<span class="_ _0"></span>user) to be able to send it a signal.</div><div class="t m0 x35 h27 y4ae ff16 fsf fc0 sc0 ls0 ws0">Example</div><div class="t m0 x32 h2a y4af ff19 fsf fc0 sc0 ls0 ws0">Recall <span class="_ _9"></span>the <span class="_ _23"></span>bare-bones <span class="_ _3"></span>shell <span class="_ _23"></span>example <span class="_ _9"></span>(Figur<span class="ls1b1">e1<span class="_ _b"></span><span class="ls0">.7). <span class="_ _45"> </span>If<span class="_ _45"> </span>we <span class="_ _9"></span>invoke <span class="_ _23"></span>this <span class="_ _9"></span>program <span class="_ _9"></span>and <span class="_ _23"></span>press</span></span></div><div class="t m0 x32 h2a y4b0 ff19 fsf fc0 sc0 ls0 ws0">the <span class="_"> </span>interrupt <span class="_"> </span>key<span class="_ _4"></span><span class="ls1b2">,t<span class="_ _4a"></span><span class="ls0">he <span class="_"> </span>process <span class="_"> </span>terminates <span class="_"> </span>because <span class="_"> </span>the <span class="_"> </span>default <span class="_"> </span>action <span class="_"> </span>for <span class="_"> </span>this <span class="_"> </span>signal,</span></span></div><div class="t m0 x32 h26 y4b1 ff19 fsf fc0 sc0 ls0 ws0">named<span class="_ _35"> </span><span class="ff1a">SIGINT</span>,<span class="_ _35"> </span>is<span class="_ _35"> </span>to<span class="_ _44"> </span>terminate <span class="_ _23"> </span>the <span class="_ _42"> </span>process. <span class="_ _35"> </span>The<span class="_ _35"> </span>process <span class="_ _23"></span>hasn’t <span class="_ _23"> </span>told <span class="_ _42"> </span>the <span class="_ _23"> </span>kernel <span class="_ _42"> </span>to <span class="_ _23"> </span>do</div><div class="t m0 x32 h2a y4b2 ff19 fsf fc0 sc0 ls0 ws0">anything other than the default with this signal, so the process terminates.</div><div class="t m0 x3f h26 y4b3 ff19 fsf fc0 sc0 ls5f ws0">To <span class="_ _80"> </span>c<span class="_ _23"></span><span class="ls0">atch <span class="_ _3"></span>this <span class="_ _9"></span>signal, <span class="_ _9"></span>the <span class="_ _3"></span>program <span class="_ _3"></span>needs <span class="_ _9"></span>to <span class="_ _9"></span>call <span class="_ _3"></span>the<span class="_ _45"> </span><span class="ff1a">signal<span class="_ _45"> </span></span>function, <span class="_ _3"></span>specifying <span class="_ _9"></span>the</span></div><div class="t m0 x32 h26 y4b4 ff19 fsf fc0 sc0 ls0 ws0">name <span class="_ _53"> </span>of <span class="_"> </span>the <span class="_ _53"> </span>function <span class="_ _53"> </span>to <span class="_"> </span>call <span class="_ _53"> </span>when <span class="_ _e"> </span>the<span class="_ _4b"> </span><span class="ff1a">SIGINT<span class="_ _4b"> </span></span>signal <span class="_ _e"> </span>is <span class="_ _e"> </span>generated.<span class="_ _48"> </span>The <span class="_ _e"> </span>function <span class="_ _e"> </span>is</div><div class="t m0 x32 h26 y4b5 ff19 fsf fc0 sc0 ls0 ws0">named<span class="_ _47"> </span><span class="ff1a">sig_int</span><span class="ls1b3">;w<span class="_ _8"></span><span class="ls0">hen <span class="_ _9"></span>it’s <span class="_ _3"></span>called, <span class="_ _3"></span>it <span class="_ _9"></span>just <span class="_ _3"></span>prints <span class="_ _3"></span>a <span class="_ _9"></span>message <span class="_ _3"></span>and <span class="_ _9"></span>a <span class="_ _3"></span>new <span class="_ _3"></span>prompt. <span class="_ _45"> </span>Adding</span></span></div><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.890952px;bottom:949.008941px;width:78.683502px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
