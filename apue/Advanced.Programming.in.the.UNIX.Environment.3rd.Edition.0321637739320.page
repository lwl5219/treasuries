<div id="pf140" class="pf w4 h1f" data-page-no="140"><div class="pc pc140 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg140.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">286<span class="_ _1b"> </span><span class="ff19">Process <span class="_"> </span>Relationships<span class="_ _18d"> </span>Chapter <span class="_"> </span>9</span></div><div class="t m0 x32 h2a y12f ff19 fsf fc0 sc0 ls0 ws0">common <span class="_ _9"></span>devices <span class="_ _9"></span>on <span class="_ _9"></span>PDP</div><div class="t m0 x8c h2a y5cc ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x6b h2a y12f ff19 fsf fc0 sc0 ls65 ws0">11<span class="_ _3"></span><span class="ls26c">sw<span class="_ _b"></span><span class="ls0">er<span class="ls26c">eD<span class="_ _b"></span><span class="ls0">H</span></span></span></span></div><div class="t m0 xcc h2a y5cc ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x9c h2a y12f ff19 fsf fc0 sc0 ls65 ws0">11<span class="_ _3"></span><span class="ls26c">sa<span class="_ _b"></span><span class="ls0">nd <span class="_ _9"></span>DZ</span></span></div><div class="t m0 x19d h2a y5cc ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x80 h2a y12f ff19 fsf fc0 sc0 ls65 ws0">11<span class="_ _3"></span><span class="ls0">s. <span class="_ _45"> </span>A<span class="_ _45"> </span>host <span class="_ _9"></span>had <span class="_ _9"></span>a <span class="_ _9"></span>ﬁxed <span class="_ _23"></span>number <span class="_ _9"></span>of</span></div><div class="t m0 x32 h2a y130 ff19 fsf fc0 sc0 ls0 ws0">these <span class="_ _4b"> </span>terminal <span class="_ _4b"> </span>devices, <span class="_ _59"> </span>so <span class="_ _4b"> </span>ther<span class="lsac4">ew<span class="_ _64"></span><span class="ls0">as <span class="_ _4b"> </span>a <span class="_ _4b"> </span>known <span class="_ _59"> </span>upper <span class="_ _4b"> </span>limit <span class="_ _59"> </span>on <span class="_ _4b"> </span>the <span class="_ _4b"> </span>number <span class="_ _59"> </span>of</span></span></div><div class="t m0 x32 h2a y131 ff19 fsf fc0 sc0 ls0 ws0">simultaneous logins.</div><div class="t m0 x3f h2a y132 ff19 fsf fc0 sc0 ls0 ws0">As <span class="_ _47"> </span>bitmapped <span class="_ _47"> </span>graphical <span class="_ _47"> </span>terminals <span class="_ _45"> </span>became <span class="_ _47"> </span>available, <span class="_ _47"> </span>windowing <span class="_ _47"> </span>systems <span class="_ _47"> </span>were</div><div class="t m0 x32 h2a y133 ff19 fsf fc0 sc0 ls0 ws0">developed <span class="_ _46"> </span>to <span class="_ _46"> </span>provide <span class="_ _59"> </span>users <span class="_ _46"> </span>with <span class="_ _61"> </span>new <span class="_ _46"> </span>ways <span class="_ _46"> </span>to <span class="_ _46"> </span>interact <span class="_ _46"> </span>with <span class="_ _46"> </span>host <span class="_ _61"> </span>computers.</div><div class="t m0 x32 h2a y134 ff19 fsf fc0 sc0 ls0 ws0">Applications <span class="_ _3"></span>wer<span class="lsac5">ed<span class="_ _b"></span><span class="ls0">eveloped <span class="_ _3"></span>to <span class="_ _3"></span>create <span class="_ _3"></span>‘<span class="_ _0"></span>‘terminal <span class="_ _2"></span>windows’’<span class="_ _66"> </span>to<span class="_ _45"> </span>emulate <span class="_ _2"></span>character-based</span></span></div><div class="t m0 x32 h2a y135 ff19 fsf fc0 sc0 ls0 ws0">terminals, <span class="_"> </span>allowing <span class="_"> </span>users <span class="_"> </span>to <span class="_"> </span>interact <span class="_"> </span>with <span class="_"> </span>hosts <span class="_"> </span>in <span class="_"> </span>familiar <span class="_"> </span>ways <span class="_"> </span>(i.e., <span class="_"> </span>via <span class="_"> </span>the <span class="_ _e"> </span>shell</div><div class="t m0 x32 h2a y136 ff19 fsf fc0 sc0 ls0 ws0">command line).</div><div class="t m0 x3f h2a y137 ff19 fsf fc0 sc0 ls5f ws0">To<span class="_ _9"></span><span class="ls0">day<span class="_ _4"></span><span class="lsac6">,s<span class="_ _c"></span><span class="ls0">ome <span class="_ _e"> </span>platforms <span class="_ _e"> </span>allow <span class="_ _e"> </span>you <span class="_ _53"> </span>to <span class="_"> </span>start <span class="_ _42"> </span>a <span class="_"> </span>windowing <span class="_ _53"> </span>system <span class="_ _53"> </span>after <span class="_"> </span>logging <span class="_ _53"> </span>in,</span></span></span></div><div class="t m0 x32 h2a y138 ff19 fsf fc0 sc0 ls0 ws0">whereas <span class="_ _e"> </span>other <span class="_"> </span>platforms <span class="_ _e"> </span>automatically <span class="_"> </span>start <span class="_ _e"> </span>the <span class="_"> </span>windowing <span class="_"> </span>system <span class="_ _53"> </span>for <span class="_"> </span>you.<span class="_ _48"> </span>In <span class="_"> </span>the</div><div class="t m0 x32 h2a y139 ff19 fsf fc0 sc0 ls0 ws0">latter <span class="_ _3"></span>case, <span class="_ _9"></span>you <span class="_ _9"></span>might <span class="_ _9"></span>still <span class="_ _9"></span>have <span class="_ _3"></span>to <span class="_ _9"></span>log <span class="_ _9"></span>in, <span class="_ _9"></span>depending <span class="_ _9"></span>on <span class="_ _3"></span>how <span class="_ _9"></span>the <span class="_ _9"></span>windowing <span class="_ _9"></span>system <span class="_ _3"></span>is</div><div class="t m0 x32 h2a y13a ff19 fsf fc0 sc0 ls0 ws0">conﬁgured (some windowing systems can be conﬁgur<span class="_ _0"></span>ed to log you in automatically).</div><div class="t m0 x3f h2a y254 ff19 fsf fc0 sc0 ls0 ws0">The <span class="_ _42"> </span>pr<span class="_ _0"></span>ocedur<span class="ls8bd">et<span class="_ _c"></span><span class="ls0">hat <span class="_ _42"> </span>we <span class="_ _42"> </span>now <span class="_ _42"> </span>describe <span class="_ _23"> </span>is <span class="_ _42"> </span>used <span class="_ _42"> </span>to <span class="_ _42"> </span>log <span class="_ _23"> </span>in <span class="_ _42"> </span>to <span class="_ _42"> </span>a <span class="_ _42"> </span>UNIX <span class="_ _23"> </span>system <span class="_ _42"> </span>using <span class="_ _42"> </span>a</span></span></div><div class="t m0 x32 h2a y255 ff19 fsf fc0 sc0 ls0 ws0">terminal. <span class="_ _45"> </span>The<span class="_ _47"> </span>procedure<span class="_ _47"> </span>is<span class="_ _45"> </span>similar <span class="_ _9"></span>regar<span class="_ _0"></span>dless <span class="_ _9"></span>of <span class="_ _9"></span>the <span class="_ _3"></span>type <span class="_ _9"></span>of <span class="_ _9"></span>terminal <span class="_ _9"></span>we <span class="_ _9"></span>use<span class="_ _9"></span><span class="ls9d">—i<span class="_ _6"></span><span class="ls28c">tc<span class="_ _8"></span><span class="ls0">ould</span></span></span></div><div class="t m0 x32 h2a y13b ff19 fsf fc0 sc0 ls0 ws0">be <span class="_ _3"></span>a <span class="_ _9"></span>character-based <span class="_ _3"></span>terminal, <span class="_ _3"></span>a <span class="_ _9"></span>graphical <span class="_ _3"></span>terminal <span class="_ _9"></span>emulating <span class="_ _3"></span>a <span class="_ _9"></span>simple <span class="_ _3"></span>character-based</div><div class="t m0 x32 h2a y13c ff19 fsf fc0 sc0 ls0 ws0">terminal, or a graphical terminal running a windowing system.</div><div class="t m0 x35 h27 y257 ff16 fsf fc0 sc0 ls0 ws0">BSD T<span class="_ _1"></span>erminal Logins</div><div class="t m0 x32 h2a y161 ff19 fsf fc0 sc0 ls0 ws0">The <span class="_ _9"></span>BSD <span class="_ _23"></span>terminal <span class="_ _9"></span>login <span class="_ _23"></span>procedur<span class="_ _1"></span><span class="lsac7">eh<span class="_ _b"></span><span class="ls0">as <span class="_ _23"></span>not <span class="_ _9"></span>changed <span class="_ _23"></span>much <span class="_ _9"></span>over <span class="_ _23"></span>the <span class="_ _9"></span>past <span class="_ _9"></span>35 <span class="_ _23"></span>years.<span class="_ _5a"> </span>The</span></span></div><div class="t m0 x32 h26 y162 ff19 fsf fc0 sc0 ls0 ws0">system <span class="_ _9"></span>administrator <span class="_ _9"></span>creates <span class="_ _9"></span>a <span class="_ _9"></span>ﬁle, <span class="_ _9"></span>usually<span class="_ _45"> </span><span class="ff1a">/etc/ttys</span><span class="lsac8">,t<span class="_ _b"></span><span class="ls0">hat <span class="_ _9"></span>has <span class="_ _9"></span>one <span class="_ _9"></span>line <span class="_ _9"></span>per <span class="_ _9"></span>terminal</span></span></div><div class="t m0 x32 h2a y1db ff19 fsf fc0 sc0 ls0 ws0">device. <span class="_ _66"> </span>Each<span class="_ _47"> </span>line <span class="_ _2"></span>speciﬁes <span class="_ _3"></span>the <span class="_ _2"></span>name <span class="_ _2"></span>of <span class="_ _3"></span>the <span class="_ _2"></span>device <span class="_ _2"></span>and <span class="_ _3"></span>other <span class="_ _2"></span>parameters <span class="_ _2"></span>that <span class="_ _3"></span>ar<span class="lsac9">ep<span class="_ _8"></span><span class="ls0">assed</span></span></div><div class="t m0 x32 h26 y25a ff19 fsf fc0 sc0 ls0 ws0">to <span class="_ _23"> </span>the<span class="_ _35"> </span><span class="ff1a">getty<span class="_ _35"> </span></span>program. <span class="_ _35"> </span>One<span class="_ _35"> </span>parameter <span class="_ _42"> </span>is <span class="_ _23"></span>the <span class="_ _23"> </span>baud <span class="_ _42"> </span>rate <span class="_ _23"> </span>of <span class="_ _42"> </span>the <span class="_ _23"> </span>terminal, <span class="_ _23"> </span>for <span class="_ _42"> </span>example.</div><div class="t m0 x32 h26 y164 ff19 fsf fc0 sc0 ls0 ws0">When the system <span class="_ _2"></span>is bootstrapped, the <span class="_ _2"></span>kernel creates process ID 1, the<span class="_"> </span><span class="ff1a">init<span class="_ _66"> </span></span>process, and</div><div class="t m0 x32 h26 y25b ff19 fsf fc0 sc0 ls0 ws0">it is<span class="_ _47"> </span><span class="ff1a">init<span class="_ _66"> </span></span>that brings <span class="_ _2"></span>the <span class="_ _2"></span>system <span class="_ _2"></span>up <span class="_ _2"></span>in multiuser <span class="_ _2"></span>mode.<span class="_ _61"> </span>The<span class="_ _66"> </span><span class="ff1a">init<span class="_ _66"> </span></span>process reads <span class="_ _2"></span>the ﬁle</div><div class="t m0 x32 h26 y165 ff1a fsf fc0 sc0 ls0 ws0">/etc/ttys<span class="_ _66"> </span><span class="ff19">and, for every <span class="_ _2"></span>terminal device that <span class="_ _2"></span>allows a <span class="_ _2"></span>login, does <span class="_ _2"></span>a<span class="_"> </span></span>fork<span class="_ _66"> </span><span class="ff19">followed by</span></div><div class="t m0 x32 h26 y167 ff19 fsf fc0 sc0 ls0 ws0">an<span class="_"> </span><span class="ff1a">exec<span class="_ _80"> </span></span>of the program<span class="_"> </span><span class="ff1a">getty</span><span class="ls86">.T<span class="_ _4a"></span><span class="ls0">his gives us the pr<span class="_ _0"></span>ocesses shown in Figur<span class="ls44">e9<span class="_ _4f"></span><span class="ls0">.1.</span></span></span></span></div><div class="t m0 x24 h5e y252c ff1a fs10 fc0 sc0 ls0 ws0">init</div><div class="t m0 x24 h4f y252d ff1a fs11 fc0 sc0 ls0 ws0">init</div><div class="t m0 xc1 h56 y252e ff1b fs11 fc0 sc0 ls0 ws0">process ID 1</div><div class="t m0 x99 h6d y252f ff1a fs12 fc0 sc0 ls0 ws0">getty</div><div class="t m0 x154 h63 y2530 ff1a fs13 fc0 sc0 ls0 ws0">fork</div><div class="t m0 x5d h66 y2531 ff1a fs15 fc0 sc0 ls0 ws0">fork<span class="ff19 lsaca">so<span class="_ _84"></span><span class="ls0">nce</span></span></div><div class="t m0 x5d h32 y2532 ff19 fs15 fc0 sc0 ls0 ws0">per terminal</div><div class="t m0 x5d h33 y2533 ff19 fs16 fc0 sc0 ls0 ws0">each child</div><div class="t m0 x5d h70 y2534 ff1a fs16 fc0 sc0 ls0 ws0">exec<span class="ff19">s<span class="_"> </span></span>getty</div><div class="t m0 x154 h71 y2535 ff1a fs36 fc0 sc0 ls0 ws0">exec</div><div class="t m0 xd0 h71 y2536 ff18 fs36 fc0 sc0 ls0 ws0">Figure 9.1<span class="_ _5a"> </span><span class="ff19">Processes invoked by<span class="_"> </span><span class="ff1a">init<span class="_ _53"> </span></span>to allow terminal logins</span></div><div class="t m0 x32 h74 y2537 ff19 fs38 fc0 sc0 ls0 ws0">All the <span class="_ _2"></span>processes shown in <span class="_ _2"></span>Figur<span class="lsacb">e9<span class="_ _4f"></span><span class="ls0">.1 <span class="_ _2"></span>have a <span class="_ _2"></span>real user ID <span class="_ _2"></span>of <span class="_ _2"></span>0 and <span class="_ _2"></span>an effective user <span class="_ _2"></span>ID <span class="_ _2"></span>of</span></span></div><div class="t m0 x32 h73 y2538 ff19 fs38 fc0 sc0 lsacc ws0">0(<span class="_ _c"></span><span class="ls0">i.e., <span class="_ _53"> </span>they <span class="_ _53"> </span>all <span class="_ _42"> </span>have <span class="_ _53"> </span>superuser <span class="_ _53"> </span>privileges).<span class="_ _65"> </span>The<span class="_ _44"> </span><span class="ff1a">init<span class="_ _44"> </span></span>process <span class="_ _53"> </span>also<span class="_ _44"> </span><span class="ff1a">exec</span><span class="lsacc">st<span class="_ _c"></span><span class="ls0">he<span class="_ _4b"> </span><span class="ff1a">getty</span></span></span></span></div><div class="t m0 x32 h74 y2539 ff19 fs38 fc0 sc0 ls0 ws0">program with an empty envir<span class="_ _0"></span>onment.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
