<div id="pf84" class="pf w4 h1f" data-page-no="84"><div class="pc pc84 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg84.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">98<span class="_ _1b"> </span><span class="ff19">Files <span class="_"> </span>and <span class="_"> </span>Directories <span class="_ _e5"> </span>Chapter<span class="_ _4b"> </span>4</span></div><div class="t m0 x11b h51 y597 ff19 fs2a fc0 sc0 ls0 ws0">File type<span class="_ _ba"> </span>Count <span class="_ _6e"> </span>Percentage</div><div class="t m0 xa5 h2d y7b6 ff19 fs10 fc0 sc0 ls21d ws0">re<span class="ls0">gular ﬁle<span class="_ _189"> </span>415,803 <span class="_ _68"> </span>79.77<span class="_"> </span>%</span></div><div class="t m0 xa5 h2d y7b7 ff19 fs10 fc0 sc0 ls0 ws0">directory <span class="_ _d7"> </span>62,197<span class="_ _28"> </span><span class="ls373">11<span class="_ _2"></span></span>.93</div><div class="t m0 xa5 h2d y7b8 ff19 fs10 fc0 sc0 ls0 ws0">symbolic link<span class="_ _8a"> </span>40,018 <span class="_ _170"> </span>8.25</div><div class="t m0 xa5 h2d y7b9 ff19 fs10 fc0 sc0 ls0 ws0">character special<span class="_ _dc"> </span>155 <span class="_ _170"> </span>0.03</div><div class="t m0 xa5 h2d y7ba ff19 fs10 fc0 sc0 ls0 ws0">block special<span class="_ _186"> </span>47 <span class="_ _13"> </span>0.01</div><div class="t m0 xa5 h2d y7bb ff19 fs10 fc0 sc0 ls0 ws0">socket <span class="_ _82"> </span>45<span class="_ _15"> </span>0.01</div><div class="t m0 xa5 h2d y7bc ff19 fs10 fc0 sc0 ls0 ws0">FIFO <span class="_ _18a"> </span>0<span class="_ _79"> </span>0.00</div><div class="t m0 xea h2e y60c ff18 fs11 fc0 sc0 ls0 ws0">Figure 4.4<span class="_ _5a"> </span><span class="ff19">Counts and percentages of differ<span class="_ _0"></span>ent ﬁle types</span></div><div class="t m0 x35 h99 ye67 ff16 fs3b fc0 sc0 ls0 ws0">4.4 <span class="_ _68"> </span>Set-User-ID <span class="_"> </span>and <span class="_"> </span>Set-Gr<span class="_ _1"></span>oup-ID</div><div class="t m0 x32 h55 ye68 ff19 fs2c fc0 sc0 ls0 ws0">Every process has six or mor<span class="_ _0"></span><span class="ls142">eI<span class="_ _d"></span><span class="ls0">Ds associated with it.<span class="_ _46"> </span>These ar<span class="ls142">es<span class="_ _4f"></span><span class="ls0">hown in Figur<span class="ls142">e4<span class="_ _d"></span><span class="ls0">.5.</span></span></span></span></span></span></div><div class="t m0 x143 h2f y613 ff19 fs12 fc0 sc0 ls222 ws0">re<span class="ls0">al user ID</span></div><div class="t m0 x143 h2f ye69 ff19 fs12 fc0 sc0 ls222 ws0">re<span class="ls0">al group ID</span></div><div class="t m0 x154 h2f ye6a ff19 fs12 fc0 sc0 ls0 ws0">who we really ar<span class="_ _0"></span>e</div><div class="t m0 x143 h30 ye6b ff19 fs13 fc0 sc0 ls0 ws0">effective user ID</div><div class="t m0 x143 h30 ye6c ff19 fs13 fc0 sc0 ls0 ws0">effective gr<span class="_ _0"></span>oup ID<span class="_ _16e"> </span>used for ﬁle access permission checks</div><div class="t m0 x143 h30 ye6d ff19 fs13 fc0 sc0 ls0 ws0">supplementary group IDs</div><div class="t m0 x143 h31 ye6e ff19 fs14 fc0 sc0 ls0 ws0">saved set-user-ID</div><div class="t m0 x143 h31 ye6f ff19 fs14 fc0 sc0 ls0 ws0">saved set-group-ID</div><div class="t m0 x154 h6f ye70 ff19 fs14 fc0 sc0 ls0 ws0">saved by<span class="_"> </span><span class="ff1a">exec<span class="_ _53"> </span></span>functions</div><div class="t m0 x132 h32 ye71 ff18 fs15 fc0 sc0 ls0 ws0">Figure 4.5<span class="_ _5a"> </span><span class="ff19">User IDs and group IDs associated with each process</span></div><div class="t m0 x3f h67 ye72 ff19 fs33 fc0 sc0 ls495 ws0">•T<span class="_ _4d"></span><span class="ls0">he <span class="_ _2"></span>real <span class="_ _2"></span>user <span class="_ _3"></span>ID <span class="_ _3"></span>and <span class="_ _3"></span>real <span class="_ _2"></span>group <span class="_ _2"></span>ID <span class="_ _3"></span>identify <span class="_ _3"></span>who <span class="_ _2"></span>we <span class="_ _3"></span>really <span class="_ _2"></span>are. <span class="_ _47"> </span>These<span class="_ _47"> </span>two <span class="_ _2"></span>ﬁelds</span></div><div class="t m0 x15 h67 ye73 ff19 fs33 fc0 sc0 ls0 ws0">ar<span class="ls496">et<span class="_ _b"></span><span class="ls0">aken <span class="_ _3"></span>from <span class="_ _9"></span>our <span class="_ _9"></span>entry <span class="_ _9"></span>in <span class="_ _9"></span>the <span class="_ _9"></span>passwor<span class="ls497">dﬁ<span class="_ _b"></span><span class="ls0">le <span class="_ _3"></span>when <span class="_ _9"></span>we <span class="_ _9"></span>log <span class="_ _9"></span>in.<span class="_ _5a"> </span>Normally<span class="_ _6"></span><span class="ls497">,t<span class="_ _b"></span><span class="ls0">hese</span></span></span></span></span></span></div><div class="t m0 x15 h67 ye74 ff19 fs33 fc0 sc0 ls0 ws0">values <span class="_ _66"> </span>don’t <span class="_ _47"> </span>change <span class="_ _47"> </span>during <span class="_ _47"> </span>a <span class="_ _66"> </span>login <span class="_ _47"> </span>session, <span class="_ _47"> </span>although <span class="_ _66"> </span>ther<span class="ls498">ea<span class="_ _1d"></span><span class="ls1d5">re <span class="_ _45"> </span>w<span class="ls0">ays <span class="_ _47"> </span>for <span class="_ _47"> </span>a</span></span></span></div><div class="t m0 x15 h67 ye75 ff19 fs33 fc0 sc0 ls0 ws0">superuser pr<span class="_ _0"></span>ocess to change them, which we describe in Section 8.1<span class="_ _1"></span>1.</div><div class="t m0 x3f h67 ye76 ff19 fs33 fc0 sc0 ls495 ws0">•T<span class="_ _4d"></span><span class="ls0">he <span class="_ _44"> </span>effective <span class="_ _35"> </span>user <span class="_ _44"> </span>ID, <span class="_ _4b"> </span>effective <span class="_ _35"> </span>group <span class="_ _44"> </span>ID, <span class="_ _44"> </span>and <span class="_ _44"> </span>supplementary <span class="_ _44"> </span>group <span class="_ _35"> </span>IDs</span></div><div class="t m0 x15 h67 ye77 ff19 fs33 fc0 sc0 ls0 ws0">determine <span class="_ _23"> </span>our <span class="_ _23"> </span>ﬁle <span class="_ _42"> </span>access <span class="_ _23"> </span>permissions, <span class="_ _23"> </span>as <span class="_ _42"> </span>we <span class="_ _23"> </span>describe <span class="_ _23"> </span>in <span class="_ _42"> </span>the <span class="_ _23"> </span>next <span class="_ _23"> </span>section.<span class="_ _54"> </span>(W<span class="_ _6"></span>e</div><div class="t m0 x15 h67 ye78 ff19 fs33 fc0 sc0 ls0 ws0">deﬁned supplementary group IDs in Section 1.8.)</div><div class="t m0 x3f h67 ye79 ff19 fs33 fc0 sc0 ls495 ws0">•T<span class="_ _4d"></span><span class="ls0">he <span class="_ _e"> </span>saved <span class="_ _e"> </span>set-user-ID <span class="_ _53"> </span>and <span class="_ _e"> </span>saved <span class="_ _e"> </span>set-group-ID <span class="_ _53"> </span>contain <span class="_"> </span>copies <span class="_ _53"> </span>of <span class="_ _e"> </span>the <span class="_ _e"> </span>effective</span></div><div class="t m0 x15 h67 ye7a ff19 fs33 fc0 sc0 ls0 ws0">user <span class="_ _23"> </span>ID <span class="_ _42"> </span>and <span class="_ _42"> </span>the <span class="_ _23"> </span>effective <span class="_ _23"> </span>group <span class="_ _23"> </span>ID, <span class="_ _42"> </span>respectively<span class="_ _4"></span><span class="ls499">,w<span class="_ _43"></span><span class="ls0">hen <span class="_ _23"> </span>a <span class="_ _42"> </span>program <span class="_ _23"> </span>is <span class="_ _42"> </span>executed.</span></span></div><div class="t m0 x15 h67 ye7b ff19 fs33 fc0 sc0 ls1d9 ws0">We <span class="_ _4b"> </span>d<span class="_ _23"></span><span class="ls0">escribe <span class="_"> </span>the <span class="_ _47"> </span>function <span class="_ _66"> </span>of <span class="_ _47"> </span>these <span class="_ _66"> </span>two <span class="_ _47"> </span>saved <span class="_ _66"> </span>values <span class="_ _47"> </span>when <span class="_ _66"> </span>we <span class="_ _47"> </span>describe <span class="_ _66"> </span>the</span></div><div class="t m0 x15 h68 ye7c ff1a fs33 fc0 sc0 ls0 ws0">setuid<span class="_ _80"> </span><span class="ff19">function in Section 8.1<span class="_ _1"></span>1.</span></div><div class="t m0 xf6 h32 ye7d ff19 fs15 fc0 sc0 ls0 ws0">The saved IDs ar<span class="ls49a">er<span class="_ _5"></span><span class="ls0">equired as of the 2001 version of POSIX.1.<span class="_ _35"> </span>They wer<span class="ls49a">eo<span class="_ _84"></span><span class="ls0">ptional in older</span></span></span></span></div><div class="t m0 xf6 h66 ye7e ff19 fs15 fc0 sc0 ls0 ws0">versions <span class="_"> </span>of <span class="_"> </span>POSIX.<span class="_ _5a"> </span>An <span class="_"> </span>application <span class="_"> </span>can <span class="_"> </span>test <span class="_"> </span>for <span class="_"> </span>the <span class="_"> </span>constant<span class="_ _44"> </span><span class="ff1a">_POSIX_SAVED_IDS<span class="_ _44"> </span></span>at</div><div class="t m0 xf6 h66 ye7f ff19 fs15 fc0 sc0 ls0 ws0">compile time <span class="_ _2"></span>or <span class="_ _2"></span>can <span class="_ _2"></span>call<span class="_ _80"> </span><span class="ff1a">sysconf<span class="_ _e"> </span></span>with <span class="_ _2"></span>the<span class="_ _80"> </span><span class="ff1a">_SC_SAVED_IDS<span class="_ _80"> </span></span>argument at <span class="_ _2"></span>runtime, to <span class="_ _2"></span>see</div><div class="t m0 xf6 h32 ye80 ff19 fs15 fc0 sc0 ls0 ws0">whether the implementation supports this feature.</div><div class="t m0 x32 h67 ye81 ff19 fs33 fc0 sc0 ls0 ws0">Normally<span class="_ _4"></span><span class="ls49b">,t<span class="_ _d"></span><span class="ls0">he <span class="_ _2"></span>effective user ID equals the real user ID, and <span class="_ _2"></span>the effective group ID equals</span></span></div><div class="t m0 x32 h67 ye82 ff19 fs33 fc0 sc0 ls0 ws0">the real gr<span class="_ _0"></span>oup ID.</div><div class="t m0 x3f h68 ye83 ff19 fs33 fc0 sc0 ls0 ws0">Every <span class="_ _2"></span>ﬁle <span class="_ _3"></span>has <span class="_ _2"></span>an <span class="_ _3"></span>owner <span class="_ _3"></span>and <span class="_ _2"></span>a <span class="_ _3"></span>group <span class="_ _2"></span>owner<span class="_ _1"></span><span class="ls49c">.T<span class="_ _1d"></span><span class="ls0">he <span class="_ _3"></span>owner <span class="_ _2"></span>is <span class="_ _3"></span>speciﬁed <span class="_ _3"></span>by <span class="_ _2"></span>the<span class="_ _47"> </span><span class="ff1a">st_uid</span></span></span></div><div class="t m0 x32 h68 ye84 ff19 fs33 fc0 sc0 ls0 ws0">member of the<span class="_"> </span><span class="ff1a">stat<span class="_ _80"> </span></span>structure; the gr<span class="_ _0"></span>oup owner<span class="_ _6"></span>,<span class="_"> </span>by<span class="_"> </span>the<span class="_"> </span><span class="ff1a">st_gid<span class="_ _66"> </span></span>member<span class="_ _6"></span>.</div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.893259px;bottom:938.093145px;width:210.204392px;height:19.678955px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
