<div id="pf18" class="pf w4 h1f" data-page-no="18"><div class="pc pc18 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg18.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">xxii<span class="_ _1b"> </span><span class="ff19">Preface</span></div><div class="t m0 x3f h2a y12f ff19 fsf fc0 sc0 ls49 ws0">•I<span class="_ _4d"></span><span class="ls4a">n2<span class="_ _4f"></span><span class="ls0">01<span class="_ _0"></span>1, the <span class="_ _2"></span>C standar<span class="ls4b">dw<span class="_ _4f"></span><span class="ls0">as <span class="_ _2"></span>updated, but <span class="_ _2"></span>because <span class="_ _2"></span>systems haven’t <span class="_ _2"></span>caught up <span class="_ _2"></span>yet</span></span></span></span></div><div class="t m0 x15 h2a y130 ff19 fsf fc0 sc0 ls0 ws0">with the changes, we still refer to the 1999 version in this text.</div><div class="t m0 x32 h2a y150 ff19 fsf fc0 sc0 ls0 ws0">Most notably<span class="_ _6"></span><span class="ls4c">,t<span class="_ _4f"></span><span class="ls0">he <span class="_ _2"></span>platforms <span class="_ _2"></span>used in <span class="_ _2"></span>the <span class="_ _2"></span>second edition <span class="_ _2"></span>have <span class="_ _2"></span>become <span class="_ _2"></span>out-of-date.<span class="_ _46"> </span>In <span class="_ _2"></span>this</span></span></div><div class="t m0 x32 h2a y151 ff19 fsf fc0 sc0 ls0 ws0">book, the thir<span class="ls44">de<span class="_ _4f"></span><span class="ls0">dition, I cover the following platforms:</span></span></div><div class="t m0 x3f h2a y134 ff19 fsf fc0 sc0 ls0 ws0">1. <span class="_ _51"> </span>FreeBSD <span class="_ _42"> </span>8.0, <span class="_ _42"> </span>a <span class="_ _e"> </span>descendant <span class="_ _23"> </span>of <span class="_ _e"> </span>the <span class="_ _42"> </span>4.4BSD <span class="_ _42"> </span>release <span class="_ _42"> </span>from <span class="_ _42"> </span>the <span class="_ _42"> </span>Computer <span class="_ _e"> </span>Systems</div><div class="t m0 x41 h2a y135 ff19 fsf fc0 sc0 ls0 ws0">Research <span class="_ _3"></span>Group <span class="_ _3"></span>at <span class="_ _9"></span>the <span class="_ _9"></span>University <span class="_ _9"></span>of <span class="_ _9"></span>California <span class="_ _9"></span>at <span class="_ _9"></span>Berkeley<span class="_ _6"></span><span class="ls4d">,r<span class="_ _b"></span><span class="ls0">unning <span class="_ _3"></span>on <span class="_ _9"></span>a <span class="_ _9"></span>32</span></span></div><div class="t m0 x42 h2a y152 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x40 h2a y135 ff19 fsf fc0 sc0 ls0 ws0">bit</div><div class="t m0 x41 h2a y136 ff19 fsf fc0 sc0 ls0 ws0">Intel Pentium processor<span class="_ _6"></span>.</div><div class="t m0 x3f h2a y153 ff19 fsf fc0 sc0 ls0 ws0">2. <span class="_ _51"> </span>Linux<span class="_ _45"> </span>3.2.0 <span class="_ _9"></span>(the <span class="_ _9"></span>Ubuntu <span class="_ _9"></span>12.04 <span class="_ _9"></span>distribution), <span class="_ _23"></span>a <span class="_ _9"></span>free <span class="_ _3"></span>UNIX</div><div class="t m0 x43 h2a y154 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x44 h2a y153 ff19 fsf fc0 sc0 ls0 ws0">like <span class="_ _9"></span>operating <span class="_ _9"></span>system,</div><div class="t m0 x41 h2a y155 ff19 fsf fc0 sc0 ls4e ws0">ru<span class="ls0">nning on a 64</span></div><div class="t m0 x3c h2a y156 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x3d h2a y155 ff19 fsf fc0 sc0 ls0 ws0">bit Intel Core<span class="_"> </span>i5<span class="_"> </span>p<span class="ls45">ro</span>cessor<span class="_ _6"></span>.</div><div class="t m0 x3f h2a y157 ff19 fsf fc0 sc0 ls0 ws0">3. <span class="_ _51"> </span>Apple<span class="_ _44"> </span>Mac <span class="_ _42"> </span>OS <span class="_ _42"> </span>X, <span class="_ _42"> </span>version <span class="_ _42"> </span>10.6.8</div><div class="t m0 x45 h2a y158 ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x46 h2a y157 ff19 fsf fc0 sc0 ls0 ws0">Darwin <span class="_ _42"> </span>10.8.0</div><div class="t m0 x47 h2a y158 ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x48 h2a y157 ff19 fsf fc0 sc0 ls0 ws0">on <span class="_ _42"> </span>a <span class="_ _42"> </span>64</div><div class="t m0 x49 h2a y159 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x11 h2a y157 ff19 fsf fc0 sc0 ls0 ws0">bit <span class="_ _42"> </span>Intel <span class="_ _42"> </span>Cor<span class="ls4f">e2D<span class="_ _c"></span><span class="ls0">uo</span></span></div><div class="t m0 x41 h2a y15a ff19 fsf fc0 sc0 ls0 ws0">processor<span class="_ _6"></span><span class="ls50">.(<span class="_ _52"></span><span class="ls0">Darwin <span class="_ _42"> </span>is <span class="_ _e"> </span>based <span class="_ _42"> </span>on <span class="_ _42"> </span>FreeBSD <span class="_ _42"> </span>and <span class="_ _42"> </span>Mach.)<span class="_ _48"> </span><span class="ls51">Ic<span class="_ _c"></span><span class="ls0">hose <span class="_ _42"> </span>to <span class="_ _42"> </span>switch <span class="_ _e"> </span>to <span class="_ _42"> </span>an</span></span></span></span></div><div class="t m0 x41 h2a y15b ff19 fsf fc0 sc0 ls0 ws0">Intel <span class="_ _23"> </span>platform <span class="_ _23"> </span>instead <span class="_ _23"> </span>of <span class="_ _42"> </span>continuing <span class="_ _23"> </span>with <span class="_ _23"> </span>one <span class="_ _23"> </span>based <span class="_ _42"> </span>on <span class="_ _23"></span>the <span class="_ _23"> </span>PowerPC, <span class="_ _23"> </span>because</div><div class="t m0 x41 h2a y15c ff19 fsf fc0 sc0 ls0 ws0">the <span class="_ _e"> </span>latest <span class="_ _53"> </span>versions <span class="_ _53"> </span>of <span class="_ _e"> </span>Mac <span class="_ _53"> </span>OS <span class="_ _e"> </span>X <span class="_ _53"> </span>are<span class="_ _44"> </span>no<span class="_ _4b"> </span>longer <span class="_ _e"> </span>being <span class="_ _53"> </span>ported <span class="_ _e"> </span>to <span class="_ _53"> </span>the <span class="_ _e"> </span>PowerPC</div><div class="t m0 x41 h2a y15d ff19 fsf fc0 sc0 ls0 ws0">platform. <span class="_ _35"> </span>The<span class="_ _35"> </span>drawback <span class="_ _23"></span>to <span class="_ _23"> </span>this <span class="_ _23"> </span>choice <span class="_ _23"> </span>is <span class="_ _42"> </span>that <span class="_ _23"></span>the <span class="_ _23"> </span>processors <span class="_ _23"></span>covered <span class="_ _23"></span>ar<span class="ls52">en<span class="_ _43"></span><span class="ls0">ow</span></span></div><div class="t m0 x41 h2a y15e ff19 fsf fc0 sc0 ls0 ws0">slanted in favor of <span class="_ _2"></span>Intel.<span class="_ _46"> </span>When discussing issues <span class="_ _2"></span>of heterogeneity<span class="_ _4"></span>,<span class="_"> </span>it<span class="_ _47"> </span>is<span class="_"> </span>helpful to</div><div class="t m0 x41 h2a y15f ff19 fsf fc0 sc0 ls0 ws0">have <span class="_ _2"></span>processors <span class="_ _2"></span>with <span class="_ _3"></span>differ<span class="_ _0"></span>ent <span class="_ _2"></span>characteristics, <span class="_ _2"></span>such <span class="_ _3"></span>as <span class="_ _2"></span>byte <span class="_ _3"></span>ordering <span class="_ _2"></span>and <span class="_ _2"></span>integer</div><div class="t m0 x41 h2a y160 ff19 fsf fc0 sc0 ls0 ws0">size.</div><div class="t m0 x3f h2a y161 ff19 fsf fc0 sc0 ls0 ws0">4. <span class="_ _51"> </span>Solaris<span class="_ _4b"> </span>10, <span class="_ _e"> </span>a <span class="_ _e"> </span>derivative <span class="_ _e"> </span>of <span class="_ _e"> </span>System <span class="_ _e"> </span>V <span class="_ _e"> </span>Release <span class="_ _e"> </span>4 <span class="_ _e"> </span>from <span class="_ _53"> </span>Sun <span class="_ _e"> </span>Microsystems <span class="_ _e"> </span>(now</div><div class="t m0 x41 h2a y162 ff19 fsf fc0 sc0 ls0 ws0">Oracle), running on a 64</div><div class="t m0 x4a h2a y163 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x4b h2a y162 ff19 fsf fc0 sc0 ls0 ws0">bit UltraSP<span class="_ _6"></span>ARC IIi processor<span class="_ _6"></span>.</div><div class="t m0 x35 h27 y164 ff16 fsf fc0 sc0 ls0 ws0">Chang <span class="_ _4f"></span>es<span class="_"> </span>from the Second Edition</div><div class="t m0 x32 h2a y165 ff19 fsf fc0 sc0 ls0 ws0">One <span class="_ _e"> </span>of <span class="_ _e"> </span>the <span class="_ _e"> </span>biggest <span class="_ _e"> </span>changes <span class="_ _e"> </span>to <span class="_ _e"> </span>the <span class="_ _e"> </span>Single <span class="_ _e"> </span>UNIX <span class="_ _e"> </span>Speciﬁcation <span class="_ _e"> </span>in <span class="_ _e"> </span>POSIX.1</div><div class="t m0 x4c h2a y166 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x4d h2a y165 ff19 fsf fc0 sc0 ls0 ws0">2008 <span class="_ _e"> </span>is <span class="_ _e"> </span>the</div><div class="t m0 x32 h2a y167 ff19 fsf fc0 sc0 ls0 ws0">demotion <span class="_ _2"></span>of <span class="_ _3"></span>the <span class="_ _2"></span>STREAMS-related <span class="_ _2"></span>interfaces <span class="_ _3"></span>to <span class="_ _2"></span>obsolescent <span class="_ _3"></span>status.<span class="_ _16"> </span>This <span class="_ _2"></span>is <span class="_ _2"></span>the <span class="_ _3"></span>ﬁrst <span class="_ _2"></span>step</div><div class="t m0 x32 h2a y168 ff19 fsf fc0 sc0 ls0 ws0">befor<span class="ls53">et<span class="_ _4f"></span><span class="ls0">hese interfaces <span class="_ _2"></span>ar<span class="ls53">er<span class="_ _8"></span><span class="ls0">emoved <span class="_ _2"></span>entirely in a futur<span class="ls54">ev<span class="_ _d"></span><span class="ls0">ersion of the <span class="_ _2"></span>standard. <span class="_"> </span>Because</span></span></span></span></span></span></div><div class="t m0 x32 h2a y169 ff19 fsf fc0 sc0 ls0 ws0">of <span class="_ _2"></span>this, <span class="_ _3"></span>I <span class="_ _3"></span>have <span class="_ _2"></span>reluctantly <span class="_ _2"></span>removed <span class="_ _2"></span>the <span class="_ _3"></span>STREAMS <span class="_ _3"></span>content <span class="_ _2"></span>from <span class="_ _3"></span>this <span class="_ _2"></span>edition <span class="_ _3"></span>of <span class="_ _3"></span>the <span class="_ _2"></span>book.</div><div class="t m0 x32 h2a y16a ff19 fsf fc0 sc0 ls0 ws0">This <span class="_ _45"> </span>is <span class="_ _45"> </span>an <span class="_ _45"> </span>unfortunate <span class="_ _45"> </span>change, <span class="_ _45"> </span>because <span class="_ _47"> </span>the <span class="_ _45"> </span>STREAMS <span class="_ _45"> </span>interfaces <span class="_ _45"> </span>provided <span class="_ _45"> </span>a <span class="_ _45"> </span>nice</div><div class="t m0 x32 h2a y16b ff19 fsf fc0 sc0 ls0 ws0">contrast <span class="_ _23"></span>to <span class="_ _9"></span>the <span class="_ _23"> </span>socket <span class="_ _23"> </span>interfaces, <span class="_ _23"></span>and <span class="_ _23"></span>in <span class="_ _9"></span>many <span class="_ _23"> </span>ways <span class="_ _23"> </span>wer<span class="ls55">em<span class="_ _43"></span><span class="ls0">or<span class="ls55">eﬂ<span class="_ _b"></span><span class="ls0">exible. <span class="_ _45"> </span>Admittedly<span class="_ _4"></span><span class="ls55">,I</span></span></span></span></span></div><div class="t m0 x32 h2a y16c ff19 fsf fc0 sc0 ls0 ws0">am <span class="_ _23"></span>not <span class="_ _9"></span>entirely <span class="_ _23"></span>unbiased <span class="_ _9"></span>when <span class="_ _23"> </span>it <span class="_ _23"></span>comes <span class="_ _23"></span>to <span class="_ _9"></span>the <span class="_ _23"> </span>STREAMS <span class="_ _23"></span>mechanism, <span class="_ _23"></span>but <span class="_ _9"></span>there<span class="_ _35"> </span>is<span class="_ _45"> </span>no</div><div class="t m0 x32 h2a y16d ff19 fsf fc0 sc0 ls0 ws0">debating the reduced r<span class="_ _0"></span>ole it is playing in curr<span class="_ _0"></span>ent systems:</div><div class="t m0 x3f h2a y16e ff19 fsf fc0 sc0 ls49 ws0">•L<span class="_ _4d"></span><span class="ls0">inux <span class="_ _2"></span>doesn’t <span class="_ _3"></span>include <span class="_ _2"></span>STREAMS <span class="_ _2"></span>in <span class="_ _3"></span>its <span class="_ _2"></span>base <span class="_ _3"></span>system, <span class="_ _2"></span>although <span class="_ _3"></span>packages</span></div><div class="t m0 x4e h2a y16f ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x4f h2a y16e ff19 fsf fc0 sc0 ls0 ws0">LiS <span class="_ _2"></span>and</div><div class="t m0 x15 h2a y170 ff19 fsf fc0 sc0 ls0 ws0">OpenSS7</div><div class="t m0 x8 h2a y171 ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x50 h2a y170 ff19 fsf fc0 sc0 ls0 ws0">ar<span class="ls44">ea<span class="_ _4f"></span><span class="ls0">vailable to add this functionality<span class="_ _6"></span>.</span></span></div><div class="t m0 x3f h2a y172 ff19 fsf fc0 sc0 ls49 ws0">•A<span class="_ _4d"></span><span class="ls0">lthough Solaris <span class="_ _2"></span>10 includes <span class="_ _2"></span>STREAMS, Solaris <span class="_ _2"></span>1<span class="_ _1"></span><span class="ls56">1u<span class="_ _d"></span><span class="ls0">ses <span class="_ _2"></span>a socket <span class="_ _2"></span>implementation</span></span></span></div><div class="t m0 x15 h2a y173 ff19 fsf fc0 sc0 ls0 ws0">that is not built on top of STREAMS.</div><div class="t m0 x3f h2a y174 ff19 fsf fc0 sc0 ls49 ws0">•M<span class="_ _4d"></span><span class="ls0">ac OS X doesn’t include support for STREAMS.</span></div><div class="t m0 x3f h2a y175 ff19 fsf fc0 sc0 ls49 ws0">•F<span class="_ _4d"></span><span class="ls45">re<span class="ls0">eBSD doesn’t include support for STREAMS (and never did).</span></span></div><div class="t m0 x32 h2a y176 ff19 fsf fc0 sc0 ls0 ws0">So <span class="_ _3"></span>with <span class="_ _3"></span>the <span class="_ _3"></span>removal <span class="_ _2"></span>of <span class="_ _3"></span>the <span class="_ _9"></span>STREAMS-related <span class="_ _2"></span>material, <span class="_ _3"></span>an <span class="_ _3"></span>opportunity <span class="_ _3"></span>exists <span class="_ _3"></span>to <span class="_ _3"></span>replace</div><div class="t m0 x32 h2a y177 ff19 fsf fc0 sc0 ls0 ws0">it with new topics, such as POSIX asynchronous I/O.</div><div class="t m0 x3f h2a y178 ff19 fsf fc0 sc0 ls0 ws0">In the <span class="_ _2"></span>second <span class="_ _2"></span>edition, the <span class="_ _2"></span>Linux <span class="_ _2"></span>version covered was <span class="_ _2"></span>based <span class="_ _2"></span>on the <span class="_ _2"></span>2.4 <span class="_ _2"></span>version of <span class="_ _2"></span>the</div><div class="t m0 x32 h2a y179 ff19 fsf fc0 sc0 ls0 ws0">source. <span class="_ _45"> </span>In<span class="_ _45"> </span>this <span class="_ _23"></span>edition, <span class="_ _9"></span>I <span class="_ _23"></span>have <span class="_ _9"></span>updated <span class="_ _23"> </span>the <span class="_ _23"></span>version <span class="_ _9"></span>of <span class="_ _23"></span>Linux <span class="_ _9"></span>to <span class="_ _23"> </span>3.2.<span class="_ _51"> </span>One <span class="_ _9"></span>of <span class="_ _23"></span>the <span class="_ _9"></span>largest</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
