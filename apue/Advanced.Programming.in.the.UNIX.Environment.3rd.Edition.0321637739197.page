<div id="pfc5" class="pf w4 h1f" data-page-no="c5"><div class="pc pcc5 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bgc5.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>5.1<span class="_ _1"></span><span class="ls6ec">1F<span class="_ _1dd"></span><span class="ls0">ormatted <span class="_"> </span>I/O<span class="_ _1b"> </span><span class="ff18">163</span></span></span></div><div class="t m0 xf7 h51 y597 ff19 fs2a fc0 sc0 ls0 ws0">Conversion <span class="_ _1e1"> </span>Description</div><div class="t m0 x194 h51 y598 ff19 fs2a fc0 sc0 ls0 ws0">type</div><div class="t m0 x21 h5e y59a ff1a fs10 fc0 sc0 ls0 ws0">d<span class="_ _196"> </span><span class="ff19">signed decimal, base 10</span></div><div class="t m0 x21 h5e y59b ff1a fs10 fc0 sc0 ls0 ws0">i<span class="_ _196"> </span><span class="ff19">signed decimal, base determined by format of input</span></div><div class="t m0 x21 h5e y59c ff1a fs10 fc0 sc0 ls0 ws0">o<span class="_ _196"> </span><span class="ff19">unsigned octal (input optionally signed)</span></div><div class="t m0 x21 h5e y59d ff1a fs10 fc0 sc0 ls0 ws0">u<span class="_ _196"> </span><span class="ff19">unsigned decimal, base 10 (input optionally signed)</span></div><div class="t m0 x21 h5e y59e ff1a fs10 fc0 sc0 ls0 ws0">x,X<span class="_ _167"> </span><span class="ff19">unsigned hexadecimal (input optionally signed)</span></div><div class="t m0 x21 h5e y59f ff1a fs10 fc0 sc0 ls0 ws0">a,A,e,E,f,F,g,G<span class="_ _6e"> </span><span class="ff19">ﬂoating-point number</span></div><div class="t m0 x21 h5e y5a0 ff1a fs10 fc0 sc0 ls0 ws0">c<span class="_ _196"> </span><span class="ff19">character (with<span class="_"> </span></span>l<span class="_ _53"> </span><span class="ff19">length modiﬁer<span class="_ _1"></span><span class="ls136">,w<span class="_ _84"></span><span class="ls0">ide character)</span></span></span></div><div class="t m0 x21 h5e y5a1 ff1a fs10 fc0 sc0 ls0 ws0">s<span class="_ _196"> </span><span class="ff19">string (with<span class="_"> </span></span>l<span class="_ _53"> </span><span class="ff19">length modiﬁer<span class="_ _1"></span><span class="ls136">,w<span class="_ _84"></span><span class="ls0">ide character string)</span></span></span></div><div class="t m0 x21 h5e y5a2 ff1a fs10 fc0 sc0 ls0 ws0">[<span class="_ _196"> </span><span class="ff19">matches a sequence of listed characters, ending with<span class="_"> </span></span>]</div><div class="t m0 x21 h5e y5a3 ff1a fs10 fc0 sc0 ls0 ws0">[ˆ<span class="_ _1e2"> </span><span class="ff19">matches all characters except the ones listed, ending with<span class="_"> </span></span>]</div><div class="t m0 x21 h5e y5a4 ff1a fs10 fc0 sc0 ls0 ws0">p<span class="_ _196"> </span><span class="ff19">pointer to a<span class="_"> </span></span>void</div><div class="t m0 x21 h5e y5a5 ff1a fs10 fc0 sc0 ls0 ws0">n<span class="_ _196"> </span><span class="ff19">pointer to a signed integer into which is written the number of characters r<span class="_ _0"></span>ead so far</span></div><div class="t m0 x21 h5e y5a6 ff1a fs10 fc0 sc0 ls0 ws0">%<span class="_ _196"> </span><span class="ff19 ls136">a%c<span class="_ _5"></span><span class="ls0">haracter</span></span></div><div class="t m0 x21 h5e y5a7 ff1a fs10 fc0 sc0 ls0 ws0">C<span class="_ _196"> </span><span class="ff19">wide character</span></div><div class="t m0 x17c h2d y166b ff19 fs10 fc0 sc0 ls0 ws0">(</div><div class="t m0 x4b h5e y5a7 ff19 fs10 fc0 sc0 ls0 ws0">XSI option, equivalent to<span class="_"> </span><span class="ff1a">lc</span></div><div class="t m0 xa1 h2d y166b ff19 fs10 fc0 sc0 ls0 ws0">)</div><div class="t m0 x21 h5e y5a8 ff1a fs10 fc0 sc0 ls0 ws0">S<span class="_ _196"> </span><span class="ff19">wide character string</span></div><div class="t m0 xc6 h2d y166c ff19 fs10 fc0 sc0 ls0 ws0">(</div><div class="t m0 x84 h5e y5a8 ff19 fs10 fc0 sc0 ls0 ws0">XSI option, equivalent to<span class="_"> </span><span class="ff1a">ls</span></div><div class="t m0 x118 h2d y166c ff19 fs10 fc0 sc0 ls0 ws0">)</div><div class="t m0 x7b h2e y166d ff18 fs11 fc0 sc0 ls0 ws0">Figure 5.10<span class="_ _5a"> </span><span class="ff19">The conversion type component of a conversion speciﬁcation</span></div><div class="t m0 x32 h55 y16a4 ff19 fs2c fc0 sc0 ls0 ws0">speciﬁers <span class="_ _3"></span>to <span class="_ _3"></span>force <span class="_ _3"></span>a <span class="_ _3"></span>memory <span class="_ _3"></span>buffer <span class="_ _3"></span>to <span class="_ _3"></span>be <span class="_ _9"></span>allocated <span class="_ _3"></span>to <span class="_ _3"></span>hold <span class="_ _3"></span>the <span class="_ _9"></span>converted <span class="_ _3"></span>string.<span class="_ _16"> </span>In <span class="_ _3"></span>this</div><div class="t m0 x32 h55 y16a5 ff19 fs2c fc0 sc0 ls0 ws0">case, <span class="_"> </span>the <span class="_ _e"> </span>corresponding <span class="_"> </span>ar<span class="_ _1"></span>gument <span class="_"> </span>should <span class="_"> </span>be <span class="_ _e"> </span>the <span class="_"> </span>address <span class="_ _e"> </span>of <span class="_"> </span>a <span class="_ _e"> </span>pointer <span class="_"> </span>to <span class="_"> </span>which <span class="_ _e"> </span>the</div><div class="t m0 x32 h55 y16a6 ff19 fs2c fc0 sc0 ls0 ws0">address <span class="_ _47"> </span>of <span class="_ _45"> </span>the <span class="_ _45"> </span>allocated <span class="_ _45"> </span>buffer <span class="_ _47"> </span>will <span class="_ _45"> </span>be <span class="_ _45"> </span>copied.<span class="_ _1a3"> </span>If <span class="_ _45"> </span>the <span class="_ _45"> </span>call <span class="_ _45"> </span>succeeds, <span class="_ _45"> </span>the <span class="_ _45"> </span>caller <span class="_ _47"> </span>is</div><div class="t m0 x32 h54 y16a7 ff19 fs2c fc0 sc0 ls150 ws0">re<span class="ls0">sponsible <span class="_ _42"> </span>for <span class="_ _42"> </span>freeing <span class="_ _23"> </span>the <span class="_ _42"> </span>buffer <span class="_ _23"> </span>by <span class="_ _42"> </span>calling <span class="_ _42"> </span>the<span class="_ _44"> </span><span class="ff1a">free<span class="_ _35"> </span></span>function <span class="_ _42"> </span>when <span class="_ _42"> </span>the <span class="_ _42"> </span>buf<span class="_ _0"></span>fer <span class="_ _42"> </span>is <span class="_ _42"> </span>no</span></div><div class="t m0 x32 h55 y16a8 ff19 fs2c fc0 sc0 ls0 ws0">longer needed.</div><div class="t m0 x3f h54 y16a9 ff19 fs2c fc0 sc0 ls0 ws0">The<span class="_ _98"> </span><span class="ff1a">scanf<span class="_ _5c"> </span></span>family <span class="_ _54"> </span>of <span class="_ _51"> </span>functions <span class="_ _51"> </span>also <span class="_ _54"> </span>supports <span class="_ _51"> </span>the <span class="_ _51"> </span>alternative <span class="_ _54"> </span>conversion</div><div class="t m0 x32 h60 y16aa ff19 fs2c fc0 sc0 ls0 ws0">speciﬁcation <span class="_ _9"></span>syntax <span class="_ _23"></span>allowing <span class="_ _9"></span>the <span class="_ _23"></span>arguments <span class="_ _9"></span>to <span class="_ _9"></span>be <span class="_ _23"> </span>named <span class="_ _23"></span>explicitly: <span class="_ _9"></span>the <span class="_ _23"></span>sequence<span class="_ _45"> </span><span class="ff1b">%n$</span></div><div class="t m0 x32 h54 y16ab ff19 fs2c fc0 sc0 ls150 ws0">re<span class="ls0">presents <span class="_ _2"></span>the<span class="_ _66"> </span><span class="ff1b">n</span>th <span class="_ _2"></span>argument. <span class="_"> </span>W<span class="_ _0"></span>ith the<span class="_ _47"> </span><span class="ff1a">printf<span class="_ _66"> </span></span>family <span class="_ _2"></span>of <span class="_ _2"></span>functions, <span class="_ _2"></span>the <span class="_ _2"></span>same <span class="_ _2"></span>numbered</span></div><div class="t m0 x32 h55 y16ac ff19 fs2c fc0 sc0 ls0 ws0">argument <span class="_ _2"></span>can <span class="_ _2"></span>be <span class="_ _3"></span>referenced <span class="_ _2"></span>in <span class="_ _2"></span>the <span class="_ _3"></span>format <span class="_ _3"></span>string <span class="_ _3"></span>mor<span class="ls709">et<span class="_ _8"></span><span class="ls0">han <span class="_ _2"></span>once.<span class="_ _16"> </span>In <span class="_ _3"></span>this <span class="_ _3"></span>case, <span class="_ _2"></span>however<span class="_ _1"></span>,</span></span></div><div class="t m0 x32 h54 y16ad ff19 fs2c fc0 sc0 ls0 ws0">the <span class="_ _53"> </span>Single <span class="_"> </span>UNIX <span class="_ _53"> </span>Speciﬁcation <span class="_ _53"> </span>states <span class="_"> </span>that <span class="_ _53"> </span>the <span class="_ _e"> </span>behavior <span class="_ _53"> </span>is <span class="_"> </span>undeﬁned <span class="_ _53"> </span>with <span class="_ _53"> </span>the<span class="_ _59"> </span><span class="ff1a">scanf</span></div><div class="t m0 x32 h55 y16ae ff19 fs2c fc0 sc0 ls0 ws0">family of functions.</div><div class="t m0 x3f h54 y16af ff19 fs2c fc0 sc0 ls0 ws0">Like <span class="_ _e"> </span>the<span class="_ _59"> </span><span class="ff1a">printf<span class="_ _59"> </span></span>family<span class="_ _4"></span><span class="ls70a">,t<span class="_ _55"></span><span class="ls0">he<span class="_ _59"> </span><span class="ff1a">scanf<span class="_ _59"> </span></span>family <span class="_ _e"> </span>supports <span class="_"> </span>functions <span class="_ _53"> </span>that <span class="_"> </span>use <span class="_ _e"> </span>variable</span></span></div><div class="t m0 x32 h54 y16b0 ff19 fs2c fc0 sc0 ls0 ws0">argument lists as speciﬁed by<span class="_"> </span><span class="ff1a">&lt;stdarg.h&gt;</span>.</div><div class="t m0 x3f h5d y16b1 ff1a fs2f fc0 sc0 ls0 ws0">#include &lt;stdarg.h&gt;</div><div class="t m0 x3f h5d y16b2 ff1a fs2f fc0 sc0 ls0 ws0">#include &lt;stdio.h&gt;</div><div class="t m0 x3f h5d y16b3 ff1a fs2f fc0 sc0 ls0 ws0">int vscanf(const char *restrict<span class="_"> </span><span class="ff1b">format</span><span class="ls395">,v<span class="_ _1d"></span><span class="ls0">a_list<span class="_"> </span><span class="ff1b">arg</span>);</span></span></div><div class="t m0 x3f h5d y16b4 ff1a fs2f fc0 sc0 ls0 ws0">int vfscanf(FILE *restrict<span class="_"> </span><span class="ff1b">fp</span><span class="ls395">,c<span class="_ _1d"></span><span class="ls0">onst char *restrict<span class="_"> </span><span class="ff1b">format</span>,</span></span></div><div class="t m0 xda h5d y16b5 ff1a fs2f fc0 sc0 ls0 ws0">va_list<span class="_"> </span><span class="ff1b">arg</span>);</div><div class="t m0 x3f h5d y16b6 ff1a fs2f fc0 sc0 ls0 ws0">int vsscanf(const char *restrict<span class="_"> </span><span class="ff1b">buf</span><span class="ls395">,c<span class="_ _1d"></span><span class="ls0">onst char *restrict<span class="_"> </span><span class="ff1b">format</span>,</span></span></div><div class="t m0 xda h5d y16b7 ff1a fs2f fc0 sc0 ls0 ws0">va_list<span class="_"> </span><span class="ff1b">arg</span>);</div><div class="t m0 x6c hc2 y16b8 ff19 fs2f fc0 sc0 ls0 ws0">All three r<span class="_ _0"></span>eturn: number of input items assigned,</div><div class="t m0 xe h5d y16b9 ff1a fs2f fc0 sc0 ls0 ws0">EOF<span class="_ _e"> </span><span class="ff19">if input error or end of ﬁle befor<span class="ls4c3">ea<span class="_ _d"></span><span class="ls0">ny conversion</span></span></span></div><div class="t m0 x32 h5c y16ba ff19 fs29 fc0 sc0 ls0 ws0">Refer <span class="_"> </span>to <span class="_"> </span>your <span class="_ _66"> </span>UNIX <span class="_"> </span>system <span class="_ _66"> </span>manual <span class="_"> </span>for <span class="_ _66"> </span>additional <span class="_ _66"> </span>details <span class="_"> </span>on <span class="_ _66"> </span>the<span class="_ _46"> </span><span class="ff1a">scanf<span class="_ _46"> </span></span>family <span class="_ _66"> </span>of</div><div class="t m0 x32 h50 y16bb ff19 fs29 fc0 sc0 ls0 ws0">functions.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
