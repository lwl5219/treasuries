<div id="pf2ed" class="pf w4 h1f" data-page-no="2ed"><div class="pc pc2ed w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg2ed.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x32 h47 y25f ff1e fsb fc0 sc0 ls0 ws0">19</div><div class="t m0 x32 h20 y8f ff15 fs2 fc0 sc0 ls0 ws0">Pseudo <span class="_"> </span>T<span class="_ _4"></span>er <span class="_ _7"></span>minals</div><div class="t m0 x35 h48 y116 ff16 fs1 fc0 sc0 ls0 ws0">19.1 <span class="_ _93"> </span>Introduction</div><div class="t m0 x32 h28 y118 ff19 fs5 fc0 sc0 ls0 ws0">In <span class="_ _35"> </span>Chapter <span class="_ _35"> </span>9, <span class="_ _44"> </span>we <span class="_ _35"> </span>saw <span class="_ _35"> </span>that <span class="_ _44"> </span>terminal <span class="_ _35"> </span>logins <span class="_ _35"> </span>come <span class="_ _44"> </span>in <span class="_ _35"> </span>through <span class="_ _35"> </span>a <span class="_ _35"> </span>terminal <span class="_ _35"> </span>device,</div><div class="t m0 x32 h28 y119 ff19 fs5 fc0 sc0 ls0 ws0">automatically <span class="_ _e"> </span>providing <span class="_ _53"> </span>terminal <span class="_"> </span>semantics.<span class="_ _65"> </span><span class="ls1543">At<span class="_ _55"></span><span class="ls0">erminal <span class="_"> </span>line <span class="_ _53"> </span>discipline <span class="_ _e"> </span>(Figur<span class="ls1544">e1<span class="_ _55"></span><span class="ls0">8.2)</span></span></span></span></div><div class="t m0 x32 h28 y11a ff19 fs5 fc0 sc0 ls0 ws0">exists <span class="_ _3"></span>between <span class="_ _3"></span>the <span class="_ _3"></span>terminal <span class="_ _3"></span>and <span class="_ _3"></span>the <span class="_ _3"></span>programs <span class="_ _2"></span>that <span class="_ _9"></span>we <span class="_ _2"></span>run, <span class="_ _3"></span>so <span class="_ _3"></span>we <span class="_ _3"></span>can <span class="_ _3"></span>set <span class="_ _9"></span>the <span class="_ _2"></span>terminal’s</div><div class="t m0 x32 h28 y11b ff19 fs5 fc0 sc0 ls0 ws0">special <span class="_ _e"> </span>characters <span class="_ _e"> </span>(e.g., <span class="_ _e"> </span>backspace, <span class="_ _e"> </span>line <span class="_ _e"> </span>erase, <span class="_"> </span>interr<span class="_ _0"></span>upt) <span class="_ _e"> </span>and <span class="_ _e"> </span>the <span class="_ _e"> </span>like.<span class="_ _48"> </span>When <span class="_ _e"> </span>a <span class="_ _e"> </span>login</div><div class="t m0 x32 h28 y11c ff19 fs5 fc0 sc0 ls0 ws0">arrives on a network connection, however<span class="_ _1"></span><span class="ls1545">,at<span class="_ _d"></span><span class="ls0">erminal line <span class="_ _2"></span>discipline is not automatically</span></span></div><div class="t m0 x32 h28 y11d ff19 fs5 fc0 sc0 ls0 ws0">provided <span class="_ _53"> </span>between <span class="_ _e"> </span>the <span class="_"> </span>incoming <span class="_ _53"> </span>network <span class="_ _e"> </span>connection <span class="_ _e"> </span>and <span class="_ _e"> </span>the <span class="_"> </span>login <span class="_ _53"> </span>shell.<span class="_ _48"> </span>Figur<span class="ls1546">e9<span class="_ _4a"></span><span class="ls0">.5</span></span></div><div class="t m0 x32 h29 y11e ff19 fs5 fc0 sc0 ls0 ws0">showed that a<span class="_"> </span><span class="ff1b">pseudo terminal<span class="_"> </span></span>device driver is used to provide terminal semantics.</div><div class="t m0 x3f h28 y11f ff19 fs5 fc0 sc0 ls0 ws0">In <span class="_ _3"></span>addition <span class="_ _3"></span>to <span class="_ _3"></span>network <span class="_ _3"></span>logins, <span class="_ _3"></span>pseudo <span class="_ _3"></span>terminals <span class="_ _3"></span>have <span class="_ _3"></span>other <span class="_ _3"></span>uses <span class="_ _3"></span>that <span class="_ _3"></span>we <span class="_ _9"></span>explor<span class="ls1547">ei<span class="_ _b"></span><span class="ls0">n</span></span></div><div class="t m0 x32 h28 y120 ff19 fs5 fc0 sc0 ls0 ws0">this <span class="_ _2"></span>chapter<span class="_ _1"></span><span class="ls1548">.W<span class="_ _7"></span><span class="ls1549">es<span class="_ _4f"></span><span class="ls0">tart <span class="_ _2"></span>with <span class="_ _3"></span>an <span class="_ _2"></span>overview <span class="_ _3"></span>on <span class="_ _2"></span>how <span class="_ _2"></span>to <span class="_ _3"></span>use <span class="_ _2"></span>pseudo <span class="_ _3"></span>terminals, <span class="_ _2"></span>followed <span class="_ _2"></span>by <span class="_ _3"></span>a</span></span></span></div><div class="t m0 x32 h28 y121 ff19 fs5 fc0 sc0 ls0 ws0">discussion <span class="_ _9"></span>of <span class="_ _3"></span>speciﬁc <span class="_ _9"></span>use <span class="_ _9"></span>cases.<span class="_ _5a"> </span>Next <span class="_ _3"></span>we <span class="_ _9"></span>provide <span class="_ _9"></span>functions <span class="_ _3"></span>to <span class="_ _9"></span>create <span class="_ _3"></span>pseudo <span class="_ _9"></span>terminals</div><div class="t m0 x32 h28 y122 ff19 fs5 fc0 sc0 ls0 ws0">on <span class="_ _9"></span>various <span class="_ _9"></span>platforms, <span class="_ _3"></span>and <span class="_ _9"></span>then <span class="_ _9"></span>we <span class="_ _9"></span>use <span class="_ _9"></span>these <span class="_ _9"></span>functions <span class="_ _9"></span>to <span class="_ _9"></span>write <span class="_ _9"></span>a <span class="_ _9"></span>program <span class="_ _3"></span>that <span class="_ _9"></span>we <span class="_ _9"></span>call</div><div class="t m0 x32 h2c y123 ff1a fs5 fc0 sc0 ls0 ws0">pty<span class="ff19 ls154a">.W<span class="_ _52"></span><span class="ls0">e’ll <span class="_ _3"></span>show <span class="_ _9"></span>various <span class="_ _9"></span>uses <span class="_ _9"></span>of <span class="_ _9"></span>this <span class="_ _9"></span>program: <span class="_ _3"></span>making <span class="_ _9"></span>a <span class="_ _9"></span>transcript <span class="_ _9"></span>of <span class="_ _9"></span>all <span class="_ _9"></span>the <span class="_ _9"></span>character</span></span></div><div class="t m0 x32 h2c y124 ff19 fs5 fc0 sc0 ls0 ws0">input <span class="_ _3"></span>and <span class="_ _2"></span>output <span class="_ _3"></span>on <span class="_ _3"></span>the <span class="_ _3"></span>terminal <span class="_ _3"></span>(the<span class="_ _47"> </span><span class="ff1a">script</span></div><div class="t m0 x1de h28 y5287 ff19 fs5 fc0 sc0 ls0 ws0">(</div><div class="t m0 x176 h28 y124 ff19 fs5 fc0 sc0 ls0 ws0">1</div><div class="t m0 x1f9 h28 y5287 ff19 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m0 x116 h28 y124 ff19 fs5 fc0 sc0 ls0 ws0">program) <span class="_ _2"></span>and <span class="_ _3"></span>running <span class="_ _2"></span>coprocesses <span class="_ _3"></span>to</div><div class="t m0 x32 h28 y125 ff19 fs5 fc0 sc0 ls0 ws0">avoid the buffering pr<span class="_ _0"></span>oblems we encounter<span class="_ _0"></span>ed in the program fr<span class="_ _0"></span>om Figur<span class="ls46">e1<span class="_ _4f"></span><span class="ls0">5.19.</span></span></div><div class="t m0 x35 h48 y128 ff16 fs1 fc0 sc0 ls0 ws0">19.2 <span class="_ _93"> </span>Overview</div><div class="t m0 x32 h29 y12a ff19 fs5 fc0 sc0 ls0 ws0">The <span class="_ _2"></span>term<span class="_ _47"> </span><span class="ff1b">pseudo <span class="_ _3"></span>terminal<span class="_ _47"> </span></span>implies <span class="_ _3"></span>that <span class="_ _2"></span>it <span class="_ _3"></span>looks <span class="_ _3"></span>like <span class="_ _3"></span>a <span class="_ _2"></span>terminal <span class="_ _3"></span>to <span class="_ _3"></span>an <span class="_ _2"></span>application <span class="_ _3"></span>program,</div><div class="t m0 x32 h28 y12b ff19 fs5 fc0 sc0 ls0 ws0">but <span class="_ _3"></span>it’s <span class="_ _3"></span>not <span class="_ _9"></span>a <span class="_ _3"></span>real <span class="_ _3"></span>terminal.<span class="_ _16"> </span>Figur<span class="ls154b">e1<span class="_ _b"></span><span class="ls0">9.1 <span class="_ _9"></span>shows <span class="_ _3"></span>the <span class="_ _9"></span>typical <span class="_ _3"></span>arrangement <span class="_ _3"></span>of <span class="_ _9"></span>the <span class="_ _3"></span>processes</span></span></div><div class="t m0 x32 h28 y12c ff19 fs5 fc0 sc0 ls0 ws0">involved <span class="_ _23"></span>when <span class="_ _9"></span>a <span class="_ _23"> </span>pseudo <span class="_ _23"></span>terminal <span class="_ _9"></span>is <span class="_ _23"> </span>being <span class="_ _23"></span>used.<span class="_ _5a"> </span>The <span class="_ _23"> </span>key <span class="_ _23"></span>points <span class="_ _23"></span>in <span class="_ _9"></span>this <span class="_ _23"> </span>ﬁgur<span class="ls154c">ea<span class="_ _43"></span><span class="ls16">re <span class="_ _42"> </span>t<span class="_ _2"></span><span class="ls0">he</span></span></span></div><div class="t m0 x32 h28 y12d ff19 fs5 fc0 sc0 ls0 ws0">following.</div><div class="t m0 x1c0 h23 y12e ff18 fs0 fc0 sc0 ls0 ws0">715</div><a class="l" href="#pf13" data-dest-detail='[19,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:157.497886px;bottom:975.452099px;width:207.811020px;height:134.895020px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf13" data-dest-detail='[19,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.891993px;bottom:693.226788px;width:105.756005px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf13" data-dest-detail='[19,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892201px;bottom:239.626820px;width:89.303909px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
