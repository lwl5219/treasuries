<div id="pf3a5" class="pf w4 h1f" data-page-no="3a5"><div class="pc pc3a5 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg3a5.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>B.2<span class="_ _321"> </span>Standar<span class="ls30a">dE<span class="_ _55"></span><span class="ls0">rror <span class="_"> </span>Routines<span class="_ _1fb"> </span><span class="ff18">899</span></span></span></div><div class="t m0 x3f h2a y12f ff19 fsf fc0 sc0 ls0 ws0">Figur<span class="ls44">eB<span class="_ _4f"></span><span class="ls0">.2 summarizes the differences between the various err<span class="_ _0"></span>or functions.</span></span></div><div class="t m0 x8f h5e y5f8b ff19 fs10 fc0 sc0 ls0 ws0">Function <span class="_ _41"> </span>Adds<span class="_"> </span>string from<span class="_"> </span><span class="ff1a">strerror</span><span class="ls17f0">?P<span class="_ _de"></span><span class="ls0">arameter to<span class="_"> </span><span class="ff1a">strerror<span class="_ _6e"> </span></span><span class="ls292">Te<span class="_ _9"></span></span>rminate?</span></span></div><div class="t m0 x21b h4f y5f8c ff1a fs11 fc0 sc0 ls0 ws0">err_dump<span class="_ _b6"> </span><span class="ff19">yes<span class="_ _105"> </span></span>errno <span class="_ _90"> </span>abort();</div><div class="t m0 x21b h4f y5f8d ff1a fs11 fc0 sc0 ls0 ws0">err_exit<span class="_ _b6"> </span><span class="ff19">yes <span class="_ _2de"> </span>explicit<span class="_"> </span>parameter<span class="_ _12b"> </span></span>exit</div><div class="t m0 x3b h4f y5f8e ff1a fs11 fc0 sc0 ls0 ws0">(</div><div class="t m0 x19e h4f y5f8d ff1a fs11 fc0 sc0 ls0 ws0">1</div><div class="t m0 x4c h4f y5f8e ff1a fs11 fc0 sc0 ls0 ws0">)</div><div class="t m0 x70 h4f y5f8d ff1a fs11 fc0 sc0 ls0 ws0">;</div><div class="t m0 x21b h4f y5f8f ff1a fs11 fc0 sc0 ls0 ws0">err_msg<span class="_ _82"> </span><span class="ff19">no<span class="_ _31d"> </span></span>return;</div><div class="t m0 x21b h4f y5f90 ff1a fs11 fc0 sc0 ls0 ws0">err_quit<span class="_ _a4"> </span><span class="ff19">no<span class="_ _31d"> </span></span>exit</div><div class="t m0 x3b h4f y5f91 ff1a fs11 fc0 sc0 ls0 ws0">(</div><div class="t m0 x19e h4f y5f90 ff1a fs11 fc0 sc0 ls0 ws0">1</div><div class="t m0 x4c h4f y5f91 ff1a fs11 fc0 sc0 ls0 ws0">)</div><div class="t m0 x70 h4f y5f90 ff1a fs11 fc0 sc0 ls0 ws0">;</div><div class="t m0 x21b h4f y5f92 ff1a fs11 fc0 sc0 ls0 ws0">err_ret<span class="_ _1ac"> </span><span class="ff19">yes<span class="_ _105"> </span></span>errno <span class="_ _90"> </span>return;</div><div class="t m0 x21b h4f y5f93 ff1a fs11 fc0 sc0 ls0 ws0">err_sys<span class="_ _1ac"> </span><span class="ff19">yes<span class="_ _105"> </span></span>errno <span class="_ _90"> </span>exit</div><div class="t m0 x3b h4f y5f94 ff1a fs11 fc0 sc0 ls0 ws0">(</div><div class="t m0 x19e h4f y5f93 ff1a fs11 fc0 sc0 ls0 ws0">1</div><div class="t m0 x4c h4f y5f94 ff1a fs11 fc0 sc0 ls0 ws0">)</div><div class="t m0 x70 h4f y5f93 ff1a fs11 fc0 sc0 ls0 ws0">;</div><div class="t m0 x21b h4f y5f95 ff1a fs11 fc0 sc0 ls0 ws0">err_cont<span class="_ _b6"> </span><span class="ff19">yes <span class="_ _2de"> </span>explicit<span class="_"> </span>parameter<span class="_ _12b"> </span></span>return;</div><div class="t m0 x21b h6d y5f96 ff1a fs12 fc0 sc0 ls0 ws0">log_msg<span class="_ _82"> </span><span class="ff19">no<span class="_ _31d"> </span></span>return;</div><div class="t m0 x21b h6d y5f97 ff1a fs12 fc0 sc0 ls0 ws0">log_quit<span class="_ _a4"> </span><span class="ff19">no<span class="_ _31d"> </span></span>exit</div><div class="t m0 x3b h6d y5f98 ff1a fs12 fc0 sc0 ls0 ws0">(</div><div class="t m0 x19e h6d y5f97 ff1a fs12 fc0 sc0 ls0 ws0">2</div><div class="t m0 x4c h6d y5f98 ff1a fs12 fc0 sc0 ls0 ws0">)</div><div class="t m0 x70 h6d y5f97 ff1a fs12 fc0 sc0 ls0 ws0">;</div><div class="t m0 x21b h6d y5f99 ff1a fs12 fc0 sc0 ls0 ws0">log_ret<span class="_ _1ac"> </span><span class="ff19">yes<span class="_ _28e"> </span></span>errno <span class="_ _13b"> </span>return;</div><div class="t m0 x21b h6d y5f9a ff1a fs12 fc0 sc0 ls0 ws0">log_sys<span class="_ _1ac"> </span><span class="ff19">yes<span class="_ _28e"> </span></span>errno <span class="_ _13b"> </span>exit</div><div class="t m0 x3b h6d y5f9b ff1a fs12 fc0 sc0 ls0 ws0">(</div><div class="t m0 x19e h6d y5f9a ff1a fs12 fc0 sc0 ls0 ws0">2</div><div class="t m0 x4c h6d y5f9b ff1a fs12 fc0 sc0 ls0 ws0">)</div><div class="t m0 x70 h6d y5f9a ff1a fs12 fc0 sc0 ls0 ws0">;</div><div class="t m0 x21b h6d y5f9c ff1a fs12 fc0 sc0 ls0 ws0">log_exit<span class="_ _b6"> </span><span class="ff19">yes <span class="_ _2de"> </span>explicit<span class="_"> </span>parameter<span class="_ _12b"> </span></span>exit</div><div class="t m0 x3b h6d y5f9d ff1a fs12 fc0 sc0 ls0 ws0">(</div><div class="t m0 x19e h6d y5f9c ff1a fs12 fc0 sc0 ls0 ws0">2</div><div class="t m0 x4c h6d y5f9d ff1a fs12 fc0 sc0 ls0 ws0">)</div><div class="t m0 x70 h6d y5f9c ff1a fs12 fc0 sc0 ls0 ws0">;</div><div class="t m0 x209 h30 y5f9e ff18 fs13 fc0 sc0 ls0 ws0">Figure B.2<span class="_ _5a"> </span><span class="ff19">Our standar<span class="ls673">de<span class="_ _84"></span><span class="ls0">rror functions</span></span></span></div><div class="t m0 x3f h6e y5f9f ff19 fs31 fc0 sc0 ls0 ws0">Figur<span class="ls229">eB<span class="_ _4f"></span><span class="ls0">.3 shows the error functions that output to standar<span class="ls229">de<span class="_ _4f"></span><span class="ls0">rror<span class="_ _6"></span>.</span></span></span></span></div><div class="t m0 x32 hc1 y5fa0 ff1a fs69 fc0 sc0 ls0 ws0">#include &quot;apue.h&quot;</div><div class="t m0 x32 hc1 y5fa1 ff1a fs69 fc0 sc0 ls0 ws0">#include &lt;errno.h&gt;<span class="_ _189"> </span>/* for definition of errno */</div><div class="t m0 x32 hc1 y5fa2 ff1a fs69 fc0 sc0 ls0 ws0">#include &lt;stdarg.h&gt;<span class="_ _8a"> </span>/* ISO C variable aruments */</div><div class="t m0 x32 hc1 y5fa3 ff1a fs69 fc0 sc0 ls0 ws0">static void err_doit(int, int, const char *, va_list);</div><div class="t m0 x32 hc1 y5fa4 ff1a fs69 fc0 sc0 ls0 ws0">/*</div><div class="t m0 x140 hc1 y5fa5 ff1a fs69 fc0 sc0 lsf89 ws0">*N<span class="_ _1d"></span><span class="ls0">onfatal error related to a system call.</span></div><div class="t m0 x140 hc1 y5fa6 ff1a fs69 fc0 sc0 lsf89 ws0">*P<span class="_ _1d"></span><span class="ls0">rint a message and return.</span></div><div class="t m0 x140 hc1 y5fa7 ff1a fs69 fc0 sc0 ls0 ws0">*/</div><div class="t m0 x32 hc1 y5fa8 ff1a fs69 fc0 sc0 ls0 ws0">void</div><div class="t m0 x32 hc1 y5fa9 ff1a fs69 fc0 sc0 ls0 ws0">err_ret(const char *fmt, ...)</div><div class="t m0 x32 hc1 y5faa ff1a fs69 fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a hc1 y5fab ff1a fs69 fc0 sc0 ls0 ws0">va_list <span class="_ _15"> </span>ap;</div><div class="t m0 x8a hc1 y5fac ff1a fs69 fc0 sc0 ls0 ws0">va_start(ap, fmt);</div><div class="t m0 x8a hc1 y5fad ff1a fs69 fc0 sc0 ls0 ws0">err_doit(1, errno, fmt, ap);</div><div class="t m0 x8a hc1 y5fae ff1a fs69 fc0 sc0 ls0 ws0">va_end(ap);</div><div class="t m0 x32 hc1 y5faf ff1a fs69 fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 hc1 y5fb0 ff1a fs69 fc0 sc0 ls0 ws0">/*</div><div class="t m0 x140 hc1 y5fb1 ff1a fs69 fc0 sc0 lsf89 ws0">*F<span class="_ _1d"></span><span class="ls0">atal error related to a system call.</span></div><div class="t m0 x140 hc1 y5fb2 ff1a fs69 fc0 sc0 lsf89 ws0">*P<span class="_ _1d"></span><span class="ls0">rint a message and terminate.</span></div><div class="t m0 x140 hc1 y5fb3 ff1a fs69 fc0 sc0 ls0 ws0">*/</div><div class="t m0 x32 hc1 y5fb4 ff1a fs69 fc0 sc0 ls0 ws0">void</div><div class="t m0 x32 hc1 y5fb5 ff1a fs69 fc0 sc0 ls0 ws0">err_sys(const char *fmt, ...)</div><div class="t m0 x32 hc1 y5fb6 ff1a fs69 fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a hc1 y5fb7 ff1a fs69 fc0 sc0 ls0 ws0">va_list <span class="_ _15"> </span>ap;</div><div class="t m0 x8a hc1 y5fb8 ff1a fs69 fc0 sc0 ls0 ws0">va_start(ap, fmt);</div><div class="t m0 x8a hc1 y5fb9 ff1a fs69 fc0 sc0 ls0 ws0">err_doit(1, errno, fmt, ap);</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
