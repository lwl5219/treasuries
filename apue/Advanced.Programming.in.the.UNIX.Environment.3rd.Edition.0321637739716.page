<div id="pf2cc" class="pf w4 h1f" data-page-no="2cc"><div class="pc pc2cc w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg2cc.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">682<span class="_ _1b"> </span><span class="ff19 ls719">Te<span class="_ _9"></span><span class="ls0">rminal <span class="_"> </span>I/O<span class="_ _eb"> </span>Chapter <span class="_"> </span>18</span></span></div><div class="t m0 x32 h2a y12f ff19 fsf fc0 sc0 ls0 ws0">ST<span class="_ _6"></span><span class="lsb4">AT<span class="_ _9"></span><span class="ls0">US <span class="_ _179"> </span>The<span class="_ _45"> </span>BSD <span class="_ _9"></span>status-request <span class="_ _3"></span>character<span class="_ _1"></span><span class="ls1487">.T<span class="_ _62"></span><span class="ls0">his <span class="_ _9"></span>character <span class="_ _9"></span>is <span class="_ _9"></span>recognized <span class="_ _3"></span>on <span class="_ _9"></span>input <span class="_ _9"></span>in</span></span></span></span></div><div class="t m0 x20c h26 y130 ff19 fsf fc0 sc0 ls0 ws0">extended, <span class="_ _44"> </span>canonical <span class="_ _35"> </span>mode <span class="_ _44"> </span>(both<span class="_ _54"> </span><span class="ff1a">IEXTEN<span class="_ _54"> </span></span>and<span class="_ _54"> </span><span class="ff1a">ICANON<span class="_ _54"> </span></span>ﬂags <span class="_ _44"> </span>set) <span class="_ _44"> </span>and</div><div class="t m0 x20c h26 y131 ff19 fsf fc0 sc0 ls0 ws0">generates <span class="_ _35"> </span>the<span class="_ _54"> </span><span class="ff1a">SIGINFO<span class="_ _54"> </span></span>signal, <span class="_ _44"> </span>which <span class="_ _35"> </span>is <span class="_ _44"> </span>sent <span class="_ _44"> </span>to <span class="_ _35"> </span>all <span class="_ _44"> </span>processes <span class="_ _35"> </span>in <span class="_ _44"> </span>the</div><div class="t m0 x20c h2a y132 ff19 fsf fc0 sc0 ls0 ws0">foregr<span class="_ _0"></span>ound <span class="_ _4b"> </span>process <span class="_ _59"> </span>group <span class="_ _4b"> </span>(refer <span class="_ _4b"> </span>to <span class="_ _59"> </span>Figur<span class="ls1488">e9<span class="_ _5d"></span><span class="ls0">.7). <span class="_ _60"> </span>Additionally<span class="_ _4"></span>,<span class="_ _48"> </span>if<span class="_ _60"> </span>the</span></span></div><div class="t m0 x20c h26 y133 ff1a fsf fc0 sc0 ls0 ws0">NOKERNINFO<span class="_ _45"> </span><span class="ff19">ﬂag <span class="_ _23"></span>is <span class="_ _9"></span>not <span class="_ _23"></span>set, <span class="_ _9"></span>status <span class="_ _23"> </span>information <span class="_ _23"></span>on <span class="_ _9"></span>the <span class="_ _23"></span>foregr<span class="_ _1"></span>ound <span class="_ _23"> </span>process</span></div><div class="t m0 x20c h2a y134 ff19 fsf fc0 sc0 ls0 ws0">group <span class="_ _66"> </span>is <span class="_ _47"> </span>displayed <span class="_ _47"> </span>on <span class="_ _47"> </span>the <span class="_ _45"> </span>terminal.<span class="_ _50"> </span>This <span class="_ _47"> </span>character <span class="_ _47"> </span>is <span class="_ _47"> </span>discarded <span class="_ _47"> </span>when</div><div class="t m0 x20c h2a y135 ff19 fsf fc0 sc0 ls0 ws0">processed (i.e., it is not passed to the pr<span class="_ _0"></span>ocess).</div><div class="t m0 x32 h26 y2937 ff19 fsf fc0 sc0 ls0 ws0">STOP <span class="_ _12e"> </span>The<span class="_ _66"> </span>stop <span class="_ _2"></span>character<span class="_ _1"></span><span class="ls59b">.T<span class="_ _5b"></span><span class="ls0">his <span class="_ _2"></span>character <span class="_ _2"></span>is <span class="_ _2"></span>recognized <span class="_ _2"></span>on <span class="_ _2"></span>input <span class="_ _2"></span>if <span class="_ _2"></span>the<span class="_ _66"> </span><span class="ff1a">IXON<span class="_ _47"> </span></span>ﬂag <span class="_ _2"></span>is</span></span></div><div class="t m0 x20c h26 y2938 ff19 fsf fc0 sc0 ls0 ws0">set <span class="_ _53"> </span>and <span class="_ _53"> </span>is <span class="_ _53"> </span>automatically <span class="_ _53"> </span>generated <span class="_ _53"> </span>as <span class="_ _53"> </span>output <span class="_ _53"> </span>if <span class="_ _53"> </span>the<span class="_ _4b"> </span><span class="ff1a">IXOFF<span class="_ _44"> </span></span>ﬂag <span class="_ _53"> </span>is <span class="_ _e"> </span>set.<span class="_ _54"> </span>A</div><div class="t m0 x20c h26 yeb6 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">ceived <span class="_ _23"> </span>STOP <span class="_ _9"></span>character <span class="_ _23"> </span>with<span class="_ _35"> </span><span class="ff1a">IXON<span class="_ _45"> </span></span>set <span class="_ _23"> </span>stops <span class="_ _23"></span>the <span class="_ _23"></span>output.<span class="_ _5a"> </span>In <span class="_ _23"> </span>this <span class="_ _23"> </span>case, <span class="_ _23"></span>the</span></div><div class="t m0 x20c h2a yeb7 ff19 fsf fc0 sc0 ls0 ws0">STOP <span class="_ _42"> </span>character <span class="_ _53"> </span>is <span class="_ _42"> </span>discarded <span class="_ _53"> </span>when <span class="_ _42"> </span>processed <span class="_ _53"> </span>(i.e., <span class="_ _42"> </span>it <span class="_ _53"> </span>is <span class="_ _53"> </span>not <span class="_ _53"> </span>passed <span class="_ _53"> </span>to <span class="_ _53"> </span>the</div><div class="t m0 x20c h2a yeb8 ff19 fsf fc0 sc0 ls0 ws0">process). <span class="_ _61"> </span>The<span class="_ _5a"> </span>stopped <span class="_ _47"> </span>output <span class="_ _45"> </span>is <span class="_ _47"> </span>restarted <span class="_ _47"> </span>when <span class="_ _45"> </span>a <span class="_ _47"> </span>ST<span class="_ _1"></span>AR<span class="_ _0"></span><span class="ls1489">Tc<span class="_ _62"></span><span class="ls0">haracter <span class="_ _45"> </span>is</span></span></div><div class="t m0 x20c h2a yeb9 ff19 fsf fc0 sc0 ls0 ws0">entered.</div><div class="t m0 x20c h26 y326 ff19 fsf fc0 sc0 ls0 ws0">When<span class="_ _4b"> </span><span class="ff1a">IXOFF<span class="_ _4b"> </span></span>is <span class="_"> </span>set, <span class="_ _53"> </span>the <span class="_ _e"> </span>terminal <span class="_ _e"> </span>driver <span class="_ _e"> </span>automatically <span class="_ _e"> </span>generates <span class="_ _e"> </span>a <span class="_ _e"> </span>STOP</div><div class="t m0 x20c h2a y327 ff19 fsf fc0 sc0 ls0 ws0">character to prevent the input buf<span class="_ _0"></span>fer fr<span class="_ _0"></span>om overﬂowing.</div><div class="t m0 x32 h2a y328 ff19 fsf fc0 sc0 ls0 ws0">SUSP <span class="_ _ba"> </span>The<span class="_ _47"> </span>suspend <span class="_ _3"></span>job-control <span class="_ _3"></span>character<span class="_ _1"></span><span class="ls6a7">.T<span class="_ _62"></span><span class="ls0">his <span class="_ _9"></span>character <span class="_ _3"></span>is <span class="_ _9"></span>recognized <span class="_ _3"></span>on <span class="_ _3"></span>input <span class="_ _9"></span>if</span></span></div><div class="t m0 x20c h26 y329 ff19 fsf fc0 sc0 ls0 ws0">job <span class="_ _3"></span>control <span class="_ _3"></span>is <span class="_ _9"></span>supported <span class="_ _3"></span>and <span class="_ _9"></span>if <span class="_ _3"></span>the<span class="_ _45"> </span><span class="ff1a">ISIG<span class="_ _47"> </span></span>ﬂag <span class="_ _3"></span>is <span class="_ _9"></span>set.<span class="_ _16"> </span>The <span class="_ _9"></span>suspend <span class="_ _3"></span>character</div><div class="t m0 x20c h26 y4fad ff19 fsf fc0 sc0 ls0 ws0">generates <span class="_ _35"> </span>the<span class="_ _54"> </span><span class="ff1a">SIGTSTP<span class="_ _54"> </span></span>signal, <span class="_ _44"> </span>which <span class="_ _35"> </span>is <span class="_ _44"> </span>sent <span class="_ _44"> </span>to <span class="_ _35"> </span>all <span class="_ _44"> </span>processes <span class="_ _35"> </span>in <span class="_ _44"> </span>the</div><div class="t m0 x20c h2a y1b8 ff19 fsf fc0 sc0 ls0 ws0">foregr<span class="_ _0"></span>ound <span class="_ _3"></span>process <span class="_ _9"></span>group <span class="_ _3"></span>(refer <span class="_ _3"></span>to <span class="_ _9"></span>Figur<span class="ls148a">e9<span class="_ _b"></span><span class="ls0">.7). <span class="_ _45"> </span>This<span class="_ _45"> </span>character <span class="_ _3"></span>is <span class="_ _9"></span>discarded</span></span></div><div class="t m0 x20c h2a y4fae ff19 fsf fc0 sc0 ls0 ws0">when processed (i.e., it is not passed to the pr<span class="_ _0"></span>ocess).</div><div class="t m0 x32 h2a y4faf ff19 fsf fc0 sc0 ls0 ws0">WERASE <span class="_ _5e"> </span>The<span class="_ _65"> </span>word-erase <span class="_ _59"> </span>character<span class="_ _6"></span><span class="ls148b">.T<span class="_ _da"></span><span class="ls0">his <span class="_ _59"> </span>character <span class="_ _4b"> </span>is <span class="_ _59"> </span>recognized <span class="_ _4b"> </span>on <span class="_ _59"> </span>input <span class="_ _4b"> </span>in</span></span></div><div class="t m0 x20c h26 y4fb0 ff19 fsf fc0 sc0 ls0 ws0">extended, <span class="_ _3"></span>canonical <span class="_ _3"></span>mode <span class="_ _3"></span>(both<span class="_ _47"> </span><span class="ff1a">IEXTEN<span class="_ _45"> </span></span>and<span class="_ _47"> </span><span class="ff1a">ICANON<span class="_ _47"> </span></span>ﬂags <span class="_ _3"></span>set) <span class="_ _3"></span>and <span class="_ _3"></span>causes</div><div class="t m0 x20c h2a y4fb1 ff19 fsf fc0 sc0 ls0 ws0">the <span class="_ _42"> </span>previous <span class="_ _42"> </span>word<span class="_ _35"> </span>to<span class="_ _44"> </span>b<span class="ls148c">ee<span class="_ _43"></span><span class="ls0">rased. <span class="_ _35"> </span>First,<span class="_ _44"> </span>it <span class="_ _53"> </span>skips <span class="_ _42"> </span>backwar<span class="ls148c">do<span class="_ _c"></span><span class="ls0">ver <span class="_ _42"> </span>any <span class="_ _53"> </span>white</span></span></span></span></div><div class="t m0 x20c h2a yea7 ff19 fsf fc0 sc0 ls0 ws0">space <span class="_ _45"> </span>(spaces <span class="_ _45"> </span>or <span class="_ _45"> </span>tabs), <span class="_ _45"> </span>then <span class="_ _45"> </span>skips <span class="_ _45"> </span>backwar<span class="ls69c">do<span class="_ _26"></span><span class="ls0">ver <span class="_ _45"> </span>the <span class="_ _35"> </span>pr<span class="_ _0"></span>evious <span class="_ _45"> </span>token,</span></span></div><div class="t m0 x20c h2a yea8 ff19 fsf fc0 sc0 ls0 ws0">leaving the cursor positioned wher<span class="ls148d">et<span class="_ _d"></span><span class="ls0">he ﬁrst character of <span class="_ _2"></span>the previous token</span></span></div><div class="t m0 x20c h2a yea9 ff19 fsf fc0 sc0 ls0 ws0">was <span class="_ _45"> </span>located.<span class="_ _1a3"> </span>Normally<span class="_ _4"></span><span class="ls148e">,t<span class="_ _62"></span><span class="ls0">he <span class="_ _45"> </span>previous <span class="_ _45"> </span>token <span class="_ _47"> </span>ends <span class="_ _45"> </span>when <span class="_ _45"> </span>a <span class="_ _45"> </span>white <span class="_ _45"> </span>space</span></span></div><div class="t m0 x20c h2a yeaa ff19 fsf fc0 sc0 ls0 ws0">character <span class="_ _2"></span>is <span class="_ _2"></span>encountered. <span class="_ _66"> </span>W<span class="_ _6"></span><span class="lse4d">ec<span class="_ _4f"></span><span class="ls0">an <span class="_ _3"></span>change <span class="_ _2"></span>this <span class="_ _2"></span>behavior<span class="_ _1"></span><span class="lse4d">,h<span class="_ _4f"></span><span class="ls0">owever<span class="_ _1"></span>,<span class="_ _66"> </span>by<span class="_ _47"> </span>setting</span></span></span></span></div><div class="t m0 x20c h26 y4fb2 ff19 fsf fc0 sc0 ls0 ws0">the<span class="_ _45"> </span><span class="ff1a">ALTWERASE<span class="_ _47"> </span></span>ﬂag. <span class="_ _45"> </span>This<span class="_ _45"> </span>ﬂag <span class="_ _9"></span>causes <span class="_ _9"></span>the <span class="_ _9"></span>previous <span class="_ _3"></span>token <span class="_ _9"></span>to <span class="_ _9"></span>end <span class="_ _9"></span>when <span class="_ _9"></span>the</div><div class="t m0 x20c h2a y4fb3 ff19 fsf fc0 sc0 ls0 ws0">ﬁrst <span class="_ _9"></span>nonalphanumeric <span class="_ _23"></span>character <span class="_ _9"></span>is <span class="_ _9"></span>encountered. <span class="_ _45"> </span>The<span class="_ _45"> </span>word-erase <span class="_ _9"></span>character</div><div class="t m0 x20c h2a y4fb4 ff19 fsf fc0 sc0 ls0 ws0">is discarded when pr<span class="_ _0"></span>ocessed (i.e., it is not passed to the pr<span class="_ _0"></span>ocess).</div><div class="t m0 x3f h2a y4fb5 ff19 fsf fc0 sc0 ls0 ws0">Another <span class="_"> </span>‘<span class="_ _1"></span>‘character <span class="_ _a"></span>’<span class="_ _0"></span><span class="lsed1">’t<span class="_ _4a"></span><span class="ls0">hat <span class="_"> </span>we <span class="_ _e"> </span>need <span class="_"> </span>to <span class="_ _e"> </span>deﬁne <span class="_"> </span>for <span class="_ _53"> </span>terminal <span class="_"> </span>devices <span class="_ _e"> </span>is <span class="_"> </span>the <span class="_ _e"> </span>BREAK</span></span></div><div class="t m0 x32 h2a y338 ff19 fsf fc0 sc0 ls0 ws0">character<span class="_ _6"></span><span class="ls148f">.B<span class="_ _7"></span><span class="ls0">REAK <span class="_ _42"> </span>is <span class="_ _42"> </span>not <span class="_ _42"> </span>really <span class="_ _23"> </span>a <span class="_ _42"> </span>character<span class="_ _6"></span><span class="ls1490">,b<span class="_ _43"></span><span class="ls0">ut <span class="_ _42"> </span>rather <span class="_ _42"> </span>a <span class="_ _42"> </span>condition <span class="_ _42"> </span>that <span class="_ _42"> </span>occurs <span class="_ _23"> </span>during</span></span></span></span></div><div class="t m0 x32 h2a y339 ff19 fsf fc0 sc0 ls0 ws0">asynchronous <span class="_ _23"> </span>serial <span class="_ _42"> </span>data <span class="_ _42"> </span>transmission.<span class="_ _51"> </span><span class="ls1491">AB<span class="_ _43"></span><span class="ls0">REAK <span class="_ _42"> </span>condition <span class="_ _42"> </span>is <span class="_ _42"> </span>signaled <span class="_ _23"> </span>to <span class="_ _42"> </span>the <span class="_ _42"> </span>device</span></span></div><div class="t m0 x32 h2a y33a ff19 fsf fc0 sc0 ls0 ws0">driver in various ways, depending on the serial interface.</div><div class="t m0 x76 h51 y4fb6 ff19 fs2a fc0 sc0 ls0 ws0">Most <span class="_ _42"> </span>old <span class="_ _42"> </span>serial <span class="_ _42"> </span>terminals <span class="_ _42"> </span>have <span class="_ _42"> </span>a <span class="_ _42"> </span>key <span class="_ _42"> </span>labeled <span class="_ _42"> </span>BREAK <span class="_ _23"> </span>that <span class="_"> </span>generates <span class="_ _23"> </span>the <span class="_ _42"> </span>BREAK <span class="_ _42"> </span>condition,</div><div class="t m0 x76 h51 y4fb7 ff19 fs2a fc0 sc0 ls0 ws0">which <span class="_ _9"> </span>is <span class="_ _23"> </span>why <span class="_ _9"> </span>most <span class="_ _23"> </span>people <span class="_ _23"> </span>think <span class="_ _9"></span>of <span class="_ _23"> </span>BREAK <span class="_ _9"> </span>as <span class="_ _23"> </span>a <span class="_ _9"> </span>character<span class="_ _0"></span><span class="ls1492">.S<span class="_ _5b"></span><span class="ls0">ome <span class="_ _23"> </span>newer <span class="_ _23"> </span>terminal <span class="_ _9"></span>keyboards</span></span></div><div class="t m0 x76 h51 y4fb8 ff19 fs2a fc0 sc0 ls0 ws0">don’t <span class="_ _3"></span>have <span class="_ _9"></span>a <span class="_ _9"></span>BREAK <span class="_ _3"></span>key<span class="_ _6"></span>.<span class="_ _66"> </span>On<span class="_ _47"> </span>PCs, <span class="_ _3"></span>the <span class="_ _9"></span>break <span class="_ _3"></span>key <span class="_ _9"></span>might <span class="_ _3"></span>be <span class="_ _9"></span>mapped <span class="_ _3"></span>for <span class="_ _9"></span>another <span class="_ _9"></span>purpose.<span class="_ _4b"> </span>For</div><div class="t m0 x76 h51 y4fb9 ff19 fs2a fc0 sc0 ls0 ws0">example, the W<span class="_ _1"></span>indows command interpreter can be interrupted by pressing Contr<span class="_ _0"></span>ol</div><div class="t m0 xd6 h51 y4fba ff19 fs2a fc0 sc0 ls0 ws0">-</div><div class="t m0 x1c9 h51 y4fb9 ff19 fs2a fc0 sc0 ls0 ws0">BREAK.</div><div class="t m0 x3f h2a y4fbb ff19 fsf fc0 sc0 ls0 ws0">For <span class="_ _23"></span>asynchr<span class="_ _0"></span>onous <span class="_ _23"></span>serial <span class="_ _9"></span>data <span class="_ _23"> </span>transmission, <span class="_ _23"> </span>a <span class="_ _23"></span>BREAK <span class="_ _23"></span>is <span class="_ _9"></span>a <span class="_ _23"> </span>sequence <span class="_ _23"></span>of <span class="_ _23"></span>zero-valued</div><div class="t m0 x32 h2a y4fbc ff19 fsf fc0 sc0 ls0 ws0">bits <span class="_"> </span>that <span class="_"> </span>continues <span class="_"> </span>for <span class="_"> </span>longer <span class="_"> </span>than <span class="_"> </span>the <span class="_ _e"> </span>time <span class="_"> </span>required <span class="_ _e"> </span>to <span class="_"> </span>send <span class="_"> </span>one <span class="_"> </span>byte.<span class="_ _60"> </span>The <span class="_"> </span>entire</div><div class="t m0 x32 h2a y4fbd ff19 fsf fc0 sc0 ls0 ws0">sequence <span class="_ _23"> </span>of <span class="_ _23"> </span>zero-valued <span class="_ _23"> </span>bits <span class="_ _42"> </span>is <span class="_ _23"></span>considered <span class="_ _23"></span>a <span class="_ _23"></span>single <span class="_ _23"> </span>BREAK.<span class="_ _51"> </span>In <span class="_ _42"> </span>Section <span class="_ _23"> </span>18.8, <span class="_ _23"> </span>we’ll <span class="_ _42"> </span>see</div><div class="t m0 x32 h26 y4fbe ff19 fsf fc0 sc0 ls0 ws0">how to send a BREAK with the<span class="_"> </span><span class="ff1a">tcsendbreak<span class="_ _80"> </span></span>function.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
