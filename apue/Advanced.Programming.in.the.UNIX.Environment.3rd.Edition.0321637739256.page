<div id="pf100" class="pf w4 h1f" data-page-no="100"><div class="pc pc100 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg100.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">222<span class="_ _1b"> </span><span class="ff19">Process <span class="_"> </span>Envir<span class="_ _0"></span>onment <span class="_ _1c1"> </span>Chapter<span class="_ _44"> </span>7</span></div><div class="t m0 x32 h26 y12f ff1a fsf fc0 sc0 ls0 ws0">RLIMIT_RSS<span class="_ _74"> </span><span class="ff19">Maximum <span class="_ _59"> </span>resident <span class="_ _4b"> </span>set <span class="_ _59"> </span>size</span></div><div class="t m0 x101 h2a y1ac ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x1ef h2a y12f ff19 fsf fc0 sc0 ls0 ws0">RSS</div><div class="t m0 x98 h2a y1ac ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x6e h2a y12f ff19 fsf fc0 sc0 ls0 ws0">in <span class="_ _4b"> </span>bytes.<span class="_ _5e"> </span>If <span class="_ _4b"> </span>available</div><div class="t m0 xbf h2a y130 ff19 fsf fc0 sc0 ls0 ws0">physical <span class="_ _44"> </span>memory <span class="_ _44"> </span>is <span class="_ _35"> </span>low<span class="_ _6"></span><span class="ls217">,t<span class="_ _7"></span><span class="ls0">he <span class="_ _44"> </span>kernel <span class="_ _44"> </span>takes <span class="_ _35"> </span>memory <span class="_ _44"> </span>from</span></span></div><div class="t m0 xbf h2a y131 ff19 fsf fc0 sc0 ls0 ws0">processes that exceed their RSS.</div><div class="t m0 x32 h26 y3ec ff1a fsf fc0 sc0 ls0 ws0">RLIMIT_SBSIZE<span class="_ _9f"> </span><span class="ff19">The <span class="_ _23"></span>maximum <span class="_ _23"></span>size <span class="_ _23"></span>in <span class="_ _23"></span>bytes <span class="_ _23"></span>of <span class="_ _23"></span>socket <span class="_ _23"></span>buf<span class="_ _0"></span>fers <span class="_ _23"></span>that <span class="_ _23"></span>a <span class="_ _23"></span>user <span class="_ _23"></span>can</span></div><div class="t m0 xbf h2a y1ad ff19 fsf fc0 sc0 ls0 ws0">consume at any given time.</div><div class="t m0 x32 h26 y735 ff1a fsf fc0 sc0 ls0 ws0">RLIMIT_SIGPENDING<span class="_ _6e"> </span><span class="ff19">The <span class="_ _53"> </span>maximum <span class="_ _e"> </span>number <span class="_ _e"> </span>of <span class="_ _e"> </span>signals <span class="_ _e"> </span>that <span class="_ _e"> </span>can <span class="_ _e"> </span>be <span class="_ _53"> </span>queued <span class="_ _e"> </span>for <span class="_ _e"> </span>a</span></div><div class="t m0 xbf h26 y736 ff19 fsf fc0 sc0 ls0 ws0">process. <span class="_ _46"> </span>This<span class="_ _61"> </span>limit <span class="_ _66"> </span>is <span class="_ _47"> </span>enforced <span class="_"> </span>by <span class="_ _47"> </span>the<span class="_ _46"> </span><span class="ff1a">sigqueue<span class="_ _61"> </span></span>function</div><div class="t m0 xbf h2a y3ed ff19 fsf fc0 sc0 ls0 ws0">(Section 10.20).</div><div class="t m0 x32 h26 y138 ff1a fsf fc0 sc0 ls0 ws0">RLIMIT_STACK<span class="_ _77"> </span><span class="ff19">The maximum size in bytes of the stack.<span class="_ _46"> </span>See Figur<span class="ls44">e7<span class="_ _d"></span><span class="ls0">.6.</span></span></span></div><div class="t m0 x32 h26 y10aa ff1a fsf fc0 sc0 ls0 ws0">RLIMIT_SWAP<span class="_ _173"> </span><span class="ff19">The <span class="_ _3"></span>maximum <span class="_ _3"></span>amount <span class="_ _3"></span>of <span class="_ _3"></span>swap <span class="_ _3"></span>space <span class="_ _9"></span>in <span class="_ _3"></span>bytes <span class="_ _3"></span>that <span class="_ _3"></span>a <span class="_ _3"></span>user <span class="_ _3"></span>can</span></div><div class="t m0 xbf h2a y1846 ff19 fsf fc0 sc0 ls0 ws0">consume.</div><div class="t m0 x32 h26 y15b ff1a fsf fc0 sc0 ls0 ws0">RLIMIT_VMEM<span class="_ _173"> </span><span class="ff19">This is a synonym for<span class="_"> </span></span>RLIMIT_AS<span class="ff19">.</span></div><div class="t m0 x18c h2d y1da6 ff19 fs10 fc0 sc0 ls0 ws0">FreeBSD <span class="_ _72"> </span>Linux<span class="_ _17"> </span>Mac OS X<span class="_ _1fb"> </span>Solaris</div><div class="t m0 x12e h2d y1da7 ff19 fs10 fc0 sc0 ls0 ws0">8.0 <span class="_ _12c"> </span>3.2.0<span class="_ _db"> </span>10.6.8 <span class="_ _10b"> </span>10</div><div class="t m0 x137 h2d y1da8 ff19 fs10 fc0 sc0 ls0 ws0">Limit<span class="_ _bb"> </span>XSI</div><div class="t m0 x135 h4f y11f5 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_AS<span class="_ _21b"> </span><span class="ff19 ls8fc">••• <span class="_ _66"> </span>•</span></div><div class="t m0 x135 h4f y1da9 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_CORE<span class="_ _131"> </span><span class="ff19 ls8fc">•••••</span></div><div class="t m0 x135 h4f y1daa ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_CPU<span class="_ _21c"> </span><span class="ff19 ls8fc">•••••</span></div><div class="t m0 x135 h4f y1dab ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_DATA<span class="_ _131"> </span><span class="ff19 ls8fc">•••••</span></div><div class="t m0 x135 h4f y1dac ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_FSIZE<span class="_ _213"> </span><span class="ff19 ls8fc">•••••</span></div><div class="t m0 x135 h4f y1dad ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_MEMLOCK<span class="_ _21d"> </span><span class="ff19 ls8fc">•••</span></div><div class="t m0 x135 h4f y1dae ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_MSGQUEUE<span class="_ _21e"> </span><span class="ff19">•</span></div><div class="t m0 x135 h4f y1daf ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_NICE<span class="_ _150"> </span><span class="ff19">•</span></div><div class="t m0 x135 h4f y1db0 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_NOFILE<span class="_ _137"> </span><span class="ff19 ls8fc">•••••</span></div><div class="t m0 x135 h4f y1db1 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_NPROC<span class="_ _10d"> </span><span class="ff19 ls8fc">•••</span></div><div class="t m0 x135 h4f y1db2 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_NPTS<span class="_ _1e9"> </span><span class="ff19">•</span></div><div class="t m0 x135 h4f y1db3 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_RSS<span class="_ _21f"> </span><span class="ff19 ls8fc">•••</span></div><div class="t m0 x135 h4f y1db4 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_SBSIZE<span class="_ _178"> </span><span class="ff19">•</span></div><div class="t m0 x135 h4f y1db5 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_SIGPENDING<span class="_ _1b4"> </span><span class="ff19">•</span></div><div class="t m0 x135 h4f y1db6 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_STACK<span class="_ _213"> </span><span class="ff19 ls8fc">•••••</span></div><div class="t m0 x135 h4f y1db7 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_SWAP<span class="_ _1e9"> </span><span class="ff19">•</span></div><div class="t m0 x135 h4f y1db8 ff1a fs11 fc0 sc0 ls0 ws0">RLIMIT_VMEM<span class="_ _220"> </span><span class="ff19">•</span></div><div class="t m0 x13c h2f y1db9 ff18 fs12 fc0 sc0 ls0 ws0">Figure 7.15<span class="_ _5a"> </span><span class="ff19">Support for resource limits</span></div><div class="t m0 x3f h50 y1dba ff19 fs29 fc0 sc0 ls0 ws0">The resour<span class="_ _0"></span>ce limits affect the calling process and ar<span class="ls8fd">ei<span class="_ _4f"></span><span class="ls0">nherited <span class="_ _2"></span>by any of <span class="_ _2"></span>its children.</span></span></div><div class="t m0 x32 h50 y1dbb ff19 fs29 fc0 sc0 ls0 ws0">This means <span class="_ _2"></span>that the <span class="_ _2"></span>setting of <span class="_ _2"></span>resour<span class="_ _0"></span>ce limits needs <span class="_ _2"></span>to <span class="_ _2"></span>be built <span class="_ _2"></span>into the <span class="_ _2"></span>shells to <span class="_ _2"></span>affect all</div><div class="t m0 x32 h50 y1dbc ff19 fs29 fc0 sc0 ls0 ws0">our <span class="_ _23"> </span>futur<span class="ls2d7">ep<span class="_ _43"></span><span class="lsdf">ro<span class="ls0">cesses. <span class="_ _44"> </span>Indeed,<span class="_ _35"> </span>the <span class="_ _23"> </span>Bourne <span class="_ _42"> </span>shell, <span class="_ _23"> </span>the <span class="_ _42"> </span>GNU <span class="_ _23"> </span>Bourne-again <span class="_ _23"> </span>shell, <span class="_ _42"> </span>and <span class="_ _23"> </span>the</span></span></span></div><div class="t m0 x32 h5c y1dbd ff19 fs29 fc0 sc0 ls0 ws0">Korn <span class="_ _3"></span>shell <span class="_ _9"></span>have <span class="_ _9"></span>the <span class="_ _9"></span>built-in<span class="_ _45"> </span><span class="ff1a">ulimit<span class="_ _47"> </span></span>command, <span class="_ _9"></span>and <span class="_ _9"></span>the <span class="_ _9"></span>C <span class="_ _9"></span>shell <span class="_ _3"></span>has <span class="_ _9"></span>the <span class="_ _9"></span>built-in<span class="_ _45"> </span><span class="ff1a">limit</span></div><div class="t m0 x32 h5c y1dbe ff19 fs29 fc0 sc0 ls0 ws0">command. <span class="_"> </span>(The<span class="_ _66"> </span><span class="ff1a">umask<span class="_ _47"> </span></span>and<span class="_"> </span><span class="ff1a">chdir<span class="_ _66"> </span></span>functions <span class="_ _2"></span>also <span class="_ _2"></span>have <span class="_ _2"></span>to be <span class="_ _2"></span>handled <span class="_ _2"></span>as <span class="_ _2"></span>shell built-ins.)</div><div class="t m0 x35 h5a y1dbf ff16 fs29 fc0 sc0 ls0 ws0">Example</div><div class="t m0 x32 h50 y1dc0 ff19 fs29 fc0 sc0 ls0 ws0">The <span class="_ _23"></span>program <span class="_ _23"></span>in <span class="_ _23"></span>Figur<span class="ls8fe">e7<span class="_ _43"></span><span class="ls0">.16 <span class="_ _23"></span>prints <span class="_ _23"></span>out <span class="_ _23"> </span>the <span class="_ _23"> </span>current <span class="_ _23"></span>soft <span class="_ _23"> </span>limit <span class="_ _23"> </span>and <span class="_ _23"> </span>har<span class="ls8fe">dl<span class="_ _43"></span><span class="ls0">imit <span class="_ _23"> </span>for <span class="_ _23"> </span>all <span class="_ _42"> </span>the</span></span></span></span></div><div class="t m0 x32 h50 y1dc1 ff19 fs29 fc0 sc0 lsdf ws0">re<span class="ls0">source <span class="_ _23"> </span>limits <span class="_ _42"> </span>supported <span class="_ _42"> </span>on <span class="_ _23"> </span>the <span class="_ _42"> </span>system.<span class="_ _51"> </span><span class="lse2">To <span class="_ _45"> </span>c<span class="_ _9"></span></span>ompile <span class="_ _23"> </span>this <span class="_ _42"> </span>program <span class="_ _23"> </span>on <span class="_ _42"> </span>all <span class="_ _23"> </span>the <span class="_ _42"> </span>various</span></div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
