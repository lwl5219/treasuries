<div id="pfe5" class="pf w4 h1f" data-page-no="e5"><div class="pc pce5 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bge5.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>6.10<span class="_ _1fd"> </span><span class="ls7ed">Ti<span class="_ _2"></span></span>me <span class="_"> </span>and <span class="_"> </span>Date <span class="_"> </span>Routines<span class="_ _1b"> </span><span class="ff18">195</span></div><div class="t m0 x3f h26 y12f ff19 fsf fc0 sc0 ls0 ws0">The<span class="_ _47"> </span><span class="ff1a">strptime<span class="_ _47"> </span></span>function <span class="_ _9"></span>is <span class="_ _3"></span>the <span class="_ _3"></span>inverse <span class="_ _9"></span>of<span class="_ _47"> </span><span class="ff1a">strftime</span><span class="ls816">.I<span class="_ _1d"></span><span class="ls817">tt<span class="_ _8"></span><span class="ls0">akes <span class="_ _3"></span>a <span class="_ _3"></span>string <span class="_ _9"></span>and <span class="_ _3"></span>converts</span></span></span></div><div class="t m0 x32 h2a y130 ff19 fsf fc0 sc0 ls0 ws0">it into a broken-down time.</div><div class="t m0 x3f h57 y1a79 ff1a fs2d fc0 sc0 ls0 ws0">#include &lt;time.h&gt;</div><div class="t m0 x3f h57 y1a7a ff1a fs2d fc0 sc0 ls0 ws0">char *strptime(const char *restrict<span class="_"> </span><span class="ff1b">buf</span><span class="ls15c">,c<span class="_ _1d"></span><span class="ls0">onst char *restrict<span class="_"> </span><span class="ff1b">format</span>,</span></span></div><div class="t m0 x12b h57 y1a7b ff1a fs2d fc0 sc0 ls0 ws0">struct tm *restrict<span class="_"> </span><span class="ff1b">tmptr</span>);</div><div class="t m0 x6 h57 y1a7c ff19 fs2d fc0 sc0 ls0 ws0">Returns: pointer to one character past last character parsed,<span class="_"> </span><span class="ff1a">NULL<span class="_ _e"> </span></span>otherwise</div><div class="t m0 x32 h4a y1a7d ff19 fs26 fc0 sc0 ls0 ws0">The<span class="_"> </span><span class="ff1b">format<span class="_"> </span></span>argument describes the format of the string in the buf<span class="_ _0"></span>fer pointed to by the<span class="_"> </span><span class="ff1b">buf</span></div><div class="t m0 x32 h49 y1a7e ff19 fs26 fc0 sc0 ls0 ws0">argument. <span class="_ _46"> </span>The<span class="_ _46"> </span>format <span class="_ _66"> </span>speciﬁcation <span class="_ _47"> </span>is <span class="_"> </span>similar<span class="_ _1"></span><span class="ls818">,a<span class="_ _5b"></span><span class="ls0">lthough <span class="_ _66"> </span>it <span class="_ _47"> </span>differs <span class="_"> </span>slightly <span class="_"> </span>from <span class="_ _66"> </span>the</span></span></div><div class="t m0 x32 h4d y1a7f ff19 fs26 fc0 sc0 ls0 ws0">speciﬁcation <span class="_ _23"></span>for <span class="_ _23"></span>the<span class="_ _45"> </span><span class="ff1a">strftime<span class="_ _35"> </span></span>function. <span class="_ _35"> </span>The<span class="_ _45"> </span>conversion <span class="_ _23"> </span>speciﬁers <span class="_ _23"> </span>for <span class="_ _23"> </span>the<span class="_ _35"> </span><span class="ff1a">strptime</span></div><div class="t m0 x32 h49 y1a80 ff19 fs26 fc0 sc0 ls0 ws0">function ar<span class="lsd3">es<span class="_ _4f"></span><span class="ls0">ummarized in Figur<span class="lsd3">e6<span class="_ _d"></span><span class="ls0">.12.</span></span></span></span></div><div class="t m0 x38 h2e y1a81 ff19 fs11 fc0 sc0 ls0 ws0">Format <span class="_ _20c"> </span>Description</div><div class="t m0 x89 h6d y1a82 ff1a fs12 fc0 sc0 ls0 ws0">%a<span class="_ _170"> </span><span class="ff19">abbreviated or full weekday name</span></div><div class="t m0 x89 h6d y1a83 ff1a fs12 fc0 sc0 ls0 ws0">%A<span class="_ _170"> </span><span class="ff19">same as<span class="_"> </span></span>%a</div><div class="t m0 x89 h6d y1a84 ff1a fs12 fc0 sc0 ls0 ws0">%b<span class="_ _170"> </span><span class="ff19">abbreviated or full month name</span></div><div class="t m0 x89 h6d y1a85 ff1a fs12 fc0 sc0 ls0 ws0">%B<span class="_ _170"> </span><span class="ff19">same as<span class="_"> </span></span>%b</div><div class="t m0 x89 h6d y1a86 ff1a fs12 fc0 sc0 ls0 ws0">%c<span class="_ _170"> </span><span class="ff19">date and time</span></div><div class="t m0 x89 h6d y1a87 ff1a fs12 fc0 sc0 ls0 ws0">%C<span class="_ _170"> </span><span class="ff19">all but the last two digits of the year</span></div><div class="t m0 x89 h6d y1a88 ff1a fs12 fc0 sc0 ls0 ws0">%d<span class="_ _170"> </span><span class="ff19">day of the month: [01</span></div><div class="t m0 x77 h2f y1a89 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x179 h2f y1a88 ff19 fs12 fc0 sc0 ls0 ws0">31]</div><div class="t m0 x89 h6d y1a8a ff1a fs12 fc0 sc0 ls0 ws0">%D<span class="_ _170"> </span><span class="ff19">date</span></div><div class="t m0 x1d6 h2f y1a8b ff19 fs12 fc0 sc0 ls0 ws0">[</div><div class="t m0 x15f h2f y1a8a ff19 fs12 fc0 sc0 ls0 ws0">MM/DD/YY</div><div class="t m0 x115 h2f y1a8b ff19 fs12 fc0 sc0 ls0 ws0">]</div><div class="t m0 x89 h6d y1a8c ff1a fs12 fc0 sc0 ls0 ws0">%e<span class="_ _170"> </span><span class="ff19">same as<span class="_"> </span></span>%d</div><div class="t m0 x89 h6d y1a8d ff1a fs12 fc0 sc0 ls0 ws0">%h<span class="_ _170"> </span><span class="ff19">same as<span class="_"> </span></span>%b</div><div class="t m0 x89 h6d y1a8e ff1a fs12 fc0 sc0 ls0 ws0">%H<span class="_ _170"> </span><span class="ff19">hour of the day (24-hour format): [00</span></div><div class="t m0 xd7 h2f y1a8f ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x1c7 h2f y1a8e ff19 fs12 fc0 sc0 ls0 ws0">23]</div><div class="t m0 x89 h6d y1a90 ff1a fs12 fc0 sc0 ls0 ws0">%I<span class="_ _170"> </span><span class="ff19">hour of the day (12-hour format): [01</span></div><div class="t m0 xd7 h2f y1a91 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x1c7 h2f y1a90 ff19 fs12 fc0 sc0 ls0 ws0">12]</div><div class="t m0 x89 h6d y1a92 ff1a fs12 fc0 sc0 ls0 ws0">%j<span class="_ _170"> </span><span class="ff19">day of the year: [001</span></div><div class="t m0 x96 h2f y1a93 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x8d h2f y1a92 ff19 fs12 fc0 sc0 ls0 ws0">366]</div><div class="t m0 x89 h6d y1a94 ff1a fs12 fc0 sc0 ls0 ws0">%m<span class="_ _170"> </span><span class="ff19">month: [01</span></div><div class="t m0 x9a h2f y1a95 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x9b h2f y1a94 ff19 fs12 fc0 sc0 ls0 ws0">12]</div><div class="t m0 x89 h6d y1a96 ff1a fs12 fc0 sc0 ls0 ws0">%M<span class="_ _170"> </span><span class="ff19">minute: [00</span></div><div class="t m0 x17 h2f y1a97 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x86 h2f y1a96 ff19 fs12 fc0 sc0 ls0 ws0">59]</div><div class="t m0 x89 h6d y1a98 ff1a fs12 fc0 sc0 ls0 ws0">%n<span class="_ _170"> </span><span class="ff19">any white space</span></div><div class="t m0 x89 h6d y1a99 ff1a fs12 fc0 sc0 ls0 ws0">%p<span class="_ _170"> </span><span class="ff19">AM/PM</span></div><div class="t m0 x89 h6d y1a9a ff1a fs12 fc0 sc0 ls0 ws0">%r<span class="_ _170"> </span><span class="ff19">locale’s time (12-hour format, AM/PM notation)</span></div><div class="t m0 x89 h6d y1a9b ff1a fs12 fc0 sc0 ls0 ws0">%R<span class="_ _170"> </span><span class="ff19">time as<span class="_"> </span></span>%H:%M</div><div class="t m0 x89 h6d y1a9c ff1a fs12 fc0 sc0 ls0 ws0">%S<span class="_ _170"> </span><span class="ff19">second: [00</span></div><div class="t m0 x17 h2f y1a9d ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x87 h2f y1a9c ff19 fs12 fc0 sc0 ls0 ws0">60]</div><div class="t m0 x89 h6d y1a9e ff1a fs12 fc0 sc0 ls0 ws0">%t<span class="_ _170"> </span><span class="ff19">any white space</span></div><div class="t m0 x89 h6d y1a9f ff1a fs12 fc0 sc0 ls0 ws0">%T<span class="_ _170"> </span><span class="ff19">time as<span class="_"> </span></span>%H:%M:%S</div><div class="t m0 x89 h6d y1aa0 ff1a fs12 fc0 sc0 ls0 ws0">%U<span class="_ _170"> </span><span class="ff19">Sunday week number: [00</span></div><div class="t m0 x173 h2f y1aa1 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x1e1 h2f y1aa0 ff19 fs12 fc0 sc0 ls0 ws0">53]</div><div class="t m0 x89 h6d y1aa2 ff1a fs12 fc0 sc0 ls0 ws0">%w<span class="_ _170"> </span><span class="ff19">weekday: [0 = Sunday<span class="_ _6"></span><span class="ls38a">,0</span></span></div><div class="t m0 xcd h2f y1aa3 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x94 h2f y1aa2 ff19 fs12 fc0 sc0 ls0 ws0">6]</div><div class="t m0 x89 h6d y1aa4 ff1a fs12 fc0 sc0 ls0 ws0">%W<span class="_ _170"> </span><span class="ff19">Monday week number: [00</span></div><div class="t m0 x19c h2f y1aa5 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x177 h2f y1aa4 ff19 fs12 fc0 sc0 ls0 ws0">53]</div><div class="t m0 x89 h6d y1aa6 ff1a fs12 fc0 sc0 ls0 ws0">%x<span class="_ _170"> </span><span class="ff19">locale’s date</span></div><div class="t m0 x89 h6d y1aa7 ff1a fs12 fc0 sc0 ls0 ws0">%X<span class="_ _170"> </span><span class="ff19">locale’s time</span></div><div class="t m0 x89 h6d y1aa8 ff1a fs12 fc0 sc0 ls0 ws0">%y<span class="_ _170"> </span><span class="ff19">last two digits of year: [00</span></div><div class="t m0 xdc h2f y1aa9 ff19 fs12 fc0 sc0 ls0 ws0">–</div><div class="t m0 x19c h2f y1aa8 ff19 fs12 fc0 sc0 ls0 ws0">99]</div><div class="t m0 x89 h6d y1aaa ff1a fs12 fc0 sc0 ls0 ws0">%Y<span class="_ _170"> </span><span class="ff19">year</span></div><div class="t m0 x89 h6d y1aab ff1a fs12 fc0 sc0 ls0 ws0">%%<span class="_ _170"> </span><span class="ff19">translates to a percent sign</span></div><div class="t m0 x36 h63 y1aac ff18 fs13 fc0 sc0 ls0 ws0">Figure 6.12<span class="_ _5a"> </span><span class="ff19">Conversion speciﬁers for<span class="_"> </span><span class="ff1a">strptime</span></span></div><div class="t m0 x3f h6e y1aad ff19 fs31 fc0 sc0 ls43f ws0">We <span class="_ _e"> </span>m<span class="_ _9"></span><span class="ls0">entioned <span class="_ _2"></span>that <span class="_ _2"></span>the <span class="_ _2"></span>three functions <span class="_ _2"></span>in <span class="_ _2"></span>Figur<span class="ls819">e6<span class="_ _4f"></span><span class="ls0">.9 <span class="_ _2"></span>with <span class="_ _2"></span>dashed <span class="_ _2"></span>lines <span class="_ _2"></span>wer<span class="ls819">ea<span class="_ _4f"></span><span class="ls225">ff<span class="ls0">ected</span></span></span></span></span></span></div><div class="t m0 x32 h64 y1aae ff19 fs31 fc0 sc0 ls0 ws0">by <span class="_ _9"></span>the<span class="_ _45"> </span><span class="ff1a">TZ<span class="_ _47"> </span></span>environment <span class="_ _3"></span>variable:<span class="_ _45"> </span><span class="ff1a">localtime</span>,<span class="_ _45"> </span><span class="ff1a">mktime</span><span class="ls81a">,a<span class="_ _b"></span><span class="ls0">nd<span class="_ _45"> </span><span class="ff1a">strftime</span><span class="ls81b">.I<span class="_ _62"></span><span class="ls81a">fd<span class="_ _b"></span><span class="ls0">eﬁned, <span class="_ _9"></span>the</span></span></span></span></span></div><div class="t m0 x32 h6e y1aaf ff19 fs31 fc0 sc0 ls0 ws0">value of <span class="_ _2"></span>this <span class="_ _2"></span>environment variable <span class="_ _2"></span>is <span class="_ _2"></span>used <span class="_ _2"></span>by <span class="_ _2"></span>these <span class="_ _2"></span>functions <span class="_ _2"></span>instead <span class="_ _2"></span>of <span class="_ _2"></span>the <span class="_ _2"></span>default <span class="_ _2"></span>time</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
