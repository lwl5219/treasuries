<div id="pf4c" class="pf w4 h1f" data-page-no="4c"><div class="pc pc4c w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg4c.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">42<span class="_ _1b"> </span><span class="ff19">UNIX <span class="_"> </span>Standardization <span class="_"> </span>and <span class="_"> </span>Implementations<span class="_ _99"> </span>Chapter <span class="_"> </span>2</span></div><div class="t m0 x32 h75 y12f ff16 fs2b fc0 sc0 ls0 ws0">2.5.4<span class="_ _5e"> </span><span class="ff1f">sysconf</span>,<span class="_ _54"> </span><span class="ff1f">pathconf</span><span class="ls1c3">,a<span class="_ _52"></span><span class="ls0">nd<span class="_ _54"> </span><span class="ff1f">fpathconf<span class="_ _54"> </span></span>Functions</span></span></div><div class="t m0 x32 h2a y4de ff19 fsf fc0 sc0 ls5f ws0">We<span class="_ _9"></span><span class="ls0">’ve <span class="_ _23"></span>listed <span class="_ _9"></span>various <span class="_ _23"> </span>minimum <span class="_ _23"></span>values <span class="_ _23"></span>that <span class="_ _9"></span>an <span class="_ _23"> </span>implementation <span class="_ _23"></span>must <span class="_ _23"></span>support, <span class="_ _9"></span>but <span class="_ _23"> </span>how</span></div><div class="t m0 x32 h2a y6d0 ff19 fsf fc0 sc0 ls0 ws0">do <span class="_ _3"></span>we <span class="_ _3"></span>ﬁnd <span class="_ _3"></span>out <span class="_ _3"></span>the <span class="_ _3"></span>limits <span class="_ _3"></span>that <span class="_ _3"></span>a <span class="_ _3"></span>particular <span class="_ _3"></span>system <span class="_ _3"></span>actually <span class="_ _3"></span>supports?<span class="_ _5a"> </span>As <span class="_ _2"></span>we <span class="_ _3"></span>mentioned</div><div class="t m0 x32 h2a y6d1 ff19 fsf fc0 sc0 ls0 ws0">earlier<span class="_ _6"></span><span class="ls2ad">,s<span class="_ _62"></span><span class="ls0">ome <span class="_ _45"> </span>of <span class="_ _45"> </span>these <span class="_ _45"> </span>limits <span class="_ _35"> </span>might <span class="_ _45"> </span>be <span class="_ _45"> </span>available <span class="_ _45"> </span>at <span class="_ _45"> </span>compile <span class="_ _45"> </span>time; <span class="_ _45"> </span>others <span class="_ _45"> </span>must <span class="_ _35"> </span>be</span></span></div><div class="t m0 x32 h2a y6d2 ff19 fsf fc0 sc0 ls0 ws0">determined <span class="_ _2"></span>at <span class="_ _3"></span>runtime. <span class="_ _47"> </span>W<span class="_ _6"></span>e’ve <span class="_ _2"></span>also <span class="_ _3"></span>mentioned <span class="_ _3"></span>that <span class="_ _2"></span>some <span class="_ _3"></span>limits <span class="_ _3"></span>don’t <span class="_ _2"></span>change <span class="_ _3"></span>in <span class="_ _3"></span>a <span class="_ _3"></span>given</div><div class="t m0 x32 h2a y6d3 ff19 fsf fc0 sc0 ls0 ws0">system, <span class="_ _3"></span>whereas <span class="_ _9"></span>others <span class="_ _3"></span>can <span class="_ _9"></span>change <span class="_ _9"></span>because <span class="_ _3"></span>they <span class="_ _9"></span>ar<span class="ls2ae">ea<span class="_ _b"></span><span class="ls0">ssociated <span class="_ _9"></span>with <span class="_ _3"></span>a <span class="_ _9"></span>ﬁle <span class="_ _9"></span>or <span class="_ _9"></span>directory<span class="_ _4"></span>.</span></span></div><div class="t m0 x32 h2a y6d4 ff19 fsf fc0 sc0 ls0 ws0">The runtime limits ar<span class="_ _0"></span><span class="ls44">eo<span class="_ _d"></span><span class="ls0">btained by calling one of the following three functions.</span></span></div><div class="t m0 x3f h57 y797 ff1a fs2d fc0 sc0 ls0 ws0">#include &lt;unistd.h&gt;</div><div class="t m0 x3f h57 y798 ff1a fs2d fc0 sc0 ls0 ws0">long sysconf(int<span class="_"> </span><span class="ff1b">name</span>);</div><div class="t m0 x3f h57 y799 ff1a fs2d fc0 sc0 ls0 ws0">long pathconf(const char *<span class="ff1b">pathname</span><span class="ls15c">,i<span class="_ _1d"></span><span class="ls0">nt<span class="_"> </span><span class="ff1b">name</span>);</span></span></div><div class="t m0 x3f h57 y79a ff1a fs2d fc0 sc0 ls0 ws0">long fpathconf(int<span class="_"> </span><span class="ff1b">fd</span><span class="ls15c">,i<span class="_ _1d"></span><span class="ls0">nt<span class="_"> </span><span class="ff1b">name</span>);</span></span></div><div class="t m0 xbe h5f y79b ff19 fs2d fc0 sc0 ls0 ws0">All three r<span class="_ _0"></span>eturn: corresponding value if OK,<span class="_"> </span><span class="ff20">−</span>1<span class="_"> </span>on<span class="_"> </span>err<span class="_ _0"></span>or (see later)</div><div class="t m0 x32 h49 y79c ff19 fs26 fc0 sc0 ls0 ws0">The <span class="_"> </span>difference <span class="_"> </span>between <span class="_"> </span>the <span class="_"> </span>last <span class="_ _66"> </span>two <span class="_ _66"> </span>functions <span class="_"> </span>is <span class="_ _66"> </span>that <span class="_ _66"> </span>one <span class="_ _66"> </span>takes <span class="_ _66"> </span>a <span class="_ _66"> </span>pathname <span class="_ _66"> </span>as <span class="_ _66"> </span>its</div><div class="t m0 x32 h49 y79d ff19 fs26 fc0 sc0 ls0 ws0">argument and the other takes a ﬁle descriptor ar<span class="_ _0"></span>gument.</div><div class="t m0 x3f h4d y79e ff19 fs26 fc0 sc0 ls0 ws0">Figur<span class="ls2af">e2<span class="_ _43"></span><span class="ls0">.1<span class="_ _1"></span><span class="ls2af">1l<span class="_ _43"></span><span class="ls0">ists <span class="_ _23"> </span>the<span class="_ _35"> </span><span class="ff1b">name<span class="_ _35"> </span></span>arguments <span class="_ _23"> </span>that<span class="_ _35"> </span><span class="ff1a">sysconf<span class="_ _35"> </span></span>uses <span class="_ _23"> </span>to <span class="_ _42"> </span>identify <span class="_ _23"></span>system <span class="_ _23"> </span>limits.</span></span></span></span></div><div class="t m0 x32 h4d y79f ff19 fs26 fc0 sc0 ls0 ws0">Constants <span class="_"> </span>beginning <span class="_ _e"> </span>with<span class="_ _59"> </span><span class="ff1a">_SC_<span class="_ _59"> </span></span>ar<span class="ls2b0">eu<span class="_ _4a"></span><span class="ls0">sed <span class="_"> </span>as <span class="_ _e"> </span>arguments <span class="_ _e"> </span>to<span class="_ _59"> </span><span class="ff1a">sysconf<span class="_ _59"> </span></span>to <span class="_"> </span>identify <span class="_ _e"> </span>the</span></span></div><div class="t m0 x32 h4d y7a0 ff19 fs26 fc0 sc0 ls2b1 ws0">ru<span class="ls0">ntime <span class="_ _42"> </span>limit.<span class="_ _54"> </span>Figur<span class="ls2b2">e2<span class="_ _43"></span><span class="ls0">.12 <span class="_ _42"> </span>lists <span class="_ _42"> </span>the<span class="_ _44"> </span><span class="ff1b">name<span class="_ _44"> </span></span>arguments <span class="_ _42"> </span>that <span class="_ _42"> </span>ar<span class="ls2b3">eu<span class="_ _c"></span><span class="ls0">sed <span class="_ _53"> </span>by<span class="_ _44"> </span><span class="ff1a">pathconf<span class="_ _44"> </span></span>and</span></span></span></span></span></div><div class="t m0 x32 h4d y7a1 ff1a fs26 fc0 sc0 ls0 ws0">fpathconf<span class="_ _59"> </span><span class="ff19">to <span class="_"> </span>identify <span class="_"> </span>system <span class="_"> </span>limits.<span class="_ _60"> </span>Constants <span class="_"> </span>beginning <span class="_"> </span>with<span class="_ _59"> </span></span>_PC_<span class="_ _59"> </span><span class="ff19">ar<span class="ls2b4">eu<span class="_ _4a"></span><span class="ls0">sed <span class="_"> </span>as</span></span></span></div><div class="t m0 x32 h4d y7a2 ff19 fs26 fc0 sc0 ls0 ws0">arguments to<span class="_"> </span><span class="ff1a">pathconf<span class="_ _80"> </span></span>and<span class="_"> </span><span class="ff1a">fpathconf<span class="_ _80"> </span></span>to identify the runtime limit.</div><div class="t m0 x3f h49 y7a3 ff19 fs26 fc0 sc0 ls164 ws0">We <span class="_ _44"> </span>n<span class="_ _9"></span><span class="ls0">eed <span class="_"> </span>to <span class="_"> </span>look <span class="_"> </span>in <span class="_"> </span>mor<span class="_ _0"></span><span class="ls2b5">ed<span class="_ _4a"></span><span class="ls0">etail <span class="_"> </span>at <span class="_"> </span>the <span class="_"> </span>dif<span class="_ _1"></span>ferent <span class="_"> </span>return <span class="_ _e"> </span>values <span class="_"> </span>from <span class="_"> </span>these <span class="_ _e"> </span>three</span></span></span></div><div class="t m0 x32 h49 y7a4 ff19 fs26 fc0 sc0 ls0 ws0">functions.</div><div class="t m0 x3f h4d y7a5 ff19 fs26 fc0 sc0 ls0 ws0">1. <span class="_ _51"> </span>All<span class="_ _45"> </span>three <span class="_ _3"></span>functions <span class="_ _9"></span>return<span class="_ _45"> </span><span class="ff20">−</span><span class="ls2b6">1a<span class="_ _b"></span><span class="ls0">nd <span class="_ _9"></span>set<span class="_ _45"> </span><span class="ff1a">errno<span class="_ _45"> </span></span>to<span class="_ _45"> </span><span class="ff1a">EINVAL<span class="_ _45"> </span></span>if <span class="_ _9"></span>the<span class="_ _45"> </span><span class="ff1b">name<span class="_ _45"> </span></span>isn’t <span class="_ _9"></span>one <span class="_ _9"></span>of</span></span></div><div class="t m0 x41 h49 y7a6 ff19 fs26 fc0 sc0 ls0 ws0">the <span class="_ _23"> </span>appropriate <span class="_ _23"> </span>constants.<span class="_ _54"> </span>The <span class="_ _23"> </span>thir<span class="ls2b7">dc<span class="_ _43"></span><span class="ls0">olumn <span class="_ _23"> </span>in <span class="_ _42"> </span>Figures <span class="_ _23"></span>2.1<span class="_ _1"></span><span class="ls2b8">1a<span class="_ _43"></span><span class="ls0">nd <span class="_ _42"> </span>2.12 <span class="_ _23"> </span>lists <span class="_ _42"> </span>the</span></span></span></span></div><div class="t m0 x41 h49 y7a7 ff19 fs26 fc0 sc0 ls0 ws0">limit constants we’ll deal with throughout the r<span class="_ _0"></span>est of this book.</div><div class="t m0 x3f h4a y7a8 ff19 fs26 fc0 sc0 ls0 ws0">2. <span class="_ _51"> </span>Some<span class="_ _47"> </span><span class="ff1b">name</span><span class="ls2b9">sc<span class="_ _8"></span><span class="ls0">an <span class="_ _3"></span>return either <span class="_ _3"></span>the <span class="_ _2"></span>value <span class="_ _3"></span>of <span class="_ _2"></span>the <span class="_ _2"></span>variable <span class="_ _3"></span>(a <span class="_ _2"></span>return <span class="_ _2"></span>value<span class="_ _47"> </span><span class="ff20">≥<span class="_ _47"> </span></span>0) <span class="_ _2"></span>or <span class="_ _2"></span>an</span></span></div><div class="t m0 x41 h49 y7a9 ff19 fs26 fc0 sc0 ls0 ws0">indication <span class="_ _3"></span>that <span class="_ _9"></span>the <span class="_ _9"></span>value <span class="_ _3"></span>is <span class="_ _9"></span>indeterminate.<span class="_ _5a"> </span>An <span class="_ _3"></span>indeterminate <span class="_ _9"></span>value <span class="_ _3"></span>is <span class="_ _9"></span>indicated</div><div class="t m0 x41 h4d y7aa ff19 fs26 fc0 sc0 ls0 ws0">by returning<span class="_"> </span><span class="ff20">−</span><span class="lsd3">1a<span class="_ _4f"></span><span class="ls0">nd not changing the value of<span class="_"> </span><span class="ff1a">errno</span>.</span></span></div><div class="t m0 x3f h4d y7ab ff19 fs26 fc0 sc0 ls0 ws0">3. <span class="_ _51"> </span>The<span class="_ _45"> </span>value <span class="_ _9"></span>returned <span class="_ _9"></span>for<span class="_ _45"> </span><span class="ff1a">_SC_CLK_TCK<span class="_ _45"> </span></span>is <span class="_ _23"></span>the <span class="_ _9"></span>number <span class="_ _9"></span>of <span class="_ _9"></span>clock <span class="_ _23"></span>ticks <span class="_ _9"></span>per <span class="_ _9"></span>second,</div><div class="t m0 x41 h4d y7ac ff19 fs26 fc0 sc0 ls0 ws0">for use with the return values fr<span class="_ _0"></span>om the<span class="_"> </span><span class="ff1a">times<span class="_ _80"> </span></span>function (Section 8.17).</div><div class="t m0 x3f h4d y7ad ff19 fs26 fc0 sc0 ls0 ws0">Some <span class="_ _9"></span>restrictions <span class="_ _9"></span>apply <span class="_ _23"></span>to <span class="_ _9"></span>the<span class="_ _35"> </span><span class="ff1a">pathconf<span class="_ _45"> </span><span class="ff1b">pathname<span class="_ _45"> </span></span></span>argument <span class="_ _9"></span>and <span class="_ _23"></span>the<span class="_ _45"> </span><span class="ff1a">fpathconf</span></div><div class="t m0 x32 h4a y7ae ff1b fs26 fc0 sc0 ls0 ws0">fd<span class="_"> </span><span class="ff19">argument. <span class="_"> </span>If<span class="_"> </span>any of these r<span class="_ _0"></span>estrictions isn’t met, the r<span class="_ _0"></span>esults ar<span class="lsd3">eu<span class="_ _4f"></span><span class="ls0">ndeﬁned.</span></span></span></div><div class="t m0 x3f h4d y7af ff19 fs26 fc0 sc0 ls0 ws0">1. <span class="_ _51"> </span>The<span class="_ _51"> </span><span class="lscc">re</span>ferenced <span class="_ _45"> </span>ﬁle <span class="_ _35"> </span>for<span class="_ _51"> </span><span class="ff1a">_PC_MAX_CANON<span class="_"> </span></span>and<span class="_ _51"> </span><span class="ff1a">_PC_MAX_INPUT<span class="_"> </span></span>must <span class="_ _35"> </span>be <span class="_ _35"> </span>a</div><div class="t m0 x41 h49 y7b0 ff19 fs26 fc0 sc0 ls0 ws0">terminal ﬁle.</div><div class="t m0 x3f h4d y7b1 ff19 fs26 fc0 sc0 ls0 ws0">2. <span class="_ _51"> </span>The<span class="_"> </span><span class="lscc">re<span class="_ _2"></span></span>ferenced ﬁle for<span class="_"> </span><span class="ff1a">_PC_LINK_MAX<span class="_ _80"> </span></span>and<span class="_ _66"> </span><span class="ff1a">_PC_TIMESTAMP_RESOLUTION<span class="_ _66"> </span></span>can</div><div class="t m0 x41 h49 y7b2 ff19 fs26 fc0 sc0 ls0 ws0">be either <span class="_ _2"></span>a ﬁle <span class="_ _2"></span>or a <span class="_ _2"></span>directory<span class="_ _4"></span><span class="ls2ba">.I<span class="_ _5b"></span><span class="ls2bb">ft<span class="_ _d"></span><span class="ls0">he <span class="_ _2"></span>refer<span class="_ _0"></span>enced ﬁle is <span class="_ _2"></span>a directory<span class="_ _4"></span><span class="ls2bc">,t<span class="_ _d"></span><span class="ls0">he <span class="_ _2"></span>return value</span></span></span></span></span></div><div class="t m0 x41 h49 y7b3 ff19 fs26 fc0 sc0 ls0 ws0">applies to the directory itself, not to the ﬁlename entries within the dir<span class="_ _0"></span>ectory<span class="_ _4"></span>.</div><div class="t m0 x3f h4d y7b4 ff19 fs26 fc0 sc0 ls0 ws0">3. <span class="_ _51"> </span>The<span class="_ _59"> </span><span class="lscc">re<span class="_ _2"></span></span>ferenced <span class="_ _e"> </span>ﬁle <span class="_"> </span>for<span class="_ _59"> </span><span class="ff1a">_PC_FILESIZEBITS<span class="_ _59"> </span></span>and<span class="_ _59"> </span><span class="ff1a">_PC_NAME_MAX<span class="_ _59"> </span></span>must <span class="_"> </span>be <span class="_"> </span>a</div><div class="t m0 x41 h49 y7b5 ff19 fs26 fc0 sc0 ls0 ws0">directory<span class="_ _4"></span><span class="ls199">.T<span class="_ _4a"></span><span class="ls0">he return value applies to ﬁlenames within the dir<span class="_ _1"></span>ectory<span class="_ _6"></span>.</span></span></div><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:156.492009px;bottom:1236.288916px;width:321.527985px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
