<div id="pfe1" class="pf w4 h1f" data-page-no="e1"><div class="pc pce1 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bge1.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>6.10<span class="_ _1fd"> </span><span class="ls7ed">Ti<span class="_ _2"></span></span>me <span class="_"> </span>and <span class="_"> </span>Date <span class="_"> </span>Routines<span class="_ _1b"> </span><span class="ff18">191</span></div><div class="t m0 x88 h51 y19cc ff19 fs2a fc0 sc0 ls0 ws0">kernel</div><div class="t m0 x1d8 h5e y19cd ff1a fs10 fc0 sc0 ls0 ws0">time_t</div><div class="t m0 x17 h2d y19ce ff19 fs10 fc0 sc0 ls0 ws0">(calendar time)</div><div class="t m0 x43 h4f y19cf ff1a fs11 fc0 sc0 ls0 ws0">timespec</div><div class="t m0 x86 h6d y19d0 ff1a fs12 fc0 sc0 ls0 ws0">struct tm</div><div class="t m0 xe h2f y19d1 ff19 fs12 fc0 sc0 ls0 ws0">(broken-down time)</div><div class="t m0 x1d9 h30 y19d2 ff19 fs13 fc0 sc0 ls0 ws0">formatted string</div><div class="t m0 xf3 h31 y19d3 ff19 fs14 fc0 sc0 ls0 ws0">string</div><div class="t m0 x53 h66 y19d4 ff1a fs15 fc0 sc0 ls0 ws0">timeval</div><div class="t m0 xeb h70 y19d5 ff1a fs16 fc0 sc0 ls0 ws0">time</div><div class="t m0 x1da h71 y19d6 ff1a fs36 fc0 sc0 ls0 ws0">clock_gettime</div><div class="t m0 xb0 hcc y19d7 ff1a fs17 fc0 sc0 ls0 ws0">gettimeofday</div><div class="t m0 x172 hd4 y19d8 ff1a fs18 fc0 sc0 ls0 ws0">tv_sec</div><div class="t m0 xa5 hd5 y19d9 ff1a fs19 fc0 sc0 ls0 ws0">tv_sec</div><div class="t m7 x1bb h8d y19da ff1a fs1a fc0 sc0 ls0 ws0">gmtime</div><div class="t m7 x1cd hd6 y19db ff1a fs1b fc0 sc0 ls0 ws0">localtime</div><div class="t m7 x1d3 hd7 y19dc ff1a fs1c fc0 sc0 ls0 ws0">mktime</div><div class="t m8 x17f hd8 y19dd ff1a fs70 fc0 sc0 ls0 ws0">strptime</div><div class="t m9 x7f hd9 y19de ff1a fs71 fc0 sc0 ls0 ws0">strftime</div><div class="t m9 x19c hda y19df ff1a fs72 fc0 sc0 ls0 ws0">strftime_l</div><div class="t m0 xa0 h3d y19e0 ff18 fs1f fc0 sc0 ls0 ws0">Figure 6.9<span class="_ _5a"> </span><span class="ff19">Relationship of the various time functions</span></div><div class="t m0 x3f hdb y19e1 ff19 fs73 fc0 sc0 ls0 ws0">The <span class="_ _42"> </span>two <span class="_ _53"> </span>functions<span class="_ _4b"> </span><span class="ff1a">localtime<span class="_ _44"> </span></span>and<span class="_ _44"> </span><span class="ff1a">gmtime<span class="_ _4b"> </span></span>convert <span class="_ _42"> </span>a <span class="_ _53"> </span>calendar <span class="_ _53"> </span>time <span class="_ _53"> </span>into <span class="_ _53"> </span>what’s</div><div class="t m0 x32 hdb y19e2 ff19 fs73 fc0 sc0 ls0 ws0">called a broken-down time, a<span class="_"> </span><span class="ff1a">tm<span class="_ _80"> </span></span>structur<span class="_ _0"></span>e.</div><div class="t m0 x3f hdc y19e3 ff1a fs74 fc0 sc0 ls0 ws0">struct tm {<span class="_ _189"> </span>/* a broken-down time */</div><div class="t m0 xf4 hdc y19e4 ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_sec;<span class="_ _68"> </span>/* seconds after the minute: [0 - 60] */</div><div class="t m0 xf4 hdc y19e5 ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_min;<span class="_ _68"> </span>/* minutes after the hour: [0 - 59] */</div><div class="t m0 xf4 hdc y19e6 ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_hour; <span class="_"> </span>/*<span class="_"> </span>hours after midnight: [0 - 23] */</div><div class="t m0 xf4 hdc y19e7 ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_mday; <span class="_"> </span>/*<span class="_"> </span>day of the month: [1 - 31] */</div><div class="t m0 xf4 hdc y19e8 ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_mon;<span class="_ _68"> </span>/* months since January: [0 - 11] */</div><div class="t m0 xf4 hdc y19e9 ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_year; <span class="_"> </span>/*<span class="_"> </span>years since 1900 */</div><div class="t m0 xf4 hdc y19ea ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_wday; <span class="_"> </span>/*<span class="_"> </span>days since Sunday: [0 - 6] */</div><div class="t m0 xf4 hdc y19eb ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_yday; <span class="_"> </span>/*<span class="_"> </span>days since January 1: [0 - 365] */</div><div class="t m0 xf4 hdc y19ec ff1a fs74 fc0 sc0 ls0 ws0">int <span class="_"> </span>tm_isdst;<span class="_"> </span>/* daylight saving time flag: &lt;0, 0, &gt;0 */</div><div class="t m0 x3f hdc y19ed ff1a fs74 fc0 sc0 ls0 ws0">};</div><div class="t m0 x32 hdd y19ee ff19 fs73 fc0 sc0 ls0 ws0">The <span class="_ _9"></span>reason <span class="_ _3"></span>that <span class="_ _9"></span>the <span class="_ _9"></span>seconds <span class="_ _9"></span>can <span class="_ _9"></span>be <span class="_ _9"></span>greater <span class="_ _3"></span>than <span class="_ _9"></span>59 <span class="_ _9"></span>is <span class="_ _9"></span>to <span class="_ _9"></span>allow <span class="_ _9"></span>for <span class="_ _9"></span>a <span class="_ _9"></span>leap <span class="_ _9"></span>second.<span class="_ _5a"> </span>Note</div><div class="t m0 x32 hdd y19ef ff19 fs73 fc0 sc0 ls0 ws0">that all the ﬁelds except <span class="_ _2"></span>the day of the <span class="_ _2"></span>month ar<span class="ls801">e0</span></div><div class="t m0 x1c5 hdd y19f0 ff19 fs73 fc0 sc0 ls0 ws0">-</div><div class="t m0 x5d hdd y19ef ff19 fs73 fc0 sc0 ls0 ws0">based. <span class="_"> </span>The<span class="_"> </span>daylight saving time <span class="_ _2"></span>ﬂag</div><div class="t m0 x32 hdd y19f1 ff19 fs73 fc0 sc0 ls0 ws0">is <span class="_ _9"></span>positive <span class="_ _23"> </span>if <span class="_ _23"></span>daylight <span class="_ _9"></span>saving <span class="_ _23"> </span>time <span class="_ _23"></span>is <span class="_ _23"></span>in <span class="_ _9"></span>effect, <span class="_ _9"></span>0 <span class="_ _23"></span>if <span class="_ _23"></span>it’s <span class="_ _9"></span>not <span class="_ _23"></span>in <span class="_ _9"></span>effect, <span class="_ _23"></span>and <span class="_ _9"></span>negative <span class="_ _23"></span>if <span class="_ _23"></span>the</div><div class="t m0 x32 hdd y19f2 ff19 fs73 fc0 sc0 ls0 ws0">information isn’t available.</div><div class="t m0 x76 h3d y19f3 ff19 fs1f fc0 sc0 ls0 ws0">In <span class="_ _9"></span>older <span class="_ _9"></span>versions <span class="_ _9"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>Single <span class="_ _9"></span>UNIX <span class="_ _9"> </span>Speciﬁcation, <span class="_ _9"> </span>double <span class="_ _9"> </span>leap <span class="_ _23"> </span>seconds <span class="_ _3"></span>wer<span class="ls802">ea<span class="_ _4f"></span><span class="ls0">llowed. <span class="_ _47"> </span>Thus</span></span></div><div class="t m0 x76 hde y19f4 ff19 fs1f fc0 sc0 ls0 ws0">the <span class="_ _23"> </span>valid <span class="_ _9"> </span>range <span class="_ _23"> </span>of <span class="_ _23"> </span>values <span class="_ _23"> </span>for <span class="_ _9"> </span>the<span class="_ _45"> </span><span class="ff1a">tm_sec<span class="_ _47"> </span></span>member <span class="_ _23"> </span>was <span class="_ _9"> </span>0</div><div class="t m0 x1db h3d y19f5 ff19 fs1f fc0 sc0 ls0 ws0">–</div><div class="t m0 x1dc h3d y19f4 ff19 fs1f fc0 sc0 ls0 ws0">61. <span class="_ _47"> </span>The<span class="_ _47"> </span>formal <span class="_ _23"> </span>deﬁnition <span class="_ _23"> </span>of <span class="_ _23"> </span>UTC</div><div class="t m0 x76 h3d y19f6 ff19 fs1f fc0 sc0 ls0 ws0">doesn’t allow for double leap seconds, so the valid range for seconds is now 0</div><div class="t m0 x37 h3d y19f7 ff19 fs1f fc0 sc0 ls0 ws0">–</div><div class="t m0 x56 h3d y19f6 ff19 fs1f fc0 sc0 ls0 ws0">60.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
