<div id="pf3ab" class="pf w4 h1f" data-page-no="3ab"><div class="pc pc3ab w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg3ab.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x32 h47 y25f ff1e fsb fc0 sc0 ls0 ws0">Appendix <span class="_"> </span>C</div><div class="t m0 x32 h20 y8f ff15 fs2 fc0 sc0 ls0 ws0">Solutions <span class="_"> </span>to <span class="_"> </span>Selected</div><div class="t m0 x32 h20 y579 ff15 fs2 fc0 sc0 ls0 ws0">Ex<span class="_ _1"></span>ercises</div><div class="t m0 x35 h21 y119 ff16 fs5 fc0 sc0 ls0 ws0">Chapter <span class="_"> </span>1</div><div class="t m0 x32 h2c y5fcf ff18 fs5 fc0 sc0 ls0 ws0">1.1<span class="_ _9b"> </span><span class="ff19">For this <span class="_ _2"></span>exercise, <span class="_ _2"></span>we <span class="_ _2"></span>use <span class="_ _3"></span>the <span class="_ _2"></span>following <span class="_ _2"></span>two <span class="_ _3"></span>arguments for <span class="_ _3"></span>the<span class="_ _66"> </span><span class="ff1a">ls</span></span></div><div class="t m0 x169 h28 y5fd0 ff19 fs5 fc0 sc0 ls0 ws0">(</div><div class="t m0 x16b h28 y5fcf ff19 fs5 fc0 sc0 ls0 ws0">1</div><div class="t m0 x11c h28 y5fd0 ff19 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m0 xb2 h2c y5fcf ff19 fs5 fc0 sc0 ls0 ws0">command:<span class="_ _66"> </span><span class="ff1a">-i</span></div><div class="t m0 x215 h28 y5fd1 ff19 fs5 fc0 sc0 ls0 ws0">prints <span class="_ _23"> </span>the <span class="_ _42"> </span>i-node <span class="_ _23"></span>number <span class="_ _23"> </span>of <span class="_ _42"> </span>the <span class="_ _23"> </span>ﬁle <span class="_ _23"> </span>or <span class="_ _42"> </span>directory <span class="_ _23"></span>(we <span class="_ _23"> </span>say <span class="_ _42"> </span>mor<span class="ls17f5">ea<span class="_ _43"></span><span class="ls0">bout <span class="_ _23"></span>i-nodes <span class="_ _23"> </span>in</span></span></div><div class="t m0 x215 h2c y5fd2 ff19 fs5 fc0 sc0 ls0 ws0">Section <span class="_ _9"></span>4.14), <span class="_ _9"></span>and<span class="_ _45"> </span><span class="ff1a">-d<span class="_ _45"> </span></span>prints <span class="_ _3"></span>information <span class="_ _9"></span>about <span class="_ _9"></span>a <span class="_ _9"></span>directory <span class="_ _9"></span>instead <span class="_ _9"></span>of <span class="_ _9"></span>information</div><div class="t m0 x215 h28 y5fd3 ff19 fs5 fc0 sc0 ls0 ws0">on all the ﬁles in the directory<span class="_ _4"></span>.</div><div class="t m0 x215 h28 y5fd4 ff19 fs5 fc0 sc0 ls0 ws0">Execute the following:</div><div class="t m0 x1a7 h7a y5fd5 ff1a fs0 fc0 sc0 ls0 ws0">$<span class="_"> </span><span class="ff1f">ls -ldi /etc/. /etc/..<span class="_ _1f9"> </span></span>-i<span class="_"> </span><span class="ff1b">says print i-node number</span></div><div class="t m0 x11a h7a y5fd6 ff1a fs0 fc0 sc0 ls0 ws0">162561 drwxr-xr-x<span class="_ _3a"> </span>66 root<span class="_ _2a8"> </span>4096 Feb<span class="_ _3a"> </span><span class="ls472">50<span class="_ _5b"></span><span class="ls0">3:59 /etc/./</span></span></div><div class="t m0 x143 h7a y5fd7 ff1a fs0 fc0 sc0 ls472 ws0">2d<span class="_ _1d"></span><span class="ls0">rwxr-xr-x <span class="_"> </span>19<span class="_"> </span>root <span class="_ _87"> </span>4096<span class="_"> </span>Jan 15 07:25 /etc/../</span></div><div class="t m0 x1a7 h7a y5fd8 ff1a fs0 fc0 sc0 ls0 ws0">$<span class="_"> </span><span class="ff1f">ls -ldi /. /..<span class="_ _209"> </span><span class="ff1b">both<span class="_"> </span></span></span>.<span class="_ _80"> </span><span class="ff1b">and<span class="_"> </span></span>..<span class="_ _80"> </span><span class="ff1b">have i-node number 2</span></div><div class="t m0 x143 h7a y5fd9 ff1a fs0 fc0 sc0 ls472 ws0">2d<span class="_ _1d"></span><span class="ls0">rwxr-xr-x <span class="_"> </span>19<span class="_"> </span>root <span class="_ _87"> </span>4096<span class="_"> </span>Jan 15 07:25 /./</span></div><div class="t m0 x143 h7a y5fda ff1a fs0 fc0 sc0 ls472 ws0">2d<span class="_ _1d"></span><span class="ls0">rwxr-xr-x <span class="_"> </span>19<span class="_"> </span>root <span class="_ _87"> </span>4096<span class="_"> </span>Jan 15 07:25 /../</span></div><div class="t m0 x32 h28 y5fdb ff18 fs5 fc0 sc0 ls0 ws0">1.2<span class="_ _9b"> </span><span class="ff19">The <span class="_ _35"> </span>UNIX <span class="_ _44"> </span>System <span class="_ _35"> </span>is <span class="_ _44"> </span>a <span class="_ _44"> </span>multiprogramming, <span class="_ _35"> </span>or <span class="_ _44"> </span>multitasking, <span class="_ _44"> </span>system.<span class="_ _98"> </span>Other</span></div><div class="t m0 x215 h28 y5fdc ff19 fs5 fc0 sc0 ls0 ws0">processes wer<span class="_ _0"></span><span class="ls46">er<span class="_ _4f"></span><span class="ls0">unning at the time this program was run.</span></span></div><div class="t m0 x32 h2c y5fdd ff18 fs5 fc0 sc0 ls0 ws0">1.3<span class="_ _9b"> </span><span class="ff19">Since <span class="_ _3"></span>the<span class="_ _45"> </span><span class="ff1b">msg<span class="_ _45"> </span></span>argument <span class="_ _3"></span>to<span class="_ _45"> </span><span class="ff1a">perror<span class="_ _45"> </span></span>is <span class="_ _9"></span>a <span class="_ _9"></span>pointer<span class="_ _1"></span>,<span class="_ _45"> </span><span class="ff1a">perror<span class="_ _45"> </span></span>could <span class="_ _3"></span>modify <span class="_ _9"></span>the <span class="_ _9"></span>string</span></div><div class="t m0 x215 h2c y5fde ff19 fs5 fc0 sc0 ls0 ws0">that<span class="_ _4b"> </span><span class="ff1b">msg<span class="_ _4b"> </span></span>points <span class="_ _e"> </span>to.<span class="_ _65"> </span>The <span class="_ _e"> </span>qualiﬁer<span class="_ _4b"> </span><span class="ff1a">const</span><span class="ls17f6">,h<span class="_ _c"></span><span class="ls0">owever<span class="_ _6"></span><span class="ls17f6">,s<span class="_ _c"></span><span class="ls0">ays <span class="_ _53"> </span>that<span class="_ _59"> </span><span class="ff1a">perror<span class="_ _4b"> </span></span>does <span class="_ _53"> </span>not</span></span></span></span></div><div class="t m0 x215 h28 y5fdf ff19 fs5 fc0 sc0 ls0 ws0">modify <span class="_ _35"> </span>what <span class="_ _35"> </span>the <span class="_ _35"> </span>pointer <span class="_ _45"> </span>points <span class="_ _35"> </span>to.<span class="_ _98"> </span>On <span class="_ _35"> </span>the <span class="_ _45"> </span>other <span class="_ _35"> </span>hand, <span class="_ _35"> </span>the <span class="_ _35"> </span>error <span class="_ _45"> </span>number</div><div class="t m0 x1c0 h23 y5fe0 ff18 fs0 fc0 sc0 ls0 ws0">905</div><a class="l" href="#pf14" data-dest-detail='[20,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:157.497886px;bottom:891.235805px;width:255.727005px;height:174.998017px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
