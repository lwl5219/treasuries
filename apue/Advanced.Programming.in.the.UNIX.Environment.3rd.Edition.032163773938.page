<div id="pf26" class="pf w4 h1f" data-page-no="26"><div class="pc pc26 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg26.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">4<span class="_ _1b"> </span><span class="ff19">UNIX <span class="_"> </span>System <span class="_"> </span>Overview<span class="_ _69"> </span>Chapter <span class="_"> </span>1</span></div><div class="t m0 x76 h51 y2a3 ff19 fs2a fc0 sc0 ls0 ws0">The <span class="_"> </span>default <span class="_ _42"> </span>shell <span class="_"> </span>used <span class="_ _42"> </span>by <span class="_"> </span>dif<span class="_ _0"></span>ferent <span class="_ _42"> </span>Linux <span class="_"> </span>distributions <span class="_ _42"> </span>varies.<span class="_ _5a"> </span>Some <span class="_"> </span>distributions <span class="_ _42"> </span>use <span class="_"> </span>the</div><div class="t m0 x76 h52 y2a4 ff19 fs2a fc0 sc0 ls0 ws0">Bourne-again shell.<span class="_ _44"> </span>Others <span class="_ _2"></span>use the <span class="_ _2"></span>BSD replacement for <span class="_ _2"></span>the <span class="_ _2"></span>Bourne shell, <span class="_ _2"></span>called<span class="_"> </span><span class="ff1a">dash<span class="_ _80"> </span></span>(Debian</div><div class="t m0 x76 h51 y2a5 ff19 fs2a fc0 sc0 ls0 ws0">Almquist <span class="_"> </span>shell, <span class="_ _80"> </span>originally <span class="_ _80"> </span>written <span class="_"> </span>by <span class="_ _80"> </span>Kenneth <span class="_ _80"> </span>Almquist <span class="_"> </span>and <span class="_ _80"> </span>later <span class="_ _80"> </span>ported <span class="_"> </span>to <span class="_ _80"> </span>Linux).<span class="_ _51"> </span>The</div><div class="t m0 x76 h51 y2a6 ff19 fs2a fc0 sc0 ls0 ws0">default <span class="_ _66"> </span>user <span class="_ _80"> </span>shell <span class="_ _66"> </span>in <span class="_ _66"> </span>FreeBSD <span class="_ _80"> </span>is <span class="_ _66"> </span>derived <span class="_ _66"> </span>from <span class="_ _66"> </span>the <span class="_ _80"> </span>Almquist <span class="_ _66"> </span>shell.<span class="_ _54"> </span>The <span class="_ _66"> </span>default <span class="_ _66"> </span>shell <span class="_ _66"> </span>in</div><div class="t m0 x76 h51 y2a7 ff19 fs2a fc0 sc0 ls0 ws0">Mac OS X<span class="_ _47"> </span>is <span class="_ _23"> </span>the <span class="_ _23"> </span>Bourne-again <span class="_ _23"> </span>shell.<span class="_ _46"> </span>Solaris, <span class="_ _23"> </span>having <span class="_ _23"> </span>its <span class="_ _23"> </span>heritage <span class="_ _23"> </span>in <span class="_ _23"> </span>both <span class="_ _9"> </span>BSD <span class="_ _23"> </span>and <span class="_ _23"> </span>System <span class="_ _23"> </span>V<span class="_ _6"></span>,</div><div class="t m0 x76 h51 y2a8 ff19 fs2a fc0 sc0 ls0 ws0">provides <span class="_"> </span>all <span class="_"> </span>the <span class="_ _42"> </span>shells <span class="_"> </span>shown <span class="_"> </span>in <span class="_"> </span>Figur<span class="lse7">e1<span class="_ _43"></span><span class="ls0">.2. <span class="_ _35"> </span>Free <span class="_"> </span>ports <span class="_"> </span>of <span class="_ _42"> </span>the <span class="_"> </span>shells <span class="_"> </span>ar<span class="lse7">ea<span class="_ _43"></span><span class="ls0">vailable <span class="_"> </span>on <span class="_"> </span>the</span></span></span></span></div><div class="t m0 x76 h51 y2a9 ff19 fs2a fc0 sc0 ls0 ws0">Internet.</div><div class="t m0 x76 h51 y2aa ff19 fs2a fc0 sc0 ls0 ws0">Throughout <span class="_ _9"></span>the <span class="_ _9"></span>text, <span class="_ _9"></span>we <span class="_ _9"> </span>will <span class="_ _23"> </span>use <span class="_ _9"></span>parenthetical <span class="_ _9"></span>notes <span class="_ _9"></span>such <span class="_ _9"></span>as <span class="_ _23"> </span>this <span class="_ _9"></span>to <span class="_ _9"></span>describe <span class="_ _9"> </span>historical <span class="_ _23"> </span>notes</div><div class="t m0 x76 h51 y2ab ff19 fs2a fc0 sc0 ls0 ws0">and <span class="_ _80"> </span>to <span class="_ _80"> </span>compar<span class="lse8">ed<span class="_ _55"></span><span class="ls0">ifferent <span class="_ _80"> </span>implementations <span class="_ _80"> </span>of <span class="_ _80"> </span>the <span class="_ _80"> </span>UNIX <span class="_ _80"> </span>System.<span class="_ _54"> </span>Often <span class="_ _80"> </span>the <span class="_ _80"> </span>reason <span class="_ _80"> </span>for <span class="_ _80"> </span>a</span></span></div><div class="t m0 x76 h51 y2ac ff19 fs2a fc0 sc0 ls0 ws0">particular implementation technique becomes clear when the historical reasons ar<span class="_ _0"></span><span class="lse9">ed<span class="_ _a"></span><span class="ls0">escribed.</span></span></div><div class="t m0 x3f h2a y2ad ff19 fsf fc0 sc0 ls0 ws0">Throughout <span class="_ _23"></span>this <span class="_ _42"> </span>text, <span class="_ _23"> </span>we’ll <span class="_ _42"> </span>show <span class="_ _23"> </span>interactive <span class="_ _42"> </span>shell <span class="_ _42"> </span>examples <span class="_ _23"> </span>to <span class="_ _42"> </span>execute <span class="_ _42"> </span>a <span class="_ _23"> </span>program</div><div class="t m0 x32 h2a y2ae ff19 fsf fc0 sc0 ls0 ws0">that <span class="_ _23"> </span>we’ve <span class="_ _42"> </span>developed.<span class="_ _51"> </span>These <span class="_ _23"> </span>examples <span class="_ _42"> </span>use <span class="_ _23"> </span>features <span class="_ _23"> </span>common <span class="_ _42"> </span>to <span class="_ _23"> </span>the <span class="_ _42"> </span>Bourne <span class="_ _23"> </span>shell, <span class="_ _42"> </span>the</div><div class="t m0 x32 h2a y2af ff19 fsf fc0 sc0 ls0 ws0">Korn shell, and the Bourne-again shell.</div><div class="t m0 x35 h53 y2b0 ff16 fs2b fc0 sc0 ls0 ws0">1.4 <span class="_ _68"> </span>Files<span class="_ _54"> </span>and <span class="_"> </span>Directories</div><div class="t m0 x35 h27 y2b1 ff16 fsf fc0 sc0 ls0 ws0">File System</div><div class="t m0 x32 h2a y2b2 ff19 fsf fc0 sc0 ls0 ws0">The <span class="_ _3"></span>UNIX <span class="_ _3"></span>ﬁle <span class="_ _3"></span>system <span class="_ _3"></span>is <span class="_ _9"></span>a <span class="_ _3"></span>hierarchical <span class="_ _2"></span>arrangement <span class="_ _3"></span>of <span class="_ _3"></span>directories <span class="_ _3"></span>and <span class="_ _3"></span>ﬁles.<span class="_ _16"> </span>Everything</div><div class="t m0 x32 h26 y2b3 ff19 fsf fc0 sc0 ls0 ws0">starts in the directory called<span class="_"> </span><span class="ff1b ls45">ro<span class="ls0">ot</span></span><span class="ls44">,w<span class="_ _d"></span><span class="ls0">hose name is the single character<span class="_"> </span><span class="ff1a">/</span>.</span></span></div><div class="t m0 x3f h2b y2b4 ff19 fsf fc0 sc0 ls0 ws0">A<span class="_ _45"> </span><span class="ff1b">directory<span class="_ _45"> </span></span>is <span class="_ _23"></span>a <span class="_ _23"></span>ﬁle <span class="_ _9"></span>that <span class="_ _23"> </span>contains <span class="_ _23"></span>directory <span class="_ _9"></span>entries.<span class="_ _5a"> </span>Logically<span class="_ _6"></span><span class="lsea">,w<span class="_ _b"></span><span class="lseb">ec<span class="_ _43"></span><span class="ls0">an <span class="_ _23"></span>think <span class="_ _23"></span>of <span class="_ _9"></span>each</span></span></span></div><div class="t m0 x32 h2a y2b5 ff19 fsf fc0 sc0 ls0 ws0">directory <span class="_ _44"> </span>entry <span class="_ _44"> </span>as <span class="_ _4b"> </span>containing <span class="_ _4b"> </span>a <span class="_ _4b"> </span>ﬁlename <span class="_ _44"> </span>along <span class="_ _4b"> </span>with <span class="_ _4b"> </span>a <span class="_ _44"> </span>structure<span class="_ _54"> </span>of<span class="_ _65"> </span>information</div><div class="t m0 x32 h2a y2b6 ff19 fsf fc0 sc0 ls0 ws0">describing the <span class="_ _2"></span>attributes <span class="_ _2"></span>of <span class="_ _2"></span>the <span class="_ _2"></span>ﬁle.<span class="_ _61"> </span>The <span class="_ _2"></span>attributes of <span class="_ _2"></span>a <span class="_ _2"></span>ﬁle <span class="_ _2"></span>ar<span class="lsec">es<span class="_ _4f"></span><span class="ls0">uch <span class="_ _2"></span>things <span class="_ _2"></span>as <span class="_ _2"></span>the type <span class="_ _2"></span>of</span></span></div><div class="t m0 x32 h2a y2b7 ff19 fsf fc0 sc0 ls0 ws0">ﬁle <span class="_ _2"></span>(regular <span class="_ _3"></span>ﬁle, <span class="_ _2"></span>directory), <span class="_ _2"></span>the <span class="_ _3"></span>size <span class="_ _3"></span>of <span class="_ _3"></span>the <span class="_ _3"></span>ﬁle, <span class="_ _3"></span>the <span class="_ _2"></span>owner <span class="_ _3"></span>of <span class="_ _3"></span>the <span class="_ _3"></span>ﬁle, <span class="_ _3"></span>permissions <span class="_ _2"></span>for <span class="_ _3"></span>the</div><div class="t m0 x32 h2a y2b8 ff19 fsf fc0 sc0 ls0 ws0">ﬁle <span class="_ _2"></span>(whether <span class="_ _2"></span>other <span class="_ _3"></span>users <span class="_ _2"></span>may <span class="_ _2"></span>access <span class="_ _3"></span>this <span class="_ _2"></span>ﬁle), <span class="_ _2"></span>and <span class="_ _3"></span>when <span class="_ _2"></span>the <span class="_ _3"></span>ﬁle <span class="_ _2"></span>was <span class="_ _2"></span>last <span class="_ _3"></span>modiﬁed.<span class="_ _61"> </span>The</div><div class="t m0 x32 h26 y2b9 ff1a fsf fc0 sc0 ls0 ws0">stat<span class="_ _54"> </span><span class="ff19">and<span class="_ _51"> </span></span>fstat<span class="_ _54"> </span><span class="ff19">functions <span class="_ _44"> </span>return <span class="_ _35"> </span>a <span class="_ _44"> </span>structure<span class="_ _51"> </span>of<span class="_ _54"> </span>information <span class="_ _44"> </span>containing <span class="_ _44"> </span>all <span class="_ _35"> </span>the</span></div><div class="t m0 x32 h2a y2ba ff19 fsf fc0 sc0 ls0 ws0">attributes of a ﬁle.<span class="_ _59"> </span>In Chapter 4, we’ll examine all the attributes of a ﬁle in great detail.</div><div class="t m0 x76 h51 y2bb ff19 fs2a fc0 sc0 lsed ws0">We <span class="_ _53"> </span>m<span class="_ _9"></span><span class="ls0">ake <span class="_ _2"></span>a <span class="_ _3"></span>distinction <span class="_ _3"></span>between <span class="_ _3"></span>the <span class="_ _2"></span>logical <span class="_ _3"></span>view <span class="_ _3"></span>of <span class="_ _2"></span>a <span class="_ _3"></span>directory <span class="_ _2"></span>entry <span class="_ _3"></span>and <span class="_ _3"></span>the <span class="_ _3"></span>way <span class="_ _2"></span>it <span class="_ _3"></span>is <span class="_ _3"></span>actually</span></div><div class="t m0 x76 h51 y2bc ff19 fs2a fc0 sc0 ls0 ws0">stored <span class="_"> </span>on <span class="_"> </span>disk.<span class="_ _5a"> </span>Most <span class="_ _80"> </span>implementations <span class="_"> </span>of <span class="_"> </span>UNIX <span class="_"> </span>ﬁle <span class="_ _80"> </span>systems <span class="_"> </span>don’t <span class="_"> </span>stor<span class="lsee">ea<span class="_ _43"></span><span class="ls0">ttributes <span class="_"> </span>in <span class="_"> </span>the</span></span></div><div class="t m0 x76 h51 y2bd ff19 fs2a fc0 sc0 ls0 ws0">directory entries themselves, <span class="_ _2"></span>because of <span class="_ _2"></span>the difﬁculty of <span class="_ _2"></span>keeping them <span class="_ _2"></span>in synch <span class="_ _2"></span>when a <span class="_ _2"></span>ﬁle <span class="_ _2"></span>has</div><div class="t m0 x76 h51 y2be ff19 fs2a fc0 sc0 ls0 ws0">multiple har<span class="lse9">dl<span class="_ _5"></span><span class="ls0">inks. <span class="_"> </span>This<span class="_"> </span>will become clear when we discuss har<span class="lse9">dl<span class="_ _a"></span><span class="ls0">inks in Chapter 4.</span></span></span></span></div><div class="t m0 x35 h27 y2bf ff16 fsf fc0 sc0 ls0 ws0">Filename</div><div class="t m0 x32 h2b y2c0 ff19 fsf fc0 sc0 ls0 ws0">The <span class="_"> </span>names <span class="_ _e"> </span>in <span class="_"> </span>a <span class="_"> </span>dir<span class="_ _1"></span>ectory <span class="_"> </span>ar<span class="lsef">ec<span class="_ _4a"></span><span class="ls0">alled<span class="_ _59"> </span><span class="ff1b">ﬁlenames</span><span class="lsf0">.T<span class="_ _5d"></span><span class="ls0">he <span class="_"> </span>only <span class="_"> </span>two <span class="_ _e"> </span>characters <span class="_"> </span>that <span class="_ _e"> </span>cannot</span></span></span></span></div><div class="t m0 x32 h26 y2c1 ff19 fsf fc0 sc0 ls0 ws0">appear <span class="_"> </span>in <span class="_ _66"> </span>a <span class="_ _66"> </span>ﬁlename <span class="_ _66"> </span>ar<span class="lsf1">et<span class="_ _5b"></span><span class="ls0">he <span class="_ _66"> </span>slash <span class="_ _66"> </span>character <span class="_ _66"> </span>(<span class="ff1a">/</span><span class="lsf1">)a<span class="_ _4a"></span><span class="ls0">nd <span class="_"> </span>the <span class="_"> </span>null <span class="_ _66"> </span>character<span class="_ _1"></span><span class="lsf2">.T<span class="_ _49"></span><span class="ls0">he <span class="_ _66"> </span>slash</span></span></span></span></span></span></div><div class="t m0 x32 h2a y2c2 ff19 fsf fc0 sc0 ls0 ws0">separates <span class="_ _23"> </span>the <span class="_ _42"> </span>ﬁlenames <span class="_ _23"> </span>that <span class="_ _42"> </span>form <span class="_ _23"> </span>a <span class="_ _42"> </span>pathname <span class="_ _23"> </span>(described <span class="_ _42"> </span>next) <span class="_ _23"> </span>and <span class="_ _42"> </span>the <span class="_ _23"> </span>null <span class="_ _23"> </span>character</div><div class="t m0 x32 h2a y2c3 ff19 fsf fc0 sc0 ls0 ws0">terminates <span class="_ _23"> </span>a <span class="_ _42"> </span>pathname.<span class="_ _51"> </span>Nevertheless, <span class="_ _23"> </span>it’s <span class="_ _42"> </span>good <span class="_ _23"> </span>practice <span class="_ _42"> </span>to <span class="_ _23"> </span>restrict <span class="_ _23"> </span>the <span class="_ _23"> </span>characters <span class="_ _42"> </span>in <span class="_ _23"> </span>a</div><div class="t m0 x32 h2a y2c4 ff19 fsf fc0 sc0 ls0 ws0">ﬁlename <span class="_ _23"> </span>to <span class="_ _23"> </span>a <span class="_ _42"> </span>subset <span class="_ _23"> </span>of <span class="_ _42"> </span>the <span class="_ _23"></span>normal <span class="_ _23"> </span>printing <span class="_ _42"> </span>characters.<span class="_ _51"> </span>(If <span class="_ _23"> </span>we <span class="_ _42"> </span>use <span class="_ _23"> </span>some <span class="_ _23"> </span>of <span class="_ _42"> </span>the <span class="_ _23"> </span>shell’s</div><div class="t m0 x32 h2a y2c5 ff19 fsf fc0 sc0 ls0 ws0">special <span class="_ _53"> </span>characters <span class="_ _e"> </span>in <span class="_ _53"> </span>the <span class="_ _e"> </span>ﬁlename, <span class="_ _53"> </span>we <span class="_ _e"> </span>have <span class="_ _53"> </span>to <span class="_ _e"> </span>use <span class="_ _53"> </span>the <span class="_ _e"> </span>shell’s <span class="_ _53"> </span>quoting <span class="_ _e"> </span>mechanism <span class="_ _e"> </span>to</div><div class="t m0 x32 h2a y2c6 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">ference <span class="_ _23"></span>the <span class="_ _9"></span>ﬁlename, <span class="_ _23"> </span>and <span class="_ _23"></span>this <span class="_ _9"></span>can <span class="_ _23"> </span>get <span class="_ _23"></span>complicated.)<span class="_ _5a"> </span>Indeed, <span class="_ _23"> </span>for <span class="_ _23"></span>portability<span class="_ _4"></span><span class="lsf3">,P<span class="_ _b"></span><span class="ls0">OSIX.1</span></span></span></div><div class="t m0 x32 h26 y2c7 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">commends <span class="_ _53"> </span>restricting <span class="_ _42"> </span>ﬁlenames <span class="_ _53"> </span>to <span class="_ _53"> </span>consist <span class="_ _53"> </span>of <span class="_ _53"> </span>the <span class="_ _53"> </span>following <span class="_ _53"> </span>characters: <span class="_ _42"> </span>letters <span class="_ _53"> </span>(<span class="ff1a">a-z</span>,</span></div><div class="t m0 x32 h26 y2c8 ff1a fsf fc0 sc0 ls0 ws0">A-Z<span class="ff19">), numbers (</span>0-9<span class="ff19">), period (</span>.<span class="ff19">), dash (</span>-<span class="ff19">), and underscor<span class="ls44">e(<span class="_ _6"></span><span class="ff1a ls0">_<span class="_ _42"> </span><span class="ff19">).</span></span></span></span></div><div class="t m0 x3f h26 y2c9 ff19 fsf fc0 sc0 lsbc ws0">Tw<span class="_ _9"></span><span class="lsf4">oﬁ<span class="_ _c"></span><span class="ls0">lenames <span class="_ _53"> </span>ar<span class="lsf4">ea<span class="_ _55"></span><span class="ls0">utomatically <span class="_ _e"> </span>created <span class="_ _42"> </span>whenever <span class="_ _e"> </span>a <span class="_ _53"> </span>new <span class="_ _53"> </span>directory <span class="_ _53"> </span>is <span class="_ _53"> </span>created:<span class="_ _44"> </span><span class="ff1a">.</span></span></span></span></span></div><div class="t m0 x32 h26 y2ca ff19 fsf fc0 sc0 ls0 ws0">(called<span class="_"> </span><span class="ff1b">dot</span><span class="lsf5">)a<span class="_ _d"></span><span class="ls0">nd<span class="_"> </span><span class="ff1a">..<span class="_ _66"> </span></span>(called<span class="_ _66"> </span><span class="ff1b">dot-dot</span>). <span class="_"> </span>Dot<span class="_ _66"> </span><span class="ls45">re<span class="_ _2"></span></span>fers to <span class="_ _2"></span>the current directory<span class="_ _4"></span><span class="lsf6">,a<span class="_ _d"></span><span class="ls0">nd dot-dot refers</span></span></span></span></div><div class="t m0 x32 h2a y2cb ff19 fsf fc0 sc0 ls0 ws0">to the parent dir<span class="_ _0"></span>ectory<span class="_ _4"></span><span class="ls86">.I<span class="_ _4a"></span><span class="ls44">nt<span class="_ _d"></span><span class="ls0">he root directory<span class="_ _4"></span><span class="ls44">,d<span class="_ _d"></span><span class="ls0">ot-dot is the same as dot.</span></span></span></span></span></div><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.893259px;bottom:880.548928px;width:160.715393px;height:19.679962px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
