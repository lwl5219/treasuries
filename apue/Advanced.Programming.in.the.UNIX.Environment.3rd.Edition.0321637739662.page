<div id="pf296" class="pf w4 h1f" data-page-no="296"><div class="pc pc296 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg296.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">628<span class="_ _1b"> </span><span class="ff19">Network <span class="_"> </span>IPC: <span class="_"> </span>Sockets<span class="_ _2c6"> </span>Chapter <span class="_"> </span>16</span></div><div class="t m0 x35 h53 y12f ff16 fs2b fc0 sc0 ls0 ws0">16.9 <span class="_ _93"> </span>Summary</div><div class="t m0 x32 h2a y4de ff19 fsf fc0 sc0 ls0 ws0">In <span class="_ _3"></span>this <span class="_ _3"></span>chapter<span class="_ _1"></span>,<span class="_ _47"> </span>we<span class="_ _47"> </span>looked <span class="_ _3"></span>at <span class="_ _9"></span>the <span class="_ _3"></span>IPC <span class="_ _3"></span>mechanisms <span class="_ _3"></span>that <span class="_ _3"></span>allow <span class="_ _3"></span>processes <span class="_ _3"></span>to <span class="_ _3"></span>communicate</div><div class="t m0 x32 h2a y6d0 ff19 fsf fc0 sc0 ls0 ws0">with <span class="_ _42"> </span>other <span class="_ _42"> </span>processes <span class="_ _42"> </span>on <span class="_ _42"> </span>different <span class="_ _23"> </span>machines <span class="_ _53"> </span>as <span class="_ _42"> </span>well <span class="_ _42"> </span>as <span class="_ _53"> </span>within <span class="_ _42"> </span>the <span class="_ _53"> </span>same <span class="_ _42"> </span>machine.<span class="_ _54"> </span><span class="ls5f">We</span></div><div class="t m0 x32 h2a y6d1 ff19 fsf fc0 sc0 ls0 ws0">discussed <span class="_ _9"></span>how <span class="_ _3"></span>socket <span class="_ _9"></span>endpoints <span class="_ _9"></span>ar<span class="ls7dd">en<span class="_ _b"></span><span class="ls0">amed <span class="_ _9"></span>and <span class="_ _3"></span>how <span class="_ _9"></span>we <span class="_ _9"></span>can <span class="_ _9"></span>discover <span class="_ _9"></span>the <span class="_ _3"></span>addresses <span class="_ _9"></span>to</span></span></div><div class="t m0 x32 h2a y6d2 ff19 fsf fc0 sc0 ls0 ws0">use when contacting servers.</div><div class="t m0 x3f h2a y6d3 ff19 fsf fc0 sc0 ls5f ws0">We <span class="_ _54"> </span>p<span class="_ _9"></span><span class="ls45">re<span class="ls0">sented <span class="_ _59"> </span>examples <span class="_ _59"> </span>of <span class="_ _4b"> </span>clients <span class="_ _59"> </span>and <span class="_ _59"> </span>servers <span class="_ _4b"> </span>that <span class="_ _59"> </span>use <span class="_ _59"> </span>connectionless <span class="_ _4b"> </span>(i.e.,</span></span></div><div class="t m0 x32 h2a y6d4 ff19 fsf fc0 sc0 ls0 ws0">datagram-based) <span class="_ _46"> </span>sockets <span class="_ _61"> </span>and <span class="_ _61"> </span>connection-oriented <span class="_ _61"> </span>sockets.<span class="_ _d9"> </span><span class="ls5f">We <span class="_ _65"> </span>b<span class="_ _23"></span></span>rieﬂy <span class="_ _46"> </span>discussed</div><div class="t m0 x32 h2a y6d5 ff19 fsf fc0 sc0 ls0 ws0">asynchronous <span class="_ _23"> </span>and <span class="_ _53"> </span>nonblocking <span class="_ _42"> </span>socket <span class="_ _42"> </span>I/O <span class="_ _42"> </span>and <span class="_ _53"> </span>the <span class="_ _42"> </span>interfaces <span class="_ _42"> </span>used <span class="_ _42"> </span>to <span class="_ _42"> </span>manage <span class="_ _53"> </span>socket</div><div class="t m0 x32 h2a y6d6 ff19 fsf fc0 sc0 ls0 ws0">options.</div><div class="t m0 x3f h2a y6d7 ff19 fsf fc0 sc0 ls0 ws0">In <span class="_ _23"></span>the <span class="_ _9"></span>next <span class="_ _23"></span>chapter<span class="_ _6"></span>,<span class="_ _35"> </span>we<span class="_ _45"> </span>will <span class="_ _23"> </span>look <span class="_ _23"></span>at <span class="_ _9"></span>some <span class="_ _23"> </span>advanced <span class="_ _23"></span>IPC <span class="_ _23"></span>topics, <span class="_ _9"></span>including <span class="_ _23"></span>how <span class="_ _23"></span>we</div><div class="t m0 x32 h2a y6d8 ff19 fsf fc0 sc0 ls0 ws0">can use sockets to pass ﬁle <span class="_ _2"></span>descriptors between processes running on the same machine.</div><div class="t m0 x32 h53 yc86 ff16 fs2b fc0 sc0 ls0 ws0">Exer<span class="_ _0"></span>cises</div><div class="t m0 x32 h5f ybac ff18 fs2d fc0 sc0 ls0 ws0">16.1<span class="_ _288"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite a program to determine your system’s byte or<span class="_ _0"></span>dering.</span></span></div><div class="t m0 x32 h57 y4aea ff18 fs2d fc0 sc0 ls0 ws0">16.2<span class="_ _288"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite <span class="_ _2"></span>a <span class="_ _3"></span>program <span class="_ _2"></span>to <span class="_ _3"></span>print <span class="_ _3"></span>out <span class="_ _3"></span>which<span class="_ _66"> </span><span class="ff1a">stat<span class="_ _66"> </span></span>structur<span class="ls1393">em<span class="_ _4f"></span><span class="ls0">embers <span class="_ _2"></span>ar<span class="ls1394">es<span class="_ _4f"></span><span class="ls0">upported <span class="_ _3"></span>for <span class="_ _3"></span>sockets <span class="_ _3"></span>on</span></span></span></span></span></span></div><div class="t m0 xe1 h5f y4aeb ff19 fs2d fc0 sc0 ls0 ws0">at least two differ<span class="_ _0"></span>ent platforms, and describe how the results dif<span class="_ _0"></span>fer<span class="_ _6"></span>.</div><div class="t m0 x32 h5f y4aec ff18 fs2d fc0 sc0 ls0 ws0">16.3<span class="_ _288"> </span><span class="ff19">The <span class="_"> </span>program <span class="_"> </span>in <span class="_"> </span>Figur<span class="_ _1"></span><span class="ls1395">e1<span class="_ _c"></span><span class="ls0">6.17 <span class="_"> </span>provides <span class="_"> </span>service <span class="_ _53"> </span>on <span class="_"> </span>only <span class="_"> </span>a <span class="_"> </span>single <span class="_"> </span>endpoint.<span class="_ _51"> </span>Modify <span class="_"> </span>the</span></span></span></div><div class="t m0 xe1 h5f y4aed ff19 fs2d fc0 sc0 ls0 ws0">program <span class="_ _9"></span>to <span class="_ _23"> </span>support <span class="_ _23"> </span>service <span class="_ _23"> </span>on <span class="_ _23"> </span>multiple <span class="_ _23"> </span>endpoints <span class="_ _42"> </span>(each <span class="_ _23"></span>with <span class="_ _23"></span>a <span class="_ _23"> </span>differ<span class="_ _0"></span>ent <span class="_ _23"></span>address) <span class="_ _9"></span>at <span class="_ _23"> </span>the</div><div class="t m0 xe1 h5f y4aee ff19 fs2d fc0 sc0 ls0 ws0">same time.</div><div class="t m0 x32 h5f y4aef ff18 fs2d fc0 sc0 ls0 ws0">16.4<span class="_ _288"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite <span class="_ _3"></span>a <span class="_ _9"></span>client <span class="_ _9"></span>program <span class="_ _3"></span>and <span class="_ _9"></span>a <span class="_ _3"></span>server <span class="_ _9"></span>program <span class="_ _3"></span>to <span class="_ _9"></span>return <span class="_ _3"></span>the <span class="_ _9"></span>number <span class="_ _3"></span>of <span class="_ _9"></span>processes <span class="_ _3"></span>currently</span></span></div><div class="t m0 xe1 h5f y4af0 ff19 fs2d fc0 sc0 ls1396 ws0">ru<span class="ls0">nning on a speciﬁed host computer<span class="_ _1"></span>.</span></div><div class="t m0 x32 h57 y4af1 ff18 fs2d fc0 sc0 ls0 ws0">16.5<span class="_ _288"> </span><span class="ff19">In <span class="_"> </span>the <span class="_"> </span>program <span class="_ _53"> </span>in <span class="_"> </span>Figur<span class="ls1397">e1<span class="_ _55"></span><span class="ls0">6.18, <span class="_"> </span>the <span class="_"> </span>server <span class="_"> </span>waits <span class="_ _53"> </span>for <span class="_"> </span>the <span class="_"> </span>child <span class="_ _53"> </span>to <span class="_"> </span>execute <span class="_"> </span>the<span class="_ _44"> </span><span class="ff1a">uptime</span></span></span></span></div><div class="t m0 xe1 h5f y4af2 ff19 fs2d fc0 sc0 ls0 ws0">command <span class="_ _3"></span>and <span class="_ _3"></span>exit <span class="_ _9"></span>befor<span class="ls1398">ea<span class="_ _8"></span><span class="ls0">ccepting <span class="_ _3"></span>the <span class="_ _9"></span>next <span class="_ _3"></span>connect <span class="_ _3"></span>request. <span class="_ _47"> </span>Redesign<span class="_ _66"> </span>the <span class="_ _9"></span>server <span class="_ _3"></span>so <span class="_ _3"></span>that</span></span></div><div class="t m0 xe1 h5f y4af3 ff19 fs2d fc0 sc0 ls0 ws0">the time to service one request doesn’t delay the pr<span class="_ _0"></span>ocessing of incoming connect requests.</div><div class="t m0 x32 h5f y4af4 ff18 fs2d fc0 sc0 ls0 ws0">16.6<span class="_ _288"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite <span class="_ _2"></span>two <span class="_ _2"></span>library <span class="_ _2"></span>routines: <span class="_ _2"></span>one <span class="_ _2"></span>to <span class="_ _2"></span>enable <span class="_ _3"></span>asynchronous (signal-based) <span class="_ _3"></span>I/O <span class="_ _2"></span>on <span class="_ _2"></span>a <span class="_ _2"></span>socket <span class="_ _2"></span>and</span></span></div><div class="t m0 xe1 h5f y4af5 ff19 fs2d fc0 sc0 ls0 ws0">one <span class="_ _53"> </span>to <span class="_ _53"> </span>disable <span class="_ _53"> </span>asynchronous <span class="_ _42"> </span>I/O <span class="_ _53"> </span>on <span class="_ _53"> </span>a <span class="_ _53"> </span>socket.<span class="_ _51"> </span>Use <span class="_ _53"> </span>Figur<span class="ls1399">e1<span class="_ _43"></span><span class="ls0">6.23 <span class="_ _42"> </span>to <span class="_ _53"> </span>make <span class="_ _53"> </span>sur<span class="ls139a">et<span class="_ _c"></span><span class="ls0">hat <span class="_"> </span>the</span></span></span></span></div><div class="t m0 xe1 h5f y4af6 ff19 fs2d fc0 sc0 ls0 ws0">functions work on all platforms with as many socket types as possible.</div><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892409px;bottom:1236.288916px;width:90.803810px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
