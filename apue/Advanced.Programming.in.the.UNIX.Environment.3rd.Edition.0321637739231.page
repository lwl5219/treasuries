<div id="pfe7" class="pf w4 h1f" data-page-no="e7"><div class="pc pce7 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bge7.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x32 h47 y25f ff1e fsb fc0 sc0 ls0 ws0">7</div><div class="t m0 x32 h20 y8f ff15 fs2 fc0 sc0 ls0 ws0">Pr<span class="_ _0"></span>ocess <span class="_"> </span>En<span class="_ _6"></span>vironment</div><div class="t m0 x35 h48 y90 ff16 fs1 fc0 sc0 ls0 ws0">7.1 <span class="_ _68"> </span>Introduction</div><div class="t m0 x32 h28 y1e4 ff19 fs5 fc0 sc0 ls0 ws0">Befor<span class="ls823">el<span class="_ _8"></span><span class="ls0">ooking <span class="_ _2"></span>at <span class="_ _2"></span>the <span class="_ _2"></span>process <span class="_ _2"></span>control primitives <span class="_ _2"></span>in <span class="_ _2"></span>the <span class="_ _3"></span>next <span class="_ _2"></span>chapter<span class="_ _6"></span>,<span class="_ _47"> </span>we<span class="_ _66"> </span>need <span class="_ _2"></span>to <span class="_ _2"></span>examine</span></span></div><div class="t m0 x32 h2c y1e5 ff19 fs5 fc0 sc0 ls0 ws0">the <span class="_ _2"></span>environment <span class="_ _2"></span>of <span class="_ _2"></span>a <span class="_ _3"></span>single <span class="_ _2"></span>process. <span class="_ _47"> </span>In<span class="_ _66"> </span>this <span class="_ _3"></span>chapter<span class="_ _1"></span><span class="ls824">,w<span class="_ _8"></span><span class="ls0">e’ll <span class="_ _3"></span>see <span class="_ _2"></span>how <span class="_ _3"></span>the<span class="_ _47"> </span><span class="ff1a">main<span class="_ _47"> </span></span>function <span class="_ _2"></span>is</span></span></div><div class="t m0 x32 h28 y1e6 ff19 fs5 fc0 sc0 ls0 ws0">called <span class="_ _9"></span>when <span class="_ _9"></span>the <span class="_ _9"></span>program <span class="_ _3"></span>is <span class="_ _9"></span>executed, <span class="_ _9"></span>how <span class="_ _9"></span>command</div><div class="t m0 x172 h28 y1ac7 ff19 fs5 fc0 sc0 ls0 ws0">-</div><div class="t m0 x178 h28 y1e6 ff19 fs5 fc0 sc0 ls0 ws0">line <span class="_ _9"></span>arguments <span class="_ _3"></span>ar<span class="ls825">ep<span class="_ _b"></span><span class="ls0">assed <span class="_ _9"></span>to <span class="_ _9"></span>the</span></span></div><div class="t m0 x32 h28 y1e7 ff19 fs5 fc0 sc0 ls0 ws0">new <span class="_ _42"> </span>program, <span class="_ _23"> </span>what <span class="_ _42"> </span>the <span class="_ _42"> </span>typical <span class="_ _42"> </span>memory <span class="_ _42"> </span>layout <span class="_ _23"> </span>looks <span class="_ _42"> </span>like, <span class="_ _42"> </span>how <span class="_ _42"> </span>to <span class="_ _42"> </span>allocate <span class="_ _42"> </span>additional</div><div class="t m0 x32 h28 y1e8 ff19 fs5 fc0 sc0 ls0 ws0">memory<span class="_ _4"></span><span class="ls826">,h<span class="_ _55"></span><span class="ls0">ow <span class="_"> </span>the <span class="_ _53"> </span>process <span class="_ _53"> </span>can <span class="_"> </span>use <span class="_ _53"> </span>environment <span class="_ _53"> </span>variables, <span class="_"> </span>and <span class="_ _53"> </span>various <span class="_ _e"> </span>ways <span class="_ _e"> </span>for <span class="_ _e"> </span>the</span></span></div><div class="t m0 x32 h2c y1e9 ff19 fs5 fc0 sc0 ls0 ws0">process <span class="_ _23"></span>to <span class="_ _42"> </span>terminate.<span class="_ _51"> </span>Additionally<span class="_ _4"></span><span class="ls827">,w<span class="_ _43"></span><span class="ls0">e’ll <span class="_ _42"> </span>look <span class="_ _42"> </span>at <span class="_ _23"> </span>the<span class="_ _44"> </span><span class="ff1a">longjmp<span class="_ _35"> </span></span>and<span class="_ _35"> </span><span class="ff1a">setjmp<span class="_ _44"> </span></span>functions</span></span></div><div class="t m0 x32 h28 y1ea ff19 fs5 fc0 sc0 ls0 ws0">and <span class="_ _23"></span>their <span class="_ _23"></span>interaction <span class="_ _23"></span>with <span class="_ _23"></span>the <span class="_ _23"></span>stack.<span class="_ _51"> </span><span class="ls72">We <span class="_ _47"> </span>ﬁ<span class="_ _9"></span></span>nish <span class="_ _23"> </span>the <span class="_ _23"> </span>chapter <span class="_ _23"> </span>by <span class="_ _23"> </span>examining <span class="_ _23"> </span>the <span class="_ _23"> </span>resource</div><div class="t m0 x32 h28 y1eb ff19 fs5 fc0 sc0 ls0 ws0">limits of a process.</div><div class="t m0 x35 h94 y1ee ff16 fs1 fc0 sc0 ls0 ws0">7.2<span class="_ _72"> </span><span class="ff1f">main<span class="_ _54"> </span></span>Function</div><div class="t m0 x32 h2c y1ef ff19 fs5 fc0 sc0 ls828 ws0">ACp<span class="_ _8"></span><span class="ls16">ro<span class="_ _2"></span><span class="ls0">gram <span class="_ _3"></span>starts <span class="_ _2"></span>execution <span class="_ _3"></span>with <span class="_ _3"></span>a <span class="_ _3"></span>function <span class="_ _2"></span>called<span class="_ _47"> </span><span class="ff1a">main</span><span class="ls829">.T<span class="_ _5b"></span><span class="ls0">he <span class="_ _2"></span>prototype <span class="_ _2"></span>for <span class="_ _3"></span>the<span class="_ _47"> </span><span class="ff1a">main</span></span></span></span></span></div><div class="t m0 x32 h28 y1823 ff19 fs5 fc0 sc0 ls0 ws0">function is</div><div class="t m0 x3f h7a y1ac8 ff1a fs0 fc0 sc0 ls0 ws0">int main(int<span class="_"> </span><span class="ff1b">argc</span><span class="ls472">,c<span class="_ _1d"></span><span class="ls0">har *<span class="ff1b">argv</span>[]);</span></span></div><div class="t m0 x32 h29 y1ac9 ff19 fs5 fc0 sc0 ls0 ws0">where<span class="_ _47"> </span><span class="ff1b">argc<span class="_ _47"> </span></span>is <span class="_ _3"></span>the <span class="_ _9"></span>number <span class="_ _3"></span>of <span class="_ _9"></span>command</div><div class="t m0 x87 h28 y1aca ff19 fs5 fc0 sc0 ls0 ws0">-</div><div class="t m0 x6c h29 y1ac9 ff19 fs5 fc0 sc0 ls0 ws0">line <span class="_ _3"></span>arguments, <span class="_ _3"></span>and<span class="_ _45"> </span><span class="ff1b">argv<span class="_ _47"> </span></span>is <span class="_ _3"></span>an <span class="_ _9"></span>array <span class="_ _3"></span>of <span class="_ _9"></span>pointers</div><div class="t m0 x32 h28 y1acb ff19 fs5 fc0 sc0 ls0 ws0">to the arguments. <span class="_"> </span>W<span class="_ _4"></span><span class="ls46">ed<span class="_ _5"></span><span class="ls0">escribe these arguments in Section 7.4.</span></span></div><div class="t m0 x3f h2c y1acc ff19 fs5 fc0 sc0 ls0 ws0">When <span class="_ _2"></span>a <span class="_ _2"></span>C <span class="_ _2"></span>program is <span class="_ _2"></span>executed <span class="_ _2"></span>by <span class="_ _2"></span>the <span class="_ _2"></span>kernel<span class="_ _9"></span><span class="ls37">—b<span class="_ _1"></span><span class="ls82a">yo<span class="_ _4f"></span><span class="ls0">ne <span class="_ _2"></span>of <span class="_ _2"></span>the<span class="_ _47"> </span><span class="ff1a">exec<span class="_ _66"> </span></span>functions, <span class="_ _2"></span>which</span></span></span></div><div class="t m0 x32 h2c y1acd ff19 fs5 fc0 sc0 ls0 ws0">we <span class="_ _45"> </span>describe <span class="_ _47"> </span>in <span class="_ _45"> </span>Section <span class="_ _47"> </span>8.10<span class="_ _9"></span><span class="ls37">—a <span class="_ _53"> </span>s<span class="_ _6"></span><span class="ls0">pecial <span class="_ _45"> </span>start-up <span class="_ _47"> </span>routine <span class="_ _45"> </span>is <span class="_ _47"> </span>called <span class="_ _45"> </span>befor<span class="ls82b">et<span class="_ _26"></span><span class="ls0">he<span class="_ _5a"> </span><span class="ff1a">main</span></span></span></span></span></div><div class="t m0 x32 h28 y1ace ff19 fs5 fc0 sc0 ls0 ws0">function <span class="_ _e"> </span>is <span class="_"> </span>called.<span class="_ _65"> </span>The <span class="_"> </span>executable <span class="_ _53"> </span>program <span class="_ _e"> </span>ﬁle <span class="_ _e"> </span>speciﬁes <span class="_"> </span>this <span class="_ _53"> </span>routine <span class="_ _e"> </span>as <span class="_"> </span>the <span class="_ _53"> </span>starting</div><div class="t m0 x32 h28 y1acf ff19 fs5 fc0 sc0 ls0 ws0">address <span class="_ _9"></span>for <span class="_ _23"></span>the <span class="_ _23"></span>program; <span class="_ _9"></span>this <span class="_ _23"></span>is <span class="_ _23"></span>set <span class="_ _9"></span>up <span class="_ _23"> </span>by <span class="_ _23"> </span>the <span class="_ _23"></span>link <span class="_ _23"></span>editor <span class="_ _23"></span>when <span class="_ _9"></span>it <span class="_ _23"> </span>is <span class="_ _23"></span>invoked <span class="_ _23"></span>by <span class="_ _23"></span>the <span class="_ _9"></span>C</div><div class="t m0 x32 h28 y1ad0 ff19 fs5 fc0 sc0 ls0 ws0">compiler<span class="_ _6"></span><span class="ls82c">.T<span class="_ _95"></span><span class="ls0">his <span class="_ _35"> </span>start-up <span class="_ _45"> </span>routine <span class="_ _35"> </span>takes <span class="_ _45"> </span>values <span class="_ _35"> </span>from <span class="_ _45"> </span>the <span class="_ _35"> </span>kernel<span class="_ _9"></span><span class="ls37">—t<span class="_ _6"></span><span class="ls0">he <span class="_ _35"> </span>command</span></span></span></span></div><div class="t m0 x17d h28 y1ad1 ff19 fs5 fc0 sc0 ls0 ws0">-</div><div class="t m0 x61 h28 y1ad0 ff19 fs5 fc0 sc0 ls0 ws0">line</div><div class="t m0 x32 h2c y1ad2 ff19 fs5 fc0 sc0 ls0 ws0">arguments and the <span class="_ _2"></span>environment <span class="_ _a"></span>— <span class="_ _a"></span>and<span class="_ _66"> </span>sets <span class="_ _2"></span>things <span class="_ _2"></span>up so <span class="_ _2"></span>that <span class="_ _2"></span>the<span class="_"> </span><span class="ff1a">main<span class="_ _47"> </span></span>function is <span class="_ _2"></span>called</div><div class="t m0 x32 h28 y1ad3 ff19 fs5 fc0 sc0 ls0 ws0">as shown earlier<span class="_ _6"></span>.</div><div class="t m0 x1c0 h23 y1fa ff18 fs0 fc0 sc0 ls0 ws0">197</div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:157.497886px;bottom:975.452099px;width:246.873001px;height:134.895020px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892409px;bottom:768.826788px;width:105.755806px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.893050px;bottom:466.426788px;width:122.135490px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
