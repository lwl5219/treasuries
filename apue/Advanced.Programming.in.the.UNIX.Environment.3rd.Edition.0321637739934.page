<div id="pf3a6" class="pf w4 h1f" data-page-no="3a6"><div class="pc pc3a6 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg3a6.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">900<span class="_ _1b"> </span><span class="ff19">Miscellaneous <span class="_"> </span>Source <span class="_"> </span>Code<span class="_ _2c"> </span>Appendix <span class="_"> </span>B</span></div><div class="t m0 x8a h57 y425 ff1a fs2d fc0 sc0 ls0 ws0">va_end(ap);</div><div class="t m0 x8a h57 y426 ff1a fs2d fc0 sc0 ls0 ws0">exit(1);</div><div class="t m0 x32 h57 y800 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 yae9 ff1a fs2d fc0 sc0 ls0 ws0">/*</div><div class="t m0 x140 h57 yaea ff1a fs2d fc0 sc0 ls15c ws0">*N<span class="_ _1d"></span><span class="ls0">onfatal error unrelated to a system call.</span></div><div class="t m0 x140 h57 yaeb ff1a fs2d fc0 sc0 ls15c ws0">*E<span class="_ _1d"></span><span class="ls0">rror code passed as explict parameter.</span></div><div class="t m0 x140 h57 y16f9 ff1a fs2d fc0 sc0 ls15c ws0">*P<span class="_ _1d"></span><span class="ls0">rint a message and return.</span></div><div class="t m0 x140 h57 y16df ff1a fs2d fc0 sc0 ls0 ws0">*/</div><div class="t m0 x32 h57 y16e0 ff1a fs2d fc0 sc0 ls0 ws0">void</div><div class="t m0 x32 h57 y16e1 ff1a fs2d fc0 sc0 ls0 ws0">err_cont(int error, const char *fmt, ...)</div><div class="t m0 x32 h57 y16e2 ff1a fs2d fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a h57 y16e3 ff1a fs2d fc0 sc0 ls0 ws0">va_list <span class="_ _15"> </span>ap;</div><div class="t m0 x8a h57 y3410 ff1a fs2d fc0 sc0 ls0 ws0">va_start(ap, fmt);</div><div class="t m0 x8a h57 y3411 ff1a fs2d fc0 sc0 ls0 ws0">err_doit(1, error, fmt, ap);</div><div class="t m0 x8a h57 y3412 ff1a fs2d fc0 sc0 ls0 ws0">va_end(ap);</div><div class="t m0 x32 h57 y3811 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y3413 ff1a fs2d fc0 sc0 ls0 ws0">/*</div><div class="t m0 x140 h57 y3414 ff1a fs2d fc0 sc0 ls15c ws0">*F<span class="_ _1d"></span><span class="ls0">atal error unrelated to a system call.</span></div><div class="t m0 x140 h57 y3415 ff1a fs2d fc0 sc0 ls15c ws0">*E<span class="_ _1d"></span><span class="ls0">rror code passed as explict parameter.</span></div><div class="t m0 x140 h57 y3416 ff1a fs2d fc0 sc0 ls15c ws0">*P<span class="_ _1d"></span><span class="ls0">rint a message and terminate.</span></div><div class="t m0 x140 h57 y3417 ff1a fs2d fc0 sc0 ls0 ws0">*/</div><div class="t m0 x32 h57 y3418 ff1a fs2d fc0 sc0 ls0 ws0">void</div><div class="t m0 x32 h57 y16ed ff1a fs2d fc0 sc0 ls0 ws0">err_exit(int error, const char *fmt, ...)</div><div class="t m0 x32 h57 y3c31 ff1a fs2d fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a h57 y3380 ff1a fs2d fc0 sc0 ls0 ws0">va_list <span class="_ _15"> </span>ap;</div><div class="t m0 x8a h57 y131f ff1a fs2d fc0 sc0 ls0 ws0">va_start(ap, fmt);</div><div class="t m0 x8a h57 y1320 ff1a fs2d fc0 sc0 ls0 ws0">err_doit(1, error, fmt, ap);</div><div class="t m0 x8a h57 y1321 ff1a fs2d fc0 sc0 ls0 ws0">va_end(ap);</div><div class="t m0 x8a h57 y1322 ff1a fs2d fc0 sc0 ls0 ws0">exit(1);</div><div class="t m0 x32 h57 y3419 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y16f0 ff1a fs2d fc0 sc0 ls0 ws0">/*</div><div class="t m0 x140 h57 y16f1 ff1a fs2d fc0 sc0 ls15c ws0">*F<span class="_ _1d"></span><span class="ls0">atal error related to a system call.</span></div><div class="t m0 x140 h57 y16f2 ff1a fs2d fc0 sc0 ls15c ws0">*P<span class="_ _1d"></span><span class="ls0">rint a message, dump core, and terminate.</span></div><div class="t m0 x140 h57 y335b ff1a fs2d fc0 sc0 ls0 ws0">*/</div><div class="t m0 x32 h57 y335c ff1a fs2d fc0 sc0 ls0 ws0">void</div><div class="t m0 x32 h57 y335d ff1a fs2d fc0 sc0 ls0 ws0">err_dump(const char *fmt, ...)</div><div class="t m0 x32 h57 y335e ff1a fs2d fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a h57 y335f ff1a fs2d fc0 sc0 ls0 ws0">va_list <span class="_ _15"> </span>ap;</div><div class="t m0 x8a h57 y5fba ff1a fs2d fc0 sc0 ls0 ws0">va_start(ap, fmt);</div><div class="t m0 x8a h57 y5fbb ff1a fs2d fc0 sc0 ls0 ws0">err_doit(1, errno, fmt, ap);</div><div class="t m0 x8a h57 y5fbc ff1a fs2d fc0 sc0 ls0 ws0">va_end(ap);</div><div class="t m0 x8a h57 y53b5 ff1a fs2d fc0 sc0 ls0 ws0">abort(); <span class="_ _b7"> </span>/*<span class="_"> </span>dump core and terminate */</div><div class="t m0 x8a h57 y5134 ff1a fs2d fc0 sc0 ls0 ws0">exit(1); <span class="_ _b7"> </span>/*<span class="_"> </span>shouldnâ€™t get here */</div><div class="t m0 x32 h57 y5135 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y3aec ff1a fs2d fc0 sc0 ls0 ws0">/*</div><div class="t m0 x140 h57 y3aed ff1a fs2d fc0 sc0 ls15c ws0">*N<span class="_ _1d"></span><span class="ls0">onfatal error unrelated to a system call.</span></div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
