<div id="pf39" class="pf w4 h1f" data-page-no="39"><div class="pc pc39 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg39.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>1.12<span class="_ _97"> </span>Summary<span class="_ _1b"> </span><span class="ff18">23</span></div><div class="t m0 x77 h51 y551 ff19 fs2a fc0 sc0 ls0 ws0">application</div><div class="t m0 x93 h51 y552 ff19 fs2a fc0 sc0 ls0 ws0">code</div><div class="t m0 xc7 h2d y553 ff19 fs10 fc0 sc0 ls136 ws0">Cl<span class="_ _84"></span><span class="ls0">ibrary</span></div><div class="t m0 xf h2d y554 ff19 fs10 fc0 sc0 ls0 ws0">functions</div><div class="t m0 x86 h2e y555 ff19 fs11 fc0 sc0 ls0 ws0">system calls</div><div class="t m0 xc8 h2f y556 ff19 fs12 fc0 sc0 ls0 ws0">kernel</div><div class="t m0 xc9 h30 y557 ff19 fs13 fc0 sc0 ls0 ws0">user process</div><div class="t m0 xb9 h35 y558 ff18 fs18 fc0 sc0 ls0 ws0">Figure 1.12<span class="_ _5a"> </span><span class="ff19">Difference between C library functions and system calls</span></div><div class="t m0 x32 h69 y559 ff19 fs34 fc0 sc0 ls0 ws0">we <span class="_ _9"></span>compar<span class="ls1db">et<span class="_ _b"></span><span class="ls0">he <span class="_ _3"></span>unbuffered <span class="_ _3"></span>I/O <span class="_ _9"></span>functions <span class="_ _23"></span>(Chapter <span class="_ _9"></span>3) <span class="_ _9"></span>and <span class="_ _9"></span>the <span class="_ _9"></span>standar<span class="ls1dc">dI<span class="_ _b"></span><span class="ls0">/O <span class="_ _3"></span>functions</span></span></span></span></div><div class="t m0 x32 h69 y55a ff19 fs34 fc0 sc0 ls0 ws0">(Chapter 5).</div><div class="t m0 x3f h6a y55b ff19 fs34 fc0 sc0 ls0 ws0">The <span class="_ _23"></span>pr<span class="_ _0"></span>ocess <span class="_ _23"></span>contr<span class="_ _0"></span>ol <span class="_ _23"></span>system <span class="_ _9"></span>calls <span class="_ _23"> </span>(<span class="ff1a">fork</span>,<span class="_ _35"> </span><span class="ff1a">exec</span><span class="ls1dd">,a<span class="_ _43"></span><span class="ls0">nd<span class="_ _35"> </span><span class="ff1a">waitpid</span><span class="ls1de">)a<span class="_ _b"></span><span class="ls1df">re <span class="_ _23"></span>u<span class="ls0">sually <span class="_ _23"> </span>invoked</span></span></span></span></span></div><div class="t m0 x32 h69 y55c ff19 fs34 fc0 sc0 ls0 ws0">by <span class="_ _9"></span>the <span class="_ _9"></span>user<span class="_ _9"></span>’s <span class="_ _9"></span>application <span class="_ _9"></span>code <span class="_ _9"></span>directly<span class="_ _4"></span><span class="ls1e0">.(<span class="_ _26"></span><span class="ls0">Recall <span class="_ _23"></span>the <span class="_ _3"></span>bare-bones <span class="_ _9"></span>shell <span class="_ _9"></span>in <span class="_ _9"></span>Figur<span class="ls1e1">e1<span class="_ _b"></span><span class="ls0">.7.) <span class="_ _45"> </span>But</span></span></span></span></div><div class="t m0 x32 h6a y55d ff19 fs34 fc0 sc0 ls0 ws0">some <span class="_ _23"></span>library <span class="_ _23"></span>r<span class="_ _0"></span>outines <span class="_ _23"></span>exist <span class="_ _23"></span>to <span class="_ _9"></span>simplify <span class="_ _23"> </span>certain <span class="_ _23"> </span>common <span class="_ _23"> </span>cases: <span class="_ _23"></span>the<span class="_ _35"> </span><span class="ff1a">system<span class="_ _45"> </span></span>and<span class="_ _35"> </span><span class="ff1a">popen</span></div><div class="t m0 x32 h69 y55e ff19 fs34 fc0 sc0 ls0 ws0">library <span class="_ _e"> </span>routines, <span class="_ _53"> </span>for <span class="_"> </span>example.<span class="_ _65"> </span>In <span class="_ _e"> </span>Section <span class="_ _e"> </span>8.13, <span class="_"> </span>we’ll <span class="_ _53"> </span>show <span class="_ _e"> </span>an <span class="_"> </span>implementation <span class="_ _53"> </span>of <span class="_ _e"> </span>the</div><div class="t m0 x32 h6a y55f ff1a fs34 fc0 sc0 ls0 ws0">system<span class="_ _66"> </span><span class="ff19">function <span class="_ _3"></span>that <span class="_ _2"></span>invokes <span class="_ _3"></span>the <span class="_ _2"></span>basic <span class="_ _2"></span>process <span class="_ _2"></span>control <span class="_ _2"></span>system <span class="_ _2"></span>calls.<span class="_ _16"> </span><span class="ls1e2">We<span class="_ _9"></span></span>’ll <span class="_ _2"></span>enhance <span class="_ _3"></span>this</span></div><div class="t m0 x32 h69 y560 ff19 fs34 fc0 sc0 ls0 ws0">example in Section 10.18 to handle signals correctly<span class="_ _4"></span>.</div><div class="t m0 x3f h69 y561 ff19 fs34 fc0 sc0 ls1e2 ws0">To <span class="_ _e"> </span>d<span class="_ _23"></span><span class="ls0">eﬁne <span class="_ _2"></span>the <span class="_ _2"></span>interface <span class="_ _3"></span>to <span class="_ _2"></span>the <span class="_ _3"></span>UNIX <span class="_ _3"></span>System <span class="_ _2"></span>that <span class="_ _3"></span>most <span class="_ _2"></span>programmers <span class="_ _2"></span>use, <span class="_ _3"></span>we <span class="_ _2"></span>have <span class="_ _3"></span>to</span></div><div class="t m0 x32 h69 y562 ff19 fs34 fc0 sc0 ls0 ws0">describe <span class="_ _9"></span>both <span class="_ _9"></span>the <span class="_ _9"></span>system <span class="_ _9"></span>calls <span class="_ _23"></span>and <span class="_ _9"></span>some <span class="_ _9"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>library <span class="_ _9"></span>functions.<span class="_ _5a"> </span>If <span class="_ _9"></span>we <span class="_ _9"></span>described <span class="_ _23"></span>only</div><div class="t m0 x32 h6a y563 ff19 fs34 fc0 sc0 ls0 ws0">the<span class="_ _61"> </span><span class="ff1a">sbrk<span class="_ _61"> </span></span>system <span class="_ _66"> </span>call, <span class="_ _47"> </span>for <span class="_ _66"> </span>example, <span class="_ _47"> </span>we <span class="_ _66"> </span>would <span class="_ _47"> </span>skip <span class="_ _47"> </span>the <span class="_ _66"> </span>mor<span class="ls1e3">ep<span class="_ _1d"></span><span class="ls1df">ro<span class="_ _2"></span><span class="ls0">grammer-friendly</span></span></span></div><div class="t m0 x32 h6a y564 ff1a fs34 fc0 sc0 ls0 ws0">malloc<span class="_ _44"> </span><span class="ff19">library <span class="_ _42"> </span>function <span class="_ _53"> </span>that <span class="_ _53"> </span>many <span class="_ _42"> </span>applications <span class="_ _53"> </span>use.<span class="_ _54"> </span>In <span class="_ _53"> </span>this <span class="_ _42"> </span>text, <span class="_ _53"> </span>we’ll <span class="_ _53"> </span>use <span class="_ _42"> </span>the <span class="_ _53"> </span>term</span></div><div class="t m0 x32 h6b y565 ff1b fs34 fc0 sc0 ls0 ws0">function<span class="_"> </span><span class="ff19">to refer to both system calls and library functions, except when the distinction is</span></div><div class="t m0 x32 h69 y566 ff19 fs34 fc0 sc0 ls0 ws0">necessary<span class="_ _4"></span>.</div><div class="t m0 x35 h6c y567 ff16 fs35 fc0 sc0 ls0 ws0">1.12 <span class="_ _93"> </span>Summary</div><div class="t m0 x32 h69 y568 ff19 fs34 fc0 sc0 ls0 ws0">This <span class="_ _9"></span>chapter <span class="_ _9"></span>has <span class="_ _9"></span>provided <span class="_ _9"></span>a <span class="_ _9"></span>short <span class="_ _9"></span>tour <span class="_ _23"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>UNIX <span class="_ _9"></span>System.<span class="_ _5a"> </span><span class="ls1e2">We<span class="_ _9"></span></span>’ve <span class="_ _9"></span>described <span class="_ _9"></span>some <span class="_ _23"></span>of</div><div class="t m0 x32 h69 y569 ff19 fs34 fc0 sc0 ls0 ws0">the <span class="_ _2"></span>fundamental <span class="_ _2"></span>terms <span class="_ _2"></span>that we’ll <span class="_ _2"></span>encounter <span class="_ _2"></span>over <span class="_ _2"></span>and <span class="_ _2"></span>over <span class="_ _2"></span>again.<span class="_ _61"> </span><span class="ls1e2">We<span class="_ _9"></span></span>’ve <span class="_ _2"></span>seen <span class="_ _2"></span>numerous</div><div class="t m0 x32 h69 y56a ff19 fs34 fc0 sc0 ls0 ws0">small <span class="_ _9"></span>examples <span class="_ _9"></span>of <span class="_ _9"></span>UNIX <span class="_ _9"></span>programs <span class="_ _3"></span>to <span class="_ _23"></span>give <span class="_ _3"></span>us <span class="_ _23"></span>a <span class="_ _3"></span>feel <span class="_ _23"></span>for <span class="_ _3"></span>what <span class="_ _9"></span>the <span class="_ _23"></span>remainder <span class="_ _3"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>text</div><div class="t m0 x32 h69 y56b ff19 fs34 fc0 sc0 ls0 ws0">talks about.</div><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.895149px;bottom:235.013107px;width:90.805497px;height:19.679992px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
