<div id="pfae" class="pf w4 h1f" data-page-no="ae"><div class="pc pcae w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bgae.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">140<span class="_ _1b"> </span><span class="ff19">Files <span class="_"> </span>and <span class="_"> </span>Directories <span class="_ _18d"> </span>Chapter<span class="_ _4b"> </span>4</span></div><div class="t m0 x35 h53 y12f ff16 fs2b fc0 sc0 ls0 ws0">4.25 <span class="_ _93"> </span>Summary<span class="_ _54"> </span>of<span class="_ _54"> </span>File <span class="_"> </span>Access <span class="_"> </span>Permission <span class="_"> </span>Bits</div><div class="t m0 x32 h2a y1403 ff19 fsf fc0 sc0 ls5f ws0">We<span class="_ _9"></span><span class="ls0">’ve <span class="_ _35"> </span>covered <span class="_ _45"> </span>all <span class="_ _35"> </span>the <span class="_ _45"> </span>ﬁle <span class="_ _35"> </span>access <span class="_ _35"> </span>permission <span class="_ _35"> </span>bits, <span class="_ _45"> </span>some <span class="_ _35"> </span>of <span class="_ _35"> </span>which <span class="_ _45"> </span>serve <span class="_ _35"> </span>multiple</span></div><div class="t m0 x32 h2a y1404 ff19 fsf fc0 sc0 ls0 ws0">purposes. <span class="_ _45"> </span>Figur<span class="_ _0"></span><span class="ls60f">e4<span class="_ _b"></span><span class="ls0">.26 <span class="_ _9"></span>summarizes <span class="_ _9"></span>these <span class="_ _9"></span>permission <span class="_ _3"></span>bits <span class="_ _9"></span>and <span class="_ _9"></span>their <span class="_ _9"></span>interpretation <span class="_ _3"></span>when</span></span></div><div class="t m0 x32 h2a y1405 ff19 fsf fc0 sc0 ls0 ws0">applied to a regular ﬁle and a dir<span class="_ _0"></span>ectory<span class="_ _4"></span>.</div><div class="t m0 x1bc h2d y1406 ff19 fs10 fc0 sc0 ls0 ws0">Constant <span class="_ _1c3"> </span>Description<span class="_ _a1"> </span>Effect on regular ﬁle<span class="_ _a6"> </span>Effect on directory</div><div class="t m0 x1bd h4f y1407 ff1a fs11 fc0 sc0 ls0 ws0">S_ISUID<span class="_ _6e"> </span><span class="ff19">set-user-ID<span class="_ _1c4"> </span>set effective user ID on execution<span class="_ _18"> </span>(not used)</span></div><div class="t m0 x1bd h4f y1408 ff1a fs11 fc0 sc0 ls0 ws0">S_ISGID<span class="_ _6e"> </span><span class="ff19">set-group-ID<span class="_ _1c5"> </span>if group-execute set, then set</span></div><div class="t m0 xa6 h2e y1409 ff19 fs11 fc0 sc0 ls0 ws0">effective gr<span class="_ _0"></span>oup ID on execution;</div><div class="t m0 xa6 h2e y140a ff19 fs11 fc0 sc0 ls0 ws0">otherwise, enable mandatory</div><div class="t m0 xa6 h2e y140b ff19 fs11 fc0 sc0 ls293 ws0">re<span class="ls0">cor<span class="lsdb">dl<span class="_ _84"></span><span class="ls0">ocking (if supported)</span></span></span></div><div class="t m0 x178 h2e y1408 ff19 fs11 fc0 sc0 ls0 ws0">set group ID of new ﬁles cr<span class="_ _0"></span>eated in</div><div class="t m0 x101 h2e y1409 ff19 fs11 fc0 sc0 ls0 ws0">directory to gr<span class="_ _0"></span>oup ID of directory</div><div class="t m0 x1bd h6d y140c ff1a fs12 fc0 sc0 ls0 ws0">S_ISVTX<span class="_ _6e"> </span><span class="ff19">sticky bit<span class="_ _136"> </span>control caching of ﬁle contents</span></div><div class="t m0 xa6 h2f y140d ff19 fs12 fc0 sc0 ls0 ws0">(if supported)</div><div class="t m0 x178 h2f y140c ff19 fs12 fc0 sc0 ls222 ws0">re<span class="ls0">strict removal and renaming of ﬁles in</span></div><div class="t m0 x101 h2f y140d ff19 fs12 fc0 sc0 ls0 ws0">directory</div><div class="t m0 x1bd h63 y140e ff1a fs13 fc0 sc0 ls0 ws0">S_IRUSR<span class="_ _6e"> </span><span class="ff19">user-r<span class="_ _0"></span>ead<span class="_ _1ad"> </span>user permission to read ﬁle<span class="_ _1c6"> </span>user permission to read dir<span class="_ _0"></span>ectory</span></div><div class="t m0 x101 h30 y140f ff19 fs13 fc0 sc0 ls0 ws0">entries</div><div class="t m0 x1bd h63 y1410 ff1a fs13 fc0 sc0 ls0 ws0">S_IWUSR<span class="_ _6e"> </span><span class="ff19">user-write<span class="_ _6c"> </span>user permission to write ﬁle<span class="_ _1e"> </span>user permission to r<span class="_ _0"></span>emove and create</span></div><div class="t m0 x101 h30 y1411 ff19 fs13 fc0 sc0 ls0 ws0">ﬁles in directory</div><div class="t m0 x1bd h63 y1412 ff1a fs13 fc0 sc0 ls0 ws0">S_IXUSR<span class="_ _6e"> </span><span class="ff19">user-execute<span class="_ _1b"> </span>user permission to execute ﬁle<span class="_ _1c7"> </span>user permission to search for given</span></div><div class="t m0 x101 h30 y1413 ff19 fs13 fc0 sc0 ls0 ws0">pathname in directory</div><div class="t m0 x1bd h6f y1414 ff1a fs14 fc0 sc0 ls0 ws0">S_IRGRP<span class="_ _6e"> </span><span class="ff19">group-r<span class="_ _0"></span>ead<span class="_ _12b"> </span>group permission to read ﬁle<span class="_ _17a"> </span>gr<span class="_ _1"></span>oup permission to read directory</span></div><div class="t m0 x101 h31 y1415 ff19 fs14 fc0 sc0 ls0 ws0">entries</div><div class="t m0 x1bd h6f y1416 ff1a fs14 fc0 sc0 ls0 ws0">S_IWGRP<span class="_ _6e"> </span><span class="ff19">group-write<span class="_ _170"> </span>group permission to write ﬁle<span class="_ _9f"> </span>group permission to remove and cr<span class="_ _0"></span>eate</span></div><div class="t m0 x101 h31 y1417 ff19 fs14 fc0 sc0 ls0 ws0">ﬁles in directory</div><div class="t m0 x1bd h6f y1418 ff1a fs14 fc0 sc0 ls0 ws0">S_IXGRP<span class="_ _6e"> </span><span class="ff19">group-execute<span class="_ _6e"> </span>gr<span class="_ _0"></span>oup permission to execute ﬁle<span class="_ _c0"> </span>group permission to search for given</span></div><div class="t m0 x101 h31 y1419 ff19 fs14 fc0 sc0 ls0 ws0">pathname in directory</div><div class="t m0 x1bd h66 y141a ff1a fs15 fc0 sc0 ls0 ws0">S_IROTH<span class="_ _6e"> </span><span class="ff19">other-r<span class="_ _0"></span>ead<span class="_ _dc"> </span>other permission to r<span class="_ _0"></span>ead ﬁle<span class="_ _77"> </span>other permission to read directory</span></div><div class="t m0 x101 h32 y141b ff19 fs15 fc0 sc0 ls0 ws0">entries</div><div class="t m0 x1bd h66 y141c ff1a fs15 fc0 sc0 ls0 ws0">S_IWOTH<span class="_ _6e"> </span><span class="ff19">other-write<span class="_ _12b"> </span>other permission to write ﬁle<span class="_ _17a"> </span>other permission to remove and cr<span class="_ _0"></span>eate</span></div><div class="t m0 x101 h32 y141d ff19 fs15 fc0 sc0 ls0 ws0">ﬁles in directory</div><div class="t m0 x1bd h66 y141e ff1a fs15 fc0 sc0 ls0 ws0">S_IXOTH<span class="_ _6e"> </span><span class="ff19">other-execute<span class="_ _2b"> </span>other permission to execute ﬁle<span class="_ _10b"> </span>other permission to search for given</span></div><div class="t m0 x101 h32 y141f ff19 fs15 fc0 sc0 ls0 ws0">pathname in directory</div><div class="t m0 x161 h33 y1420 ff18 fs16 fc0 sc0 ls0 ws0">Figure 4.26<span class="_ _5a"> </span><span class="ff19">Summary of ﬁle access permission bits</span></div><div class="t m0 x32 hc5 y1421 ff19 fs6a fc0 sc0 ls0 ws0">The ﬁnal nine constants can also be grouped into thr<span class="_ _0"></span>ees, as follows:</div><div class="t m0 x3f hc6 y1422 ff1a fs6b fc0 sc0 ls0 ws0">S_IRWXU = S_IRUSR | S_IWUSR | S_IXUSR</div><div class="t m0 x3f hc6 y1423 ff1a fs6b fc0 sc0 ls0 ws0">S_IRWXG = S_IRGRP | S_IWGRP | S_IXGRP</div><div class="t m0 x3f hc6 y1424 ff1a fs6b fc0 sc0 ls0 ws0">S_IRWXO = S_IROTH | S_IWOTH | S_IXOTH</div><div class="t m0 x35 hc7 y1425 ff16 fs6c fc0 sc0 ls0 ws0">4.26 <span class="_ _93"> </span>Summary</div><div class="t m0 x32 hc8 y1426 ff19 fs6a fc0 sc0 ls0 ws0">This <span class="_ _9"></span>chapter <span class="_ _9"></span>has <span class="_ _9"></span>centered <span class="_ _3"></span>on <span class="_ _9"></span>the<span class="_ _45"> </span><span class="ff1a">stat<span class="_ _45"> </span></span>function. <span class="_ _45"> </span>W<span class="_ _6"></span>e’ve <span class="_ _9"></span>gone <span class="_ _9"></span>through <span class="_ _9"></span>each <span class="_ _9"></span>member <span class="_ _9"></span>in</div><div class="t m0 x32 hc8 y1427 ff19 fs6a fc0 sc0 ls0 ws0">the<span class="_ _47"> </span><span class="ff1a">stat<span class="_ _45"> </span></span>structur<span class="_ _1"></span>e<span class="_ _45"> </span>in<span class="_ _47"> </span>detail. <span class="_ _47"> </span>This,<span class="_ _45"> </span>in <span class="_ _3"></span>turn, <span class="_ _3"></span>led <span class="_ _3"></span>us <span class="_ _9"></span>to <span class="_ _3"></span>examine <span class="_ _3"></span>all <span class="_ _3"></span>the <span class="_ _9"></span>attributes <span class="_ _3"></span>of <span class="_ _3"></span>UNIX</div><div class="t m0 x32 hc5 y1428 ff19 fs6a fc0 sc0 ls0 ws0">ﬁles and directories. <span class="_"> </span>W<span class="_ _6"></span>e’ve looked at how ﬁles and <span class="_ _2"></span>directories might be laid out in a ﬁle</div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892409px;bottom:1236.288916px;width:285.191795px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.894941px;bottom:216.657011px;width:90.804604px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
