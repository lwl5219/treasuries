<div id="pf19b" class="pf w4 h1f" data-page-no="19b"><div class="pc pc19b w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg19b.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>10.21<span class="_ _282"> </span>Job-Control <span class="_"> </span>Signals<span class="_ _1fb"> </span><span class="ff18">377</span></div><div class="t m0 x76 h52 y2a3 ff19 fs2a fc0 sc0 ls0 ws0">Mac <span class="_ _3"></span>OS <span class="_ _3"></span>X <span class="_ _3"></span>10.6.8 <span class="_ _3"></span>doesn’t <span class="_ _9"></span>support<span class="_ _80"> </span><span class="ff1a">sigqueue<span class="_ _66"> </span></span>or <span class="_ _3"></span>real-time <span class="_ _3"></span>signals.<span class="_ _4b"> </span>On <span class="_ _9"></span>Solaris <span class="_ _3"></span>10,<span class="_ _80"> </span><span class="ff1a">sigqueue<span class="_ _66"> </span></span>is</div><div class="t m0 x76 h52 y2a4 ff19 fs2a fc0 sc0 ls0 ws0">in the real-time library<span class="_ _4"></span>,<span class="_"> </span><span class="ff1a">librt</span>.</div><div class="t m0 x35 h53 y303f ff16 fs2b fc0 sc0 ls0 ws0">10.21 <span class="_ _66"> </span>Job-Control <span class="_"> </span>Signals</div><div class="t m0 x32 h2a y3040 ff19 fsf fc0 sc0 ls0 ws0">Of the signals shown in Figur<span class="ls44">e1<span class="_ _4f"></span><span class="ls0">0.1, POSIX.1 considers six to be job-control signals:</span></span></div><div class="t m0 x3f h26 y3041 ff1a fsf fc0 sc0 ls0 ws0">SIGCHLD<span class="_ _6e"> </span><span class="ff19">Child pr<span class="_ _0"></span>ocess has stopped or terminated.</span></div><div class="t m0 x3f h26 y3042 ff1a fsf fc0 sc0 ls0 ws0">SIGCONT<span class="_ _6e"> </span><span class="ff19">Continue pr<span class="_ _0"></span>ocess, if stopped.</span></div><div class="t m0 x3f h26 y3043 ff1a fsf fc0 sc0 ls0 ws0">SIGSTOP<span class="_ _6e"> </span><span class="ff19">Stop signal (can’t be caught or ignor<span class="_ _0"></span>ed).</span></div><div class="t m0 x3f h26 y3044 ff1a fsf fc0 sc0 ls0 ws0">SIGTSTP<span class="_ _6e"> </span><span class="ff19">Interactive stop signal.</span></div><div class="t m0 x3f h26 y3045 ff1a fsf fc0 sc0 ls0 ws0">SIGTTIN<span class="_ _6e"> </span><span class="ff19">Read fr<span class="_ _0"></span>om contr<span class="_ _0"></span>olling terminal by background pr<span class="_ _0"></span>ocess group member<span class="_ _6"></span>.</span></div><div class="t m0 x3f h26 y29b2 ff1a fsf fc0 sc0 ls0 ws0">SIGTTOU<span class="_ _6e"> </span><span class="ff19 lsb4">Wr<span class="_ _3"></span><span class="ls0">ite to controlling terminal by a backgr<span class="_ _0"></span>ound process gr<span class="_ _1"></span>oup member<span class="_ _1"></span>.</span></span></div><div class="t m0 x3f h26 y3046 ff19 fsf fc0 sc0 ls0 ws0">Except <span class="_ _44"> </span>for<span class="_ _54"> </span><span class="ff1a">SIGCHLD</span><span class="lsd43">,m<span class="_ _52"></span><span class="ls0">ost <span class="_ _44"> </span>application <span class="_ _4b"> </span>programs <span class="_ _44"> </span>don’t <span class="_ _44"> </span>handle <span class="_ _44"> </span>these <span class="_ _44"> </span>signals:</span></span></div><div class="t m0 x32 h2a y29b4 ff19 fsf fc0 sc0 ls0 ws0">interactive <span class="_ _9"></span>shells <span class="_ _9"></span>usually <span class="_ _23"></span>do <span class="_ _9"></span>all <span class="_ _9"></span>the <span class="_ _23"></span>work <span class="_ _9"></span>requir<span class="_ _0"></span>ed <span class="_ _9"></span>to <span class="_ _23"></span>handle <span class="_ _9"></span>them.<span class="_ _5a"> </span>When <span class="_ _9"></span>we <span class="_ _23"></span>type <span class="_ _9"></span>the</div><div class="t m0 x32 h2a y3047 ff19 fsf fc0 sc0 ls0 ws0">suspend <span class="_ _44"> </span>character <span class="_ _4b"> </span>(usually <span class="_ _44"> </span>Control</div><div class="t m0 x17 h2a y3048 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x1f2 h26 y3047 ff19 fsf fc0 sc0 ls0 ws0">Z),<span class="_ _54"> </span><span class="ff1a">SIGTSTP<span class="_ _65"> </span></span>is <span class="_ _4b"> </span>sent <span class="_ _44"> </span>to <span class="_ _4b"> </span>all <span class="_ _44"> </span>processes <span class="_ _44"> </span>in <span class="_ _4b"> </span>the</div><div class="t m0 x32 h2a y3049 ff19 fsf fc0 sc0 ls0 ws0">foregr<span class="_ _0"></span>ound <span class="_ _2"></span>process <span class="_ _3"></span>group. <span class="_ _66"> </span>When<span class="_ _45"> </span>we <span class="_ _2"></span>tell <span class="_ _3"></span>the <span class="_ _3"></span>shell <span class="_ _3"></span>to <span class="_ _3"></span>resume <span class="_ _3"></span>a <span class="_ _3"></span>job <span class="_ _3"></span>in <span class="_ _3"></span>the <span class="_ _3"></span>foregr<span class="_ _0"></span>ound <span class="_ _2"></span>or</div><div class="t m0 x32 h26 y304a ff19 fsf fc0 sc0 ls0 ws0">background, the shell sends <span class="_ _2"></span>all the <span class="_ _2"></span>processes in the job <span class="_ _2"></span>the<span class="_"> </span><span class="ff1a">SIGCONT<span class="_ _66"> </span></span>signal. <span class="_ _66"> </span>Similarly<span class="_ _6"></span><span class="ls1f7">,i<span class="_ _4f"></span><span class="ls0">f</span></span></div><div class="t m0 x32 h26 y304b ff1a fsf fc0 sc0 ls0 ws0">SIGTTIN<span class="_ _45"> </span><span class="ff19">or<span class="_ _45"> </span></span>SIGTTOU<span class="_ _47"> </span><span class="ff19">is <span class="_ _9"></span>delivered <span class="_ _9"></span>to <span class="_ _9"></span>a <span class="_ _9"></span>process, <span class="_ _3"></span>the <span class="_ _9"></span>process <span class="_ _3"></span>is <span class="_ _9"></span>stopped <span class="_ _9"></span>by <span class="_ _9"></span>default, <span class="_ _9"></span>and</span></div><div class="t m0 x32 h2a y304c ff19 fsf fc0 sc0 ls0 ws0">the job-control shell r<span class="_ _0"></span>ecognizes this and notiﬁes us.</div><div class="t m0 x3f h26 y304d ff19 fsf fc0 sc0 ls0 ws0">An <span class="_"> </span>exception <span class="_"> </span>is <span class="_"> </span>a <span class="_"> </span>process <span class="_"> </span>that <span class="_"> </span>is <span class="_"> </span>managing <span class="_"> </span>the <span class="_"> </span>terminal<span class="_ _3"></span><span class="ls9d">—t<span class="_ _1"></span><span class="ls0">he<span class="_ _46"> </span><span class="ff1a">vi</span></span></span></div><div class="t m0 x1cc h2a y304e ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 xb3 h2a y304d ff19 fsf fc0 sc0 ls0 ws0">1</div><div class="t m0 x1d4 h2a y304e ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x18a h2a y304d ff19 fsf fc0 sc0 ls0 ws0">editor<span class="_ _6"></span><span class="lsd44">,f<span class="_ _4a"></span><span class="ls0">or</span></span></div><div class="t m0 x32 h2a y304f ff19 fsf fc0 sc0 ls0 ws0">example. <span class="_ _47"> </span>It<span class="_ _47"> </span>needs <span class="_ _3"></span>to <span class="_ _9"></span>know <span class="_ _3"></span>when <span class="_ _3"></span>the <span class="_ _3"></span>user <span class="_ _3"></span>wants <span class="_ _3"></span>to <span class="_ _9"></span>suspend <span class="_ _3"></span>it <span class="_ _3"></span>so <span class="_ _3"></span>that <span class="_ _3"></span>it <span class="_ _3"></span>can <span class="_ _9"></span>restor<span class="_ _0"></span><span class="ls460">et<span class="_ _8"></span><span class="ls0">he</span></span></div><div class="t m0 x32 h26 y3050 ff19 fsf fc0 sc0 ls0 ws0">terminal’s <span class="_ _9"></span>state <span class="_ _23"></span>to <span class="_ _9"></span>the <span class="_ _23"> </span>way <span class="_ _23"></span>it <span class="_ _9"></span>was <span class="_ _23"></span>when<span class="_ _45"> </span><span class="ff1a">vi<span class="_ _35"> </span></span>was <span class="_ _9"></span>started.<span class="_ _5a"> </span>Also, <span class="_ _23"> </span>when <span class="_ _23"></span>it <span class="_ _9"></span>resumes <span class="_ _9"></span>in <span class="_ _23"></span>the</div><div class="t m0 x32 h26 y482 ff19 fsf fc0 sc0 ls0 ws0">foregr<span class="_ _0"></span>ound, the<span class="_ _66"> </span><span class="ff1a">vi<span class="_ _66"> </span></span>editor <span class="_ _2"></span>needs <span class="_ _2"></span>to <span class="_ _2"></span>set the <span class="_ _2"></span>terminal <span class="_ _2"></span>state <span class="_ _2"></span>back <span class="_ _2"></span>to the <span class="_ _2"></span>way <span class="_ _2"></span>it <span class="_ _2"></span>wants it, <span class="_ _2"></span>and</div><div class="t m0 x32 h26 y3051 ff19 fsf fc0 sc0 ls0 ws0">it <span class="_ _3"></span>needs <span class="_ _3"></span>to <span class="_ _3"></span>redraw <span class="_ _3"></span>the <span class="_ _3"></span>terminal <span class="_ _9"></span>screen. <span class="_ _66"> </span>W<span class="_ _6"></span><span class="lsd45">es<span class="_ _8"></span><span class="ls0">ee <span class="_ _9"></span>how <span class="_ _3"></span>a <span class="_ _3"></span>program <span class="_ _3"></span>such <span class="_ _3"></span>as<span class="_ _47"> </span><span class="ff1a">vi<span class="_ _45"> </span></span>handles <span class="_ _3"></span>this</span></span></div><div class="t m0 x32 h2a y3052 ff19 fsf fc0 sc0 ls0 ws0">in the example that follows.</div><div class="t m0 x3f h2a y3053 ff19 fsf fc0 sc0 ls0 ws0">Ther<span class="lsd46">ea<span class="_ _b"></span><span class="ls45">re <span class="_ _23"></span>s<span class="ls0">ome <span class="_ _9"></span>interactions <span class="_ _3"></span>between <span class="_ _9"></span>the <span class="_ _9"></span>job-control <span class="_ _3"></span>signals.<span class="_ _5a"> </span>When <span class="_ _3"></span>any <span class="_ _9"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>four</span></span></span></div><div class="t m0 x32 h26 y3054 ff19 fsf fc0 sc0 ls0 ws0">stop <span class="_ _42"> </span>signals <span class="_ _42"> </span>(<span class="ff1a">SIGTSTP</span>,<span class="_ _35"> </span><span class="ff1a">SIGSTOP</span>,<span class="_ _44"> </span><span class="ff1a">SIGTTIN</span><span class="lsd47">,o<span class="_ _43"></span><span class="ls0">r<span class="_ _35"> </span><span class="ff1a">SIGTTOU</span>)<span class="_ _44"> </span>is<span class="_ _44"> </span>generated <span class="_ _42"> </span>for <span class="_ _42"> </span>a <span class="_ _23"> </span>process,</span></span></div><div class="t m0 x32 h26 y3055 ff19 fsf fc0 sc0 ls0 ws0">any <span class="_ _35"> </span>pending<span class="_ _51"> </span><span class="ff1a">SIGCONT<span class="_ _51"> </span></span>signal <span class="_ _35"> </span>for <span class="_ _35"> </span>that <span class="_ _35"> </span>process <span class="_ _45"> </span>is <span class="_ _35"> </span>discarded. <span class="_ _51"> </span>Similarly<span class="_ _6"></span><span class="lsd48">,w<span class="_ _7"></span><span class="ls0">hen <span class="_ _35"> </span>the</span></span></div><div class="t m0 x32 h26 y3056 ff1a fsf fc0 sc0 ls0 ws0">SIGCONT<span class="_ _4b"> </span><span class="ff19">signal <span class="_"> </span>is <span class="_ _e"> </span>generated <span class="_"> </span>for <span class="_ _53"> </span>a <span class="_"> </span>pr<span class="_ _0"></span>ocess, <span class="_ _e"> </span>any <span class="_"> </span>pending <span class="_ _53"> </span>stop <span class="_"> </span>signals <span class="_ _e"> </span>for <span class="_"> </span>that <span class="_ _53"> </span>same</span></div><div class="t m0 x32 h2a y3057 ff19 fsf fc0 sc0 ls0 ws0">process ar<span class="_ _0"></span><span class="ls44">ed<span class="_ _d"></span><span class="ls0">iscarded.</span></span></div><div class="t m0 x3f h26 y3058 ff19 fsf fc0 sc0 ls0 ws0">Note <span class="_ _2"></span>that <span class="_ _3"></span>the <span class="_ _3"></span>default <span class="_ _2"></span>action <span class="_ _3"></span>for<span class="_ _47"> </span><span class="ff1a">SIGCONT<span class="_ _47"> </span></span>is <span class="_ _2"></span>to <span class="_ _3"></span>continue <span class="_ _3"></span>the <span class="_ _3"></span>process, <span class="_ _2"></span>if <span class="_ _2"></span>it <span class="_ _3"></span>is <span class="_ _3"></span>stopped;</div><div class="t m0 x32 h2a y3059 ff19 fsf fc0 sc0 ls0 ws0">otherwise, <span class="_ _53"> </span>the <span class="_ _e"> </span>signal <span class="_ _e"> </span>is <span class="_ _53"> </span>ignored. <span class="_ _4b"> </span>Normally<span class="_ _4"></span>,<span class="_ _59"> </span>we<span class="_ _4b"> </span>don’t <span class="_ _53"> </span>have <span class="_ _e"> </span>to <span class="_ _e"> </span>do <span class="_ _53"> </span>anything <span class="_ _e"> </span>with <span class="_ _e"> </span>this</div><div class="t m0 x32 h26 y305a ff19 fsf fc0 sc0 ls0 ws0">signal. <span class="_ _61"> </span>When<span class="_ _16"> </span><span class="ff1a">SIGCONT<span class="_ _16"> </span></span>is <span class="_ _47"> </span>generated <span class="_ _47"> </span>for <span class="_ _47"> </span>a <span class="_ _47"> </span>process <span class="_ _66"> </span>that <span class="_ _47"> </span>is <span class="_ _47"> </span>stopped, <span class="_ _47"> </span>the <span class="_ _47"> </span>process <span class="_ _47"> </span>is</div><div class="t m0 x32 h2a y305b ff19 fsf fc0 sc0 ls0 ws0">continued, even if the signal is blocked or ignored.</div><div class="t m0 x35 h27 y305c ff16 fsf fc0 sc0 ls0 ws0">Example</div><div class="t m0 x32 h2a y305d ff19 fsf fc0 sc0 ls0 ws0">The <span class="_ _23"></span>program <span class="_ _9"></span>in <span class="_ _23"> </span>Figur<span class="lsd49">e1<span class="_ _43"></span><span class="ls0">0.31 <span class="_ _23"> </span>demonstrates <span class="_ _23"> </span>the <span class="_ _42"> </span>normal <span class="_ _23"></span>sequence <span class="_ _23"></span>of <span class="_ _23"></span>code <span class="_ _23"></span>used <span class="_ _23"></span>when <span class="_ _23"></span>a</span></span></div><div class="t m0 x32 h2a y305e ff19 fsf fc0 sc0 ls0 ws0">program <span class="_ _e"> </span>handles <span class="_"> </span>job <span class="_"> </span>contr<span class="_ _0"></span>ol. <span class="_ _59"> </span>This<span class="_ _59"> </span>program <span class="_"> </span>simply <span class="_ _e"> </span>copies <span class="_"> </span>its <span class="_"> </span>standar<span class="_ _0"></span><span class="lsd4a">di<span class="_ _4a"></span><span class="ls0">nput <span class="_"> </span>to <span class="_"> </span>its</span></span></div><div class="t m0 x32 h2a y305f ff19 fsf fc0 sc0 ls0 ws0">standar<span class="lsd4b">do<span class="_ _1d"></span><span class="ls0">utput, <span class="_ _66"> </span>but <span class="_ _66"> </span>comments <span class="_ _66"> </span>ar<span class="lsd4b">eg<span class="_ _5b"></span><span class="ls0">iven <span class="_ _66"> </span>in <span class="_ _66"> </span>the <span class="_ _66"> </span>signal <span class="_ _66"> </span>handler <span class="_ _47"> </span>for <span class="_"> </span>typical <span class="_"> </span>actions</span></span></span></span></div><div class="t m0 x32 h2a y3060 ff19 fsf fc0 sc0 ls0 ws0">performed by a program that manages a scr<span class="_ _0"></span>een.</div><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892201px;bottom:1146.408941px;width:153.107895px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
