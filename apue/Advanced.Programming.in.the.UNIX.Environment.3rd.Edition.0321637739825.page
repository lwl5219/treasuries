<div id="pf339" class="pf w4 h1f" data-page-no="339"><div class="pc pc339 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg339.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>21.2<span class="_ _2f6"> </span>The <span class="_"> </span>Internet <span class="_"> </span>Printing <span class="_"> </span>Protocol<span class="_ _1fb"> </span><span class="ff18">791</span></div><div class="t m0 x226 h51 y2ddc ff19 fs2a fc0 sc0 ls0 ws0">version number</div><div class="t m0 xbe h51 y405a ff19 fs2a fc0 sc0 ls0 ws0">operation ID (request)/status code (r<span class="_ _0"></span>esponse)</div><div class="t m0 x87 h51 y596e ff19 fs2a fc0 sc0 ls34e ws0">re<span class="ls0">quest ID</span></div><div class="t m0 xcc h51 y596f ff19 fs2a fc0 sc0 ls0 ws0">attributes</div><div class="t m0 x85 h51 y5970 ff19 fs2a fc0 sc0 ls0 ws0">end-of-attributes tag</div><div class="t m0 x23c h2d y5971 ff19 fs10 fc0 sc0 ls0 ws0">(2 bytes)</div><div class="t m0 x23c h2d y5972 ff19 fs10 fc0 sc0 ls0 ws0">(2 bytes)</div><div class="t m0 x23c h2d y5973 ff19 fs10 fc0 sc0 ls0 ws0">(4 bytes)</div><div class="t m0 x23c h77 y5974 ff19 fs10 fc0 sc0 ls0 ws0">(0-<span class="ff1b">n<span class="_"> </span></span>bytes)</div><div class="t m0 x23c h2d y5975 ff19 fs10 fc0 sc0 ls0 ws0">(1 byte)</div><div class="t m0 xc0 h2d y5976 ff18 fs10 fc0 sc0 ls0 ws0">Figure 21.3<span class="_ _5a"> </span><span class="ff19">Structure<span class="_"> </span>of<span class="_"> </span>an<span class="_"> </span>IPP header</span></div><div class="t m0 x3f h49 y5977 ff19 fs26 fc0 sc0 ls0 ws0">The next 4 <span class="_ _2"></span>bytes contain an <span class="_ _2"></span>integer identifying <span class="_ _2"></span>the request, which allows requests to</div><div class="t m0 x32 h49 y5978 ff19 fs26 fc0 sc0 ls0 ws0">be <span class="_ _9"></span>matched <span class="_ _9"></span>up <span class="_ _23"></span>with <span class="_ _9"></span>responses. <span class="_ _45"> </span>Optional<span class="_ _45"> </span>attributes <span class="_ _9"></span>follow <span class="_ _9"></span>this, <span class="_ _23"></span>terminated <span class="_ _9"></span>by <span class="_ _9"></span>an <span class="_ _23"></span>end-</div><div class="t m0 x32 h49 y5979 ff19 fs26 fc0 sc0 ls0 ws0">of-attributes <span class="_ _59"> </span>tag.<span class="_ _7f"> </span>Any <span class="_ _59"> </span>data <span class="_ _4b"> </span>that <span class="_ _59"> </span>might <span class="_ _59"> </span>be <span class="_ _59"> </span>associated <span class="_ _59"> </span>with <span class="_ _4b"> </span>the <span class="_ _59"> </span>request <span class="_ _59"> </span>follows</div><div class="t m0 x32 h49 y597a ff19 fs26 fc0 sc0 ls0 ws0">immediately after the end-of-attributes tag.</div><div class="t m0 x3f h49 y597b ff19 fs26 fc0 sc0 ls0 ws0">In <span class="_ _53"> </span>the <span class="_ _53"> </span>header<span class="_ _1"></span><span class="ls139">,i<span class="_ _c"></span><span class="ls0">ntegers <span class="_ _53"> </span>ar<span class="ls139">es<span class="_ _55"></span><span class="ls0">tored <span class="_ _53"> </span>as <span class="_ _53"> </span>signed, <span class="_ _53"> </span>two’s-complement, <span class="_ _53"> </span>binary <span class="_ _53"> </span>values <span class="_ _53"> </span>in</span></span></span></span></div><div class="t m0 x32 h49 y597c ff19 fs26 fc0 sc0 ls0 ws0">big-endian <span class="_ _9"></span>byte <span class="_ _3"></span>order <span class="_ _9"></span>(i.e., <span class="_ _3"></span>network <span class="_ _9"></span>byte <span class="_ _9"></span>order). <span class="_ _47"> </span>Attributes<span class="_ _45"> </span>ar<span class="ls1724">es<span class="_ _b"></span><span class="ls0">tored <span class="_ _3"></span>in <span class="_ _9"></span>groups. <span class="_ _47"> </span>Each</span></span></div><div class="t m0 x32 h49 y597d ff19 fs26 fc0 sc0 ls0 ws0">group starts <span class="_ _2"></span>with <span class="_ _2"></span>a <span class="_ _2"></span>single byte <span class="_ _2"></span>identifying <span class="_ _2"></span>the <span class="_ _2"></span>group. <span class="_"> </span>W<span class="_ _0"></span>ithin each <span class="_ _2"></span>group, an <span class="_ _2"></span>attribute <span class="_ _2"></span>is</div><div class="t m0 x32 h49 y597e ff19 fs26 fc0 sc0 ls0 ws0">generally repr<span class="_ _0"></span>esented as a <span class="_ _2"></span>1</div><div class="t m0 x9e h49 y597f ff19 fs26 fc0 sc0 ls0 ws0">-</div><div class="t m0 xa8 h49 y597e ff19 fs26 fc0 sc0 ls0 ws0">byte tag, followed <span class="_ _2"></span>by a 2</div><div class="t m0 x6d h49 y597f ff19 fs26 fc0 sc0 ls0 ws0">-</div><div class="t m0 x109 h49 y597e ff19 fs26 fc0 sc0 ls0 ws0">byte name length, <span class="_ _2"></span>followed by the</div><div class="t m0 x32 h49 y5980 ff19 fs26 fc0 sc0 ls0 ws0">name <span class="_ _3"></span>of <span class="_ _3"></span>the <span class="_ _3"></span>attribute, <span class="_ _3"></span>followed <span class="_ _3"></span>by <span class="_ _9"></span>a <span class="_ _2"></span>2</div><div class="t m0 xf5 h49 y5981 ff19 fs26 fc0 sc0 ls0 ws0">-</div><div class="t m0 x1f5 h49 y5980 ff19 fs26 fc0 sc0 ls0 ws0">byte <span class="_ _3"></span>value <span class="_ _3"></span>length, <span class="_ _3"></span>and <span class="_ _3"></span>ﬁnally <span class="_ _3"></span>by <span class="_ _9"></span>the <span class="_ _2"></span>value <span class="_ _9"></span>itself.</div><div class="t m0 x32 h49 y5982 ff19 fs26 fc0 sc0 ls0 ws0">The <span class="_ _42"> </span>value <span class="_ _23"> </span>can <span class="_ _42"> </span>be <span class="_ _42"> </span>encoded <span class="_ _42"> </span>as <span class="_ _42"> </span>a <span class="_ _42"> </span>string, <span class="_ _23"> </span>a <span class="_ _42"> </span>binary <span class="_ _42"> </span>integer<span class="_ _6"></span>,<span class="_ _44"> </span>or<span class="_ _35"> </span>a<span class="_ _44"> </span>mor<span class="ls1725">ec<span class="_ _43"></span><span class="ls0">omplex <span class="_ _23"> </span>structure,</span></span></div><div class="t m0 x32 h49 y5983 ff19 fs26 fc0 sc0 ls0 ws0">such as a date/timestamp.</div><div class="t m0 x3f h4d y5984 ff19 fs26 fc0 sc0 ls0 ws0">Figur<span class="ls1726">e2<span class="_ _4a"></span><span class="ls0">1.4 <span class="_"> </span>shows <span class="_ _53"> </span>how <span class="_ _e"> </span>the<span class="_ _59"> </span><span class="ff1a">attributes-charset<span class="_ _4b"> </span></span>attribute <span class="_"> </span>would <span class="_ _53"> </span>be <span class="_ _e"> </span>encoded</span></span></div><div class="t m0 x32 h4d y5985 ff19 fs26 fc0 sc0 ls0 ws0">with a value of<span class="_"> </span><span class="ff1a">utf-8</span>.</div><div class="t m0 x23 h2e y5986 ff19 fs11 fc0 sc0 ls0 ws0">attribute tag = 0x47</div><div class="t m0 x4b h2e y5987 ff19 fs11 fc0 sc0 ls0 ws0">size of attribute name = 18</div><div class="t m0 x64 h4f y5988 ff19 fs11 fc0 sc0 ls0 ws0">name =<span class="_"> </span><span class="ff1a">attributes-charset</span></div><div class="t m0 xff h2e y5989 ff19 fs11 fc0 sc0 ls0 ws0">size of attribute value = 5</div><div class="t m0 xc6 h4f y598a ff19 fs11 fc0 sc0 ls0 ws0">value =<span class="_"> </span><span class="ff1a">utf-8</span></div><div class="t m0 x23c h2f y598b ff19 fs12 fc0 sc0 ls0 ws0">(1 byte)</div><div class="t m0 x23c h2f y598c ff19 fs12 fc0 sc0 ls0 ws0">(2 bytes)</div><div class="t m0 x23c h2f y598d ff19 fs12 fc0 sc0 ls0 ws0">(18 bytes)</div><div class="t m0 x23c h2f y598e ff19 fs12 fc0 sc0 ls0 ws0">(2 bytes)</div><div class="t m0 x23c h2f y598f ff19 fs12 fc0 sc0 ls0 ws0">(5 bytes)</div><div class="t m0 x1f7 h2f y5990 ff18 fs12 fc0 sc0 ls0 ws0">Figure 21.4<span class="_ _5a"> </span><span class="ff19">Sample IPP attribute encoding</span></div><div class="t m0 x3f h50 y5991 ff19 fs29 fc0 sc0 ls0 ws0">Depending <span class="_ _2"></span>on <span class="_ _3"></span>the <span class="_ _2"></span>operation <span class="_ _3"></span>requested, <span class="_ _2"></span>some <span class="_ _2"></span>attributes <span class="_ _3"></span>ar<span class="ls1727">er<span class="_ _b"></span><span class="ls0">equired <span class="_ _2"></span>to <span class="_ _3"></span>be <span class="_ _2"></span>provided</span></span></div><div class="t m0 x32 h50 y5992 ff19 fs29 fc0 sc0 ls0 ws0">in <span class="_ _23"> </span>the <span class="_ _42"> </span>request <span class="_ _23"></span>message, <span class="_ _23"></span>whereas <span class="_ _23"></span>others <span class="_ _23"> </span>ar<span class="ls1728">eo<span class="_ _43"></span><span class="ls0">ptional. <span class="_ _35"> </span>For<span class="_ _35"> </span>example, <span class="_ _42"> </span>Figur<span class="ls1728">e2<span class="_ _43"></span><span class="ls0">1.5 <span class="_ _23"></span>shows</span></span></span></span></div><div class="t m0 x32 h50 y5993 ff19 fs29 fc0 sc0 ls0 ws0">the attributes deﬁned for a print-job request.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
