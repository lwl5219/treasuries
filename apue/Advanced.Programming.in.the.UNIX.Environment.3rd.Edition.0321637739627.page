<div id="pf273" class="pf w4 h1f" data-page-no="273"><div class="pc pc273 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg273.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>16.3<span class="_ _2c7"> </span>Addressing<span class="_ _1fb"> </span><span class="ff18">593</span></div><div class="t m0 x3f h26 y12f ff19 fsf fc0 sc0 ls0 ws0">Given <span class="_ _23"> </span>that <span class="_ _42"> </span>we <span class="_ _23"></span>can<span class="_ _35"> </span><span class="ff1a">close<span class="_ _35"> </span></span><span class="ls5bd">as<span class="_ _43"></span><span class="ls0">ocket, <span class="_ _42"> </span>why <span class="_ _23"> </span>is<span class="_ _35"> </span><span class="ff1a">shutdown<span class="_ _35"> </span></span>needed? <span class="_ _35"> </span>Ther<span class="ls1023">ea<span class="_ _43"></span><span class="ls45">re <span class="_ _42"> </span>s<span class="_ _2"></span><span class="ls0">everal</span></span></span></span></span></div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">asons. <span class="_ _35"> </span>First,<span class="_ _44"> </span><span class="ff1a">close<span class="_ _35"> </span></span>will <span class="_ _23"> </span>deallocate <span class="_ _42"> </span>the <span class="_ _23"> </span>network <span class="_ _42"> </span>endpoint <span class="_ _23"> </span>only <span class="_ _42"> </span>when <span class="_ _23"> </span>the <span class="_ _42"> </span>last <span class="_ _23"> </span>active</span></div><div class="t m0 x32 h26 y131 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">ference <span class="_ _2"></span>is <span class="_ _2"></span>closed.<span class="_ _61"> </span>If <span class="_ _2"></span>we <span class="_ _2"></span>duplicate <span class="_ _2"></span>the <span class="_ _2"></span>socket <span class="_ _2"></span>(with<span class="_ _47"> </span><span class="ff1a">dup</span><span class="ls1248">,f<span class="_ _4f"></span><span class="ls0">or <span class="_ _2"></span>example), <span class="_ _2"></span>the <span class="_ _2"></span>socket <span class="_ _3"></span>won’t</span></span></span></div><div class="t m0 x32 h26 y132 ff19 fsf fc0 sc0 ls0 ws0">be <span class="_ _e"> </span>deallocated <span class="_"> </span>until <span class="_ _e"> </span>we <span class="_"> </span>close <span class="_ _53"> </span>the <span class="_"> </span>last <span class="_ _e"> </span>ﬁle <span class="_"> </span>descriptor <span class="_ _53"> </span>referring <span class="_ _e"> </span>to <span class="_"> </span>it.<span class="_ _65"> </span>The<span class="_ _59"> </span><span class="ff1a">shutdown</span></div><div class="t m0 x32 h2a y133 ff19 fsf fc0 sc0 ls0 ws0">function <span class="_ _53"> </span>allows <span class="_ _53"> </span>us <span class="_ _53"> </span>to <span class="_ _53"> </span>deactivate <span class="_ _53"> </span>a <span class="_ _53"> </span>socket <span class="_ _53"> </span>independently <span class="_ _53"> </span>of <span class="_ _53"> </span>the <span class="_ _53"> </span>number <span class="_ _53"> </span>of <span class="_ _53"> </span>active <span class="_ _53"> </span>ﬁle</div><div class="t m0 x32 h2a y134 ff19 fsf fc0 sc0 ls0 ws0">descriptors <span class="_ _3"></span>refer<span class="_ _0"></span>encing <span class="_ _3"></span>it.<span class="_ _16"> </span>Second, <span class="_ _9"></span>it <span class="_ _3"></span>is <span class="_ _3"></span>sometimes <span class="_ _3"></span>convenient <span class="_ _9"></span>to <span class="_ _3"></span>shut <span class="_ _3"></span>a <span class="_ _9"></span>socket <span class="_ _3"></span>down <span class="_ _3"></span>in</div><div class="t m0 x32 h2a y135 ff19 fsf fc0 sc0 ls0 ws0">one <span class="_ _3"></span>direction <span class="_ _2"></span>only<span class="_ _6"></span><span class="ls130b">.F<span class="_ _62"></span><span class="ls0">or <span class="_ _3"></span>example, <span class="_ _3"></span>we <span class="_ _3"></span>can <span class="_ _3"></span>shut <span class="_ _3"></span>a <span class="_ _3"></span>socket <span class="_ _3"></span>down <span class="_ _3"></span>for <span class="_ _3"></span>writing <span class="_ _3"></span>if <span class="_ _3"></span>we <span class="_ _3"></span>want <span class="_ _3"></span>the</span></span></div><div class="t m0 x32 h2a y136 ff19 fsf fc0 sc0 ls0 ws0">process <span class="_ _9"></span>we <span class="_ _42"> </span>ar<span class="_ _0"></span><span class="ls130c">ec<span class="_ _43"></span><span class="ls0">ommunicating <span class="_ _23"> </span>with <span class="_ _42"> </span>to <span class="_ _23"></span>be <span class="_ _23"></span>able <span class="_ _23"></span>to <span class="_ _23"> </span>tell <span class="_ _23"> </span>when <span class="_ _23"> </span>we <span class="_ _23"> </span>ar<span class="ls130c">ed<span class="_ _43"></span><span class="ls0">one <span class="_ _42"> </span>transmitting</span></span></span></span></div><div class="t m0 x32 h2a y137 ff19 fsf fc0 sc0 ls0 ws0">data, while still allowing us to use the socket to receive data sent to us by the pr<span class="_ _0"></span>ocess.</div><div class="t m0 x35 h53 y2b4a ff16 fs2b fc0 sc0 ls0 ws0">16.3 <span class="_ _93"> </span>Addressing</div><div class="t m0 x32 h2a y11d2 ff19 fsf fc0 sc0 ls0 ws0">In <span class="_ _2"></span>the <span class="_ _2"></span>previous section, <span class="_ _2"></span>we <span class="_ _3"></span>learned <span class="_ _2"></span>how <span class="_ _2"></span>to <span class="_ _2"></span>create <span class="_ _2"></span>and <span class="_ _2"></span>destroy a <span class="_ _2"></span>socket.<span class="_ _61"> </span>Before<span class="_ _66"> </span>we<span class="_ _47"> </span>learn</div><div class="t m0 x32 h2a y11d3 ff19 fsf fc0 sc0 ls0 ws0">to <span class="_ _2"></span>do <span class="_ _2"></span>something <span class="_ _2"></span>useful with <span class="_ _2"></span>a <span class="_ _2"></span>socket, <span class="_ _2"></span>we <span class="_ _2"></span>need <span class="_ _2"></span>to <span class="_ _2"></span>learn <span class="_ _2"></span>how <span class="_ _2"></span>to <span class="_ _2"></span>identify <span class="_ _2"></span>the <span class="_ _2"></span>process with</div><div class="t m0 x32 h2a y11d4 ff19 fsf fc0 sc0 ls0 ws0">which <span class="_ _e"> </span>we <span class="_ _e"> </span>wish <span class="_ _e"> </span>to <span class="_ _e"> </span>communicate.<span class="_ _48"> </span>Identifying <span class="_ _e"> </span>the <span class="_ _e"> </span>process <span class="_ _e"> </span>has <span class="_ _e"> </span>two <span class="_ _e"> </span>components.<span class="_ _48"> </span>The</div><div class="t m0 x32 h2a y11d5 ff19 fsf fc0 sc0 ls0 ws0">machine’s <span class="_ _9"></span>network <span class="_ _9"></span>address <span class="_ _3"></span>helps <span class="_ _9"></span>us <span class="_ _9"></span>identify <span class="_ _9"></span>the <span class="_ _9"></span>computer <span class="_ _3"></span>on <span class="_ _9"></span>the <span class="_ _9"></span>network <span class="_ _9"></span>we <span class="_ _9"></span>wish <span class="_ _9"></span>to</div><div class="t m0 x32 h2b y11d6 ff19 fsf fc0 sc0 ls0 ws0">contact, <span class="_ _23"></span>and <span class="_ _9"></span>the <span class="_ _23"> </span>service, <span class="_ _23"></span>repr<span class="_ _0"></span>esented <span class="_ _9"></span>by <span class="_ _23"> </span>a<span class="_ _35"> </span><span class="ff1b">port <span class="_ _9"></span>number</span><span class="ls6d6">,h<span class="_ _b"></span><span class="ls0">elps <span class="_ _23"></span>us <span class="_ _9"></span>identify <span class="_ _23"> </span>the <span class="_ _23"></span>particular</span></span></div><div class="t m0 x32 h2a y11d7 ff19 fsf fc0 sc0 ls0 ws0">process on the computer<span class="_ _6"></span>.</div><div class="t m0 x32 h53 y4728 ff16 fs2b fc0 sc0 ls0 ws0">16.3.1 <span class="_ _54"> </span>Byte<span class="_ _54"> </span>Ordering</div><div class="t m0 x32 h2a y4384 ff19 fsf fc0 sc0 ls0 ws0">When <span class="_"> </span>communicating <span class="_"> </span>with <span class="_"> </span>pr<span class="_ _1"></span>ocesses <span class="_"> </span>running <span class="_"> </span>on <span class="_"> </span>the <span class="_"> </span>same <span class="_ _e"> </span>computer<span class="_ _1"></span>,<span class="_ _59"> </span>we<span class="_ _46"> </span>generally</div><div class="t m0 x32 h2a y4729 ff19 fsf fc0 sc0 ls0 ws0">don’t <span class="_"> </span>have <span class="_"> </span>to <span class="_ _e"> </span>worry <span class="_"> </span>about <span class="_"> </span>byte <span class="_ _e"> </span>ordering. <span class="_ _59"> </span>The<span class="_ _59"> </span>byte <span class="_"> </span>order <span class="_"> </span>is <span class="_ _e"> </span>a <span class="_"> </span>characteristic <span class="_"> </span>of <span class="_"> </span>the</div><div class="t m0 x32 h2a y472a ff19 fsf fc0 sc0 ls0 ws0">processor architectur<span class="_ _1"></span>e, <span class="_ _2"></span>dictating how <span class="_ _2"></span>bytes <span class="_ _2"></span>ar<span class="lsdee">eo<span class="_ _4f"></span><span class="ls45">rd<span class="ls0">ered within <span class="_ _2"></span>larger data types, <span class="_ _2"></span>such as</span></span></span></div><div class="t m0 x32 h2a y472b ff19 fsf fc0 sc0 ls0 ws0">integers. <span class="_"> </span>Figur<span class="ls44">e1<span class="_ _4f"></span><span class="ls0">6.5 shows how the bytes within a 32</span></span></div><div class="t m0 x109 h2a y472c ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x65 h2a y472b ff19 fsf fc0 sc0 ls0 ws0">bit integer ar<span class="ls44">en<span class="_ _4f"></span><span class="ls0">umbered.</span></span></div><div class="t m0 x16 h77 y472d ff1b fs10 fc0 sc0 ls0 ws0">n<span class="_ _6e"> </span><span class="ls170">n+1<span class="_ _51"> </span>n+2<span class="_ _51"> </span>n+3</span></div><div class="t m0 x1e0 h2e y472e ff19 fs11 fc0 sc0 ls0 ws0">MSB<span class="_ _ab"> </span>LSB</div><div class="t m0 xdd h2e y472f ff19 fs11 fc0 sc0 ls0 ws0">big-endian</div><div class="t m0 x85 hd1 y4730 ff1b fs12 fc0 sc0 ls130d ws0">n+3<span class="_ _51"> </span>n+2<span class="_ _51"> </span>n+1<span class="_ _141"> </span><span class="ls0">n</span></div><div class="t m0 x1e0 h30 y4731 ff19 fs13 fc0 sc0 ls0 ws0">MSB<span class="_ _ab"> </span>LSB</div><div class="t m0 x86 h30 y4732 ff19 fs13 fc0 sc0 ls0 ws0">little-endian</div><div class="t m0 x39 h30 y4733 ff18 fs13 fc0 sc0 ls0 ws0">Figure 16.5<span class="_ _5a"> </span><span class="ff19">Byte order in a 32</span></div><div class="t m0 x187 h30 y4734 ff19 fs13 fc0 sc0 ls0 ws0">-</div><div class="t m0 x1c6 h30 y4733 ff19 fs13 fc0 sc0 ls0 ws0">bit integer</div><div class="t m0 x3f h79 y4735 ff19 fs31 fc0 sc0 ls0 ws0">If <span class="_ _42"> </span>the <span class="_ _42"> </span>processor <span class="_ _23"> </span>architectur<span class="ls130e">es<span class="_ _c"></span><span class="ls0">upports<span class="_ _44"> </span><span class="ff1b">big-endian<span class="_ _44"> </span></span>byte <span class="_ _42"> </span>order<span class="_ _6"></span><span class="ls130e">,t<span class="_ _c"></span><span class="ls0">hen <span class="_ _53"> </span>the <span class="_ _42"> </span>highest <span class="_ _42"> </span>byte</span></span></span></span></div><div class="t m0 x32 h6e y4736 ff19 fs31 fc0 sc0 ls0 ws0">address occurs in the least signiﬁcant byte</div><div class="t m0 x46 h6e y4737 ff19 fs31 fc0 sc0 ls0 ws0">(</div><div class="t m0 x92 h6e y4736 ff19 fs31 fc0 sc0 ls0 ws0">LSB</div><div class="t m0 x179 h6e y4737 ff19 fs31 fc0 sc0 ls0 ws0">)</div><div class="t m0 x17a h79 y4736 ff19 fs31 fc0 sc0 ls0 ws0">.<span class="_ _46"> </span><span class="ff1b">Little-endian<span class="_"> </span></span>byte order is the opposite:</div><div class="t m0 x32 h6e y4738 ff19 fs31 fc0 sc0 ls0 ws0">the <span class="_ _9"></span>least <span class="_ _23"></span>signiﬁcant <span class="_ _9"></span>byte <span class="_ _23"></span>contains <span class="_ _9"></span>the <span class="_ _23"></span>lowest <span class="_ _9"></span>byte <span class="_ _9"></span>address. <span class="_ _45"> </span>Note<span class="_ _35"> </span>that <span class="_ _9"></span>regar<span class="_ _0"></span>dless <span class="_ _9"></span>of <span class="_ _23"></span>the</div><div class="t m0 x32 h6e y4739 ff19 fs31 fc0 sc0 ls0 ws0">byte <span class="_"> </span>ordering, <span class="_"> </span>the <span class="_"> </span>most <span class="_"> </span>signiﬁcant <span class="_"> </span>byte</div><div class="t m0 x1cd h6e y473a ff19 fs31 fc0 sc0 ls0 ws0">(</div><div class="t m0 x113 h6e y4739 ff19 fs31 fc0 sc0 ls0 ws0">MSB</div><div class="t m0 x1fe h6e y473a ff19 fs31 fc0 sc0 ls0 ws0">)</div><div class="t m0 x1c5 h6e y4739 ff19 fs31 fc0 sc0 ls0 ws0">is <span class="_"> </span>always <span class="_"> </span>on <span class="_"> </span>the <span class="_"> </span>left, <span class="_"> </span>and <span class="_"> </span>the <span class="_ _66"> </span>least</div><div class="t m0 x32 h6e y473b ff19 fs31 fc0 sc0 ls0 ws0">signiﬁcant <span class="_ _23"></span>byte <span class="_ _9"></span>is <span class="_ _23"> </span>always <span class="_ _23"></span>on <span class="_ _23"></span>the <span class="_ _9"></span>right.<span class="_ _51"> </span>Thus, <span class="_ _23"></span>if <span class="_ _9"></span>we <span class="_ _23"> </span>were<span class="_ _45"> </span>to<span class="_ _35"> </span>assign <span class="_ _9"></span>a <span class="_ _23"> </span>32</div><div class="t m0 x3a h6e y473c ff19 fs31 fc0 sc0 ls0 ws0">-</div><div class="t m0 x210 h6e y473b ff19 fs31 fc0 sc0 ls0 ws0">bit <span class="_ _23"></span>integer <span class="_ _9"></span>the</div><div class="t m0 x32 h64 y473d ff19 fs31 fc0 sc0 ls0 ws0">value<span class="_ _47"> </span><span class="ff1a">0x04030201</span><span class="ls130f">,t<span class="_ _8"></span><span class="ls0">he <span class="_ _3"></span>most <span class="_ _3"></span>signiﬁcant <span class="_ _3"></span>byte <span class="_ _3"></span>would <span class="_ _3"></span>contain <span class="_ _3"></span>4, <span class="_ _3"></span>and <span class="_ _3"></span>the <span class="_ _3"></span>least <span class="_ _3"></span>signiﬁcant</span></span></div><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.891993px;bottom:969.168890px;width:101.892006px;height:19.679992px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:156.492009px;bottom:739.848928px;width:126.479981px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
