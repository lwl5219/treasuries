<div id="pf144" class="pf w4 h1f" data-page-no="144"><div class="pc pc144 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg144.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">290<span class="_ _1b"> </span><span class="ff19">Process <span class="_"> </span>Relationships<span class="_ _18d"> </span>Chapter <span class="_"> </span>9</span></div><div class="t m0 x32 h26 y12f ff1a fsf fc0 sc0 ls0 ws0">/etc/inittab<span class="_ _47"> </span><span class="ff19">contains <span class="_ _3"></span>the <span class="_ _9"></span>conﬁguration <span class="_ _3"></span>information <span class="_ _3"></span>specifying <span class="_ _3"></span>the <span class="_ _3"></span>terminal <span class="_ _9"></span>devices</span></div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">for which<span class="_"> </span><span class="ff1a">init<span class="_ _80"> </span></span>should start a<span class="_"> </span><span class="ff1a">getty<span class="_ _66"> </span></span>process.</div><div class="t m0 x3f h2a y131 ff19 fsf fc0 sc0 ls0 ws0">Other <span class="_ _3"></span>Linux <span class="_ _3"></span>distributions, <span class="_ _3"></span>such <span class="_ _3"></span>as <span class="_ _3"></span>recent <span class="_ _3"></span>Ubuntu <span class="_ _3"></span>distributions, <span class="_ _3"></span>ship <span class="_ _3"></span>with <span class="_ _3"></span>a <span class="_ _9"></span>version</div><div class="t m0 x32 h26 y132 ff19 fsf fc0 sc0 ls0 ws0">of<span class="_ _47"> </span><span class="ff1a">init<span class="_ _47"> </span></span>that <span class="_ _3"></span>is <span class="_ _3"></span>known <span class="_ _3"></span>as <span class="_ _3"></span>‘<span class="_ _0"></span>‘Upstart.’<span class="_ _0"></span><span class="lsaee">’I<span class="_ _62"></span><span class="lsaef">tu<span class="_ _4f"></span><span class="ls0">ses <span class="_ _3"></span>conﬁguration <span class="_ _3"></span>ﬁles <span class="_ _3"></span>named<span class="_ _47"> </span><span class="ff1a">*.conf<span class="_ _47"> </span></span>that <span class="_ _3"></span>are</span></span></span></div><div class="t m0 x32 h26 y133 ff19 fsf fc0 sc0 ls0 ws0">stored <span class="_ _2"></span>in <span class="_ _9"></span>the<span class="_ _47"> </span><span class="ff1a">/etc/init<span class="_ _45"> </span></span>dir<span class="_ _0"></span>ectory<span class="_ _4"></span><span class="ls57d">.F<span class="_ _1d"></span><span class="ls0">or <span class="_ _3"></span>example, <span class="_ _9"></span>the <span class="_ _3"></span>speciﬁcations <span class="_ _9"></span>for <span class="_ _3"></span>running<span class="_ _47"> </span><span class="ff1a">getty</span></span></span></div><div class="t m0 x32 h26 y134 ff19 fsf fc0 sc0 ls0 ws0">on<span class="_"> </span><span class="ff1a">/dev/tty1<span class="_ _80"> </span></span>might be found in the ﬁle<span class="_"> </span><span class="ff1a">/etc/init/tty1.conf</span>.</div><div class="t m0 x3f h26 y135 ff19 fsf fc0 sc0 ls0 ws0">Depending on <span class="_ _2"></span>the <span class="_ _2"></span>version <span class="_ _2"></span>of<span class="_ _66"> </span><span class="ff1a">getty<span class="_ _66"> </span></span>in <span class="_ _2"></span>use, <span class="_ _2"></span>the <span class="_ _2"></span>terminal characteristics <span class="_ _2"></span>ar<span class="lsaf0">es<span class="_ _4f"></span><span class="ls0">peciﬁed</span></span></div><div class="t m0 x32 h26 y136 ff19 fsf fc0 sc0 ls0 ws0">either <span class="_ _3"></span>on <span class="_ _3"></span>the <span class="_ _3"></span>command <span class="_ _9"></span>line <span class="_ _3"></span>(as <span class="_ _3"></span>with<span class="_ _45"> </span><span class="ff1a">agetty</span>)<span class="_ _47"> </span>or<span class="_ _47"> </span>in<span class="_ _47"> </span>the <span class="_ _9"></span>ﬁle<span class="_ _47"> </span><span class="ff1a">/etc/gettydefs<span class="_ _45"> </span></span>(as <span class="_ _2"></span>with</div><div class="t m0 x32 h26 y137 ff1a fsf fc0 sc0 ls0 ws0">mgetty<span class="ff19">).</span></div><div class="t m0 x35 h27 y139 ff16 fsf fc0 sc0 ls0 ws0">Solaris T<span class="_ _1"></span>erminal Logins</div><div class="t m0 x32 h26 y17c ff19 fsf fc0 sc0 ls0 ws0">Solaris <span class="_ _3"></span>supports <span class="_ _9"></span>two <span class="_ _3"></span>forms <span class="_ _9"></span>of <span class="_ _3"></span>terminal <span class="_ _9"></span>logins: <span class="_ _3"></span>(a)<span class="_ _45"> </span><span class="ff1a">getty<span class="_ _47"> </span></span>style, <span class="_ _9"></span>as <span class="_ _3"></span>described <span class="_ _9"></span>previously</div><div class="t m0 x32 h26 y17d ff19 fsf fc0 sc0 ls0 ws0">for <span class="_ _9"></span>BSD, <span class="_ _23"></span>and <span class="_ _9"></span>(b)<span class="_ _45"> </span><span class="ff1a">ttymon<span class="_ _35"> </span></span>logins, <span class="_ _9"></span>a <span class="_ _23"></span>featur<span class="_ _0"></span><span class="lsaf1">ei<span class="_ _b"></span><span class="ls0">ntr<span class="_ _0"></span>oduced <span class="_ _9"></span>with <span class="_ _23"></span>SVR4.<span class="_ _5a"> </span>Normally<span class="_ _6"></span>,<span class="_ _45"> </span><span class="ff1a">getty<span class="_ _45"> </span></span>is</span></span></div><div class="t m0 x32 h26 y17e ff19 fsf fc0 sc0 ls0 ws0">used for the console, and<span class="_"> </span><span class="ff1a">ttymon<span class="_ _80"> </span></span>is used for other terminal logins.</div><div class="t m0 x3f h26 y17f ff19 fsf fc0 sc0 ls0 ws0">The<span class="_ _35"> </span><span class="ff1a">ttymon<span class="_ _44"> </span></span>command <span class="_ _42"> </span>is <span class="_ _42"> </span>part <span class="_ _23"> </span>of <span class="_ _42"> </span>a <span class="_ _42"> </span>larger <span class="_ _23"> </span>facility <span class="_ _42"> </span>termed <span class="_ _42"> </span>SAF<span class="_ _6"></span><span class="lsaf2">,t<span class="_ _43"></span><span class="ls0">he <span class="_ _42"> </span>Service <span class="_ _42"> </span>Access</span></span></div><div class="t m0 x32 h2a y180 ff19 fsf fc0 sc0 ls0 ws0">Facility<span class="_ _4"></span><span class="lsaf3">.T<span class="_ _4a"></span><span class="ls0">he goal of the <span class="_ _2"></span>SAF was to <span class="_ _2"></span>provide a consistent way to administer services <span class="_ _2"></span>that</span></span></div><div class="t m0 x32 h2a y181 ff19 fsf fc0 sc0 ls0 ws0">provide <span class="_ _23"></span>access <span class="_ _23"> </span>to <span class="_ _42"> </span>a <span class="_ _23"> </span>system.<span class="_ _51"> </span>(See <span class="_ _42"> </span>Chapter <span class="_ _23"> </span>6 <span class="_ _42"> </span>of <span class="_ _23"> </span>Rago</div><div class="t m0 x1ba h2a y2590 ff19 fsf fc0 sc0 ls0 ws0">[</div><div class="t m0 xa1 h2a y181 ff19 fsf fc0 sc0 ls0 ws0">1993</div><div class="t m0 xc8 h2a y2590 ff19 fsf fc0 sc0 ls0 ws0">]</div><div class="t m0 x97 h2a y181 ff19 fsf fc0 sc0 ls0 ws0">for <span class="_ _23"> </span>mor<span class="lsaf4">ed<span class="_ _43"></span><span class="ls0">etails.) <span class="_ _35"> </span>For<span class="_ _35"> </span>our</span></span></div><div class="t m0 x32 h2a y182 ff19 fsf fc0 sc0 ls0 ws0">purposes, <span class="_ _2"></span>we <span class="_ _2"></span>end <span class="_ _2"></span>up <span class="_ _3"></span>with <span class="_ _2"></span>the <span class="_ _2"></span>same <span class="_ _2"></span>picture<span class="_ _66"> </span>as<span class="_ _47"> </span>in<span class="_ _66"> </span>Figur<span class="ls92e">e9<span class="_ _4f"></span><span class="ls0">.3, <span class="_ _2"></span>with <span class="_ _2"></span>a <span class="_ _3"></span>differ<span class="_ _0"></span>ent <span class="_ _2"></span>set <span class="_ _2"></span>of <span class="_ _2"></span>steps</span></span></div><div class="t m0 x32 h26 y183 ff19 fsf fc0 sc0 ls0 ws0">between<span class="_ _46"> </span><span class="ff1a">init<span class="_ _61"> </span></span>and <span class="_ _47"> </span>the <span class="_ _66"> </span>login <span class="_ _47"> </span>shell.<span class="_ _60"> </span><span class="ff1a">init<span class="_ _61"> </span></span>is <span class="_ _47"> </span>the <span class="_ _66"> </span>parent <span class="_"> </span>of<span class="_ _61"> </span><span class="ff1a">sac<span class="_ _61"> </span></span>(the <span class="_ _47"> </span>service <span class="_"> </span>access</div><div class="t m0 x32 h26 y184 ff19 fsf fc0 sc0 ls0 ws0">controller), <span class="_ _42"> </span>which <span class="_ _53"> </span>does <span class="_ _e"> </span>a<span class="_ _44"> </span><span class="ff1a">fork<span class="_ _4b"> </span></span>and<span class="_ _4b"> </span><span class="ff1a">exec<span class="_ _44"> </span></span>of <span class="_ _e"> </span>the<span class="_ _44"> </span><span class="ff1a">ttymon<span class="_ _4b"> </span></span>program <span class="_ _53"> </span>when <span class="_ _53"> </span>the <span class="_ _53"> </span>system</div><div class="t m0 x32 h26 y185 ff19 fsf fc0 sc0 ls0 ws0">enters multiuser <span class="_ _2"></span>state.<span class="_ _61"> </span>The<span class="_"> </span><span class="ff1a">ttymon<span class="_ _66"> </span></span>program monitors <span class="_ _2"></span>all <span class="_ _2"></span>the <span class="_ _2"></span>terminal ports <span class="_ _2"></span>listed <span class="_ _2"></span>in its</div><div class="t m0 x32 h26 y186 ff19 fsf fc0 sc0 ls0 ws0">conﬁguration <span class="_"> </span>ﬁle <span class="_ _66"> </span>and <span class="_"> </span>does <span class="_ _66"> </span>a<span class="_ _61"> </span><span class="ff1a">fork<span class="_ _46"> </span></span>when <span class="_ _66"> </span>we <span class="_"> </span>enter <span class="_ _66"> </span>our <span class="_ _66"> </span>login <span class="_ _66"> </span>name.<span class="_ _50"> </span>This <span class="_"> </span>child <span class="_ _66"> </span>of</div><div class="t m0 x32 h26 y187 ff1a fsf fc0 sc0 ls0 ws0">ttymon<span class="_ _66"> </span><span class="ff19">does an<span class="_ _66"> </span></span>exec<span class="_ _66"> </span><span class="ff19">of<span class="_ _66"> </span></span>login<span class="ff19 ls64f">,a<span class="_ _d"></span><span class="ls0">nd<span class="_ _66"> </span><span class="ff1a">login<span class="_ _66"> </span></span>prompts us <span class="_ _2"></span>for our <span class="_ _2"></span>password. <span class="_"> </span>Once<span class="_"> </span>this <span class="_ _2"></span>is</span></span></div><div class="t m0 x32 h26 y188 ff19 fsf fc0 sc0 ls0 ws0">done,<span class="_ _66"> </span><span class="ff1a">login <span class="_ _8"></span>exec<span class="ff19 lsaf5">so<span class="_ _4f"></span><span class="ls0">ur <span class="_ _3"></span>login <span class="_ _2"></span>shell, <span class="_ _3"></span>and <span class="_ _2"></span>we’re<span class="_ _66"> </span>at<span class="_ _47"> </span>the <span class="_ _2"></span>position <span class="_ _3"></span>shown <span class="_ _2"></span>in <span class="_ _3"></span>Figur<span class="lsaf6">e9<span class="_ _8"></span><span class="ls0">.3. <span class="_ _47"> </span>One</span></span></span></span></span></div><div class="t m0 x32 h26 y189 ff19 fsf fc0 sc0 ls0 ws0">differ<span class="_ _0"></span>ence is <span class="_ _2"></span>that <span class="_ _2"></span>the <span class="_ _2"></span>parent <span class="_ _2"></span>of <span class="_ _2"></span>our <span class="_ _2"></span>login <span class="_ _2"></span>shell <span class="_ _2"></span>is <span class="_ _2"></span>now<span class="_ _66"> </span><span class="ff1a">ttymon</span><span class="lsaf7">,w<span class="_ _d"></span><span class="ls0">hereas the <span class="_ _2"></span>parent of <span class="_ _2"></span>the</span></span></div><div class="t m0 x32 h26 y18a ff19 fsf fc0 sc0 ls0 ws0">login shell from a<span class="_"> </span><span class="ff1a">getty<span class="_ _80"> </span></span>login is<span class="_"> </span><span class="ff1a">init</span>.</div><div class="t m0 x35 h53 y2591 ff16 fs2b fc0 sc0 ls0 ws0">9.3 <span class="_ _68"> </span>Network <span class="_"> </span>Logins</div><div class="t m0 x32 h2a y2592 ff19 fsf fc0 sc0 ls0 ws0">The <span class="_ _2"></span>main <span class="_ _2"></span>(physical) <span class="_ _2"></span>difference between <span class="_ _2"></span>logging <span class="_ _3"></span>in <span class="_ _2"></span>to <span class="_ _2"></span>a <span class="_ _2"></span>system <span class="_ _3"></span>through a <span class="_ _3"></span>serial <span class="_ _2"></span>terminal</div><div class="t m0 x32 h2a y115e ff19 fsf fc0 sc0 ls0 ws0">and <span class="_"> </span>logging <span class="_"> </span>in <span class="_"> </span>to <span class="_"> </span>a <span class="_"> </span>system <span class="_"> </span>through <span class="_"> </span>a <span class="_"> </span>network <span class="_"> </span>is <span class="_"> </span>that <span class="_"> </span>the <span class="_"> </span>connection <span class="_"> </span>between <span class="_"> </span>the</div><div class="t m0 x32 h26 y115f ff19 fsf fc0 sc0 ls0 ws0">terminal <span class="_ _9"></span>and <span class="_ _3"></span>the <span class="_ _9"></span>computer <span class="_ _9"></span>isn’t <span class="_ _9"></span>point-to-point.<span class="_ _5a"> </span>In <span class="_ _9"></span>this <span class="_ _9"></span>case,<span class="_ _45"> </span><span class="ff1a">login<span class="_ _47"> </span></span>is <span class="_ _9"></span>simply <span class="_ _9"></span>a <span class="_ _9"></span>service</div><div class="t m0 x32 h2a y1160 ff19 fsf fc0 sc0 ls0 ws0">available, just like any other network service, such as FTP or SMTP<span class="_ _4"></span>.</div><div class="t m0 x3f h26 y1161 ff19 fsf fc0 sc0 ls65 ws0">Wi<span class="_ _3"></span><span class="ls0">th <span class="_ _42"> </span>the <span class="_ _53"> </span>terminal <span class="_ _53"> </span>logins <span class="_ _42"> </span>that <span class="_ _53"> </span>we <span class="_ _53"> </span>described <span class="_ _42"> </span>in <span class="_ _53"> </span>the <span class="_ _53"> </span>previous <span class="_ _42"> </span>section,<span class="_ _44"> </span><span class="ff1a">init<span class="_ _44"> </span></span>knows</span></div><div class="t m0 x32 h26 yc23 ff19 fsf fc0 sc0 ls0 ws0">which <span class="_ _42"> </span>terminal <span class="_ _42"> </span>devices <span class="_ _42"> </span>ar<span class="lsaf8">ee<span class="_ _c"></span><span class="ls0">nabled <span class="_ _42"> </span>for <span class="_ _42"> </span>logins <span class="_ _42"> </span>and <span class="_ _53"> </span>spawns <span class="_ _42"> </span>a<span class="_ _44"> </span><span class="ff1a">getty<span class="_ _35"> </span></span>process <span class="_ _42"> </span>for <span class="_ _42"> </span>each</span></span></div><div class="t m0 x32 h2a y1162 ff19 fsf fc0 sc0 ls0 ws0">device. <span class="_ _66"> </span>In<span class="_ _47"> </span>the <span class="_ _2"></span>case <span class="_ _2"></span>of <span class="_ _2"></span>network <span class="_ _2"></span>logins, <span class="_ _2"></span>however<span class="_ _1"></span><span class="ls247">,a<span class="_ _4f"></span><span class="ls0">ll <span class="_ _2"></span>the <span class="_ _2"></span>logins <span class="_ _3"></span>come <span class="_ _2"></span>through the <span class="_ _2"></span>kernel’s</span></span></div><div class="t m0 x32 h2a y1163 ff19 fsf fc0 sc0 ls0 ws0">network <span class="_ _9"></span>interface <span class="_ _3"></span>drivers <span class="_ _9"></span>(e.g., <span class="_ _9"></span>the <span class="_ _9"></span>Ethernet <span class="_ _9"></span>driver), <span class="_ _9"></span>and <span class="_ _9"></span>we <span class="_ _9"></span>don’t <span class="_ _9"></span>know <span class="_ _3"></span>ahead <span class="_ _9"></span>of <span class="_ _9"></span>time</div><div class="t m0 x32 h2a y1164 ff19 fsf fc0 sc0 ls0 ws0">how <span class="_ _23"> </span>many <span class="_ _42"> </span>of <span class="_ _42"> </span>these <span class="_ _23"> </span>will <span class="_ _42"> </span>occur<span class="_ _1"></span><span class="lsaf9">.I<span class="_ _7"></span><span class="ls0">nstead <span class="_ _23"> </span>of <span class="_ _42"> </span>having <span class="_ _42"> </span>a <span class="_ _42"> </span>pr<span class="_ _0"></span>ocess <span class="_ _42"> </span>waiting <span class="_ _23"> </span>for <span class="_ _42"> </span>each <span class="_ _42"> </span>possible</span></span></div><div class="t m0 x32 h2a y1165 ff19 fsf fc0 sc0 ls0 ws0">login, we now have to wait for a network connection request to arrive.</div><div class="t m0 x3f h2a y1166 ff19 fsf fc0 sc0 ls5f ws0">To <span class="_ _53"> </span>a<span class="_ _23"></span><span class="ls0">llow the <span class="_ _2"></span>same software<span class="_"> </span>to<span class="_ _66"> </span>p<span class="ls45">ro<span class="_ _2"></span></span>cess <span class="_ _2"></span>logins over <span class="_ _2"></span>both <span class="_ _2"></span>terminal <span class="_ _2"></span>logins and <span class="_ _2"></span>network</span></div><div class="t m0 x32 h2b y1167 ff19 fsf fc0 sc0 ls0 ws0">logins, <span class="_ _23"> </span>a <span class="_ _23"> </span>softwar<span class="lsafa">ed<span class="_ _43"></span><span class="ls0">river <span class="_ _42"> </span>called <span class="_ _23"></span>a<span class="_ _35"> </span><span class="ff1b">pseudo <span class="_ _23"> </span>terminal<span class="_ _35"> </span></span>is <span class="_ _42"> </span>used <span class="_ _23"> </span>to <span class="_ _23"> </span>emulate <span class="_ _42"> </span>the <span class="_ _23"> </span>behavior <span class="_ _23"> </span>of <span class="_ _42"> </span>a</span></span></div><div class="t m0 x32 h2a y1168 ff19 fsf fc0 sc0 ls0 ws0">serial <span class="_ _3"></span>terminal <span class="_ _3"></span>and <span class="_ _3"></span>map <span class="_ _3"></span>terminal <span class="_ _3"></span>operations <span class="_ _3"></span>to <span class="_ _3"></span>network <span class="_ _3"></span>operations, <span class="_ _3"></span>and <span class="_ _3"></span>vice <span class="_ _3"></span>versa.<span class="_ _16"> </span>(In</div><div class="t m0 x32 h2a y1169 ff19 fsf fc0 sc0 ls0 ws0">Chapter 19, we’ll talk about pseudo terminals in detail.)</div><a class="l" href="#pff" data-dest-detail='[15,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.893259px;bottom:515.568890px;width:129.107392px;height:19.679016px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
