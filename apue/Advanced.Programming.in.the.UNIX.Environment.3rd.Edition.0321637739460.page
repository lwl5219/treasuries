<div id="pf1cc" class="pf w4 h1f" data-page-no="1cc"><div class="pc pc1cc w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg1cc.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">426<span class="_ _1b"> </span><span class="ff19">Thread <span class="_"> </span>Contr<span class="_ _0"></span>ol <span class="_ _177"> </span>Chapter<span class="_ _44"> </span>12</span></div><div class="t m0 x1f0 h76 y597 ff19 fs2a fc0 sc0 ls0 ws0">Name of limit<span class="_ _105"> </span>Description<span class="_ _121"> </span><span class="ff1b">name<span class="_"> </span></span>argument</div><div class="t m0 x218 h5e y7b6 ff1a fs10 fc0 sc0 ls0 ws0">PTHREAD_DESTRUCTOR_ITERATIONS <span class="_ _32"> </span>_SC_THREAD_DESTRUCTOR_ITERATIONS<span class="_ _1d4"></span><span class="ff19">maximum number of times an</span></div><div class="t m0 x123 h2d y7b7 ff19 fs10 fc0 sc0 ls0 ws0">implementation will try to</div><div class="t m0 x123 h2d y7b8 ff19 fs10 fc0 sc0 ls0 ws0">destroy the thr<span class="_ _0"></span>ead-speciﬁc</div><div class="t m0 x123 h2d y7b9 ff19 fs10 fc0 sc0 ls0 ws0">data when a thread exits</div><div class="t m0 x123 h2d y7ba ff19 fs10 fc0 sc0 ls0 ws0">(Section 12.6)</div><div class="t m0 x218 h5e y7bb ff1a fs10 fc0 sc0 ls0 ws0">PTHREAD_KEYS_MAX <span class="_ _f9"> </span>_SC_THREAD_KEYS_MAX<span class="_ _28a"></span><span class="ff19">maximum number of keys that can</span></div><div class="t m0 x123 h2d y7bc ff19 fs10 fc0 sc0 ls0 ws0">be created by a pr<span class="_ _0"></span>ocess</div><div class="t m0 x123 h2d y7bd ff19 fs10 fc0 sc0 ls0 ws0">(Section 12.6)</div><div class="t m0 x218 h5e y7be ff1a fs10 fc0 sc0 ls0 ws0">PTHREAD_STACK_MIN <span class="_ _239"> </span>_SC_THREAD_STACK_MIN<span class="_ _28b"></span><span class="ff19">minimum number of bytes that can</span></div><div class="t m0 x123 h2d y7bf ff19 fs10 fc0 sc0 ls0 ws0">be used for a thread’s stack</div><div class="t m0 x123 h2d y7c0 ff19 fs10 fc0 sc0 ls0 ws0">(Section 12.3)</div><div class="t m0 x218 h5e y7c1 ff1a fs10 fc0 sc0 ls0 ws0">PTHREAD_THREADS_MAX <span class="_ _99"> </span>_SC_THREAD_THREADS_MAX<span class="_ _28c"></span><span class="ff19">maximum number of threads that</span></div><div class="t m0 x123 h2d y7c2 ff19 fs10 fc0 sc0 ls0 ws0">can be created in a pr<span class="_ _0"></span>ocess</div><div class="t m0 x123 h2d y7c3 ff19 fs10 fc0 sc0 ls0 ws0">(Section 12.3)</div><div class="t m0 x7d h4f y3537 ff18 fs11 fc0 sc0 ls0 ws0">Figure 12.1<span class="_ _5a"> </span><span class="ff19">Thread limits and<span class="_"> </span><span class="ff1b">name<span class="_"> </span></span>arguments to<span class="_"> </span><span class="ff1a">sysconf</span></span></div><div class="t m0 x3f h55 y3538 ff19 fs2c fc0 sc0 ls0 ws0">Figur<span class="lse64">e1<span class="_ _5b"></span><span class="ls0">2.2 <span class="_"> </span>shows <span class="_"> </span>the <span class="_"> </span>values <span class="_"> </span>of <span class="_ _e"> </span>the <span class="_"> </span>thread <span class="_ _e"> </span>limits <span class="_"> </span>for <span class="_"> </span>the <span class="_"> </span>four <span class="_ _e"> </span>implementations</span></span></div><div class="t m0 x32 h55 y3539 ff19 fs2c fc0 sc0 ls0 ws0">described <span class="_ _53"> </span>in <span class="_"> </span>this <span class="_ _53"> </span>book.<span class="_ _65"> </span>If <span class="_"> </span>the <span class="_ _53"> </span>implementation’s <span class="_ _e"> </span>limit <span class="_ _e"> </span>is <span class="_ _e"> </span>indeterminate, <span class="_ _53"> </span>‘‘no <span class="_ _53"> </span>limit’<span class="lse65">’i<span class="_ _4a"></span><span class="ls0">s</span></span></div><div class="t m0 x32 h55 y353a ff19 fs2c fc0 sc0 ls0 ws0">listed. <span class="_"> </span>This<span class="_"> </span>doesn’t mean that the value is unlimited, however<span class="_ _6"></span>.</div><div class="t m0 x76 h2e y353b ff19 fs11 fc0 sc0 ls0 ws0">Note <span class="_ _23"> </span>that <span class="_ _42"> </span>although <span class="_ _23"> </span>an <span class="_ _42"> </span>implementation <span class="_ _23"> </span>may <span class="_ _42"> </span>not <span class="_ _23"> </span>provide <span class="_ _23"> </span>access <span class="_ _42"> </span>to <span class="_ _23"> </span>these <span class="_ _42"> </span>limits, <span class="_ _23"> </span>that <span class="_ _42"> </span>doesn’t</div><div class="t m0 x76 h2e y353c ff19 fs11 fc0 sc0 ls0 ws0">mean that the <span class="_ _2"></span>limits don’t <span class="_ _2"></span>exist.<span class="_ _44"> </span>It just <span class="_ _2"></span>means that the <span class="_ _2"></span>implementation doesn’t <span class="_ _2"></span>provide us with</div><div class="t m0 x76 h4f y353d ff19 fs11 fc0 sc0 lsdb ws0">aw<span class="_ _84"></span><span class="ls0">ay to get at them using<span class="_"> </span><span class="ff1a">sysconf</span>.</span></div><div class="t m0 x1b3 h2f y353e ff19 fs12 fc0 sc0 ls0 ws0">FreeBSD <span class="_ _141"> </span>Linux<span class="_ _3a"> </span>Mac OS X<span class="_ _7f"> </span>Solaris</div><div class="t m0 xec h2f y353f ff19 fs12 fc0 sc0 ls0 ws0">8.0 <span class="_ _215"> </span>3.2.0<span class="_ _76"> </span>10.6.8 <span class="_ _bf"> </span>10</div><div class="t m0 x3d h2f y3540 ff19 fs12 fc0 sc0 ls0 ws0">Limit</div><div class="t m0 xc4 h63 y3541 ff1a fs13 fc0 sc0 ls0 ws0">PTHREAD_DESTRUCTOR_ITERATIONS<span class="_ _1c7"> </span><span class="ff19 lse66">444<span class="_ _28d"></span><span class="ls0">no limit</span></span></div><div class="t m0 xc4 h63 y3542 ff1a fs13 fc0 sc0 ls0 ws0">PTHREAD_KEYS_MAX<span class="_ _28e"> </span><span class="ff19">256 <span class="_ _17"> </span>1,024<span class="_ _8a"> </span>512 <span class="_ _93"> </span>no<span class="_"> </span>limit</span></div><div class="t m0 xc4 h63 y3543 ff1a fs13 fc0 sc0 ls0 ws0">PTHREAD_STACK_MIN<span class="_ _257"> </span><span class="ff19">2,048 <span class="_ _2b"> </span>16,384<span class="_ _76"> </span>8,192 <span class="_ _17"> </span>8,192</span></div><div class="t m0 xc4 h63 y3544 ff1a fs13 fc0 sc0 ls0 ws0">PTHREAD_THREADS_MAX<span class="_ _bd"> </span><span class="ff19">no limit<span class="_ _141"> </span>no limit<span class="_ _141"> </span>no limit<span class="_ _3a"> </span>no limit</span></div><div class="t m0 x171 h31 y3545 ff18 fs14 fc0 sc0 ls0 ws0">Figure 12.2<span class="_ _5a"> </span><span class="ff19">Examples of thread conﬁguration limits</span></div><div class="t m0 x35 hfb y3546 ff16 fs89 fc0 sc0 ls0 ws0">12.3 <span class="_ _93"> </span>Thread<span class="_ _54"> </span>Attributes</div><div class="t m0 x32 h96 y3547 ff19 fs49 fc0 sc0 ls0 ws0">The <span class="_ _54"> </span>pthread <span class="_ _54"> </span>interface <span class="_ _54"> </span>allows <span class="_ _54"> </span>us <span class="_ _54"> </span>to <span class="_ _54"> </span>ﬁne-tune <span class="_ _54"> </span>the <span class="_ _54"> </span>behavior <span class="_ _54"> </span>of <span class="_ _54"> </span>threads <span class="_ _54"> </span>and</div><div class="t m0 x32 h96 y3548 ff19 fs49 fc0 sc0 ls0 ws0">synchronization <span class="_ _35"> </span>objects <span class="_ _35"> </span>by <span class="_ _44"> </span>setting <span class="_ _35"> </span>various <span class="_ _44"> </span>attributes <span class="_ _35"> </span>associated <span class="_ _35"> </span>with <span class="_ _44"> </span>each <span class="_ _35"> </span>object.</div><div class="t m0 x32 h96 y3549 ff19 fs49 fc0 sc0 ls0 ws0">Generally<span class="_ _4"></span><span class="ls48d">,t<span class="_ _5"></span><span class="ls0">he functions for managing these attributes follow the same pattern:</span></span></div><div class="t m0 x3f h96 y354a ff19 fs49 fc0 sc0 ls0 ws0">1. <span class="_ _51"> </span>Each<span class="_ _59"> </span>object <span class="_ _e"> </span>is <span class="_"> </span>associated <span class="_ _e"> </span>with <span class="_"> </span>its <span class="_ _53"> </span>own <span class="_"> </span>type <span class="_ _e"> </span>of <span class="_"> </span>attribute <span class="_ _53"> </span>object <span class="_"> </span>(threads <span class="_ _53"> </span>with</div><div class="t m0 x41 h96 y354b ff19 fs49 fc0 sc0 ls0 ws0">thread attributes, mutexes with mutex attributes, and <span class="_ _2"></span>so on).<span class="_ _46"> </span>An attribute <span class="_ _2"></span>object</div><div class="t m0 x41 h96 y354c ff19 fs49 fc0 sc0 ls0 ws0">can <span class="_ _2"></span>repr<span class="_ _0"></span>esent <span class="_ _2"></span>multiple <span class="_ _2"></span>attributes.<span class="_ _61"> </span>The <span class="_ _3"></span>attribute <span class="_ _2"></span>object <span class="_ _2"></span>is <span class="_ _3"></span>opaque <span class="_ _2"></span>to <span class="_ _2"></span>applications.</div><div class="t m0 x41 h96 y354d ff19 fs49 fc0 sc0 ls0 ws0">This <span class="_ _45"> </span>means <span class="_ _45"> </span>that <span class="_ _45"> </span>applications <span class="_ _45"> </span>aren’t <span class="_ _47"> </span>supposed <span class="_ _45"> </span>to <span class="_ _45"> </span>know <span class="_ _45"> </span>anything <span class="_ _45"> </span>about <span class="_ _45"> </span>its</div><div class="t m0 x41 h96 y354e ff19 fs49 fc0 sc0 ls0 ws0">internal <span class="_ _e"> </span>structure, <span class="_ _e"> </span>which <span class="_"> </span>pr<span class="_ _0"></span>omotes <span class="_ _e"> </span>application <span class="_"> </span>portability<span class="_ _4"></span><span class="lse67">.I<span class="_ _5d"></span><span class="ls0">nstead, <span class="_"> </span>functions</span></span></div><div class="t m0 x41 h96 y354f ff19 fs49 fc0 sc0 ls0 ws0">ar<span class="ls48d">ep<span class="_ _4f"></span><span class="ls4a6">ro<span class="_ _2"></span><span class="ls0">vided to manage the attributes objects.</span></span></span></div><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.894300px;bottom:375.290999px;width:139.104897px;height:19.680008px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
