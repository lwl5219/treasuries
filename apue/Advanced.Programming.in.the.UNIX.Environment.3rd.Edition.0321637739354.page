<div id="pf162" class="pf w4 h1f" data-page-no="162"><div class="pc pc162 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg162.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">320<span class="_ _1b"> </span><span class="ff19">Signals <span class="_ _24b"> </span>Chapter<span class="_ _21"> </span>10</span></div><div class="t m0 x32 h26 y12f ff1a fsf fc0 sc0 ls0 ws0">SIGPROF<span class="_ _215"> </span><span class="ff19">This <span class="_ _3"></span>signal <span class="_ _3"></span>is <span class="_ _9"></span>marked <span class="_ _3"></span>obsolescent <span class="_ _3"></span>in <span class="_ _9"></span>SUSv4, <span class="_ _3"></span>so <span class="_ _3"></span>it <span class="_ _3"></span>might <span class="_ _9"></span>be <span class="_ _3"></span>removed <span class="_ _2"></span>in <span class="_ _9"></span>a</span></div><div class="t m0 x148 h2a y130 ff19 fsf fc0 sc0 ls0 ws0">futur<span class="ls267">ev<span class="_ _8"></span><span class="ls0">ersion <span class="_ _2"></span>of <span class="_ _3"></span>the <span class="_ _2"></span>standard. <span class="_ _47"> </span>This<span class="_ _47"> </span>signal <span class="_ _2"></span>is <span class="_ _2"></span>generated <span class="_ _3"></span>when <span class="_ _3"></span>a <span class="_ _2"></span>proﬁling</span></span></div><div class="t m0 x148 h26 y131 ff19 fsf fc0 sc0 ls0 ws0">interval timer set by the<span class="_"> </span><span class="ff1a">setitimer</span></div><div class="t m0 x201 h2a y17a ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x117 h2a y131 ff19 fsf fc0 sc0 ls0 ws0">2</div><div class="t m0 xb4 h2a y17a ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x212 h2a y131 ff19 fsf fc0 sc0 ls0 ws0">function expires.</div><div class="t m0 x32 h26 y114e ff1a fsf fc0 sc0 ls0 ws0">SIGPWR<span class="_ _171"> </span><span class="ff19">This <span class="_ _3"></span>signal <span class="_ _3"></span>is <span class="_ _3"></span>system <span class="_ _3"></span>dependent.<span class="_ _61"> </span>Its <span class="_ _3"></span>main <span class="_ _3"></span>use <span class="_ _3"></span>is <span class="_ _3"></span>on <span class="_ _3"></span>a <span class="_ _3"></span>system <span class="_ _3"></span>that <span class="_ _3"></span>has <span class="_ _2"></span>an</span></div><div class="t m0 x148 h2a y2936 ff19 fsf fc0 sc0 ls0 ws0">uninterruptible <span class="_ _9"></span>power <span class="_ _9"></span>supply</div><div class="t m0 x74 h2a ya63 ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 xaf h2a y2936 ff19 fsf fc0 sc0 ls0 ws0">UPS</div><div class="t m0 x1e1 h2a ya63 ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x187 h2a y2936 ff19 fsf fc0 sc0 ls32d ws0">.I<span class="_ _26"></span><span class="lsbbd">fp<span class="_ _b"></span><span class="ls0">ower <span class="_ _9"></span>fails, <span class="_ _23"></span>the <span class="_ _9"></span>UPS <span class="_ _9"></span>takes <span class="_ _23"></span>over</span></span></div><div class="t m0 x148 h2a y2914 ff19 fsf fc0 sc0 ls0 ws0">and <span class="_ _23"></span>the <span class="_ _23"> </span>softwar<span class="ls83">ec<span class="_ _43"></span><span class="ls0">an <span class="_ _23"> </span>usually <span class="_ _23"> </span>be <span class="_ _42"> </span>notiﬁed.<span class="_ _51"> </span>Nothing <span class="_ _23"></span>needs <span class="_ _23"> </span>to <span class="_ _23"> </span>be <span class="_ _23"> </span>done <span class="_ _42"> </span>at</span></span></div><div class="t m0 x148 h2a y2915 ff19 fsf fc0 sc0 ls0 ws0">this <span class="_ _3"></span>point, <span class="_ _9"></span>as <span class="_ _3"></span>the <span class="_ _9"></span>system <span class="_ _3"></span>continues <span class="_ _9"></span>running <span class="_ _3"></span>on <span class="_ _9"></span>battery <span class="_ _3"></span>power<span class="_ _1"></span><span class="lsbbe">.B<span class="_ _1d"></span><span class="ls0">ut <span class="_ _3"></span>if <span class="_ _9"></span>the</span></span></div><div class="t m0 x148 h2a y2937 ff19 fsf fc0 sc0 ls0 ws0">battery gets <span class="_ _2"></span>low <span class="_ _2"></span>(for example, <span class="_ _2"></span>if <span class="_ _2"></span>the <span class="_ _2"></span>power is <span class="_ _2"></span>of<span class="lsb6e">ff<span class="_ _4f"></span><span class="ls0">or <span class="_ _2"></span>an <span class="_ _2"></span>extended period),</span></span></div><div class="t m0 x148 h2a y2938 ff19 fsf fc0 sc0 ls0 ws0">the <span class="_ _66"> </span>software<span class="_ _61"> </span>is<span class="_ _61"> </span>usually <span class="_ _47"> </span>notiﬁed <span class="_ _66"> </span>again; <span class="_ _47"> </span>at <span class="_ _66"> </span>this <span class="_ _47"> </span>point, <span class="_ _47"> </span>it <span class="_ _66"> </span>behooves <span class="_ _47"> </span>the</div><div class="t m0 x148 h26 yeb6 ff19 fsf fc0 sc0 ls0 ws0">system <span class="_ _9"></span>to <span class="_ _9"></span>shut <span class="_ _23"></span>everything <span class="_ _9"></span>down.<span class="_ _5a"> </span>This <span class="_ _9"></span>is <span class="_ _23"></span>when<span class="_ _45"> </span><span class="ff1a">SIGPWR<span class="_ _45"> </span></span>should <span class="_ _9"></span>be <span class="_ _9"></span>sent.</div><div class="t m0 x148 h2a yeb7 ff19 fsf fc0 sc0 ls0 ws0">On most <span class="_ _2"></span>systems, the <span class="_ _2"></span>process that is <span class="_ _2"></span>notiﬁed of <span class="_ _2"></span>the low-battery <span class="_ _2"></span>condition</div><div class="t m0 x148 h26 yeb8 ff19 fsf fc0 sc0 ls0 ws0">sends <span class="_ _e"> </span>the<span class="_ _59"> </span><span class="ff1a">SIGPWR<span class="_ _4b"> </span></span>signal <span class="_"> </span>to <span class="_ _53"> </span>the<span class="_ _59"> </span><span class="ff1a">init<span class="_ _4b"> </span></span>process, <span class="_ _e"> </span>and<span class="_ _59"> </span><span class="ff1a">init<span class="_ _4b"> </span></span>handles <span class="_"> </span>the</div><div class="t m0 x148 h2a yeb9 ff19 fsf fc0 sc0 ls0 ws0">system shutdown.</div><div class="t m0 x36 h52 y2939 ff19 fs2a fc0 sc0 ls0 ws0">Solaris <span class="_ _23"> </span>10 <span class="_ _23"> </span>and <span class="_ _23"> </span>some <span class="_ _23"> </span>Linux <span class="_ _23"> </span>distributions <span class="_ _23"> </span>have <span class="_ _23"> </span>entries <span class="_ _23"> </span>in <span class="_ _9"> </span>the<span class="_ _45"> </span><span class="ff1a">inittab<span class="_ _47"> </span></span>ﬁle <span class="_ _23"> </span>for</div><div class="t m0 x36 h52 y293a ff19 fs2a fc0 sc0 ls0 ws0">this purpose:<span class="_"> </span><span class="ff1a">powerfail<span class="_ _53"> </span></span>and<span class="_"> </span><span class="ff1a">powerwait<span class="_ _e"> </span></span>(or<span class="_"> </span><span class="ff1a">powerokwait</span>).</div><div class="t m0 x36 h52 y293b ff19 fs2a fc0 sc0 ls0 ws0">In <span class="_ _3"></span>Figur<span class="lsbbf">e1<span class="_ _4f"></span><span class="ls0">0.1, <span class="_ _9"></span>we <span class="_ _9"></span>labeled <span class="_ _3"></span>the <span class="_ _9"></span>default <span class="_ _3"></span>action <span class="_ _9"></span>for<span class="_ _66"> </span><span class="ff1a">SIGPWR<span class="_ _47"> </span></span>as <span class="_ _3"></span>either <span class="_ _9"></span>‘<span class="_ _0"></span>‘terminate’<span class="_ _0"></span>’</span></span></div><div class="t m0 x36 h51 y293c ff19 fs2a fc0 sc0 ls0 ws0">or <span class="_ _2"></span>‘<span class="_ _0"></span>‘ignore.’<span class="_ _1"></span><span class="lsbc0">’U<span class="_ _43"></span><span class="ls0">nfortunately<span class="_ _4"></span><span class="ls454">,t<span class="_ _5"></span><span class="ls0">he <span class="_ _2"></span>default <span class="_ _2"></span>depends <span class="_ _2"></span>on <span class="_ _3"></span>the <span class="_ _2"></span>system.<span class="_ _44"> </span>The <span class="_ _2"></span>default <span class="_ _2"></span>on</span></span></span></span></div><div class="t m0 x36 h51 y293d ff19 fs2a fc0 sc0 ls0 ws0">Linux is to terminate the process. <span class="_"> </span>On<span class="_"> </span>Solaris, the signal is ignor<span class="_ _0"></span>ed by default.</div><div class="t m0 x32 h26 y1af2 ff1a fsf fc0 sc0 ls0 ws0">SIGQUIT<span class="_ _215"> </span><span class="ff19">This <span class="_ _45"> </span>signal <span class="_ _47"> </span>is <span class="_ _45"> </span>generated <span class="_ _47"> </span>by <span class="_ _45"> </span>the <span class="_ _47"> </span>terminal <span class="_ _45"> </span>driver <span class="_ _47"> </span>when <span class="_ _45"> </span>we <span class="_ _47"> </span>press <span class="_ _45"> </span>the</span></div><div class="t m0 x148 h2a y293e ff19 fsf fc0 sc0 ls0 ws0">terminal <span class="_"> </span>quit <span class="_ _e"> </span>key <span class="_"> </span>(often <span class="_"> </span>Contr<span class="_ _0"></span>ol-backslash). <span class="_ _59"> </span>This<span class="_ _59"> </span>signal <span class="_"> </span>is <span class="_"> </span>sent <span class="_ _e"> </span>to <span class="_"> </span>all</div><div class="t m0 x148 h2a y293f ff19 fsf fc0 sc0 ls0 ws0">processes <span class="_ _e"> </span>in <span class="_"> </span>the <span class="_"> </span>for<span class="_ _0"></span>egr<span class="_ _0"></span>ound <span class="_"> </span>pr<span class="_ _0"></span>ocess <span class="_"> </span>gr<span class="_ _0"></span>oup <span class="_"> </span>(r<span class="_ _1"></span>efer <span class="_"> </span>to <span class="_"> </span>Figur<span class="lsbb5">e9<span class="_ _5b"></span><span class="ls0">.9). <span class="_ _46"> </span>This</span></span></div><div class="t m0 x148 h2a y1af3 ff19 fsf fc0 sc0 ls0 ws0">signal <span class="_ _44"> </span>not <span class="_ _44"> </span>only <span class="_ _44"> </span>terminates <span class="_ _35"> </span>the <span class="_ _44"> </span>foreground <span class="_ _35"> </span>process <span class="_ _44"> </span>group <span class="_ _35"> </span>(as <span class="_ _44"> </span>does</div><div class="t m0 x148 h26 y2940 ff1a fsf fc0 sc0 ls0 ws0">SIGINT<span class="ff19">), but also generates a<span class="_"> </span></span>core<span class="_ _80"> </span><span class="ff19">ﬁle.</span></div><div class="t m0 x32 h26 y2941 ff1a fsf fc0 sc0 ls0 ws0">SIGSEGV<span class="_ _215"> </span><span class="ff19">This <span class="_ _47"> </span>signal <span class="_ _47"> </span>indicates <span class="_ _45"> </span>that <span class="_ _47"> </span>the <span class="_ _47"> </span>process <span class="_ _47"> </span>has <span class="_ _47"> </span>made <span class="_ _47"> </span>an <span class="_ _47"> </span>invalid <span class="_ _45"> </span>memory</span></div><div class="t m0 x148 h2a y2942 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">ference <span class="_ _23"> </span>(which <span class="_ _42"> </span>is <span class="_ _23"> </span>usually <span class="_ _42"> </span>a <span class="_ _42"> </span>sign <span class="_ _23"> </span>that <span class="_ _42"> </span>the <span class="_ _23"> </span>program <span class="_ _23"> </span>has <span class="_ _42"> </span>a <span class="_ _42"> </span>bug, <span class="_ _23"> </span>such <span class="_ _42"> </span>as</span></div><div class="t m0 x148 h2a y2943 ff19 fsf fc0 sc0 ls0 ws0">derefer<span class="_ _0"></span>encing an uninitialized pointer).</div><div class="t m0 x36 h51 y2944 ff19 fs2a fc0 sc0 ls0 ws0">The name SEGV stands for ‘<span class="_ _0"></span>‘segmentation violation.’<span class="_ _0"></span>’</div><div class="t m0 x32 h26 y2945 ff1a fsf fc0 sc0 ls0 ws0">SIGSTKFLT<span class="_ _6e"> </span><span class="ff19">This <span class="_ _47"> </span>signal <span class="_ _47"> </span>is <span class="_ _45"> </span>deﬁned <span class="_ _47"> </span>only <span class="_ _45"> </span>by <span class="_ _47"> </span>Linux.<span class="_ _5f"> </span>It <span class="_ _45"> </span>showed <span class="_ _47"> </span>up <span class="_ _45"> </span>in <span class="_ _47"> </span>the <span class="_ _47"> </span>earliest</span></div><div class="t m0 x148 h2a y2946 ff19 fsf fc0 sc0 ls0 ws0">versions of <span class="_ _2"></span>Linux, where<span class="_"> </span>it<span class="_"> </span>was <span class="_ _2"></span>intended <span class="_ _2"></span>to be <span class="_ _2"></span>used for <span class="_ _2"></span>stack faults <span class="_ _2"></span>taken</div><div class="t m0 x148 h2a y2947 ff19 fsf fc0 sc0 ls0 ws0">by <span class="_ _3"></span>the <span class="_ _9"></span>math <span class="_ _3"></span>coprocessor<span class="_ _6"></span><span class="lsbc1">.T<span class="_ _1d"></span><span class="ls0">his <span class="_ _3"></span>signal <span class="_ _9"></span>is <span class="_ _9"></span>not <span class="_ _3"></span>generated <span class="_ _9"></span>by <span class="_ _3"></span>the <span class="_ _9"></span>kernel, <span class="_ _3"></span>but</span></span></div><div class="t m0 x148 h2a y2948 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">mains for backwar<span class="ls44">dc<span class="_ _d"></span><span class="ls0">ompatibility<span class="_ _6"></span>.</span></span></span></div><div class="t m0 x32 h26 y2949 ff1a fsf fc0 sc0 ls0 ws0">SIGSTOP<span class="_ _215"> </span><span class="ff19">This job-control signal <span class="_ _2"></span>stops a <span class="_ _2"></span>process. <span class="_"> </span>It<span class="_ _66"> </span>is <span class="_ _2"></span>similar to <span class="_ _2"></span>the interactive <span class="_ _2"></span>stop</span></div><div class="t m0 x148 h26 y294a ff19 fsf fc0 sc0 ls0 ws0">signal (<span class="ff1a">SIGTSTP</span>), but<span class="_"> </span><span class="ff1a">SIGSTOP<span class="_ _80"> </span></span>cannot be caught or ignored.</div><div class="t m0 x32 h26 y294b ff1a fsf fc0 sc0 ls0 ws0">SIGSYS<span class="_ _171"> </span><span class="ff19">This <span class="_ _e"> </span>signals <span class="_ _53"> </span>an <span class="_ _e"> </span>invalid <span class="_ _53"> </span>system <span class="_ _e"> </span>call.<span class="_ _65"> </span>Somehow<span class="_ _6"></span><span class="ls98c">,t<span class="_ _c"></span><span class="ls0">he <span class="_ _53"> </span>process <span class="_ _53"> </span>executed <span class="_ _e"> </span>a</span></span></span></div><div class="t m0 x148 h2a y294c ff19 fsf fc0 sc0 ls0 ws0">machine <span class="_ _42"> </span>instruction <span class="_ _23"> </span>that <span class="_ _42"> </span>the <span class="_ _42"> </span>kernel <span class="_ _42"> </span>thought <span class="_ _42"> </span>was <span class="_ _42"> </span>a <span class="_ _42"> </span>system <span class="_ _42"> </span>call, <span class="_ _42"> </span>but <span class="_ _42"> </span>the</div><div class="t m0 x148 h2a y294d ff19 fsf fc0 sc0 ls0 ws0">parameter <span class="_ _3"></span>with <span class="_ _3"></span>the <span class="_ _3"></span>instruction <span class="_ _3"></span>that <span class="_ _3"></span>indicates <span class="_ _3"></span>the <span class="_ _3"></span>type <span class="_ _3"></span>of <span class="_ _3"></span>system <span class="_ _3"></span>call <span class="_ _3"></span>was</div><div class="t m0 x148 h2a y294e ff19 fsf fc0 sc0 ls0 ws0">invalid. <span class="_ _59"> </span>This<span class="_ _59"> </span>might <span class="_"> </span>happen <span class="_"> </span>if <span class="_ _e"> </span>you <span class="_"> </span>build <span class="_ _e"> </span>a <span class="_"> </span>program <span class="_ _e"> </span>that <span class="_"> </span>uses <span class="_"> </span>a <span class="_ _e"> </span>new</div><div class="t m0 x148 h2a y294f ff19 fsf fc0 sc0 ls0 ws0">system <span class="_ _3"></span>call <span class="_ _3"></span>and <span class="_ _3"></span>you <span class="_ _9"></span>then <span class="_ _3"></span>try <span class="_ _3"></span>to <span class="_ _3"></span>run <span class="_ _3"></span>the <span class="_ _9"></span>same <span class="_ _3"></span>binary <span class="_ _3"></span>on <span class="_ _3"></span>an <span class="_ _9"></span>older <span class="_ _3"></span>version</div><div class="t m0 x148 h2a y2950 ff19 fsf fc0 sc0 ls0 ws0">of the operating system wher<span class="ls44">et<span class="_ _4f"></span><span class="ls0">he system call doesn’t exist.</span></span></div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
