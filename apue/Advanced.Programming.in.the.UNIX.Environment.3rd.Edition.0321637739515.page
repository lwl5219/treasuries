<div id="pf203" class="pf w4 h1f" data-page-no="203"><div class="pc pc203 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg203.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x32 h47 y25f ff1e fsb fc0 sc0 ls0 ws0">14</div><div class="t m0 x32 h20 y8f ff15 fs2 fc0 sc0 ls0 ws0">Adv<span class="_ _6"></span>anced <span class="_"> </span>I/O</div><div class="t m0 x35 h48 y114 ff16 fs1 fc0 sc0 ls0 ws0">14.1 <span class="_ _93"> </span>Introduction</div><div class="t m0 x32 h28 y116 ff19 fs5 fc0 sc0 ls0 ws0">This <span class="_ _66"> </span>chapter <span class="_ _47"> </span>covers <span class="_ _66"> </span>numerous <span class="_ _66"> </span>topics <span class="_ _47"> </span>and <span class="_ _66"> </span>functions <span class="_ _47"> </span>that <span class="_ _66"> </span>we <span class="_ _47"> </span>lump <span class="_ _47"> </span>under <span class="_"> </span>the <span class="_ _47"> </span>term</div><div class="t m0 x32 h2c y117 ff1b fs5 fc0 sc0 ls0 ws0">advanced <span class="_"> </span>I/O<span class="_ _53"> </span><span class="ff19 lsfb1">:n<span class="_ _5b"></span><span class="ls0">onblocking <span class="_ _66"> </span>I/O, <span class="_ _66"> </span>recor<span class="_ _0"></span><span class="lsfb2">dl<span class="_ _5b"></span><span class="ls0">ocking, <span class="_ _66"> </span>I/O <span class="_ _66"> </span>multiplexing <span class="_ _66"> </span>(the<span class="_ _46"> </span><span class="ff1a">select<span class="_ _61"> </span></span>and</span></span></span></span></div><div class="t m0 x32 h2c y118 ff1a fs5 fc0 sc0 ls0 ws0">poll<span class="_ _5c"> </span><span class="ff19">functions), <span class="_ _54"> </span>asynchronous <span class="_ _51"> </span>I/O, <span class="_ _51"> </span>the<span class="_ _98"> </span></span>readv<span class="_ _5c"> </span><span class="ff19">and<span class="_ _98"> </span></span>writev<span class="_ _98"> </span><span class="ff19">functions, <span class="_ _51"> </span>and</span></div><div class="t m0 x32 h2c y119 ff19 fs5 fc0 sc0 ls0 ws0">memory-mapped <span class="_ _44"> </span>I/O <span class="_ _4b"> </span>(<span class="ff1a">mmap</span>). <span class="_ _54"> </span>W<span class="_ _6"></span><span class="lsfb3">en<span class="_ _52"></span><span class="ls0">eed <span class="_ _44"> </span>to <span class="_ _4b"> </span>cover <span class="_ _44"> </span>these <span class="_ _4b"> </span>topics <span class="_ _44"> </span>befor<span class="lsfb3">ed<span class="_ _52"></span><span class="ls0">escribing</span></span></span></span></div><div class="t m0 x32 h28 y11a ff19 fs5 fc0 sc0 ls0 ws0">interprocess <span class="_ _23"></span>communication <span class="_ _23"> </span>in <span class="_ _42"> </span>Chapter <span class="_ _23"> </span>15, <span class="_ _42"> </span>Chapter <span class="_ _23"> </span>17, <span class="_ _42"> </span>and <span class="_ _23"> </span>many <span class="_ _42"> </span>of <span class="_ _23"> </span>the <span class="_ _23"> </span>examples <span class="_ _42"> </span>in</div><div class="t m0 x32 h28 y11b ff19 fs5 fc0 sc0 ls0 ws0">later chapters.</div><div class="t m0 x35 h48 y11e ff16 fs1 fc0 sc0 ls0 ws0">14.2 <span class="_ _93"> </span>Nonbloc<span class="_ _0"></span>king <span class="_"> </span>I/O</div><div class="t m0 x32 h28 y120 ff19 fs5 fc0 sc0 ls0 ws0">In <span class="_ _23"> </span>Section <span class="_ _42"> </span>10.5, <span class="_ _42"> </span>we <span class="_ _23"> </span>said <span class="_ _42"> </span>that <span class="_ _42"> </span>system <span class="_ _42"> </span>calls <span class="_ _23"> </span>ar<span class="lsfb4">ed<span class="_ _43"></span><span class="ls0">ivided <span class="_ _23"> </span>into <span class="_ _42"> </span>two <span class="_ _42"> </span>categories: <span class="_ _23"> </span>the <span class="_ _42"> </span>‘<span class="_ _0"></span>‘slow’<span class="_ _1"></span>’</span></span></div><div class="t m0 x32 h28 y121 ff19 fs5 fc0 sc0 ls0 ws0">ones <span class="_ _23"></span>and <span class="_ _23"></span>all <span class="_ _23"></span>the <span class="_ _23"></span>others.<span class="_ _51"> </span>The <span class="_ _23"></span>slow <span class="_ _23"></span>system <span class="_ _23"></span>calls <span class="_ _23"></span>ar<span class="lsfb5">et<span class="_ _43"></span><span class="ls0">hose <span class="_ _23"></span>that <span class="_ _23"></span>can <span class="_ _23"></span>block <span class="_ _23"></span>forever<span class="_ _6"></span><span class="lsfb6">.T<span class="_ _7"></span><span class="ls0">hey</span></span></span></span></div><div class="t m0 x32 h28 y122 ff19 fs5 fc0 sc0 ls0 ws0">include</div><div class="t m0 x3f h28 y3b21 ff19 fs5 fc0 sc0 ls47 ws0">•R<span class="_ _4d"></span><span class="ls0">eads <span class="_ _2"></span>that <span class="_ _2"></span>can <span class="_ _2"></span>block <span class="_ _2"></span>the <span class="_ _2"></span>caller <span class="_ _2"></span>forever if <span class="_ _2"></span>data <span class="_ _2"></span>isn’t <span class="_ _2"></span>present with <span class="_ _2"></span>certain <span class="_ _2"></span>ﬁle <span class="_ _3"></span>types</span></div><div class="t m0 x15 h28 y3b22 ff19 fs5 fc0 sc0 ls0 ws0">(pipes, terminal devices, and network devices)</div><div class="t m0 x3f h28 y3b23 ff19 fs5 fc0 sc0 ls47 ws0">•W<span class="_ _da"></span><span class="ls0">rites <span class="_ _2"></span>that <span class="_ _2"></span>can <span class="_ _3"></span>block <span class="_ _2"></span>the <span class="_ _2"></span>caller <span class="_ _2"></span>forever <span class="_ _2"></span>if <span class="_ _2"></span>the <span class="_ _2"></span>data <span class="_ _3"></span>can’t <span class="_ _2"></span>be <span class="_ _2"></span>accepted <span class="_ _2"></span>immediately</span></div><div class="t m0 x15 h28 y3b24 ff19 fs5 fc0 sc0 ls0 ws0">by these same ﬁle types (e.g., no room in the pipe, network ﬂow contr<span class="_ _0"></span>ol)</div><div class="t m0 x3f h28 y3b25 ff19 fs5 fc0 sc0 ls47 ws0">•O<span class="_ _4d"></span><span class="ls0">pens <span class="_ _23"> </span>that <span class="_ _23"> </span>block <span class="_ _23"> </span>until <span class="_ _42"> </span>some <span class="_ _23"> </span>condition <span class="_ _23"> </span>occurs <span class="_ _23"> </span>on <span class="_ _42"> </span>certain <span class="_ _23"></span>ﬁle <span class="_ _23"> </span>types <span class="_ _23"> </span>(such <span class="_ _42"> </span>as <span class="_ _23"></span>an</span></div><div class="t m0 x15 h28 y3b26 ff19 fs5 fc0 sc0 ls0 ws0">open <span class="_"> </span>of <span class="_"> </span>a <span class="_"> </span>terminal <span class="_"> </span>device <span class="_"> </span>that <span class="_"> </span>waits <span class="_"> </span>until <span class="_"> </span>an <span class="_"> </span>attached <span class="_"> </span>modem <span class="_"> </span>answers <span class="_"> </span>the</div><div class="t m0 x15 h28 y3b27 ff19 fs5 fc0 sc0 ls0 ws0">phone, <span class="_ _42"> </span>or <span class="_ _42"> </span>an <span class="_ _42"> </span>open <span class="_ _42"> </span>of <span class="_ _42"> </span>a <span class="_ _42"> </span>FIFO <span class="_ _42"> </span>for <span class="_ _42"> </span>writing <span class="_ _42"> </span>only<span class="_ _4"></span><span class="lsfb7">,w<span class="_ _43"></span><span class="ls0">hen <span class="_ _42"> </span>no <span class="_ _42"> </span>other <span class="_ _42"> </span>pr<span class="_ _0"></span>ocess <span class="_ _42"> </span>has <span class="_ _42"> </span>the</span></span></div><div class="t m0 x15 h28 y3b28 ff19 fs5 fc0 sc0 ls0 ws0">FIFO open for reading)</div><div class="t m0 x3f h28 y3b29 ff19 fs5 fc0 sc0 ls47 ws0">•R<span class="_ _4d"></span><span class="ls0">eads and writes of ﬁles that have mandatory recor<span class="_ _0"></span><span class="ls46">dl<span class="_ _d"></span><span class="ls0">ocking enabled</span></span></span></div><div class="t m0 x1c0 h23 y12e ff18 fs0 fc0 sc0 ls0 ws0">481</div><a class="l" href="#pf11" data-dest-detail='[17,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:157.497886px;bottom:975.452099px;width:176.039993px;height:134.895020px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11" data-dest-detail='[17,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.891993px;bottom:743.626788px;width:105.756005px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11" data-dest-detail='[17,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892409px;bottom:491.626788px;width:130.991798px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
