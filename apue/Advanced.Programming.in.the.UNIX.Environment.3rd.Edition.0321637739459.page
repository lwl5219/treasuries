<div id="pf1cb" class="pf w4 h1f" data-page-no="1cb"><div class="pc pc1cb w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg1cb.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x32 h47 y25f ff1e fsb fc0 sc0 ls0 ws0">12</div><div class="t m0 x32 h20 y8f ff15 fs2 fc0 sc0 ls0 ws0">Thread <span class="_"> </span>Contr<span class="_ _1"></span>ol</div><div class="t m0 x35 h48 y116 ff16 fs1 fc0 sc0 ls0 ws0">12.1 <span class="_ _93"> </span>Introduction</div><div class="t m0 x32 h28 y118 ff19 fs5 fc0 sc0 ls0 ws0">In <span class="_ _3"></span>Chapter <span class="_ _3"></span>1<span class="_ _0"></span>1, <span class="_ _3"></span>we <span class="_ _3"></span>learned <span class="_ _3"></span>the <span class="_ _9"></span>basics <span class="_ _3"></span>about <span class="_ _3"></span>threads <span class="_ _3"></span>and <span class="_ _3"></span>thread <span class="_ _3"></span>synchronization. <span class="_ _47"> </span>In<span class="_ _47"> </span>this</div><div class="t m0 x32 h28 y119 ff19 fs5 fc0 sc0 ls0 ws0">chapter<span class="_ _6"></span>,<span class="_ _47"> </span>we<span class="_ _45"> </span>will <span class="_ _2"></span>learn <span class="_ _3"></span>the <span class="_ _3"></span>details <span class="_ _3"></span>of <span class="_ _9"></span>controlling <span class="_ _2"></span>thread <span class="_ _2"></span>behavior<span class="_ _1"></span><span class="lse5f">.W<span class="_ _52"></span><span class="lse60">ew<span class="_ _4f"></span><span class="ls0">ill <span class="_ _3"></span>look <span class="_ _3"></span>at <span class="_ _3"></span>thread</span></span></span></div><div class="t m0 x32 h28 y11a ff19 fs5 fc0 sc0 ls0 ws0">attributes <span class="_ _23"></span>and <span class="_ _23"></span>synchronization <span class="_ _23"></span>primitive <span class="_ _23"></span>attributes, <span class="_ _23"></span>which <span class="_ _23"></span>we <span class="_ _23"></span>ignored <span class="_ _23"></span>in <span class="_ _23"></span>the <span class="_ _23"></span>pr<span class="_ _0"></span>evious</div><div class="t m0 x32 h28 y11b ff19 fs5 fc0 sc0 ls0 ws0">chapter in favor of the default behavior<span class="_ _6"></span>.</div><div class="t m0 x3f h28 y11c ff19 fs5 fc0 sc0 ls72 ws0">We <span class="_ _45"> </span>w<span class="_ _9"></span><span class="ls0">ill <span class="_ _23"> </span>follow <span class="_ _42"> </span>this <span class="_ _42"> </span>with <span class="_ _23"> </span>a <span class="_ _42"> </span>look <span class="_ _42"> </span>at <span class="_ _23"> </span>how <span class="_ _42"> </span>threads <span class="_ _23"> </span>can <span class="_ _42"> </span>keep <span class="_ _23"> </span>data <span class="_ _42"> </span>private <span class="_ _42"> </span>from <span class="_ _23"></span>other</span></div><div class="t m0 x32 h28 y11d ff19 fs5 fc0 sc0 ls0 ws0">threads <span class="_ _23"> </span>in <span class="_ _53"> </span>the <span class="_ _42"> </span>same <span class="_ _42"> </span>process. <span class="_ _44"> </span>Then<span class="_ _44"> </span>we <span class="_ _42"> </span>will <span class="_ _42"> </span>wrap <span class="_ _42"> </span>up <span class="_ _42"> </span>the <span class="_ _53"> </span>chapter <span class="_ _42"> </span>with <span class="_ _42"> </span>a <span class="_ _42"> </span>look <span class="_ _53"> </span>at <span class="_ _42"> </span>how</div><div class="t m0 x32 h28 y11e ff19 fs5 fc0 sc0 ls0 ws0">some process-based system calls interact with thr<span class="_ _0"></span>eads.</div><div class="t m0 x35 h48 y122 ff16 fs1 fc0 sc0 ls0 ws0">12.2 <span class="_ _93"> </span>Thread<span class="_ _54"> </span>Limits</div><div class="t m0 x32 h2c y124 ff19 fs5 fc0 sc0 ls72 ws0">We <span class="_ _35"> </span>d<span class="_ _9"></span><span class="ls0">iscussed <span class="_ _53"> </span>the<span class="_ _44"> </span><span class="ff1a">sysconf<span class="_ _4b"> </span></span>function <span class="_ _53"> </span>in <span class="_ _53"> </span>Section <span class="_ _e"> </span>2.5.4.<span class="_ _65"> </span>The <span class="_ _53"> </span>Single <span class="_ _53"> </span>UNIX <span class="_ _53"> </span>Speciﬁcation</span></div><div class="t m0 x32 h28 y125 ff19 fs5 fc0 sc0 ls0 ws0">deﬁnes several <span class="_ _2"></span>limits <span class="_ _2"></span>associated <span class="_ _2"></span>with <span class="_ _2"></span>the operation <span class="_ _2"></span>of <span class="_ _2"></span>threads, which <span class="_ _2"></span>we <span class="_ _2"></span>didn’t show <span class="_ _2"></span>in</div><div class="t m0 x32 h28 y126 ff19 fs5 fc0 sc0 ls0 ws0">Figur<span class="lse61">e2<span class="_ _62"></span><span class="ls0">.1<span class="_ _1"></span>1. <span class="_ _16"> </span>As<span class="_ _16"> </span>with <span class="_ _45"> </span>other <span class="_ _47"> </span>system <span class="_ _45"> </span>limits, <span class="_ _47"> </span>the <span class="_ _47"> </span>thread <span class="_ _47"> </span>limits <span class="_ _45"> </span>can <span class="_ _47"> </span>be <span class="_ _47"> </span>queried <span class="_ _45"> </span>using</span></span></div><div class="t m0 x32 h2c y127 ff1a fs5 fc0 sc0 ls0 ws0">sysconf<span class="ff19 lse62">.F<span class="_ _4a"></span><span class="ls0">igur<span class="ls46">e1<span class="_ _4f"></span><span class="ls0">2.1 summarizes these limits.</span></span></span></span></div><div class="t m0 x3f h2c y128 ff19 fs5 fc0 sc0 ls0 ws0">As <span class="_ _42"> </span>with <span class="_ _42"> </span>the <span class="_ _42"> </span>other <span class="_ _42"> </span>limits <span class="_ _42"> </span>reported <span class="_ _23"> </span>by<span class="_ _44"> </span><span class="ff1a">sysconf</span><span class="lse63">,u<span class="_ _43"></span><span class="ls0">se <span class="_ _23"> </span>of <span class="_ _42"> </span>these <span class="_ _42"> </span>limits <span class="_ _42"> </span>is <span class="_ _42"> </span>intended <span class="_ _42"> </span>to</span></span></div><div class="t m0 x32 h28 y129 ff19 fs5 fc0 sc0 ls0 ws0">promote <span class="_"> </span>application <span class="_"> </span>portability <span class="_ _66"> </span>among <span class="_ _47"> </span>differ<span class="_ _1"></span>ent <span class="_ _66"> </span>operating <span class="_ _47"> </span>system <span class="_"> </span>implementations.</div><div class="t m0 x32 h28 y12a ff19 fs5 fc0 sc0 ls0 ws0">For <span class="_ _2"></span>example, <span class="_ _3"></span>if <span class="_ _3"></span>your <span class="_ _3"></span>application <span class="_ _3"></span>requir<span class="_ _0"></span>es <span class="_ _2"></span>that <span class="_ _3"></span>you <span class="_ _3"></span>create <span class="_ _2"></span>four <span class="_ _3"></span>threads <span class="_ _2"></span>for <span class="_ _3"></span>every <span class="_ _3"></span>ﬁle <span class="_ _2"></span>you</div><div class="t m0 x32 h28 y12b ff19 fs5 fc0 sc0 ls0 ws0">manage, you might <span class="_ _2"></span>have to limit <span class="_ _2"></span>the number <span class="_ _2"></span>of ﬁles you <span class="_ _2"></span>can manage concurrently if <span class="_ _2"></span>the</div><div class="t m0 x32 h28 y12c ff19 fs5 fc0 sc0 ls0 ws0">system won’t let you create enough thr<span class="_ _0"></span>eads.</div><div class="t m0 x1c0 h23 y12e ff18 fs0 fc0 sc0 ls0 ws0">425</div><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:157.497886px;bottom:975.452099px;width:179.686020px;height:134.895020px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892201px;bottom:693.226788px;width:105.755905px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.891785px;bottom:390.826788px;width:118.020096px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
