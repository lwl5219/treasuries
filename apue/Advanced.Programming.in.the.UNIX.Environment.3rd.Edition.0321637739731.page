<div id="pf2db" class="pf w4 h1f" data-page-no="2db"><div class="pc pc2db w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg2db.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>18.9<span class="_ _30a"> </span><span class="ls719">Te<span class="_ _9"></span></span>rminal <span class="_"> </span>IdentiÔ¨Åcation<span class="_ _1b"> </span><span class="ff18">697</span></div><div class="t m0 x8a h57 y425 ff1a fs2d fc0 sc0 ls0 ws0">if ((ddp-&gt;d_name = strdup(dirname)) == NULL) {</div><div class="t m0 x9d h57 y426 ff1a fs2d fc0 sc0 ls0 ws0">free(ddp);</div><div class="t m0 x9d h57 y800 ff1a fs2d fc0 sc0 ls0 ws0">return;</div><div class="t m0 x8a h57 y801 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x8a h57 yaea ff1a fs2d fc0 sc0 ls0 ws0">ddp-&gt;d_next = NULL;</div><div class="t m0 x8a h57 yaeb ff1a fs2d fc0 sc0 ls0 ws0">if (tail == NULL) {</div><div class="t m0 x9d h57 y16f9 ff1a fs2d fc0 sc0 ls0 ws0">head = ddp;</div><div class="t m0 x9d h57 y16df ff1a fs2d fc0 sc0 ls0 ws0">tail = ddp;</div><div class="t m0 x8a h57 y16e0 ff1a fs2d fc0 sc0 ls15c ws0">}e<span class="_ _1d"></span><span class="ls0">lse {</span></div><div class="t m0 x9d h57 y16e1 ff1a fs2d fc0 sc0 ls0 ws0">tail-&gt;d_next = ddp;</div><div class="t m0 x9d h57 y16e2 ff1a fs2d fc0 sc0 ls0 ws0">tail = ddp;</div><div class="t m0 x8a h57 y16e3 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y16e4 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y3411 ff1a fs2d fc0 sc0 ls0 ws0">static void</div><div class="t m0 x32 h57 y3412 ff1a fs2d fc0 sc0 ls0 ws0">cleanup(void)</div><div class="t m0 x32 h57 y3811 ff1a fs2d fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a h57 y3812 ff1a fs2d fc0 sc0 ls0 ws0">struct devdir<span class="_ _68"> </span>*ddp, *nddp;</div><div class="t m0 x8a h57 y3414 ff1a fs2d fc0 sc0 ls0 ws0">ddp = head;</div><div class="t m0 x8a h57 y3415 ff1a fs2d fc0 sc0 ls0 ws0">while (ddp != NULL) {</div><div class="t m0 x9d h57 y3416 ff1a fs2d fc0 sc0 ls0 ws0">nddp = ddp-&gt;d_next;</div><div class="t m0 x9d h57 y3417 ff1a fs2d fc0 sc0 ls0 ws0">free(ddp-&gt;d_name);</div><div class="t m0 x9d h57 y3418 ff1a fs2d fc0 sc0 ls0 ws0">free(ddp);</div><div class="t m0 x9d h57 y16ed ff1a fs2d fc0 sc0 ls0 ws0">ddp = nddp;</div><div class="t m0 x8a h57 y3c31 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x8a h57 y3380 ff1a fs2d fc0 sc0 ls0 ws0">head = NULL;</div><div class="t m0 x8a h57 y3381 ff1a fs2d fc0 sc0 ls0 ws0">tail = NULL;</div><div class="t m0 x32 h57 y3382 ff1a fs2d fc0 sc0 ls0 ws0">}</div><div class="t m0 x32 h57 y1321 ff1a fs2d fc0 sc0 ls0 ws0">static char *</div><div class="t m0 x32 h57 y1322 ff1a fs2d fc0 sc0 ls0 ws0">searchdir(char *dirname, struct stat *fdstatp)</div><div class="t m0 x32 h57 y3419 ff1a fs2d fc0 sc0 ls0 ws0">{</div><div class="t m0 x8a h57 y341a ff1a fs2d fc0 sc0 ls0 ws0">struct stat<span class="_ _8a"> </span>devstat;</div><div class="t m0 x8a h57 y341b ff1a fs2d fc0 sc0 ls0 ws0">DIR <span class="_ _82"> </span>*dp;</div><div class="t m0 x8a h57 y341c ff1a fs2d fc0 sc0 ls0 ws0">int <span class="_ _82"> </span>devlen;</div><div class="t m0 x8a h57 y341d ff1a fs2d fc0 sc0 ls0 ws0">struct dirent<span class="_ _68"> </span>*dirp;</div><div class="t m0 x8a h57 y335c ff1a fs2d fc0 sc0 ls0 ws0">strcpy(pathname, dirname);</div><div class="t m0 x8a h57 y335d ff1a fs2d fc0 sc0 ls0 ws0">if ((dp = opendir(dirname)) == NULL)</div><div class="t m0 x9d h57 y335e ff1a fs2d fc0 sc0 ls0 ws0">return(NULL);</div><div class="t m0 x8a h57 y335f ff1a fs2d fc0 sc0 ls0 ws0">strcat(pathname, &quot;/&quot;);</div><div class="t m0 x8a h57 y3360 ff1a fs2d fc0 sc0 ls0 ws0">devlen = strlen(pathname);</div><div class="t m0 x8a h57 y3361 ff1a fs2d fc0 sc0 ls0 ws0">while ((dirp = readdir(dp)) != NULL) {</div><div class="t m0 x9d h57 y3362 ff1a fs2d fc0 sc0 ls0 ws0">strncpy(pathname + devlen, dirp-&gt;d_name,</div><div class="t m0 x76 h57 y3363 ff1a fs2d fc0 sc0 ls0 ws0">_POSIX_PATH_MAX - devlen);</div><div class="t m0 x9d h57 y5134 ff1a fs2d fc0 sc0 ls0 ws0">/*</div><div class="t m0 x175 h57 y5135 ff1a fs2d fc0 sc0 ls15c ws0">*S<span class="_ _1d"></span><span class="ls0">kip aliases.</span></div><div class="t m0 x175 h57 y5136 ff1a fs2d fc0 sc0 ls0 ws0">*/</div><div class="t m0 x9d h57 y5137 ff1a fs2d fc0 sc0 ls0 ws0">if (strcmp(pathname, &quot;/dev/stdin&quot;) == 0 ||</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
