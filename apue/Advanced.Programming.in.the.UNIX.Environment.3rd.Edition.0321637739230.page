<div id="pfe6" class="pf w4 h1f" data-page-no="e6"><div class="pc pce6 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bge6.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">196<span class="_ _1b"> </span><span class="ff19">System <span class="_"> </span>Data <span class="_"> </span>Files <span class="_"> </span>and <span class="_"> </span>Information<span class="_ _114"> </span>Chapter <span class="_"> </span>6</span></div><div class="t m0 x32 h26 y12f ff19 fsf fc0 sc0 ls0 ws0">zone. <span class="_ _45"> </span>If<span class="_ _45"> </span>the <span class="_ _9"></span>variable <span class="_ _9"></span>is <span class="_ _23"></span>deﬁned <span class="_ _9"></span>to <span class="_ _9"></span>be <span class="_ _23"></span>a <span class="_ _9"></span>null <span class="_ _9"></span>string, <span class="_ _9"></span>such <span class="_ _23"></span>as<span class="_ _45"> </span><span class="ff1a">TZ=</span><span class="ls6a9">,t<span class="_ _b"></span><span class="ls0">hen <span class="_ _9"></span>UTC <span class="_ _9"></span>is <span class="_ _9"></span>normally</span></span></div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">used. <span class="_ _47"> </span>The<span class="_ _66"> </span>value <span class="_ _3"></span>of <span class="_ _2"></span>this <span class="_ _3"></span>environment <span class="_ _2"></span>variable <span class="_ _3"></span>is <span class="_ _2"></span>often <span class="_ _3"></span>something <span class="_ _2"></span>like<span class="_ _47"> </span><span class="ff1a">TZ=EST5EDT</span><span class="ls81c">,b<span class="_ _4f"></span><span class="ls0">ut</span></span></div><div class="t m0 x32 h2a y131 ff19 fsf fc0 sc0 ls0 ws0">POSIX.1 allows <span class="_ _2"></span>a <span class="_ _2"></span>much <span class="_ _2"></span>mor<span class="ls81d">ed<span class="_ _4f"></span><span class="ls0">etailed <span class="_ _2"></span>speciﬁcation.<span class="_ _61"> </span>Refer <span class="_ _2"></span>to <span class="_ _2"></span>the <span class="_ _2"></span>Environment V<span class="_ _6"></span>ariables</span></span></div><div class="t m0 x32 h2a y132 ff19 fsf fc0 sc0 ls0 ws0">chapter of <span class="_ _2"></span>the <span class="_ _2"></span>Single <span class="_ _2"></span>UNIX Speciﬁcation</div><div class="t m0 x19a h2a y1ab0 ff19 fsf fc0 sc0 ls0 ws0">[</div><div class="t m0 x45 h2a y132 ff19 fsf fc0 sc0 ls0 ws0">Open Group 2010</div><div class="t m0 xc8 h2a y1ab0 ff19 fsf fc0 sc0 ls0 ws0">]</div><div class="t m0 x12c h26 y132 ff19 fsf fc0 sc0 ls0 ws0">for all <span class="_ _2"></span>the <span class="_ _2"></span>details <span class="_ _2"></span>on the<span class="_ _47"> </span><span class="ff1a">TZ</span></div><div class="t m0 x32 h2a y133 ff19 fsf fc0 sc0 ls0 ws0">variable.</div><div class="t m0 x76 h52 y1ab1 ff19 fs2a fc0 sc0 ls0 ws0">Mor<span class="ls81e">ei<span class="_ _d"></span><span class="ls0">nformation <span class="_ _2"></span>on <span class="_ _2"></span>the<span class="_ _80"> </span><span class="ff1a">TZ<span class="_ _80"> </span></span>environment variable <span class="_ _2"></span>can <span class="_ _2"></span>be <span class="_ _3"></span>found <span class="_ _2"></span>in <span class="_ _2"></span>the<span class="_ _80"> </span><span class="ff1a">tzset</span>(3) manual <span class="_ _3"></span>page.</span></span></div><div class="t m0 x35 h53 y1ab2 ff16 fs2b fc0 sc0 ls0 ws0">6.11 <span class="_ _93"> </span>Summary</div><div class="t m0 x32 h2a ybf8 ff19 fsf fc0 sc0 ls0 ws0">The passwor<span class="ls271">dﬁ<span class="_ _4f"></span><span class="ls0">le <span class="_ _2"></span>and the <span class="_ _2"></span>group ﬁle ar<span class="ls271">eu<span class="_ _4f"></span><span class="ls0">sed <span class="_ _2"></span>on <span class="_ _2"></span>all UNIX <span class="_ _2"></span>systems.<span class="_ _46"> </span><span class="ls5f">We<span class="_ _9"></span></span>’ve <span class="_ _2"></span>looked at <span class="_ _2"></span>the</span></span></span></span></div><div class="t m0 x32 h2a ybf9 ff19 fsf fc0 sc0 ls0 ws0">various <span class="_ _53"> </span>functions <span class="_"> </span>that <span class="_ _53"> </span>read <span class="_ _53"> </span>these <span class="_ _e"> </span>ﬁles.<span class="_ _48"> </span><span class="ls5f">We<span class="_ _9"></span></span>’ve <span class="_ _e"> </span>also <span class="_ _e"> </span>talked <span class="_ _e"> </span>about <span class="_ _e"> </span>shadow <span class="_ _e"> </span>passwords,</div><div class="t m0 x32 h2a y1ab3 ff19 fsf fc0 sc0 ls0 ws0">which <span class="_ _45"> </span>can <span class="_ _47"> </span>enhance <span class="_ _45"> </span>system <span class="_ _47"> </span>security<span class="_ _6"></span><span class="ls81f">.S<span class="_ _56"></span><span class="ls0">upplementary <span class="_ _45"> </span>gr<span class="_ _0"></span>oup <span class="_ _47"> </span>IDs <span class="_ _45"> </span>provide <span class="_ _47"> </span>a <span class="_ _45"> </span>way <span class="_ _45"> </span>to</span></span></div><div class="t m0 x32 h2a y1ab4 ff19 fsf fc0 sc0 ls0 ws0">participate <span class="_ _45"> </span>in <span class="_ _47"> </span>multiple <span class="_ _45"> </span>groups <span class="_ _47"> </span>at <span class="_ _45"> </span>the <span class="_ _47"> </span>same <span class="_ _45"> </span>time.<span class="_ _5f"> </span><span class="ls5f">We <span class="_ _61"> </span>a<span class="_ _9"></span></span>lso <span class="_ _45"> </span>looked <span class="_ _47"> </span>at <span class="_ _45"> </span>how <span class="_ _45"> </span>similar</div><div class="t m0 x32 h2a y1ab5 ff19 fsf fc0 sc0 ls0 ws0">functions <span class="_ _23"> </span>ar<span class="ls820">ep<span class="_ _43"></span><span class="ls45">ro<span class="ls0">vided <span class="_ _42"> </span>by <span class="_ _23"> </span>most <span class="_ _42"> </span>systems <span class="_ _23"></span>to <span class="_ _23"> </span>access <span class="_ _42"> </span>other <span class="_ _23"> </span>system-related <span class="_ _23"></span>data <span class="_ _23"> </span>ﬁles.<span class="_ _54"> </span><span class="ls5f">We</span></span></span></span></div><div class="t m0 x32 h2a y1ab6 ff19 fsf fc0 sc0 ls0 ws0">discussed <span class="_ _2"></span>the <span class="_ _3"></span>POSIX.1 <span class="_ _2"></span>functions <span class="_ _3"></span>that <span class="_ _2"></span>programs <span class="_ _2"></span>can <span class="_ _2"></span>use <span class="_ _3"></span>to <span class="_ _3"></span>identify <span class="_ _2"></span>the <span class="_ _3"></span>system <span class="_ _2"></span>on <span class="_ _3"></span>which</div><div class="t m0 x32 h2a y1ab7 ff19 fsf fc0 sc0 ls0 ws0">they <span class="_ _42"> </span>ar<span class="_ _0"></span><span class="ls821">er<span class="_ _43"></span><span class="ls0">unning. <span class="_ _35"> </span>W<span class="_ _6"></span><span class="ls821">eﬁ<span class="_ _43"></span><span class="ls0">nished <span class="_ _23"> </span>the <span class="_ _42"> </span>chapter <span class="_ _42"> </span>by <span class="_ _42"> </span>looking <span class="_ _23"> </span>at <span class="_ _42"> </span>the <span class="_ _42"> </span>time <span class="_ _42"> </span>and <span class="_ _23"> </span>date <span class="_ _42"> </span>functions</span></span></span></span></div><div class="t m0 x32 h2a y1ab8 ff19 fsf fc0 sc0 ls0 ws0">provided by ISO C and the Single UNIX Speciﬁcation.</div><div class="t m0 x32 h53 y1ab9 ff16 fs2b fc0 sc0 ls0 ws0">Exer<span class="_ _0"></span>cises</div><div class="t m0 x32 h5f y1aba ff18 fs2d fc0 sc0 ls0 ws0">6.1<span class="_ _6e"> </span><span class="ff19">If <span class="_ _2"></span>the <span class="_ _2"></span>system uses <span class="_ _2"></span>a <span class="_ _2"></span>shadow ﬁle <span class="_ _2"></span>and <span class="_ _2"></span>we need <span class="_ _2"></span>to <span class="_ _2"></span>obtain the <span class="_ _2"></span>encrypted <span class="_ _2"></span>password, how <span class="_ _2"></span>do we</span></div><div class="t m0 x90 h5f y1abb ff19 fs2d fc0 sc0 ls0 ws0">do so?</div><div class="t m0 x32 h5f y1abc ff18 fs2d fc0 sc0 ls0 ws0">6.2<span class="_ _6e"> </span><span class="ff19">If <span class="_"> </span>you <span class="_ _53"> </span>have <span class="_ _53"> </span>superuser <span class="_"> </span>access <span class="_ _53"> </span>and <span class="_ _53"> </span>your <span class="_"> </span>system <span class="_ _53"> </span>uses <span class="_ _53"> </span>shadow <span class="_"> </span>passwor<span class="_ _0"></span>ds, <span class="_ _53"> </span>implement <span class="_"> </span>the</span></div><div class="t m0 x90 h5f y1abd ff19 fs2d fc0 sc0 ls0 ws0">previous exer<span class="_ _0"></span>cise.</div><div class="t m0 x32 h57 y1abe ff18 fs2d fc0 sc0 ls0 ws0">6.3<span class="_ _6e"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite <span class="_ _80"> </span>a <span class="_ _66"> </span>program <span class="_"> </span>that <span class="_ _66"> </span>calls<span class="_ _59"> </span><span class="ff1a">uname<span class="_ _4b"> </span></span>and <span class="_ _66"> </span>prints <span class="_ _66"> </span>all <span class="_"> </span>the <span class="_ _66"> </span>ﬁelds <span class="_ _80"> </span>in <span class="_ _66"> </span>the<span class="_ _59"> </span><span class="ff1a">utsname<span class="_ _59"> </span></span>structure.</span></span></div><div class="t m0 x90 h57 y1abf ff19 fs2d fc0 sc0 ls0 ws0">Compar<span class="ls110">et<span class="_ _d"></span><span class="ls0">he output to the output from the<span class="_"> </span><span class="ff1a">uname</span></span></span></div><div class="t m0 x19c h5f y1ac0 ff19 fs2d fc0 sc0 ls0 ws0">(</div><div class="t m0 x5d h5f y1abf ff19 fs2d fc0 sc0 ls0 ws0">1</div><div class="t m0 x117 h5f y1ac0 ff19 fs2d fc0 sc0 ls0 ws0">)</div><div class="t m0 x81 h5f y1abf ff19 fs2d fc0 sc0 ls0 ws0">command.</div><div class="t m0 x32 h57 y1ac1 ff18 fs2d fc0 sc0 ls0 ws0">6.4<span class="_ _6e"> </span><span class="ff19">Calculate <span class="_ _9"></span>the <span class="_ _9"></span>latest <span class="_ _23"></span>time <span class="_ _3"></span>that <span class="_ _23"></span>can <span class="_ _3"></span>be <span class="_ _23"></span>repr<span class="_ _1"></span>esented <span class="_ _9"></span>by <span class="_ _23"></span>the<span class="_ _47"> </span><span class="ff1a">time_t<span class="_ _47"> </span></span>data <span class="_ _9"></span>type.<span class="_ _61"> </span>After <span class="_ _23"></span>it <span class="_ _3"></span>wraps</span></div><div class="t m0 x90 h5f y1ac2 ff19 fs2d fc0 sc0 ls0 ws0">around, what happens?</div><div class="t m0 x32 h57 y1ac3 ff18 fs2d fc0 sc0 ls0 ws0">6.5<span class="_ _6e"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite a program to obtain the <span class="_ _2"></span>current time and print it <span class="_ _2"></span>using<span class="_"> </span><span class="ff1a">strftime</span>,<span class="_"> </span>so<span class="_ _80"> </span>that <span class="_ _2"></span>it looks like</span></span></div><div class="t m0 x90 h57 y1ac4 ff19 fs2d fc0 sc0 ls0 ws0">the <span class="_ _9"></span>default <span class="_ _9"></span>output <span class="_ _23"></span>fr<span class="_ _0"></span>om<span class="_ _47"> </span><span class="ff1a">date</span></div><div class="t m0 x4b h5f y1ac5 ff19 fs2d fc0 sc0 ls0 ws0">(</div><div class="t m0 x1e2 h5f y1ac4 ff19 fs2d fc0 sc0 ls0 ws0">1</div><div class="t m0 x1e3 h5f y1ac5 ff19 fs2d fc0 sc0 ls0 ws0">)</div><div class="t m0 x85 h57 y1ac4 ff19 fs2d fc0 sc0 ls822 ws0">.S<span class="_ _1d"></span><span class="ls0">et <span class="_ _9"></span>the<span class="_ _45"> </span><span class="ff1a">TZ<span class="_ _47"> </span></span>environment <span class="_ _9"></span>variable <span class="_ _9"></span>to <span class="_ _23"></span>differ<span class="_ _1"></span>ent <span class="_ _23"> </span>values <span class="_ _9"></span>and</span></div><div class="t m0 x90 h5f y1ac6 ff19 fs2d fc0 sc0 ls0 ws0">see what happens.</div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892409px;bottom:1017.888916px;width:90.803810px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
