<div id="pf103" class="pf w4 h1f" data-page-no="103"><div class="pc pc103 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg103.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>7.12<span class="_ _221"> </span>Summary<span class="_ _1b"> </span><span class="ff18">225</span></div><div class="t m0 x32 h2a y12f ff19 fsf fc0 sc0 ls0 ws0">Running this program under Fr<span class="_ _0"></span>eeBSD gives us the following output:</div><div class="t m0 x3f h57 yd36 ff1a fs2d fc0 sc0 ls0 ws0">$<span class="_"> </span><span class="ff1f">./a.out</span></div><div class="t m0 x3f h57 y1e07 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_AS <span class="_ _189"> </span>(infinite)<span class="_ _3a"> </span>(infinite)</div><div class="t m0 x3f h57 y1e08 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_CORE <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e09 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_CPU <span class="_ _8a"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e0a ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_DATA <span class="_ _8a"> </span>536870912<span class="_ _68"> </span>536870912</div><div class="t m0 x3f h57 y1e0b ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_FSIZE <span class="_ _68"> </span>(infinite)<span class="_ _3a"> </span>(infinite)</div><div class="t m0 x3f h57 y1e0c ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_MEMLOCK <span class="_"> </span>(infinite) <span class="_"> </span>(infinite)</div><div class="t m0 x3f h57 y1e0d ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_NOFILE <span class="_ _186"> </span>3520<span class="_ _186"> </span>3520</div><div class="t m0 x3f h57 y1e0e ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_NPROC <span class="_ _176"> </span>1760<span class="_ _186"> </span>1760</div><div class="t m0 x3f h57 y1e0f ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_NPTS <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e10 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_RSS <span class="_ _8a"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e11 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_SBSIZE <span class="_ _d9"> </span>(infinite)<span class="_ _3a"> </span>(infinite)</div><div class="t m0 x3f h57 y1e12 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_STACK <span class="_ _8a"> </span>67108864<span class="_ _15"> </span>67108864</div><div class="t m0 x3f h57 y1e13 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_SWAP <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e14 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_VMEM <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x32 h2a y1e15 ff19 fsf fc0 sc0 ls0 ws0">Solaris gives us the following results:</div><div class="t m0 x3f h57 y1e16 ff1a fs2d fc0 sc0 ls0 ws0">$<span class="_"> </span><span class="ff1f">./a.out</span></div><div class="t m0 x3f h57 y1e17 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_AS <span class="_ _189"> </span>(infinite)<span class="_ _3a"> </span>(infinite)</div><div class="t m0 x3f h57 y1e18 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_CORE <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e19 ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_CPU <span class="_ _8a"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e1a ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_DATA <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x3f h57 y1e1b ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_FSIZE <span class="_ _68"> </span>(infinite)<span class="_ _3a"> </span>(infinite)</div><div class="t m0 x3f h57 y1e1c ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_NOFILE <span class="_ _176"> </span>256<span class="_ _b7"> </span>65536</div><div class="t m0 x3f h57 y1e1d ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_STACK <span class="_ _189"> </span>8388608<span class="_ _3a"> </span>(infinite)</div><div class="t m0 x3f h57 y1e1e ff1a fs2d fc0 sc0 ls0 ws0">RLIMIT_VMEM <span class="_ _15"> </span>(infinite)<span class="_ _d9"> </span>(infinite)</div><div class="t m0 x32 h49 y1e1f ff19 fs26 fc0 sc0 ls0 ws0">Exercise 10.1<span class="_ _6"></span><span class="lsd3">1c<span class="_ _5"></span><span class="ls0">ontinues the discussion of resour<span class="_ _1"></span>ce limits, after we’ve covered signals.</span></span></div><div class="t m0 x35 h4b y1e20 ff16 fs27 fc0 sc0 ls0 ws0">7.12 <span class="_ _93"> </span>Summary</div><div class="t m0 x32 h49 y1e21 ff19 fs26 fc0 sc0 ls0 ws0">Understanding the environment of a C program within a UNIX system’s environment is</div><div class="t m0 x32 h49 y1e22 ff19 fs26 fc0 sc0 ls901 ws0">ap<span class="_ _d"></span><span class="ls0">rer<span class="_ _0"></span>equisite to understanding the <span class="_ _2"></span>process control featur<span class="_ _0"></span>es of the UNIX <span class="_ _2"></span>System.<span class="_ _46"> </span>In this</span></div><div class="t m0 x32 h49 y1e23 ff19 fs26 fc0 sc0 ls0 ws0">chapter<span class="_ _6"></span><span class="ls902">,w<span class="_ _b"></span><span class="ls0">e’ve <span class="_ _23"></span>looked <span class="_ _23"></span>at <span class="_ _23"></span>how <span class="_ _23"> </span>a <span class="_ _23"> </span>process <span class="_ _23"></span>is <span class="_ _23"> </span>started, <span class="_ _23"> </span>how <span class="_ _23"> </span>it <span class="_ _42"> </span>can <span class="_ _23"></span>terminate, <span class="_ _23"></span>and <span class="_ _23"> </span>how <span class="_ _23"> </span>it’s</span></span></div><div class="t m0 x32 h49 y1e24 ff19 fs26 fc0 sc0 ls0 ws0">passed <span class="_ _2"></span>an <span class="_ _3"></span>argument <span class="_ _3"></span>list <span class="_ _2"></span>and <span class="_ _3"></span>an <span class="_ _3"></span>environment. <span class="_ _47"> </span>Although<span class="_ _47"> </span>both <span class="_ _2"></span>the <span class="_ _3"></span>argument <span class="_ _3"></span>list <span class="_ _2"></span>and <span class="_ _3"></span>the</div><div class="t m0 x32 h49 y1e25 ff19 fs26 fc0 sc0 ls0 ws0">environment <span class="_ _3"></span>ar<span class="ls903">eu<span class="_ _b"></span><span class="ls0">ninterpreted <span class="_ _3"></span>by <span class="_ _9"></span>the <span class="_ _9"></span>kernel, <span class="_ _9"></span>it <span class="_ _9"></span>is <span class="_ _9"></span>the <span class="_ _9"></span>kernel <span class="_ _9"></span>that <span class="_ _9"></span>passes <span class="_ _9"></span>both <span class="_ _9"></span>from <span class="_ _9"></span>the</span></span></div><div class="t m0 x32 h4d y1e26 ff19 fs26 fc0 sc0 ls0 ws0">caller of<span class="_"> </span><span class="ff1a">exec<span class="_ _80"> </span></span>to the new process.</div><div class="t m0 x3f h49 y1e27 ff19 fs26 fc0 sc0 ls164 ws0">We<span class="_ _9"></span><span class="ls0">’ve <span class="_ _23"> </span>also <span class="_ _42"> </span>examined <span class="_ _23"> </span>the <span class="_ _42"> </span>typical <span class="_ _23"></span>memory <span class="_ _23"> </span>layout <span class="_ _42"> </span>of <span class="_ _23"> </span>a <span class="_ _42"> </span>C <span class="_ _23"></span>program <span class="_ _23"></span>and <span class="_ _23"> </span>seen <span class="_ _42"> </span>how <span class="_ _23"></span>a</span></div><div class="t m0 x32 h49 y1e28 ff19 fs26 fc0 sc0 ls0 ws0">process <span class="_ _2"></span>can <span class="_ _3"></span>dynamically <span class="_ _3"></span>allocate <span class="_ _3"></span>and <span class="_ _3"></span>free <span class="_ _2"></span>memory<span class="_ _6"></span><span class="ls904">.I<span class="_ _1d"></span><span class="ls0">t<span class="_ _47"> </span>is<span class="_ _47"> </span>worthwhile <span class="_ _3"></span>to <span class="_ _3"></span>look <span class="_ _3"></span>in <span class="_ _3"></span>detail <span class="_ _3"></span>at</span></span></div><div class="t m0 x32 h49 y1e29 ff19 fs26 fc0 sc0 ls0 ws0">the <span class="_ _23"></span>functions <span class="_ _23"></span>available <span class="_ _23"></span>for <span class="_ _23"></span>manipulating <span class="_ _23"></span>the <span class="_ _23"></span>envir<span class="_ _0"></span>onment, <span class="_ _23"></span>since <span class="_ _23"></span>they <span class="_ _23"></span>involve <span class="_ _23"></span>memory</div><div class="t m0 x32 h4d y1e2a ff19 fs26 fc0 sc0 ls0 ws0">allocation. <span class="_ _35"> </span>The<span class="_ _44"> </span>functions<span class="_ _44"> </span><span class="ff1a">setjmp<span class="_ _35"> </span></span>and<span class="_ _44"> </span><span class="ff1a">longjmp<span class="_ _35"> </span></span>wer<span class="ls905">ep<span class="_ _43"></span><span class="lscc">re<span class="ls0">sented, <span class="_ _42"> </span>providing <span class="_ _23"> </span>a <span class="_ _42"> </span>way <span class="_ _42"> </span>to</span></span></span></div><div class="t m0 x32 h49 y1e2b ff19 fs26 fc0 sc0 ls0 ws0">perform nonlocal branching <span class="_ _2"></span>within a process. <span class="_"> </span>W<span class="_ _6"></span><span class="ls906">eﬁ<span class="_ _d"></span><span class="ls0">nished the <span class="_ _2"></span>chapter by describing <span class="_ _2"></span>the</span></span></div><div class="t m0 x32 h49 y1e2c ff19 fs26 fc0 sc0 lscc ws0">re<span class="ls0">source limits that various implementations provide.</span></div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.892634px;bottom:488.940905px;width:90.804695px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
