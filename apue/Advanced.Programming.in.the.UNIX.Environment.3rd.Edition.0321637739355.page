<div id="pf163" class="pf w4 h1f" data-page-no="163"><div class="pc pc163 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="apue/bg163.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>10.2<span class="_ _24c"> </span>Signal <span class="_"> </span>Concepts<span class="_ _1b"> </span><span class="ff18">321</span></div><div class="t m0 x32 h26 y12f ff1a fsf fc0 sc0 ls0 ws0">SIGTERM<span class="_ _215"> </span><span class="ff19">This <span class="_ _9"></span>is <span class="_ _9"></span>the <span class="_ _23"></span>termination <span class="_ _9"></span>signal <span class="_ _9"></span>sent <span class="_ _9"></span>by <span class="_ _9"></span>the<span class="_ _45"> </span></span>kill</div><div class="t m0 xfd h2a y1ac ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 xc h2a y12f ff19 fsf fc0 sc0 ls0 ws0">1</div><div class="t m0 x213 h2a y1ac ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x15a h2a y12f ff19 fsf fc0 sc0 ls0 ws0">command <span class="_ _9"></span>by <span class="_ _9"></span>default.</div><div class="t m0 x148 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">Because it <span class="_ _2"></span>can <span class="_ _2"></span>be caught <span class="_ _2"></span>by <span class="_ _2"></span>applications, using<span class="_ _47"> </span><span class="ff1a">SIGTERM<span class="_ _80"> </span></span>gives <span class="_ _2"></span>programs</div><div class="t m0 x148 h2a y131 ff19 fsf fc0 sc0 lsbc2 ws0">ac<span class="_ _7"></span><span class="ls0">hance <span class="_ _35"> </span>to <span class="_ _35"> </span>terminate <span class="_ _35"> </span>gracefully <span class="_ _35"> </span>by <span class="_ _35"> </span>cleaning <span class="_ _45"> </span>up <span class="_ _35"> </span>befor<span class="lsbc2">ee<span class="_ _7"></span><span class="ls0">xiting <span class="_ _35"> </span>(in</span></span></span></div><div class="t m0 x148 h26 y132 ff19 fsf fc0 sc0 ls0 ws0">contrast to<span class="_"> </span><span class="ff1a">SIGKILL</span><span class="ls44">,w<span class="_ _d"></span><span class="ls0">hich can’t be caught or ignored).</span></span></div><div class="t m0 x32 h26 y2936 ff1a fsf fc0 sc0 ls0 ws0">SIGTHAW<span class="_ _215"> </span><span class="ff19">This <span class="_ _2"></span>signal <span class="_ _3"></span>is <span class="_ _2"></span>deﬁned <span class="_ _3"></span>only <span class="_ _2"></span>by <span class="_ _3"></span>Solaris <span class="_ _2"></span>and <span class="_ _3"></span>is <span class="_ _2"></span>used <span class="_ _3"></span>to <span class="_ _2"></span>notify <span class="_ _3"></span>processes <span class="_ _2"></span>that</span></div><div class="t m0 x148 h2a y2914 ff19 fsf fc0 sc0 ls0 ws0">need <span class="_"> </span>to <span class="_"> </span>take <span class="_ _e"> </span>special <span class="_"> </span>action <span class="_"> </span>when <span class="_"> </span>the <span class="_ _e"> </span>system <span class="_"> </span>resumes <span class="_ _e"> </span>operation <span class="_"> </span>after</div><div class="t m0 x148 h2a y2915 ff19 fsf fc0 sc0 ls0 ws0">being suspended.</div><div class="t m0 x32 h26 y1151 ff1a fsf fc0 sc0 ls0 ws0">SIGTHR<span class="_ _171"> </span><span class="ff19">This <span class="_ _23"></span>is <span class="_ _9"></span>a <span class="_ _23"></span>signal <span class="_ _9"></span>reserved <span class="_ _9"></span>for <span class="_ _9"></span>use <span class="_ _23"></span>by <span class="_ _9"></span>the <span class="_ _23"></span>thread <span class="_ _9"></span>library <span class="_ _9"></span>on <span class="_ _23"></span>FreeBSD. <span class="_ _45"> </span>It<span class="_ _45"> </span>is</span></div><div class="t m0 x148 h26 y1152 ff19 fsf fc0 sc0 ls0 ws0">deﬁned to have the same value as<span class="_"> </span><span class="ff1a">SIGLWP</span>.</div><div class="t m0 x32 h26 y1d3 ff1a fsf fc0 sc0 ls0 ws0">SIGTRAP<span class="_ _215"> </span><span class="ff19">This signal indicates an implementation-deﬁned hardwar<span class="_ _0"></span><span class="ls44">ef<span class="_ _d"></span><span class="ls0">ault.</span></span></span></div><div class="t m0 x36 h51 y2951 ff19 fs2a fc0 sc0 ls0 ws0">The <span class="_ _9"> </span>signal <span class="_ _23"> </span>name <span class="_ _23"> </span>comes <span class="_ _9"></span>from <span class="_ _9"> </span>the <span class="_ _23"> </span>PDP</div><div class="t m0 x1cb h51 y2952 ff19 fs2a fc0 sc0 ls0 ws0">-</div><div class="t m0 x104 h51 y2951 ff19 fs2a fc0 sc0 ls341 ws0">11 <span class="_ _53"> </span>T<span class="_ _3"></span><span class="ls0">RAP <span class="_ _9"> </span>instruction. <span class="_ _47"> </span>Implementations</span></div><div class="t m0 x36 h51 y2953 ff19 fs2a fc0 sc0 ls0 ws0">often <span class="_ _e"> </span>use <span class="_ _80"> </span>this <span class="_ _80"> </span>signal <span class="_ _e"> </span>to <span class="_ _80"> </span>transfer <span class="_ _80"> </span>control <span class="_"> </span>to <span class="_ _80"> </span>a <span class="_ _80"> </span>debugger <span class="_ _e"> </span>when <span class="_ _80"> </span>a <span class="_ _80"> </span>breakpoint</div><div class="t m0 x36 h51 y2954 ff19 fs2a fc0 sc0 ls0 ws0">instruction is executed.</div><div class="t m0 x32 h26 y2955 ff1a fsf fc0 sc0 ls0 ws0">SIGTSTP<span class="_ _215"> </span><span class="ff19">This <span class="_ _3"></span>interactive <span class="_ _3"></span>stop <span class="_ _9"></span>signal <span class="_ _3"></span>is <span class="_ _3"></span>generated <span class="_ _3"></span>by <span class="_ _3"></span>the <span class="_ _9"></span>terminal <span class="_ _3"></span>driver <span class="_ _3"></span>when <span class="_ _3"></span>we</span></div><div class="t m0 x148 h2a y2956 ff19 fsf fc0 sc0 ls0 ws0">press <span class="_ _9"></span>the <span class="_ _9"></span>terminal <span class="_ _23"> </span>suspend <span class="_ _23"></span>key <span class="_ _9"></span>(often <span class="_ _23"></span>Control</div><div class="t m0 x98 h2a y2957 ff19 fsf fc0 sc0 ls0 ws0">-</div><div class="t m0 x1 h2a y2956 ff19 fsf fc0 sc0 ls0 ws0">Z). <span class="_ _45"> </span>This<span class="_ _35"> </span>signal <span class="_ _9"></span>is <span class="_ _23"></span>sent <span class="_ _9"></span>to</div><div class="t m0 x148 h2a y2958 ff19 fsf fc0 sc0 ls0 ws0">all processes in the for<span class="_ _0"></span>egr<span class="_ _0"></span>ound process gr<span class="_ _0"></span>oup (refer to Figur<span class="_ _1"></span><span class="ls44">e9<span class="_ _5"></span><span class="ls0">.9).</span></span></div><div class="t m0 x36 h76 y2959 ff19 fs2a fc0 sc0 ls0 ws0">Unfortunately<span class="_ _6"></span><span class="ls105">,t<span class="_ _c"></span><span class="ls0">he <span class="_ _80"> </span>term<span class="_ _4b"> </span><span class="ff1b">stop<span class="_ _44"> </span></span>has <span class="_ _66"> </span>differ<span class="_ _0"></span>ent <span class="_ _80"> </span>meanings.<span class="_ _51"> </span>When <span class="_ _80"> </span>discussing <span class="_ _66"> </span>job</span></span></div><div class="t m0 x36 h51 y295a ff19 fs2a fc0 sc0 ls0 ws0">control <span class="_ _2"></span>and <span class="_ _3"></span>signals, <span class="_ _3"></span>we <span class="_ _3"></span>talk <span class="_ _3"></span>about <span class="_ _9"></span>stopping <span class="_ _2"></span>and <span class="_ _9"></span>continuing <span class="_ _2"></span>jobs.<span class="_ _59"> </span>The <span class="_ _3"></span>terminal</div><div class="t m0 x36 h76 y295b ff19 fs2a fc0 sc0 ls0 ws0">driver<span class="_ _1"></span><span class="lsbc3">,h<span class="_ _b"></span><span class="ls0">owever<span class="_ _1"></span><span class="lsbc3">,h<span class="_ _b"></span><span class="ls0">as <span class="_ _23"> </span>historically <span class="_ _42"> </span>used <span class="_ _42"> </span>the <span class="_ _42"> </span>term<span class="_ _45"> </span><span class="ff1b">stop<span class="_ _45"> </span></span>to <span class="_ _42"> </span>refer <span class="_ _23"> </span>to <span class="_ _42"> </span>stopping <span class="_ _23"> </span>and</span></span></span></span></div><div class="t m0 x36 h51 y295c ff19 fs2a fc0 sc0 ls0 ws0">starting <span class="_"> </span>the <span class="_ _80"> </span>terminal <span class="_"> </span>output <span class="_ _80"> </span>using <span class="_"> </span>the <span class="_ _80"> </span>Control</div><div class="t m0 x13d h51 y295d ff19 fs2a fc0 sc0 ls0 ws0">-</div><div class="t m0 xbb h51 y295c ff19 fs2a fc0 sc0 lsbc4 ws0">Sa<span class="_ _c"></span><span class="ls0">nd <span class="_ _80"> </span>Control</span></div><div class="t m0 xf9 h51 y295d ff19 fs2a fc0 sc0 ls0 ws0">-</div><div class="t m0 x70 h51 y295c ff19 fs2a fc0 sc0 lsbc4 ws0">Qc<span class="_ _c"></span><span class="ls0">haracters.</span></div><div class="t m0 x36 h51 y295e ff19 fs2a fc0 sc0 ls0 ws0">Therefor<span class="_ _0"></span>e, <span class="_ _3"></span>the <span class="_ _9"></span>terminal <span class="_ _9"></span>driver <span class="_ _9"></span>calls <span class="_ _3"></span>the <span class="_ _9"></span>character <span class="_ _9"></span>that <span class="_ _3"></span>generates <span class="_ _9"></span>the <span class="_ _9"></span>interactive</div><div class="t m0 x36 h51 y295f ff19 fs2a fc0 sc0 ls0 ws0">stop signal the suspend character<span class="_ _1"></span><span class="lse9">,n<span class="_ _84"></span><span class="ls0">ot the stop character<span class="_ _1"></span>.</span></span></div><div class="t m0 x32 h26 y4a6 ff1a fsf fc0 sc0 ls0 ws0">SIGTTIN<span class="_ _215"> </span><span class="ff19">This <span class="_"> </span>signal <span class="_ _66"> </span>is <span class="_"> </span>generated <span class="_ _66"> </span>by <span class="_ _66"> </span>the <span class="_"> </span>terminal <span class="_ _66"> </span>driver <span class="_ _66"> </span>when <span class="_"> </span>a <span class="_ _66"> </span>process <span class="_"> </span>in <span class="_"> </span>a</span></div><div class="t m0 x148 h2a y4a7 ff19 fsf fc0 sc0 ls0 ws0">background <span class="_ _e"> </span>process <span class="_ _e"> </span>group <span class="_"> </span>tries <span class="_ _e"> </span>to <span class="_"> </span>read <span class="_ _e"> </span>from <span class="_ _e"> </span>its <span class="_"> </span>controlling <span class="_ _e"> </span>terminal.</div><div class="t m0 x148 h2a y2960 ff19 fsf fc0 sc0 ls0 ws0">(Refer <span class="_ _9"></span>to <span class="_ _23"></span>the <span class="_ _9"></span>discussion <span class="_ _23"> </span>of <span class="_ _23"></span>this <span class="_ _9"></span>topic <span class="_ _23"></span>in <span class="_ _9"></span>Section <span class="_ _23"></span>9.8.)<span class="_ _5a"> </span>As <span class="_ _23"></span>special <span class="_ _9"></span>cases, <span class="_ _23"></span>if</div><div class="t m0 x148 h2a y4a8 ff19 fsf fc0 sc0 ls0 ws0">either (a) <span class="_ _2"></span>the <span class="_ _2"></span>reading process is <span class="_ _2"></span>ignoring <span class="_ _2"></span>or <span class="_ _2"></span>blocking <span class="_ _2"></span>this signal <span class="_ _2"></span>or <span class="_ _2"></span>(b) <span class="_ _2"></span>the</div><div class="t m0 x148 h2a y4a9 ff19 fsf fc0 sc0 ls0 ws0">process <span class="_ _3"></span>group <span class="_ _9"></span>of <span class="_ _9"></span>the <span class="_ _9"></span>reading <span class="_ _9"></span>process <span class="_ _3"></span>is <span class="_ _9"></span>orphaned, <span class="_ _9"></span>then <span class="_ _23"></span>the <span class="_ _9"></span>signal <span class="_ _9"></span>is <span class="_ _9"></span>not</div><div class="t m0 x148 h26 y4aa ff19 fsf fc0 sc0 ls0 ws0">generated; instead, the read operation fails with<span class="_"> </span><span class="ff1a">errno<span class="_ _80"> </span></span>set to<span class="_"> </span><span class="ff1a">EIO</span>.</div><div class="t m0 x32 h26 y2961 ff1a fsf fc0 sc0 ls0 ws0">SIGTTOU<span class="_ _215"> </span><span class="ff19">This <span class="_"> </span>signal <span class="_ _66"> </span>is <span class="_"> </span>generated <span class="_ _66"> </span>by <span class="_ _66"> </span>the <span class="_"> </span>terminal <span class="_ _66"> </span>driver <span class="_ _66"> </span>when <span class="_"> </span>a <span class="_ _66"> </span>process <span class="_"> </span>in <span class="_"> </span>a</span></div><div class="t m0 x148 h2a y2962 ff19 fsf fc0 sc0 ls0 ws0">background process group tries <span class="_ _2"></span>to <span class="_ _2"></span>write <span class="_ _2"></span>to <span class="_ _2"></span>its <span class="_ _2"></span>controlling <span class="_ _2"></span>terminal.<span class="_ _61"> </span>(This</div><div class="t m0 x148 h2a y2963 ff19 fsf fc0 sc0 ls0 ws0">is <span class="_ _42"> </span>discussed <span class="_ _42"> </span>in <span class="_ _42"> </span>Section <span class="_ _53"> </span>9.8.)<span class="_ _54"> </span>Unlike <span class="_ _42"> </span>the <span class="_ _42"> </span>case <span class="_ _53"> </span>with <span class="_ _42"> </span>background <span class="_ _42"> </span>reads, <span class="_ _23"> </span>a</div><div class="t m0 x148 h2a y2964 ff19 fsf fc0 sc0 ls0 ws0">process <span class="_ _44"> </span>can <span class="_ _44"> </span>choose <span class="_ _44"> </span>to <span class="_ _44"> </span>allow <span class="_ _4b"> </span>background <span class="_ _35"> </span>writes <span class="_ _4b"> </span>to <span class="_ _44"> </span>the <span class="_ _44"> </span>controlling</div><div class="t m0 x148 h2a y2965 ff19 fsf fc0 sc0 ls0 ws0">terminal. <span class="_"> </span>W<span class="_ _6"></span><span class="ls44">ed<span class="_ _d"></span><span class="ls0">escribe how to modify this option in Chapter 18.</span></span></div><div class="t m0 x148 h26 y2966 ff19 fsf fc0 sc0 ls0 ws0">If <span class="_"> </span>background <span class="_"> </span>writes <span class="_"> </span>ar<span class="_ _1"></span><span class="lsbc5">en<span class="_ _4a"></span><span class="ls0">ot <span class="_"> </span>allowed, <span class="_"> </span>then <span class="_"> </span>like <span class="_"> </span>the<span class="_ _46"> </span><span class="ff1a">SIGTTIN<span class="_ _46"> </span></span>signal,</span></span></div><div class="t m0 x148 h2a y2967 ff19 fsf fc0 sc0 ls0 ws0">ther<span class="lsbc6">ea<span class="_ _8"></span><span class="ls45">re <span class="_ _9"></span>t<span class="ls0">wo <span class="_ _3"></span>special <span class="_ _2"></span>cases: <span class="_ _3"></span>if <span class="_ _3"></span>either <span class="_ _2"></span>(a) <span class="_ _3"></span>the <span class="_ _3"></span>writing <span class="_ _2"></span>process <span class="_ _2"></span>is <span class="_ _3"></span>ignoring <span class="_ _2"></span>or</span></span></span></div><div class="t m0 x148 h2a y2968 ff19 fsf fc0 sc0 ls0 ws0">blocking <span class="_ _53"> </span>this <span class="_ _53"> </span>signal <span class="_ _53"> </span>or <span class="_ _e"> </span>(b) <span class="_ _53"> </span>the <span class="_ _53"> </span>process <span class="_ _53"> </span>group <span class="_ _53"> </span>of <span class="_ _53"> </span>the <span class="_ _53"> </span>writing <span class="_ _53"> </span>process <span class="_ _53"> </span>is</div><div class="t m0 x148 h2a y2969 ff19 fsf fc0 sc0 ls0 ws0">orphaned, <span class="_ _23"></span>then <span class="_ _9"></span>the <span class="_ _23"> </span>signal <span class="_ _23"></span>is <span class="_ _9"></span>not <span class="_ _23"> </span>generated; <span class="_ _23"></span>instead, <span class="_ _23"></span>the <span class="_ _9"></span>write <span class="_ _23"> </span>operation</div><div class="t m0 x148 h26 y296a ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">turns an error with<span class="_"> </span><span class="ff1a">errno<span class="_ _80"> </span></span>set to<span class="_"> </span><span class="ff1a">EIO</span>.</span></div><div class="t m0 x148 h2a y296b ff19 fsf fc0 sc0 ls0 ws0">Regardless <span class="_ _23"></span>of <span class="_ _23"></span>whether <span class="_ _23"> </span>background <span class="_ _23"> </span>writes <span class="_ _42"> </span>ar<span class="_ _0"></span><span class="lsbc7">ea<span class="_ _43"></span><span class="ls0">llowed, <span class="_ _23"> </span>certain <span class="_ _42"> </span>terminal</span></span></div><div class="t m0 x148 h26 y296c ff19 fsf fc0 sc0 ls0 ws0">operations <span class="_ _53"> </span>(other <span class="_ _53"> </span>than <span class="_ _53"> </span>writing) <span class="_ _53"> </span>can <span class="_ _53"> </span>also <span class="_ _53"> </span>generate <span class="_ _53"> </span>the<span class="_ _4b"> </span><span class="ff1a">SIGTTOU<span class="_ _4b"> </span></span>signal.</div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
