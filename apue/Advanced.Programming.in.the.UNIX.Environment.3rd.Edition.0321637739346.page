<div id="pf15a" class="pf w4 h1f" data-page-no="15a"><div class="pc pc15a w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg15a.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff18 fs0 fc0 sc0 ls0 ws0">312<span class="_ _1b"> </span><span class="ff19">Process <span class="_"> </span>Relationships<span class="_ _18d"> </span>Chapter <span class="_"> </span>9</span></div><div class="t m0 x3f h26 y12f ff19 fsf fc0 sc0 ls0 ws0">The<span class="_"> </span><span class="ff1a">proc<span class="_ _80"> </span></span>structur<span class="ls44">ec<span class="_ _4f"></span><span class="ls0">ontains all the information for a single process.</span></span></div><div class="t m0 x3f h26 yce9 ff19 fsf fc0 sc0 ls0 ws0">•<span class="_ _5c"> </span><span class="ff1a">p_pid<span class="_ _66"> </span></span>contains the process ID.</div><div class="t m0 x3f h26 y2860 ff19 fsf fc0 sc0 ls0 ws0">•<span class="_ _5c"> </span><span class="ff1a">p_pptr<span class="_ _66"> </span></span>is a pointer to the<span class="_"> </span><span class="ff1a">proc<span class="_ _80"> </span></span>structure<span class="_"> </span>of<span class="_"> </span>the parent pr<span class="_ _1"></span>ocess.</div><div class="t m0 x3f h26 y2861 ff19 fsf fc0 sc0 ls0 ws0">•<span class="_ _5c"> </span><span class="ff1a">p_pgrp<span class="_ _45"> </span></span>points <span class="_ _2"></span>to <span class="_ _3"></span>the<span class="_ _47"> </span><span class="ff1a">pgrp<span class="_ _47"> </span></span>structure<span class="_ _47"> </span>of<span class="_ _47"> </span>the <span class="_ _3"></span>process <span class="_ _2"></span>group <span class="_ _2"></span>to <span class="_ _3"></span>which <span class="_ _3"></span>this <span class="_ _3"></span>process</div><div class="t m0 x15 h2a y735 ff19 fsf fc0 sc0 ls0 ws0">belongs.</div><div class="t m0 x3f h26 y284d ff19 fsf fc0 sc0 ls0 ws0">•<span class="_ _5c"> </span><span class="ff1a">p_pglist<span class="_ _45"> </span></span>is <span class="_ _3"></span>a <span class="_ _3"></span>structur<span class="lsb6f">ec<span class="_ _b"></span><span class="ls0">ontaining <span class="_ _3"></span>pointers <span class="_ _9"></span>to <span class="_ _3"></span>the <span class="_ _3"></span>next <span class="_ _9"></span>and <span class="_ _3"></span>previous <span class="_ _3"></span>processes</span></span></div><div class="t m0 x15 h2a y284e ff19 fsf fc0 sc0 ls0 ws0">in the process gr<span class="_ _0"></span>oup, as we mentioned earlier<span class="_ _6"></span>.</div><div class="t m0 x3f h26 ye9d ff19 fsf fc0 sc0 ls0 ws0">Finally<span class="_ _4"></span>,<span class="_ _54"> </span>we<span class="_ _54"> </span>have <span class="_ _44"> </span>the<span class="_ _54"> </span><span class="ff1a">vnode<span class="_ _54"> </span></span>structur<span class="_ _0"></span>e. <span class="_ _54"> </span>This<span class="_ _54"> </span>structur<span class="_ _0"></span>e<span class="_ _54"> </span>is<span class="_ _54"> </span>allocated <span class="_ _44"> </span>when <span class="_ _35"> </span>the</div><div class="t m0 x32 h26 ye9e ff19 fsf fc0 sc0 ls0 ws0">controlling <span class="_ _e"> </span>terminal <span class="_"> </span>device <span class="_ _e"> </span>is <span class="_"> </span>opened.<span class="_ _48"> </span>All <span class="_"> </span>refer<span class="_ _0"></span>ences <span class="_ _e"> </span>to<span class="_ _59"> </span><span class="ff1a">/dev/tty<span class="_ _46"> </span></span>in <span class="_"> </span>a <span class="_ _e"> </span>process <span class="_ _e"> </span>go</div><div class="t m0 x32 h26 ye9f ff19 fsf fc0 sc0 ls0 ws0">through this<span class="_"> </span><span class="ff1a">vnode<span class="_ _80"> </span></span>structur<span class="_ _0"></span>e.</div><div class="t m0 x35 h53 y2862 ff16 fs2b fc0 sc0 ls0 ws0">9.12 <span class="_ _93"> </span>Summary</div><div class="t m0 x32 h2a y2863 ff19 fsf fc0 sc0 ls0 ws0">This <span class="_ _53"> </span>chapter <span class="_ _53"> </span>has <span class="_ _53"> </span>described <span class="_ _e"> </span>the <span class="_ _53"> </span>relationships <span class="_ _53"> </span>between <span class="_ _53"> </span>groups <span class="_ _53"> </span>of <span class="_ _53"> </span>processes <span class="_ _84"></span>— <span class="_ _4"></span>sessions,</div><div class="t m0 x32 h2a y2864 ff19 fsf fc0 sc0 ls0 ws0">which ar<span class="lsa66">em<span class="_ _4f"></span><span class="ls0">ade <span class="_ _2"></span>up <span class="_ _2"></span>of <span class="_ _2"></span>process groups. <span class="_"> </span>Job<span class="_ _47"> </span>control is <span class="_ _2"></span>a <span class="_ _2"></span>featur<span class="lsa66">es<span class="_ _8"></span><span class="ls0">upported <span class="_ _2"></span>by <span class="_ _2"></span>most <span class="_ _2"></span>UNIX</span></span></span></span></div><div class="t m0 x32 h2a y2865 ff19 fsf fc0 sc0 ls0 ws0">systems <span class="_ _9"></span>today<span class="_ _4"></span><span class="lsb70">,a<span class="_ _b"></span><span class="ls0">nd <span class="_ _9"></span>we’ve <span class="_ _9"></span>described <span class="_ _9"></span>how <span class="_ _9"></span>it’s <span class="_ _9"></span>implemented <span class="_ _9"></span>by <span class="_ _23"></span>a <span class="_ _3"></span>shell <span class="_ _9"></span>that <span class="_ _9"></span>supports <span class="_ _9"></span>job</span></span></div><div class="t m0 x32 h26 y2866 ff19 fsf fc0 sc0 ls0 ws0">control. <span class="_ _44"> </span>The<span class="_ _44"> </span>controlling <span class="_ _53"> </span>terminal <span class="_ _53"> </span>for <span class="_ _53"> </span>a <span class="_ _53"> </span>process,<span class="_ _44"> </span><span class="ff1a">/dev/tty</span>,<span class="_ _44"> </span>is<span class="_ _4b"> </span>also <span class="_ _53"> </span>involved <span class="_ _53"> </span>in <span class="_ _53"> </span>these</div><div class="t m0 x32 h2a y2867 ff19 fsf fc0 sc0 ls0 ws0">process r<span class="_ _0"></span>elationships.</div><div class="t m0 x3f h2a y2868 ff19 fsf fc0 sc0 ls5f ws0">We<span class="_ _9"></span><span class="ls0">’ve <span class="_ _23"> </span>made <span class="_ _42"> </span>numerous <span class="_ _23"></span>refer<span class="_ _0"></span>ences <span class="_ _23"> </span>to <span class="_ _23"> </span>the <span class="_ _42"> </span>signals <span class="_ _23"> </span>that <span class="_ _42"> </span>ar<span class="ls26a">eu<span class="_ _43"></span><span class="ls0">sed <span class="_ _23"></span>in <span class="_ _23"> </span>all <span class="_ _42"> </span>these <span class="_ _23"> </span>process</span></span></span></div><div class="t m0 x32 h2a y2869 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">lationships. <span class="_ _44"> </span>The<span class="_ _35"> </span>next <span class="_ _42"> </span>chapter <span class="_ _23"> </span>continues <span class="_ _42"> </span>the <span class="_ _42"> </span>discussion <span class="_ _23"> </span>of <span class="_ _42"> </span>signals, <span class="_ _42"> </span>looking <span class="_ _23"> </span>at <span class="_ _42"> </span>all <span class="_ _42"> </span>the</span></div><div class="t m0 x32 h2a y286a ff19 fsf fc0 sc0 ls0 ws0">UNIX System signals in detail.</div><div class="t m0 x32 h53 y286b ff16 fs2b fc0 sc0 ls0 ws0">Exer<span class="_ _0"></span>cises</div><div class="t m0 x32 h57 y286c ff18 fs2d fc0 sc0 ls0 ws0">9.1<span class="_ _6e"> </span><span class="ff19">Refer <span class="_ _3"></span>back <span class="_ _3"></span>to <span class="_ _3"></span>our <span class="_ _2"></span>discussion <span class="_ _3"></span>of <span class="_ _3"></span>the<span class="_ _66"> </span><span class="ff1a">utmp<span class="_ _47"> </span></span>and<span class="_ _66"> </span><span class="ff1a">wtmp<span class="_ _66"> </span></span>ﬁles <span class="_ _3"></span>in <span class="_ _2"></span>Section <span class="_ _3"></span>6.8.<span class="_ _46"> </span>Why <span class="_ _3"></span>ar<span class="lsb71">et<span class="_ _4f"></span><span class="ls0">he <span class="_ _2"></span>logout</span></span></span></div><div class="t m0 x90 h57 y286d ff19 fs2d fc0 sc0 ls1e7 ws0">re<span class="ls0">cords written by the<span class="_"> </span><span class="ff1a">init<span class="_ _e"> </span></span>process? <span class="_"> </span>Is<span class="_"> </span>this handled the same way for a network login?</span></div><div class="t m0 x32 h57 y286e ff18 fs2d fc0 sc0 ls0 ws0">9.2<span class="_ _6e"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite <span class="_ _9"></span>a <span class="_ _9"></span>small <span class="_ _9"></span>program <span class="_ _9"></span>that <span class="_ _9"></span>calls<span class="_ _45"> </span><span class="ff1a">fork<span class="_ _47"> </span></span>and <span class="_ _9"></span>has <span class="_ _9"></span>the <span class="_ _23"> </span>child <span class="_ _9"></span>create <span class="_ _3"></span>a <span class="_ _23"> </span>new <span class="_ _9"></span>session.<span class="_ _61"> </span><span class="ls1e5">Ve<span class="_"> </span></span>rify <span class="_ _3"></span>that</span></span></div><div class="t m0 x90 h5f y286f ff19 fs2d fc0 sc0 ls0 ws0">the <span class="_ _42"> </span>child <span class="_ _42"> </span>becomes <span class="_ _23"> </span>a <span class="_ _42"> </span>process <span class="_ _42"> </span>group <span class="_ _23"> </span>leader <span class="_ _42"> </span>and <span class="_ _42"> </span>that <span class="_ _42"> </span>the <span class="_ _42"> </span>child <span class="_ _23"> </span>no <span class="_ _42"> </span>longer <span class="_ _42"> </span>has <span class="_ _42"> </span>a <span class="_ _42"> </span>controlling</div><div class="t m0 x90 h5f y2870 ff19 fs2d fc0 sc0 ls0 ws0">terminal.</div><a class="l" href="#pff" data-dest-detail='[15,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.890952px;bottom:860.808878px;width:90.804504px;height:19.680023px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
