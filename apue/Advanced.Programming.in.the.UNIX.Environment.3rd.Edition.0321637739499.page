<div id="pf1f3" class="pf w4 h1f" data-page-no="1f3"><div class="pc pc1f3 w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg1f3.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Section <span class="_"> </span>13.2<span class="_ _299"> </span>Daemon <span class="_"> </span>Characteristics<span class="_ _1b"> </span><span class="ff18">465</span></div><div class="t m0 x3f h26 y12f ff19 fsf fc0 sc0 ls0 ws0">In <span class="_ _47"> </span>the <span class="_ _47"> </span>sample<span class="_ _61"> </span><span class="ff1a">ps<span class="_ _16"> </span></span>output, <span class="_ _47"> </span>kernel <span class="_ _47"> </span>daemons <span class="_ _47"> </span>appear <span class="_ _47"> </span>with <span class="_ _47"> </span>their <span class="_ _47"> </span>names <span class="_ _47"> </span>in <span class="_ _47"> </span>square</div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">brackets. <span class="_"> </span>This<span class="_ _66"> </span>version <span class="_ _2"></span>of <span class="_ _2"></span>Linux <span class="_ _2"></span>uses a <span class="_ _2"></span>special <span class="_ _2"></span>kernel <span class="_ _2"></span>process,<span class="_"> </span><span class="ff1a">kthreadd</span>,<span class="_ _66"> </span>to<span class="_ _66"> </span>c<span class="ls45">re<span class="_ _2"></span></span>ate <span class="_ _2"></span>other</div><div class="t m0 x32 h26 y131 ff19 fsf fc0 sc0 ls0 ws0">kernel processes, so<span class="_"> </span><span class="ff1a">kthreadd<span class="_ _80"> </span></span>appears as the parent of the other kernel daemons.<span class="_ _46"> </span>Each</div><div class="t m0 x32 h2a y132 ff19 fsf fc0 sc0 ls0 ws0">kernel <span class="_"> </span>component <span class="_ _47"> </span>that <span class="_ _66"> </span>needs <span class="_ _66"> </span>to <span class="_ _47"> </span>perform <span class="_"> </span>work <span class="_ _47"> </span>in <span class="_"> </span>a <span class="_ _47"> </span>process <span class="_"> </span>context, <span class="_ _66"> </span>but <span class="_ _47"> </span>that <span class="_"> </span>isn’t</div><div class="t m0 x32 h2a y133 ff19 fsf fc0 sc0 ls0 ws0">invoked <span class="_"> </span>from <span class="_"> </span>the <span class="_"> </span>context <span class="_"> </span>of <span class="_"> </span>a <span class="_"> </span>user<span class="_ _1"></span>-level <span class="_"> </span>process, <span class="_"> </span>will <span class="_"> </span>usually <span class="_"> </span>have <span class="_"> </span>its <span class="_"> </span>own <span class="_"> </span>kernel</div><div class="t m0 x32 h2a y134 ff19 fsf fc0 sc0 ls0 ws0">daemon. <span class="_"> </span>For<span class="_"> </span>example, on Linux</div><div class="t m0 x3f h26 y39a5 ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he<span class="_ _44"> </span><span class="ff1a">kswapd<span class="_ _4b"> </span></span>daemon <span class="_ _53"> </span>is <span class="_ _e"> </span>also <span class="_ _53"> </span>known <span class="_ _53"> </span>as <span class="_ _e"> </span>the <span class="_ _53"> </span>pageout <span class="_ _e"> </span>daemon.<span class="_ _65"> </span>It <span class="_ _53"> </span>supports <span class="_ _53"> </span>the</span></div><div class="t m0 x15 h2a y39a6 ff19 fsf fc0 sc0 ls0 ws0">virtual <span class="_ _23"></span>memory <span class="_ _9"></span>subsystem <span class="_ _23"> </span>by <span class="_ _23"></span>writing <span class="_ _9"></span>dirty <span class="_ _23"> </span>pages <span class="_ _23"></span>to <span class="_ _23"></span>disk <span class="_ _9"></span>slowly <span class="_ _23"> </span>over <span class="_ _23"></span>time, <span class="_ _23"></span>so</div><div class="t m0 x15 h2a y1845 ff19 fsf fc0 sc0 ls0 ws0">the pages can be reclaimed.</div><div class="t m0 x3f h26 y39a7 ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he<span class="_ _47"> </span><span class="ff1a">flush<span class="_ _47"> </span></span>daemon <span class="_ _3"></span>ﬂushes <span class="_ _3"></span>dirty <span class="_ _3"></span>pages <span class="_ _3"></span>to <span class="_ _3"></span>disk <span class="_ _3"></span>when <span class="_ _3"></span>available <span class="_ _3"></span>memory <span class="_ _3"></span>reaches</span></div><div class="t m0 x15 h2a y158 ff19 fsf fc0 sc0 lsf5f ws0">ac<span class="_ _55"></span><span class="ls0">onﬁgured <span class="_ _53"> </span>minimum <span class="_ _e"> </span>threshold. <span class="_ _44"> </span>It<span class="_ _4b"> </span>also <span class="_ _e"> </span>ﬂushes <span class="_ _e"> </span>dirty <span class="_ _53"> </span>pages <span class="_ _e"> </span>back <span class="_ _53"> </span>to <span class="_ _e"> </span>disk <span class="_ _e"> </span>at</span></div><div class="t m0 x15 h2a y39a8 ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">gular <span class="_ _23"></span>intervals <span class="_ _9"></span>to <span class="_ _23"> </span>decrease <span class="_ _9"></span>data <span class="_ _23"></span>loss <span class="_ _9"></span>in <span class="_ _23"></span>the <span class="_ _9"></span>event <span class="_ _23"></span>of <span class="_ _9"></span>a <span class="_ _23"></span>system <span class="_ _23"></span>failur<span class="_ _0"></span>e. <span class="_ _45"> </span>Several</span></div><div class="t m0 x15 h2a y1847 ff19 fsf fc0 sc0 ls0 ws0">ﬂush <span class="_"> </span>daemons <span class="_ _66"> </span>can <span class="_ _66"> </span>exist<span class="_ _9"></span><span class="ls9d">—o<span class="_ _6"></span><span class="ls0">ne <span class="_ _66"> </span>for <span class="_ _66"> </span>each <span class="_ _66"> </span>backing <span class="_ _66"> </span>device.<span class="_ _50"> </span>The <span class="_"> </span>sample <span class="_ _66"> </span>output</span></span></div><div class="t m0 x15 h26 y1f0f ff19 fsf fc0 sc0 ls0 ws0">shows one ﬂush daemon named<span class="_ _66"> </span><span class="ff1a">flush-8:0</span><span class="lsba7">.I<span class="_ _4a"></span><span class="lsf60">nt<span class="_ _d"></span><span class="ls0">he name, the <span class="_ _2"></span>backing device is</span></span></span></div><div class="t m0 x15 h2a y39a9 ff19 fsf fc0 sc0 ls0 ws0">identiﬁed by its major device number</div><div class="t m0 x1ed h2a y3551 ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x8d h2a y39a9 ff19 fsf fc0 sc0 ls0 ws0">8</div><div class="t m0 x78 h2a y3551 ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x1fe h2a y39a9 ff19 fsf fc0 sc0 ls0 ws0">and its minor device number</div><div class="t m0 x1a2 h2a y3551 ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x20d h2a y39a9 ff19 fsf fc0 sc0 ls0 ws0">0</div><div class="t m0 x1c9 h2a y3551 ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x190 h2a y39a9 ff19 fsf fc0 sc0 ls0 ws0">.</div><div class="t m0 x3f h26 y1545 ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he<span class="_"> </span><span class="ff1a">sync_supers<span class="_ _80"> </span></span>daemon periodically ﬂushes ﬁle system metadata to disk.</span></div><div class="t m0 x3f h26 y5d8 ff19 fsf fc0 sc0 ls49 ws0">•T<span class="_ _4d"></span><span class="ls0">he<span class="_"> </span><span class="ff1a">jbd<span class="_ _80"> </span></span>daemon helps implement the journal in the<span class="_"> </span><span class="ff1a">ext4<span class="_ _66"> </span></span>ﬁle system.</span></div><div class="t m0 x3f h26 y1da ff19 fsf fc0 sc0 ls0 ws0">Process <span class="_ _3"></span>1 <span class="_ _3"></span>is <span class="_ _9"></span>usually<span class="_ _45"> </span><span class="ff1a">init<span class="_ _47"> </span></span>(<span class="ff1a">launchd<span class="_ _45"> </span></span>on <span class="_ _3"></span>Mac <span class="_ _9"></span>OS <span class="_ _3"></span>X), <span class="_ _9"></span>as <span class="_ _3"></span>we <span class="_ _9"></span>described <span class="_ _9"></span>in <span class="_ _3"></span>Section <span class="_ _9"></span>8.2.</div><div class="t m0 x32 h2a y28dd ff19 fsf fc0 sc0 ls0 ws0">It <span class="_ _e"> </span>is <span class="_ _e"> </span>a <span class="_ _e"> </span>system <span class="_"> </span>daemon <span class="_ _53"> </span>responsible <span class="_ _53"> </span>for<span class="_ _1"></span><span class="lsf61">,a<span class="_ _55"></span><span class="ls0">mong <span class="_ _e"> </span>other <span class="_"> </span>things, <span class="_ _53"> </span>starting <span class="_ _e"> </span>system <span class="_"> </span>services</span></span></div><div class="t m0 x32 h2a yec0 ff19 fsf fc0 sc0 ls0 ws0">speciﬁc <span class="_ _3"></span>to <span class="_ _3"></span>various <span class="_ _9"></span>run <span class="_ _2"></span>levels.<span class="_ _5a"> </span>These <span class="_ _3"></span>services <span class="_ _3"></span>ar<span class="ls4e8">eu<span class="_ _8"></span><span class="ls0">sually <span class="_ _3"></span>implemented <span class="_ _3"></span>with <span class="_ _9"></span>the <span class="_ _3"></span>help <span class="_ _3"></span>of</span></span></div><div class="t m0 x32 h2a yec1 ff19 fsf fc0 sc0 ls0 ws0">their own daemons.</div><div class="t m0 x3f h26 y255f ff19 fsf fc0 sc0 ls0 ws0">The<span class="_ _44"> </span><span class="ff1a">rpcbind<span class="_ _44"> </span></span>daemon <span class="_ _53"> </span>provides <span class="_ _42"> </span>the <span class="_ _53"> </span>service <span class="_ _53"> </span>of <span class="_ _53"> </span>mapping <span class="_ _53"> </span>RPC</div><div class="t m0 x18d h2a y28bb ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 xbc h2a y255f ff19 fsf fc0 sc0 ls0 ws0">Remote <span class="_ _42"> </span>Procedure</div><div class="t m0 x32 h2a yec2 ff19 fsf fc0 sc0 ls0 ws0">Call</div><div class="t m0 x3f h2a y28bc ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x156 h26 yec2 ff19 fsf fc0 sc0 ls0 ws0">program <span class="_ _2"></span>numbers <span class="_ _9"></span>to <span class="_ _3"></span>network <span class="_ _9"></span>port <span class="_ _3"></span>numbers.<span class="_ _16"> </span>The<span class="_ _45"> </span><span class="ff1a">rsyslogd<span class="_ _47"> </span></span>daemon <span class="_ _3"></span>is <span class="_ _9"></span>available</div><div class="t m0 x32 h2a yec3 ff19 fsf fc0 sc0 ls0 ws0">to <span class="_ _42"> </span>any <span class="_ _53"> </span>program <span class="_ _42"> </span>to <span class="_ _42"> </span>log <span class="_ _53"> </span>system <span class="_ _42"> </span>messages <span class="_ _53"> </span>for <span class="_ _42"> </span>an <span class="_ _53"> </span>administrator<span class="_ _6"></span><span class="lsf62">.T<span class="_ _52"></span><span class="ls0">he <span class="_ _53"> </span>messages <span class="_ _53"> </span>may <span class="_ _42"> </span>be</span></span></div><div class="t m0 x32 h26 yec4 ff19 fsf fc0 sc0 ls0 ws0">printed <span class="_ _3"></span>on <span class="_ _3"></span>a <span class="_ _3"></span>console <span class="_ _3"></span>device <span class="_ _3"></span>and <span class="_ _3"></span>also <span class="_ _3"></span>written <span class="_ _3"></span>to <span class="_ _3"></span>a <span class="_ _3"></span>ﬁle.<span class="_ _16"> </span>(W<span class="_ _6"></span><span class="ls24d">ed<span class="_ _8"></span><span class="ls0">escribe <span class="_ _3"></span>the<span class="_ _47"> </span><span class="ff1a">syslog<span class="_ _45"> </span></span>facility</span></span></div><div class="t m0 x32 h2a yc2b ff19 fsf fc0 sc0 ls0 ws0">in Section 13.4.)</div><div class="t m0 x3f h26 yec5 ff19 fsf fc0 sc0 ls5f ws0">We <span class="_ _4b"> </span>t<span class="_ _23"></span><span class="ls0">alked <span class="_ _66"> </span>about <span class="_ _47"> </span>the<span class="_ _46"> </span><span class="ff1a">inetd<span class="_ _61"> </span></span>daemon <span class="_ _47"> </span>in <span class="_ _47"> </span>Section <span class="_ _66"> </span>9.3.<span class="_ _50"> </span>It <span class="_ _47"> </span>listens <span class="_ _66"> </span>on <span class="_ _47"> </span>the <span class="_ _66"> </span>system’s</span></div><div class="t m0 x32 h26 y5e5 ff19 fsf fc0 sc0 ls0 ws0">network <span class="_ _47"> </span>interfaces <span class="_ _47"> </span>for <span class="_ _45"> </span>incoming <span class="_ _47"> </span>requests <span class="_ _47"> </span>for <span class="_ _47"> </span>various <span class="_ _47"> </span>network <span class="_ _45"> </span>servers.<span class="_ _5f"> </span>The<span class="_ _16"> </span><span class="ff1a">nfsd</span>,</div><div class="t m0 x32 h26 y5e6 ff1a fsf fc0 sc0 ls0 ws0">nfsiod<span class="ff19">,<span class="_ _51"> </span></span>lockd<span class="ff19">,<span class="_ _51"> </span></span>rpciod<span class="ff19">,<span class="_ _51"> </span></span>rpc.idmapd<span class="ff19">,<span class="_ _54"> </span></span>rpc.statd<span class="ff19 lsf63">,a<span class="_ _7"></span><span class="ls0">nd<span class="_ _51"> </span><span class="ff1a">rpc.mountd<span class="_ _51"> </span></span>daemons</span></span></div><div class="t m0 x32 h2a y5e7 ff19 fsf fc0 sc0 ls0 ws0">provide <span class="_ _2"></span>support <span class="_ _9"></span>for <span class="_ _3"></span>the <span class="_ _9"></span>Network <span class="_ _3"></span>File <span class="_ _9"></span>System</div><div class="t m0 x107 h2a y39aa ff19 fsf fc0 sc0 ls0 ws0">(</div><div class="t m0 x78 h2a y5e7 ff19 fsf fc0 sc0 ls0 ws0">NFS</div><div class="t m0 x177 h2a y39aa ff19 fsf fc0 sc0 ls0 ws0">)</div><div class="t m0 x1c6 h2a y5e7 ff19 fsf fc0 sc0 lsf64 ws0">.N<span class="_ _62"></span><span class="ls0">ote <span class="_ _9"></span>that <span class="_ _3"></span>the <span class="_ _9"></span>ﬁrst <span class="_ _3"></span>four <span class="_ _9"></span>ar<span class="ls33d">ek<span class="_ _b"></span><span class="ls0">ernel</span></span></span></div><div class="t m0 x32 h2a y5e8 ff19 fsf fc0 sc0 ls0 ws0">daemons, while the last three ar<span class="_ _0"></span><span class="ls44">eu<span class="_ _d"></span><span class="ls0">ser-level daemons.</span></span></div><div class="t m0 x3f h26 y39ab ff19 fsf fc0 sc0 ls0 ws0">The<span class="_ _59"> </span><span class="ff1a">cron<span class="_ _59"> </span></span>daemon <span class="_"> </span>executes <span class="_ _e"> </span>commands <span class="_"> </span>at <span class="_"> </span>r<span class="_ _1"></span>egularly <span class="_"> </span>scheduled <span class="_"> </span>dates <span class="_ _e"> </span>and <span class="_"> </span>times.</div><div class="t m0 x32 h26 y39ac ff19 fsf fc0 sc0 ls0 ws0">Numerous <span class="_"> </span>system <span class="_"> </span>administration <span class="_ _66"> </span>tasks <span class="_ _66"> </span>ar<span class="ls4b9">eh<span class="_ _5b"></span><span class="ls0">andled <span class="_ _66"> </span>by<span class="_ _61"> </span><span class="ff1a">cron<span class="_ _46"> </span></span><span class="ls4e">ru</span>nning <span class="_ _47"> </span>pr<span class="_ _0"></span>ograms <span class="_"> </span>at</span></span></div><div class="t m0 x32 h26 y39ad ff19 fsf fc0 sc0 ls45 ws0">re<span class="ls0">gularly <span class="_ _9"></span>intervals.<span class="_ _16"> </span>The<span class="_ _45"> </span><span class="ff1a">atd<span class="_ _47"> </span></span>daemon <span class="_ _3"></span>is <span class="_ _9"></span>similar <span class="_ _3"></span>to<span class="_ _45"> </span><span class="ff1a">cron</span>;<span class="_ _47"> </span>it<span class="_ _47"> </span>allows <span class="_ _9"></span>users <span class="_ _3"></span>to <span class="_ _9"></span>execute <span class="_ _3"></span>jobs</span></div><div class="t m0 x32 h2a y39ae ff19 fsf fc0 sc0 ls0 ws0">at <span class="_ _3"></span>speciﬁed <span class="_ _9"></span>times, <span class="_ _9"></span>but <span class="_ _9"></span>it <span class="_ _3"></span>executes <span class="_ _9"></span>each <span class="_ _9"></span>job <span class="_ _9"></span>once <span class="_ _3"></span>only<span class="_ _6"></span><span class="lsf65">,i<span class="_ _b"></span><span class="ls0">nstead <span class="_ _9"></span>of <span class="_ _9"></span>repeatedly <span class="_ _3"></span>at <span class="_ _9"></span>regularly</span></span></div><div class="t m0 x32 h26 y193 ff19 fsf fc0 sc0 ls0 ws0">scheduled <span class="_ _2"></span>times.<span class="_ _46"> </span>The<span class="_ _47"> </span><span class="ff1a">cupsd<span class="_ _66"> </span></span>daemon <span class="_ _2"></span>is <span class="_ _2"></span>a <span class="_ _2"></span>print <span class="_ _2"></span>spooler; <span class="_ _2"></span>it <span class="_ _3"></span>handles <span class="_ _2"></span>print <span class="_ _2"></span>requests on <span class="_ _2"></span>the</div><div class="t m0 x32 h26 y194 ff19 fsf fc0 sc0 ls0 ws0">system. <span class="_"> </span>The<span class="_"> </span><span class="ff1a">sshd<span class="_ _80"> </span></span>daemon provides secur<span class="ls44">er<span class="_ _8"></span><span class="ls0">emote login and execution facilities.</span></span></div><div class="t m0 x3f h2a y39af ff19 fsf fc0 sc0 ls0 ws0">Note <span class="_ _23"></span>that <span class="_ _23"></span>most <span class="_ _23"></span>of <span class="_ _9"></span>the <span class="_ _23"> </span>daemons <span class="_ _23"> </span>run <span class="_ _23"> </span>with <span class="_ _23"></span>superuser <span class="_ _23"></span>(root) <span class="_ _9"></span>privileges.<span class="_ _51"> </span>None <span class="_ _23"></span>of <span class="_ _23"></span>the</div><div class="t m0 x32 h2a y39b0 ff19 fsf fc0 sc0 ls0 ws0">daemons <span class="_ _9"></span>has <span class="_ _23"></span>a <span class="_ _9"></span>controlling <span class="_ _9"></span>terminal: <span class="_ _23"></span>the <span class="_ _9"></span>terminal <span class="_ _23"></span>name <span class="_ _9"></span>is <span class="_ _23"></span>set <span class="_ _9"></span>to <span class="_ _23"></span>a <span class="_ _9"></span>question <span class="_ _23"></span>mark.<span class="_ _5a"> </span>The</div><div class="t m0 x32 h2a y39b1 ff19 fsf fc0 sc0 ls0 ws0">kernel <span class="_ _42"> </span>daemons <span class="_ _53"> </span>ar<span class="ls3bb">es<span class="_ _c"></span><span class="ls0">tarted <span class="_ _42"> </span>without <span class="_ _53"> </span>a <span class="_ _42"> </span>controlling <span class="_ _42"> </span>terminal.<span class="_ _54"> </span>The <span class="_ _53"> </span>lack <span class="_ _42"> </span>of <span class="_ _53"> </span>a <span class="_ _42"> </span>controlling</span></span></div><div class="t m0 x32 h2a y39b2 ff19 fsf fc0 sc0 ls0 ws0">terminal <span class="_ _3"></span>in <span class="_ _3"></span>the <span class="_ _9"></span>user-level <span class="_ _2"></span>daemons <span class="_ _9"></span>is <span class="_ _3"></span>probably <span class="_ _3"></span>the <span class="_ _3"></span>result <span class="_ _3"></span>of <span class="_ _3"></span>the <span class="_ _9"></span>daemons <span class="_ _3"></span>having <span class="_ _9"></span>called</div><div class="t m0 x32 h26 y1e2 ff1a fsf fc0 sc0 ls0 ws0">setsid<span class="ff19 lsf66">.M<span class="_ _5b"></span><span class="ls0">ost <span class="_ _2"></span>of the <span class="_ _2"></span>user-level daemons <span class="_ _2"></span>ar<span class="lsf67">ep<span class="_ _4f"></span><span class="ls45">ro<span class="_ _2"></span><span class="ls0">cess group leaders <span class="_ _2"></span>and <span class="_ _2"></span>session <span class="_ _2"></span>leaders,</span></span></span></span></span></div><div class="t m0 x32 h2a y1e3 ff19 fsf fc0 sc0 ls0 ws0">and <span class="_ _23"> </span>ar<span class="lsf68">et<span class="_ _43"></span><span class="ls0">he <span class="_ _42"> </span>only <span class="_ _23"> </span>processes <span class="_ _23"> </span>in <span class="_ _42"> </span>their <span class="_ _42"> </span>process <span class="_ _23"> </span>group <span class="_ _23"> </span>and <span class="_ _42"> </span>session.<span class="_ _51"> </span>(The <span class="_ _42"> </span>one <span class="_ _42"> </span>exception <span class="_ _42"> </span>is</span></span></div><div class="t m0 x32 h26 y39b3 ff1a fsf fc0 sc0 ls0 ws0">rsyslogd<span class="ff19">.) <span class="_ _66"> </span>Finally<span class="_ _6"></span><span class="ls783">,n<span class="_ _4f"></span><span class="ls0">ote <span class="_ _2"></span>that <span class="_ _2"></span>the <span class="_ _2"></span>parent of <span class="_ _2"></span>the <span class="_ _2"></span>user-level daemons <span class="_ _2"></span>is <span class="_ _2"></span>the<span class="_ _66"> </span><span class="ff1a">init<span class="_ _47"> </span></span>process.</span></span></span></div></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
