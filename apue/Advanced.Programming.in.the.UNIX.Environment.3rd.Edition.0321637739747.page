<div id="pf2eb" class="pf w4 h1f" data-page-no="2eb"><div class="pc pc2eb w4 h1f"><img class="bi x0 y0 w3 h4" alt="" src="bg2eb.png"/><div class="t m0 x31 h2 y8e ff1 fs0 fc0 sc0 ls0 ws0"><span class="fc1 sc0">ptg10805159</span></div><div class="t m0 x35 h24 ya4 ff19 fs0 fc0 sc0 ls0 ws0">Chapter <span class="_"> </span>18<span class="_ _183"> </span>Exercises<span class="_ _1fb"> </span><span class="ff18">713</span></div><div class="t m0 x32 h2a y12f ff19 fsf fc0 sc0 ls0 ws0">to <span class="_ _23"></span>perform <span class="_ _9"></span>typical <span class="_ _23"> </span>operations <span class="_ _23"> </span>(clear <span class="_ _23"> </span>the <span class="_ _23"></span>screen, <span class="_ _9"></span>move <span class="_ _23"> </span>the <span class="_ _23"></span>cursor) <span class="_ _23"></span>on <span class="_ _23"></span>a <span class="_ _9"></span>wide <span class="_ _23"> </span>variety <span class="_ _23"> </span>of</div><div class="t m0 x32 h26 y130 ff19 fsf fc0 sc0 ls0 ws0">terminals. <span class="_ _35"> </span>On<span class="_ _45"> </span>the <span class="_ _23"> </span>other <span class="_ _23"> </span>hand,<span class="_ _35"> </span><span class="ff1a">curses<span class="_ _35"> </span></span>does <span class="_ _23"></span>help <span class="_ _23"></span>with <span class="_ _23"></span>some <span class="_ _23"></span>of <span class="_ _23"></span>the <span class="_ _23"></span>details <span class="_ _23"></span>that <span class="_ _23"></span>we’ve</div><div class="t m0 x32 h26 y131 ff19 fsf fc0 sc0 ls0 ws0">addressed <span class="_ _53"> </span>in <span class="_ _e"> </span>this <span class="_ _e"> </span>chapter<span class="_ _6"></span><span class="ls153f">.F<span class="_ _52"></span><span class="ls0">unctions <span class="_ _53"> </span>ar<span class="ls98b">ep<span class="_ _55"></span><span class="ls45">ro<span class="ls0">vided <span class="_ _e"> </span>by<span class="_ _59"> </span><span class="ff1a">curses<span class="_ _4b"> </span></span>to <span class="_ _53"> </span>set <span class="_"> </span>raw <span class="_ _53"> </span>mode, <span class="_ _e"> </span>set</span></span></span></span></span></div><div class="t m0 x32 h26 y132 ff19 fsf fc0 sc0 ls0 ws0">cbreak <span class="_ _e"> </span>mode, <span class="_"> </span>turn <span class="_"> </span>echo <span class="_ _e"> </span>on <span class="_"> </span>and <span class="_"> </span>of<span class="_ _0"></span>f, <span class="_"> </span>and <span class="_"> </span>the <span class="_ _e"> </span>like.<span class="_ _60"> </span>Note <span class="_"> </span>that <span class="_ _e"> </span>the<span class="_ _59"> </span><span class="ff1a">curses<span class="_ _46"> </span></span>library <span class="_"> </span>is</div><div class="t m0 x32 h2a y133 ff19 fsf fc0 sc0 ls0 ws0">designed <span class="_"> </span>for <span class="_ _e"> </span>character-based <span class="_ _e"> </span>dumb <span class="_"> </span>terminals, <span class="_"> </span>which <span class="_ _e"> </span>have <span class="_"> </span>mostly <span class="_ _e"> </span>been <span class="_"> </span>r<span class="_ _0"></span>eplaced <span class="_"> </span>by</div><div class="t m0 x32 h2a y134 ff19 fsf fc0 sc0 ls0 ws0">pixel-based graphics terminals today<span class="_ _4"></span>.</div><div class="t m0 x35 h53 y5279 ff16 fs2b fc0 sc0 ls0 ws0">18.14 <span class="_ _66"> </span>Summary</div><div class="t m0 x32 h2a y139 ff19 fsf fc0 sc0 ls5f ws0">Te<span class="_ _9"></span><span class="ls0">rminals <span class="_ _9"></span>have <span class="_ _9"></span>many <span class="_ _9"></span>features <span class="_ _3"></span>and <span class="_ _9"></span>options, <span class="_ _9"></span>most <span class="_ _9"></span>of <span class="_ _3"></span>which <span class="_ _9"></span>we’r<span class="ls243">ea<span class="_ _b"></span><span class="ls0">ble <span class="_ _9"></span>to <span class="_ _9"></span>change <span class="_ _9"></span>to <span class="_ _3"></span>suit</span></span></span></div><div class="t m0 x32 h2a y13a ff19 fsf fc0 sc0 ls0 ws0">our <span class="_ _9"></span>needs.<span class="_ _51"> </span>In <span class="_ _23"></span>this <span class="_ _9"></span>chapter<span class="_ _1"></span>,<span class="_ _45"> </span>we<span class="_ _35"> </span>described <span class="_ _9"></span>numerous <span class="_ _23"></span>functions <span class="_ _9"></span>that <span class="_ _23"></span>change <span class="_ _9"></span>a <span class="_ _23"> </span>terminal’s</div><div class="t m0 x32 h2a y254 ff19 fsf fc0 sc0 ls0 ws0">operation <span class="_ _a"></span>— <span class="_ _a"></span>namely<span class="_ _6"></span><span class="ls12c6">,s<span class="_ _8"></span><span class="ls0">pecial <span class="_ _3"></span>input <span class="_ _3"></span>characters <span class="_ _3"></span>and <span class="_ _2"></span>the <span class="_ _3"></span>option <span class="_ _3"></span>ﬂags.<span class="_ _16"> </span><span class="ls5f">We <span class="_ _80"> </span>a<span class="_ _9"></span></span>lso <span class="_ _3"></span>looked <span class="_ _2"></span>at <span class="_ _3"></span>all</span></span></div><div class="t m0 x32 h2a y255 ff19 fsf fc0 sc0 ls0 ws0">the <span class="_ _e"> </span>terminal <span class="_"> </span>special <span class="_ _e"> </span>characters <span class="_"> </span>and <span class="_ _e"> </span>the <span class="_"> </span>many <span class="_ _53"> </span>options <span class="_"> </span>that <span class="_ _e"> </span>can <span class="_"> </span>be <span class="_ _e"> </span>set <span class="_"> </span>or <span class="_ _53"> </span>reset <span class="_"> </span>for <span class="_ _53"> </span>a</div><div class="t m0 x32 h2a y13b ff19 fsf fc0 sc0 ls0 ws0">terminal device.</div><div class="t m0 x3f h2a y13c ff19 fsf fc0 sc0 ls0 ws0">Ther<span class="ls1540">ea<span class="_ _95"></span><span class="ls45">re <span class="_ _51"> </span>t<span class="ls0">wo <span class="_ _16"> </span>modes <span class="_ _5a"> </span>of <span class="_ _16"> </span>terminal <span class="_ _16"> </span>input<span class="_ _9"></span><span class="ls9d">—c<span class="_ _1"></span><span class="ls0">anonical <span class="_ _16"> </span>(line <span class="_ _16"> </span>at <span class="_ _5a"> </span>a <span class="_ _16"> </span>time) <span class="_ _16"> </span>and</span></span></span></span></span></div><div class="t m0 x32 h2a y256 ff19 fsf fc0 sc0 ls0 ws0">noncanonical. <span class="_ _35"> </span>W<span class="_ _6"></span><span class="ls108c">es<span class="_ _43"></span><span class="ls0">howed <span class="_ _23"> </span>examples <span class="_ _23"> </span>of <span class="_ _42"> </span>both <span class="_ _23"></span>modes <span class="_ _23"></span>and <span class="_ _23"> </span>provided <span class="_ _23"></span>functions <span class="_ _23"></span>that <span class="_ _23"></span>map</span></span></div><div class="t m0 x32 h2a y257 ff19 fsf fc0 sc0 ls0 ws0">between <span class="_ _23"></span>the <span class="_ _9"></span>POSIX.1 <span class="_ _23"> </span>terminal <span class="_ _23"></span>options <span class="_ _9"></span>and <span class="_ _23"> </span>the <span class="_ _23"></span>older <span class="_ _23"></span>BSD <span class="_ _9"></span>cbreak <span class="_ _23"></span>and <span class="_ _9"></span>raw <span class="_ _23"> </span>modes.<span class="_ _51"> </span><span class="ls5f">We</span></div><div class="t m0 x32 h2a y258 ff19 fsf fc0 sc0 ls0 ws0">also described how to fetch and change the window size of a terminal.</div><div class="t m0 x32 h53 y4384 ff16 fs2b fc0 sc0 ls0 ws0">Exer<span class="_ _0"></span>cises</div><div class="t m0 x32 h57 y527a ff18 fs2d fc0 sc0 ls0 ws0">18.1<span class="_ _288"> </span><span class="ff19 ls467">Wr<span class="_ _9"></span><span class="ls0">ite <span class="_ _2"></span>a program <span class="_ _2"></span>that <span class="_ _2"></span>calls<span class="_ _80"> </span><span class="ff1a">tty_raw<span class="_ _66"> </span></span>and terminates <span class="_ _2"></span>(without <span class="_ _2"></span>resetting the <span class="_ _2"></span>terminal <span class="_ _2"></span>mode).</span></span></div><div class="t m0 xe1 h57 y527b ff19 fs2d fc0 sc0 ls0 ws0">If your system provides the<span class="_"> </span><span class="ff1a">reset</span></div><div class="t m0 x24 h5f y527c ff19 fs2d fc0 sc0 ls0 ws0">(</div><div class="t m0 x10f h5f y527b ff19 fs2d fc0 sc0 ls0 ws0">1</div><div class="t m0 x86 h5f y527c ff19 fs2d fc0 sc0 ls0 ws0">)</div><div class="t m0 xde h5f y527b ff19 fs2d fc0 sc0 ls0 ws0">command (all four systems described in this text do),</div><div class="t m0 xe1 h5f y527d ff19 fs2d fc0 sc0 ls0 ws0">use it to restor<span class="_ _0"></span><span class="ls110">et<span class="_ _5"></span><span class="ls0">he terminal mode.</span></span></div><div class="t m0 x32 h57 y527e ff18 fs2d fc0 sc0 ls0 ws0">18.2<span class="_ _288"> </span><span class="ff19">The<span class="_ _45"> </span><span class="ff1a">PARODD<span class="_ _47"> </span></span>ﬂag <span class="_ _9"></span>in <span class="_ _9"></span>the<span class="_ _47"> </span><span class="ff1a">c_cflag<span class="_ _45"> </span></span>ﬁeld <span class="_ _3"></span>allows <span class="_ _9"></span>us <span class="_ _9"></span>to <span class="_ _23"></span>specify <span class="_ _3"></span>even <span class="_ _9"></span>or <span class="_ _23"></span>odd <span class="_ _3"></span>parity<span class="_ _6"></span><span class="ls1541">.T<span class="_ _5b"></span><span class="ls0">he <span class="_ _9"></span>BSD</span></span></span></div><div class="t m0 xe1 h57 y527f ff1a fs2d fc0 sc0 ls0 ws0">tip<span class="_ _e"> </span><span class="ff19">program, however<span class="_ _1"></span><span class="ls110">,a<span class="_ _5"></span><span class="ls0">lso allows the parity bit to be 0 or 1.<span class="_ _4b"> </span>How does it do this?</span></span></span></div><div class="t m0 x32 h57 y5280 ff18 fs2d fc0 sc0 ls0 ws0">18.3<span class="_ _288"> </span><span class="ff19">If <span class="_ _23"> </span>your <span class="_ _9"></span>system’s<span class="_ _45"> </span><span class="ff1a">stty</span></span></div><div class="t m0 x1e h5f y5281 ff19 fs2d fc0 sc0 ls0 ws0">(</div><div class="t m0 xa5 h5f y5280 ff19 fs2d fc0 sc0 ls0 ws0">1</div><div class="t m0 xc0 h5f y5281 ff19 fs2d fc0 sc0 ls0 ws0">)</div><div class="t m0 x59 h5f y5280 ff19 fs2d fc0 sc0 ls0 ws0">command <span class="_ _9"></span>outputs <span class="_ _9"></span>the <span class="_ _23"> </span>MIN <span class="_ _9"></span>and <span class="_ _9"></span>TIME <span class="_ _23"> </span>values, <span class="_ _9"></span>do <span class="_ _9"></span>the <span class="_ _23"> </span>following</div><div class="t m0 xe1 h57 y5282 ff19 fs2d fc0 sc0 ls0 ws0">exercise. <span class="_ _80"> </span>Log<span class="_ _66"> </span>in <span class="_ _3"></span>to <span class="_ _3"></span>the <span class="_ _2"></span>system <span class="_ _3"></span>twice <span class="_ _3"></span>and <span class="_ _2"></span>start <span class="_ _3"></span>the<span class="_ _66"> </span><span class="ff1a">vi<span class="_ _47"> </span></span>editor <span class="_ _2"></span>from <span class="_ _2"></span>one <span class="_ _3"></span>login.<span class="_ _59"> </span>Use <span class="_ _3"></span>the<span class="_ _66"> </span><span class="ff1a">stty</span></div><div class="t m0 xe1 h57 y5283 ff19 fs2d fc0 sc0 ls0 ws0">command <span class="_ _42"> </span>from <span class="_ _42"> </span>your <span class="_ _42"> </span>other <span class="_ _42"> </span>login <span class="_ _42"> </span>to <span class="_ _42"> </span>determine <span class="_ _42"> </span>which <span class="_ _42"> </span>values<span class="_ _35"> </span><span class="ff1a">vi<span class="_ _35"> </span></span>sets <span class="_ _42"> </span>MIN <span class="_ _53"> </span>and <span class="_ _42"> </span>TIME <span class="_ _42"> </span>to</div><div class="t m0 xe1 h57 y5284 ff19 fs2d fc0 sc0 ls0 ws0">(since<span class="_ _44"> </span><span class="ff1a">vi<span class="_ _4b"> </span></span>sets <span class="_"> </span>the <span class="_"> </span>terminal <span class="_"> </span>to <span class="_ _53"> </span>noncanonical <span class="_"> </span>mode).<span class="_ _54"> </span>(If <span class="_"> </span>you <span class="_"> </span>ar<span class="_ _0"></span><span class="ls1542">er<span class="_ _55"></span><span class="ls0">unning <span class="_"> </span>a <span class="_"> </span>windowing</span></span></div><div class="t m0 xe1 h5f y5285 ff19 fs2d fc0 sc0 ls0 ws0">system <span class="_ _42"> </span>on <span class="_ _42"> </span>your <span class="_ _42"> </span>terminal, <span class="_ _42"> </span>you <span class="_ _53"> </span>can <span class="_ _42"> </span>do <span class="_ _42"> </span>this <span class="_ _42"> </span>same <span class="_ _42"> </span>test <span class="_ _53"> </span>by <span class="_ _42"> </span>logging <span class="_ _42"> </span>in <span class="_ _42"> </span>once <span class="_ _42"> </span>and <span class="_ _53"> </span>using <span class="_ _42"> </span>two</div><div class="t m0 xe1 h5f y5286 ff19 fs2d fc0 sc0 ls0 ws0">separate windows instead.)</div><a class="l" href="#pf13" data-dest-detail='[19,"XYZ",50,757,1]'><div class="d m1" style="border-style:none;position:absolute;left:80.891993px;bottom:1034.688916px;width:90.804009px;height:19.679993px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.100000,0.000000,0.000000,2.100000,-115.668004,-156.491993]}'></div></div>
